!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),i=n(23),a=n(36),o=n(75),s=n(143),l=n(147),c=n(167),u=n(169),d=n(189),p=n(190),h=n(195),m=n(210),f=n(211),g=n(227);window.KaggleReactComponents={ScriptList:r.ScriptList,VoteButton:i.VoteButton,ScriptViewer:a.ScriptViewerApp,DatasetContainer:o.DatasetContainer,DatasetListReact:s.DatasetListReact,NotebookEditor:l.NotebookEditor,SiteHeaderContainer:c.SiteHeaderContainer,ProfileContainerReact:u.ProfileContainer,Leaderboards:d.Leaderboards,OrganizationProfileContainer:p.OrganizationProfileContainer,NewsfeedContainer:h.NewsfeedContainer,ViewCompetitionList:m.ViewCompetitionList,ScriptEditorContainer:f.ScriptEditorContainer,CompetitionContainer:g.CompetitionContainer}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(2),o=n(3),s=n(4),l=n(5),c=n(6),u=n(7),d=n(11),p=n(13),h=n(23),m=n(26),f=n(27),g=n(29),v=n(30),b=n(32),y=n(33),w=n(34),k=n(35),E={notebook:"fa-globe",data:"fa-table",visualization:"fa-bar-chart",other:"fa-file-text-o"},_=function(){function e(e,t){var n=this;this.parseQueryString=function(e){if(e.length){for(var t={},n=void 0,r=e.replace(/\?/g,"").split("&"),i=0,a=r;i<a.length;i++){var o=a[i];n=o.split("="),t[n[0]]=n[1]}return t}return{}},this.removeDefaultFilters=function(e){for(var t={},r=0,i=Object.keys(e);r<i.length;r++){var a=i[r];e[a]!=n.defaultFilters[a]&&(t[a]=e[a])}return t},this.pushNewFilteredUrl=function(e){var t=window.location.pathname+window.location.search,r=window.history.state||{},i=window.location.pathname;r.scriptListFilterState=n.removeDefaultFilters(e),Object.keys(r.scriptListFilterState).length&&(i+="?"+a.param(r.scriptListFilterState)),t!=i&&window.history.pushState(r,"",i)},this.onWindowPopState=function(e){e.state.scriptListFilterState&&n.filtersChangedCallback(e.state.scriptListFilterState)},this.updateFilters=function(e,t){a.extend(e,t),n.pushNewFilteredUrl(e),n.filtersChangedCallback(e)},this.baseUrl=window.location.href.split("?")[0],this.defaultFilters=t,this.filters=window.location.search.length?this.parseQueryString(window.location.search):this.defaultFilters,this.filtersChangedCallback=e,this.pushNewFilteredUrl(this.filters)}return e.prototype.scriptListWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},e.prototype.scriptListWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},e}(),x=function(e){function t(t){var n=this;e.call(this,t),this.loadMoreData=function(e){var t=n.state.scriptData,r=n.props.sourceBaseUrl+t.length.toString(),i=!1;if(e){e.userId&&e.userId.toString().length&&(i=!0);var o=a.param(n.filterManager.removeDefaultFilters(e));o&&(r+="?"+o)}n.currentDataRequest&&4!==n.currentDataRequest.readyState&&n.currentDataRequest.abort(),n.setState({onlyMyScripts:i,isLoadingMoreData:!0},function(){n.currentDataRequest=a.getJSON(r,function(e){n.setState({scriptData:t.concat(e),isLoadingMoreData:!1,hasMoreData:e.length>0,hasLoadedSomeData:!0})})})},this.getListTitle=function(){return n.state.scriptData&&!n.state.isLoadingMoreData?(n.state.scriptData[0]?n.state.scriptData[0].totalScripts:0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" kernels":" "},this.onFiltersChanged=function(e){n.setState({filters:e,scriptData:[],hasMoreData:!0,hasLoadedSomeData:!1},function(){return n.loadMoreData(e)})},this.onNewSort=function(e){n.showMobileSortMenu(!1),n.filterManager.updateFilters(n.state.filters,{sortBy:e})},this.onNewLanguage=function(e){n.showMobileSortMenu(!1),n.filterManager.updateFilters(n.state.filters,{language:e})},this.onNewOutputType=function(e){n.showMobileSortMenu(!1),n.filterManager.updateFilters(n.state.filters,{outputType:e})},this.onNewOutputTypeClickEvent=function(e,t){t.preventDefault(),n.onNewOutputType(e)},this.onNewLanguageClickEvent=function(e,t){t.preventDefault(),n.onNewLanguage(e)},this.onScroll=function(){n.state.hasMoreData&&!n.state.isLoadingMoreData&&n.loadMoreData(n.state.filters)},this.myScriptsToggle=function(e){var t="my"===e;c.Current.userId||(document.location.href=n.props.loginAndReturnUrl),n.setState({onlyMyScripts:t,selectionGroup:e},function(){var e=n.state.onlyMyScripts?c.Current.userId.toString():"";n.filterManager.updateFilters(n.state.filters,{userId:e})})},this.renderOutputTypeOption=function(e){return React.createElement("span",null,React.createElement("span",{className:s("fa",E[e.value.toLowerCase()])})," ",e.label)},this.searchOptionsList=function(e,t){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.value==t)return i}return e[0]},this.defaultFilters={sortBy:"hotness",language:"all",outputType:"all",userId:""},this.filterManager=new _(this.onFiltersChanged,this.defaultFilters),this.props.userId?this.initForUserProfile():this.initForScriptsTab(),this.state={filters:a.extend({},this.defaultFilters,this.initialFilters),scriptData:[],isLoadingMoreData:!1,hasMoreData:!0,onlyMyScripts:!1,selectionGroup:this.props.selectionGroup,availableLanguages:[{label:"All Languages",value:"all"}],availableOutputs:[{label:"All Output Types",value:"all"}],hasLoadedSomeData:!1,shouldShowMobileSortMenu:!1}}return r(t,e),t.prototype.initForUserProfile=function(){var e=this;this.availableSelectionGroups=[{key:"my",name:this.props.userId===c.Current.userId?"Mine":"Published",action:function(){return e.onSelectionGroupChange("my")}},{key:"draft",name:"Draft",action:function(){return e.onSelectionGroupChange("draft")}},this.props.showHiddenSelectionGroup?{key:"hidden",name:"Hidden",action:function(){return e.onSelectionGroupChange("hidden")}}:null,{separator:!0},{key:"upvoted",name:"Upvoted",action:function(){return e.onSelectionGroupChange("upvoted")}}],this.initialFilters={userId:this.props.userId,sortBy:"votes"},this.availableSortingOrders=[{value:"votes",label:"Most Votes"},{value:"hotness",label:"Hotness"},{value:"date",label:"Most Recent"}]},t.prototype.initForScriptsTab=function(){var e=this;this.availableSelectionGroups=[{key:"everyone",name:"All",action:function(){return e.myScriptsToggle("everyone")}},{key:"my",name:"Mine",action:function(){return e.myScriptsToggle("my")}}],this.initialFilters={},this.availableSortingOrders=[{value:"hotness",label:"Hotness"},{value:"votes",label:"Most Votes"},{value:"date",label:"Most Recent"}]},t.prototype.componentDidMount=function(){this.props.showFilters&&(this.loadLanguagesMetadata(),this.loadOutputTypesMetadata()),this.loadMoreData(a.extend(this.state.filters,window.history.state))},t.prototype.componentWillMount=function(){this.filterManager.scriptListWillMount()},t.prototype.componentWillUnmount=function(){this.filterManager.scriptListWillUnmount(),this.currentDataRequest&&this.currentDataRequest.abort()},t.prototype.onSelectionGroupChange=function(e){var t=this;this.setState({filters:a.extend(this.state.filters,{group:e}),scriptData:[],hasMoreData:!0,selectionGroup:e},function(){t.loadMoreData(t.state.filters)})},t.prototype.loadLanguagesMetadata=function(){var e=this;a.getJSON(this.props.languagesMetadataUrl,function(t){e.setState({availableLanguages:[{label:"All Languages",value:"all"}].concat(t.map(function(e){return{label:e,value:e}}))})})},t.prototype.loadOutputTypesMetadata=function(){var e=this;a.getJSON(this.props.outputTypesMetadataUrl,function(t){e.setState({availableOutputs:[{label:"All Output Types",value:"all"}].concat(t.map(function(e){return{label:e,value:e}}))})})},t.prototype.showMobileSortMenu=function(e){this.setState({shouldShowMobileSortMenu:e})},t.prototype.render=function(){var e=this,t=this.state.isLoadingMoreData?React.createElement("div",{className:"script-list-react__message"},"Loading ",this.state.hasLoadedSomeData?"more ":"","kernels..."):null,n=this.state.hasMoreData?null:React.createElement("div",{className:"script-list-react__message"},React.createElement("span",null,"No ",this.state.hasLoadedSomeData?"more ":"","kernels to show ¯\\_(ツ) _/¯"),React.createElement("br",null)),r=React.createElement("div",null,React.createElement(g.MediaQuery,{minWidth:g.Breakpoints.desktopMin},React.createElement("div",{className:"script-list-react__sort"},React.createElement("div",{className:"script-list-react__sort-label"},"Sort By"),React.createElement(p.SelectBox,{options:this.availableSortingOrders,onChange:this.onNewSort,searchable:!1,value:this.state.filters.sortBy||this.defaultFilters.sortBy}))),React.createElement(g.MediaQuery,{minWidth:0,maxWidth:g.Breakpoints.tabletMax},React.createElement("a",{className:"script-list-react__sort-link--mobile",onClick:function(t){return e.showMobileSortMenu(!0)}},"Filter/Sort ",React.createElement("span",{className:"fa fa-chevron-right"})))),a=React.createElement(g.MediaQuery,{minWidth:g.Breakpoints.desktopMin},React.createElement("div",{className:"script-list-react__filters"},React.createElement(p.SelectBox,{options:this.state.availableLanguages,onChange:this.onNewLanguage,searchable:!1,value:this.state.filters.language||this.defaultFilters.language,className:"KaggleBoxlessSelectSafe script-list-react__filters__language"}),React.createElement(p.SelectBox,{options:this.state.availableOutputs,onChange:this.onNewOutputType,value:this.state.filters.outputType||this.defaultFilters.outputType,searchable:!1,optionRenderer:this.renderOutputTypeOption,valueRenderer:this.renderOutputTypeOption,className:"KaggleBoxlessSelectSafe script-list-react__filters__output-type"}))),o=React.createElement("div",{className:"script-list-react__selection-groups"},React.createElement(f.SelectionGroup,{children:this.availableSelectionGroups,filters:a,selected:this.state.selectionGroup}));return this.props.isHidden?null:React.createElement("div",null,this.props.listingHeaderVisible&&React.createElement("div",{className:"listing-header__wrapper--kernels"},React.createElement("div",{className:"listing-header"},"Kernels")),React.createElement(d.ScriptsBanner,i({},this.props.banner)),React.createElement("div",{className:"script-list-react__wrapper"},React.createElement(l.ContentBox,{title:this.getListTitle(),titleBarRightSide:this.props.showFilters?r:null,subTitleBar:this.props.showFilters?o:null},React.createElement("div",{className:"script-list-react"},React.createElement(m.WindowInfiniteScroll,{onScroll:function(){return e.onScroll()}},React.createElement("div",null,this.state.scriptData.map(function(t,n){return React.createElement(b.BlockLink,{href:t.scriptUrl,key:n},React.createElement(C,{scriptData:t,handleLanguageChange:e.onNewLanguageClickEvent,handleOutputTypeChange:e.onNewOutputTypeClickEvent,showScriptProjectColumn:e.props.showScriptProjectName,showProjectThumbnails:!!e.props.userId}))})),t,n)))),React.createElement(g.MediaQuery,{minWidth:0,maxWidth:g.Breakpoints.tabletMax},React.createElement(v.OffCanvasContainer,{closeButtonCallback:function(){return e.showMobileSortMenu(!1)},shouldShowOffCanvas:this.state.shouldShowMobileSortMenu,shouldUseCloseButton:!0,shouldUseRightSide:!0},React.createElement("div",{className:"script-list-react__sort-menu--mobile"},React.createElement("p",{className:"script-list-react__sort-label--mobile"},"Sort By"),React.createElement(p.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.availableSortingOrders,onChange:this.onNewSort,searchable:!1,value:this.state.filters.sortBy||this.defaultFilters.sortBy}),React.createElement("p",{className:"script-list-react__sort-label--mobile"},"Languages"),React.createElement(p.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.state.availableLanguages,onChange:this.onNewLanguage,searchable:!1,value:this.state.filters.language||this.defaultFilters.language}),React.createElement("p",{className:"script-list-react__sort-label--mobile"},"Output Types"),React.createElement(p.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.state.availableOutputs,onChange:this.onNewOutputType,value:this.state.filters.outputType||this.defaultFilters.outputType,searchable:!1,optionRenderer:this.renderOutputTypeOption,valueRenderer:this.renderOutputTypeOption})))))},t}(React.Component);t.ScriptList=x;var C=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.renderOutputType=function(e){var t=this,n=function(){switch(e.extension){case"Notebook":return["fa-globe","This script outputs a notebook"];case"Visualization":return["fa-bar-chart","This script outputs "+o("visualization",e.count,!0)];case"Data":return["fa-table","This script outputs "+e.count+" data "+o("file",e.count)];case"Other":return["fa-file-text-o","This script outputs "+e.count+" other types of "+o("file",e.count)];default:return["","Unknown"]}}();return React.createElement(y.ToolTip,{tipText:n[1].toString(),key:e.extension},React.createElement("a",{className:"scripts__item-info-block--link",onClick:function(n){return t.props.handleOutputTypeChange(e.extension,n)}},React.createElement("span",{className:"fa "+n[0]})))},t.prototype.abbrLanguage=function(e){switch(e){case"Python":return"Py";case"R":return"R";case"Julia":return"Ju";case"SQLite":return"SQL";default:return null}},t.prototype.renderOptionalForkSection=function(){var e=function(e){return o("line",e,!0)};return this.props.scriptData.isFork?React.createElement("span",null,"(",React.createElement("span",{title:e(this.props.scriptData.forkDiffLinesInserted)+" inserted / "+e(this.props.scriptData.forkDiffLinesDeleted)+" deleted / "+e(this.props.scriptData.forkDiffLinesChanged)+" changed from parent script"}," ",React.createElement("a",{href:this.props.scriptData.forkDiffUrl},React.createElement("span",{className:"scripts__item-diff"},React.createElement("span",{className:"scripts__item-diff-inserted"},"+",this.props.scriptData.forkDiffLinesInserted)," / ",React.createElement("span",{className:"scripts__item-diff-deleted"},"-",this.props.scriptData.forkDiffLinesDeleted)," / ",React.createElement("span",{className:"scripts__item-diff-changed"},"~",this.props.scriptData.forkDiffLinesChanged)))," )")):null},t.prototype.renderOptionalScriptProjectName=function(){return this.props.showScriptProjectColumn?React.createElement("span",null,"in ",React.createElement("a",{href:this.props.scriptData.projectScriptsUrl},this.props.scriptData.projectName)):null},t.prototype.render=function(){var e=this,t=this.props.scriptData;return this.props.isHidden?null:React.createElement("div",{className:"scripts"},React.createElement("div",{className:"scripts__item-meta"},React.createElement("div",{className:"scripts__item-votes"},React.createElement(h.VoteButton,{totalVotes:t.totalVotes,hasAlreadyVotedUp:t.currentUserHasVotedForThisScript,voteUpUrl:"/kernels/vote?id="+t.id,canDownvote:!1,canUpvote:!0,voteDownUrl:null,hasAlreadyVotedDown:null,upVoteIntercomEventName:"upvote_script",large:!0})),React.createElement(g.MediaQuery,{minWidth:g.Breakpoints.tabletMin},React.createElement("div",{className:"scripts__item-image-wrapper"},this.props.showProjectThumbnails?React.createElement(y.ToolTip,{tipText:t.projectName},React.createElement("a",{href:t.projectScriptsUrl},React.createElement("img",{src:t.projectThumbnailUrl,className:"scripts__item-image scripts__item-image--left"}))):React.createElement(w.Avatar,{thumbnailUrl:t.author.avatarThumbnailUrl,userUrl:t.author.profileUrl,displayName:t.author.displayName,tier:t.author.tier,width:40}))),React.createElement("div",{className:"scripts__item-medals"},null!=this.props.scriptData.medal?React.createElement("img",{src:"/static/images/medals/kernels/"+this.props.scriptData.medal+"L@2x.png",title:"${this.props.scriptData.medal}"}):null))," ",React.createElement("div",{className:"scripts__item-synopsis"},React.createElement("div",{className:"scripts__item-info"},React.createElement("a",{className:"scripts__item-name",href:t.scriptUrl},t.title,t.isPrivate&&React.createElement(k.Badge,{text:"Private",icon:"fa-eye-slash",option:"info"})),React.createElement("p",{className:"scripts__item-details"},React.createElement("span",null,"run "),React.createElement(u.TimeAgo,{time:t.lastRunTime})," by ",React.createElement("a",{href:t.author.profileUrl},t.author.displayName)," ",this.renderOptionalForkSection()," ",this.renderOptionalScriptProjectName())),React.createElement("div",{className:"scripts__item-info-blocks"},t.outputTypes.map(function(t){return e.renderOutputType(t)}),React.createElement(y.ToolTip,{tipText:"This script is written in "+t.languageName},React.createElement("a",{className:"scripts__item-info-block--link",onClick:function(n){return e.props.handleLanguageChange(t.languageName,n)}},this.abbrLanguage(t.languageName))),t.totalComments>0?React.createElement(y.ToolTip,{tipText:"This script has "+t.totalComments+" "+o("comment",t.totalComments)},React.createElement("a",{className:"scripts__item-info-block--comment",href:t.scriptCommentsUrl},React.createElement("span",null,t.totalComments," ",React.createElement("span",{className:"fa fa-comments"})))):React.createElement(g.MediaQuery,{minWidth:g.Breakpoints.tabletMin},React.createElement("div",{className:"scripts__item-info-block--no-comment"}))))," ")},t}(React.Component)},function(e,t){e.exports=jQuery},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){function e(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}function t(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function n(t,n){return t===t.toUpperCase()?n.toUpperCase():t[0]===t[0].toUpperCase()?e(n):n.toLowerCase()}function r(e,t){return e.replace(/\$(\d{1,2})/g,function(e,n){return t[n]||""})}function i(e,t,i){if(!e.length||c.hasOwnProperty(e))return t;for(var a=i.length;a--;){var o=i[a];if(o[0].test(t))return t.replace(o[0],function(e,t,i){var a=r(o[1],arguments);return""===e?n(i[t-1],a):n(e,a)})}return t}function a(e,t,r){return function(a){var o=a.toLowerCase();return t.hasOwnProperty(o)?n(a,o):e.hasOwnProperty(o)?n(a,e[o]):i(o,a,r)}}function o(e,t,n){var r=1===t?o.singular(e):o.plural(e);return(n?t+" ":"")+r}var s=[],l=[],c={},u={},d={};return o.plural=a(d,u,s),o.singular=a(u,d,l),o.addPluralRule=function(e,n){s.push([t(e),n])},o.addSingularRule=function(e,n){l.push([t(e),n])},o.addUncountableRule=function(e){return"string"==typeof e?void(c[e.toLowerCase()]=!0):(o.addPluralRule(e,"$0"),void o.addSingularRule(e,"$0"))},o.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),d[e]=t,u[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["thief","thieves"],["genie","genies"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(e){return o.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return o.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/i,"$1sis"],[/(^analy)(?:sis|ses)$/i,"$1sis"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(^[pl]|zomb|^(?:neck)?t|[aeo][lt]|cut)ies$/i,"$1ie"],[/(\b(?:mon|smil))ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(e[mn]u)s?$/i,"$1"],[/(movie|twelve)s$/i,"$1"],[/(cris|test|diagnos)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return o.addSingularRule(e[0],e[1])}),["advice","agenda","bison","bream","buffalo","carp","chassis","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","information","jeans","justice","kudos","labour","machinery","mackerel","media","mews","moose","news","pike","plankton","pliers","pollution","premises","rain","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","trout","tuna","whiting","wildebeest","wildlife","you",/pox$/i,/ois$/i,/deer$/i,/fish$/i,/sheep$/i,/measles$/i,/[^aeiou]ese$/i].forEach(o.addUncountableRule),o})},function(e,t,n){var r,i;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var o in r)a.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],i=function(){return n}.apply(t,r),!(void 0!==i&&(e.exports=i)))}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),a=function(e){function t(t){var n=this;e.call(this,t),this.toggleCollapsed=function(){n.setState({isCollapsed:!n.state.isCollapsed})},this.state={isCollapsed:this.props.initiallyCollapsed},this.collapsedClass="fa fa-"+(this.props.collapsedIconFontAwesomeClass||"plus-square-o"),this.expandedClass="fa fa-"+(this.props.expandedIconFontAwesomeClassedIcon||"minus-square-o"),this.props.titleHref&&console.warn("titleHref not supported in CollapsibleContentBox"),this.props.title||console.warn("Untitled CollapsibleContentBox not supported")}return r(t,e),t.prototype.render=function(){var e="content-box__expand-toggle "+(this.state.isCollapsed?this.collapsedClass:this.expandedClass);return React.createElement("div",{className:i("content-box",this.props.containerClassName)},this.props.showLoader?React.createElement("div",{className:"content-box__loader-overlay"},React.createElement("div",{className:"content-box__loader-icon fa fa-refresh fa-spin fa-3x fa-fw margin-bottom"}),React.createElement("div",{className:"content-box__loader-message"},this.props.loaderMessage||"Please wait...")):"",React.createElement("div",{className:"content-box__title-bar--collapsible",onClick:this.toggleCollapsed},React.createElement("div",{className:e}),React.createElement("div",{className:"content-box__title"},this.props.title),this.props.titleBarRightSide?React.createElement("div",{className:"content-box__right-side"},this.props.titleBarRightSide):null),this.state.isCollapsed?null:React.createElement("div",{className:i("content-box__content-section",this.props.contentClassName)},this.props.subTitleBar?React.createElement("div",{className:"content-box__subtitle-bar"},this.props.subTitleBar):null,this.props.children))},t}(React.Component);t.CollapsibleContentBox=a;var o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=React.createElement("div",{className:"content-box__title-bar"},React.createElement("div",{className:"content-box__title"},this.props.title),this.props.titleBarRightSide?React.createElement("div",{className:"content-box__right-side"},this.props.titleBarRightSide):null);return this.props.title?React.createElement("div",{className:i("content-box",this.props.containerClassName)},this.props.showLoader?React.createElement("div",{className:"content-box__loader-overlay"},React.createElement("div",{className:"content-box__loader-icon fa fa-refresh fa-spin fa-3x fa-fw margin-bottom"}),React.createElement("div",{className:"content-box__loader-message"},this.props.loaderMessage||"Please wait...")):"",this.props.titleHref?React.createElement("a",{className:"content-box__title-bar--link",href:this.props.titleHref},e):this.props.onTitleClick?React.createElement("div",{className:"content-box__title-bar--link",onClick:this.props.onTitleClick},e):React.createElement("div",null,e),React.createElement("div",{className:i("content-box__content-section",this.props.contentClassName)},this.props.subTitleBar?React.createElement("div",{className:"content-box__subtitle-bar"},this.props.subTitleBar):null,this.props.children)):React.createElement("div",{className:i("content-box","content-box--no-title",this.props.containerClassName)},React.createElement("div",{className:i("content-box__content-section content-box__content-section--no-title",this.props.contentClassName)},React.createElement("div",{className:"content-box__simple-content-box"},React.createElement("div",{className:"content-box__simple-content"},this.props.children))))},t}(React.Component);t.ContentBox=o},function(e,t){"use strict";t.Current=window.Kaggle.Current},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(8),a=36e5,o=864e5,s=function(e){function t(t){switch(e.call(this,t),this.diff=(new Date).getTime()-new Date(this.props.time.toString()).getTime(),this.props.maxGranularity){case"hour":this.setOverride(a,"in the past hour");break;case"day":this.setOverride(o,"in the past day");break;default:this.override=Math.abs(this.diff)<=1e4?"just now":null}this.isFutureDate=new Date<new Date(this.props.time),this.props.futureDateMessage&&this.isFutureDate&&(this.override=this.props.futureDateMessage)}return r(t,e),t.prototype.setOverride=function(e,t){this.override=this.diff<e?t:null},t.prototype.render=function(){return this.props.condense?i.updateLocale("en",{relativeTime:{future:"in %s",past:"%s",s:"~10s",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}):i.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds ago",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}}),React.createElement("span",{className:this.props.className,title:this.override||new Date(this.props.time.toString()).toString()},this.override||i(this.props.time).fromNow(!0)+" "+(this.isFutureDate?this.props.hideToGo?"":this.props.toGoOverride||"to go":this.props.hideAgo?"":this.props.agoOverride||"ago"))},t}(React.Component);t.TimeAgo=s},function(e,t,n){(function(e){!function(t,n){e.exports=n()}(this,function(){"use strict";function t(){return mr.apply(null,arguments)}function n(e){mr=e}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){var t;for(t in e)return!1;return!0}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,r){return vt(e,t,n,r,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function h(e){if(null==e._isValid){var t=p(e),n=fr.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function m(e){var t=u(NaN);return null!=e?c(p(t),e):p(t).userInvalidated=!0,t}function f(e){return void 0===e}function g(e,t){var n,r,i;if(f(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),f(t._i)||(e._i=t._i),f(t._f)||(e._f=t._f),f(t._l)||(e._l=t._l),f(t._strict)||(e._strict=t._strict),f(t._tzm)||(e._tzm=t._tzm),f(t._isUTC)||(e._isUTC=t._isUTC),f(t._offset)||(e._offset=t._offset),f(t._pf)||(e._pf=p(t)),f(t._locale)||(e._locale=t._locale),gr.length>0)for(n in gr)r=gr[n],i=t[r],f(i)||(e[r]=i);return e}function v(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),vr===!1&&(vr=!0,t.updateOffset(this),vr=!1)}function b(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function y(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function k(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&w(e[r])!==w(t[r]))&&o++;return o+a}function E(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,n){var r=!0;return c(function(){return null!=t.deprecationHandler&&t.deprecationHandler(null,e),r&&(E(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),n.apply(this,arguments)},n)}function x(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),br[e]||(E(n),br[e]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e){var t,n;for(n in e)t=e[n],C(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(e,t){var n,r=c({},e);for(n in t)l(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},c(r[n],e[n]),c(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&i(e[n])&&(r[n]=c({},r[n]));return r}function R(e){null!=e&&this.set(e)}function A(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r}function N(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function F(){return this._invalidDate}function M(e){return this._ordinal.replace("%d",e)}function L(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)}function D(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}function O(e,t){var n=e.toLowerCase();Tr[n]=Tr[n+"s"]=Tr[t]=e}function I(e){return"string"==typeof e?Tr[e]||Tr[e.toLowerCase()]:void 0}function P(e){var t,n,r={};for(n in e)l(e,n)&&(t=I(n),t&&(r[t]=e[n]));return r}function B(e,t){Rr[e]=t}function j(e){var t=[];for(var n in e)t.push({unit:n,priority:Rr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function z(e,n){return function(r){return null!=r?($(this,e,r),t.updateOffset(this,n),this):U(this,e)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function $(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function H(e){return e=I(e),C(this[e])?this[e]():this}function W(e,t){if("object"==typeof e){e=P(e);for(var n=j(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=I(e),C(this[e]))return this[e](t);return this}function V(e,t,n){var r=""+Math.abs(e),i=t-r.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function q(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Mr[e]=i),t&&(Mr[t[0]]=function(){return V(i.apply(this,arguments),t[1],t[2])}),n&&(Mr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function K(e){var t,n,r=e.match(Ar);for(t=0,n=r.length;n>t;t++)Mr[r[t]]?r[t]=Mr[r[t]]:r[t]=G(r[t]);return function(t){var i,a="";for(i=0;n>i;i++)a+=r[i]instanceof Function?r[i].call(t,e):r[i];return a}}function Y(e,t){return e.isValid()?(t=X(t,e.localeData()),Fr[t]=Fr[t]||K(t),Fr[t](e)):e.localeData().invalidDate()}function X(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Nr.lastIndex=0;r>=0&&Nr.test(e);)e=e.replace(Nr,n),Nr.lastIndex=0,r-=1;return e}function Z(e,t,n){Xr[e]=C(t)?t:function(e,r){return e&&n?n:t}}function J(e,t){return l(Xr,e)?Xr[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)Zr[e[n]]=r}function ne(e,t){te(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function re(e,t,n){null!=t&&l(Zr,e)&&Zr[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ae(e,t){return r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||si).test(t)?"format":"standalone"][e.month()]}function oe(e,t){return r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[si.test(t)?"format":"standalone"][e.month()]}function se(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)a=u([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?(i=wr.call(this._shortMonthsParse,o),-1!==i?i:null):(i=wr.call(this._longMonthsParse,o),-1!==i?i:null):"MMM"===t?(i=wr.call(this._shortMonthsParse,o),-1!==i?i:(i=wr.call(this._longMonthsParse,o),-1!==i?i:null)):(i=wr.call(this._longMonthsParse,o),-1!==i?i:(i=wr.call(this._shortMonthsParse,o),-1!==i?i:null))}function le(e,t,n){var r,i,a;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=u([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ue(e){return null!=e?(ce(this,e),t.updateOffset(this,!0),this):U(this,"Month")}function de(){return ie(this.year(),this.month())}function pe(e){return this._monthsParseExact?(l(this,"_monthsRegex")||me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=ui),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(e){return this._monthsParseExact?(l(this,"_monthsRegex")||me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=di),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function me(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;12>t;t++)n=u([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;12>t;t++)r[t]=ee(r[t]),i[t]=ee(i[t]);for(t=0;24>t;t++)a[t]=ee(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function fe(e){return ge(e)?366:365}function ge(e){return e%4===0&&e%100!==0||e%400===0}function ve(){return ge(this.year())}function be(e,t,n,r,i,a,o){var s=new Date(e,t,n,r,i,a,o);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function we(e,t,n){var r=7+t-n,i=(7+ye(e,0,r).getUTCDay()-t)%7;return-i+r-1}function ke(e,t,n,r,i){var a,o,s=(7+n-r)%7,l=we(e,r,i),c=1+7*(t-1)+s+l;return 0>=c?(a=e-1,o=fe(a)+c):c>fe(e)?(a=e+1,o=c-fe(e)):(a=e,o=c),{year:a,dayOfYear:o}}function Ee(e,t,n){var r,i,a=we(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return 1>o?(i=e.year()-1,r=o+_e(i,t,n)):o>_e(e.year(),t,n)?(r=o-_e(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function _e(e,t,n){var r=we(e,t,n),i=we(e+1,t,n);return(fe(e)-r+i)/7}function xe(e){return Ee(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function Se(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Re(e){var t=Ee(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ae(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ne(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Fe(e,t){return r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Me(e){return this._weekdaysShort[e.day()]}function Le(e){return this._weekdaysMin[e.day()]}function De(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)a=u([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?(i=wr.call(this._weekdaysParse,o),-1!==i?i:null):"ddd"===t?(i=wr.call(this._shortWeekdaysParse,o),-1!==i?i:null):(i=wr.call(this._minWeekdaysParse,o),-1!==i?i:null):"dddd"===t?(i=wr.call(this._weekdaysParse,o),-1!==i?i:(i=wr.call(this._shortWeekdaysParse,o),-1!==i?i:(i=wr.call(this._minWeekdaysParse,o),-1!==i?i:null))):"ddd"===t?(i=wr.call(this._shortWeekdaysParse,o),-1!==i?i:(i=wr.call(this._weekdaysParse,o),-1!==i?i:(i=wr.call(this._minWeekdaysParse,o),-1!==i?i:null))):(i=wr.call(this._minWeekdaysParse,o),-1!==i?i:(i=wr.call(this._weekdaysParse,o),-1!==i?i:(i=wr.call(this._shortWeekdaysParse,o),-1!==i?i:null)))}function Oe(e,t,n){var r,i,a;if(this._weekdaysParseExact)return De.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=u([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ie(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ae(e,this.localeData()),this.add(e-t,"d")):t}function Pe(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Be(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ne(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function je(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=vi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function ze(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $e(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],l=[],c=[];for(t=0;7>t;t++)n=u([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),l.push(a),c.push(r),c.push(i),c.push(a);for(o.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;7>t;t++)s[t]=ee(s[t]),l[t]=ee(l[t]),c[t]=ee(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function He(){return this.hours()%12||12}function We(){return this.hours()||24}function Ve(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qe(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ke(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ye(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,n,r,i,a=0;a<e.length;){for(i=Ye(e[a]).split("-"),t=i.length,n=Ye(e[a+1]),n=n?n.split("-"):null;t>0;){if(r=Ze(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&k(i,n,!0)>=t-1)break;t--}a++}return null}function Ze(t){var n=null;if(!xi[t]&&"undefined"!=typeof e&&e&&e.exports)try{n=wi._abbr,!function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),Je(n)}catch(r){}return xi[t]}function Je(e,t){var n;return e&&(n=f(t)?tt(e):Qe(e,t),n&&(wi=n)),wi._abbr}function Qe(e,t){if(null!==t){var n=_i;return t.abbr=e,null!=xi[e]?(x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=xi[e]._config):null!=t.parentLocale&&(null!=xi[t.parentLocale]?n=xi[t.parentLocale]._config:x("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),xi[e]=new R(T(n,t)),Je(e),xi[e]}return delete xi[e],null}function et(e,t){if(null!=t){var n,r=_i;null!=xi[e]&&(r=xi[e]._config),t=T(r,t),n=new R(t),n.parentLocale=xi[e],xi[e]=n,Je(e)}else null!=xi[e]&&(null!=xi[e].parentLocale?xi[e]=xi[e].parentLocale:null!=xi[e]&&delete xi[e]);return xi[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return wi;if(!r(e)){if(t=Ze(e))return t;e=[e]}return Xe(e)}function nt(){return yr(xi)}function rt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[Qr]<0||n[Qr]>11?Qr:n[ei]<1||n[ei]>ie(n[Jr],n[Qr])?ei:n[ti]<0||n[ti]>24||24===n[ti]&&(0!==n[ni]||0!==n[ri]||0!==n[ii])?ti:n[ni]<0||n[ni]>59?ni:n[ri]<0||n[ri]>59?ri:n[ii]<0||n[ii]>999?ii:-1,p(e)._overflowDayOfYear&&(Jr>t||t>ei)&&(t=ei),p(e)._overflowWeeks&&-1===t&&(t=ai),p(e)._overflowWeekday&&-1===t&&(t=oi),p(e).overflow=t),e}function it(e){var t,n,r,i,a,o,s=e._i,l=Ci.exec(s)||Si.exec(s);if(l){for(p(e).iso=!0,t=0,n=Ri.length;n>t;t++)if(Ri[t][1].exec(l[1])){i=Ri[t][0],r=Ri[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=Ai.length;n>t;t++)if(Ai[t][1].exec(l[3])){a=(l[2]||" ")+Ai[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(l[4]){if(!Ti.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),ut(e)}else e._isValid=!1}function at(e){var n=Ni.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(it(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function ot(e,t,n){return null!=e?e:null!=t?t:n}function st(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function lt(e){var t,n,r,i,a=[];if(!e._d){for(r=st(e),e._w&&null==e._a[ei]&&null==e._a[Qr]&&ct(e),e._dayOfYear&&(i=ot(e._a[Jr],r[Jr]),e._dayOfYear>fe(i)&&(p(e)._overflowDayOfYear=!0),n=ye(i,0,e._dayOfYear),e._a[Qr]=n.getUTCMonth(),e._a[ei]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ti]&&0===e._a[ni]&&0===e._a[ri]&&0===e._a[ii]&&(e._nextDay=!0,e._a[ti]=0),e._d=(e._useUTC?ye:be).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ti]=24)}}function ct(e){var t,n,r,i,a,o,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(a=1,o=4,n=ot(t.GG,e._a[Jr],Ee(bt(),1,4).year),r=ot(t.W,1),i=ot(t.E,1),(1>i||i>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,n=ot(t.gg,e._a[Jr],Ee(bt(),a,o).year),r=ot(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(l=!0)):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(l=!0)):i=a),1>r||r>_e(n,a,o)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(s=ke(n,r,i,a,o),e._a[Jr]=s.year,e._dayOfYear=s.dayOfYear)}function ut(e){if(e._f===t.ISO_8601)return void it(e);e._a=[],p(e).empty=!0;var n,r,i,a,o,s=""+e._i,l=s.length,c=0;for(i=X(e._f,e._locale).match(Ar)||[],n=0;n<i.length;n++)a=i[n],r=(s.match(J(a,e))||[])[0],r&&(o=s.substr(0,s.indexOf(r)),o.length>0&&p(e).unusedInput.push(o),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Mr[a]?(r?p(e).empty=!1:p(e).unusedTokens.push(a),re(a,r,e)):e._strict&&!r&&p(e).unusedTokens.push(a);p(e).charsLeftOver=l-c,s.length>0&&p(e).unusedInput.push(s),e._a[ti]<=12&&p(e).bigHour===!0&&e._a[ti]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[ti]=dt(e._locale,e._a[ti],e._meridiem),lt(e),rt(e)}function dt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function pt(e){var t,n,r,i,a;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ut(t),h(t)&&(a+=p(t).charsLeftOver,a+=10*p(t).unusedTokens.length,p(t).score=a,(null==r||r>a)&&(r=a,n=t));c(e,n||t)}function ht(e){if(!e._d){var t=P(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function mt(e){var t=new v(rt(ft(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ft(e){var t=e._i,n=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new v(rt(t)):(r(n)?pt(e):o(t)?e._d=t:n?ut(e):gt(e),h(e)||(e._d=null),e))}function gt(e){var n=e._i;void 0===n?e._d=new Date(t.now()):o(n)?e._d=new Date(n.valueOf()):"string"==typeof n?at(e):r(n)?(e._a=s(n.slice(0),function(e){return parseInt(e,10)}),lt(e)):"object"==typeof n?ht(e):"number"==typeof n?e._d=new Date(n):t.createFromInputFallback(e)}function vt(e,t,n,o,s){var l={};return"boolean"==typeof n&&(o=n,n=void 0),(i(e)&&a(e)||r(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=o,mt(l)}function bt(e,t,n,r){return vt(e,t,n,r,!1)}function yt(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return bt();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function wt(){var e=[].slice.call(arguments,0);return yt("isBefore",e)}function kt(){var e=[].slice.call(arguments,0);return yt("isAfter",e)}function Et(e){var t=P(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=tt(),this._bubble()}function _t(e){return e instanceof Et}function xt(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+V(~~(e/60),2)+t+V(~~e%60,2)})}function Ct(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(Di)||["-",0,0],a=+(60*i[1])+w(i[2]);return"+"===i[0]?a:-a}function St(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(b(e)||o(e)?e.valueOf():bt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),t.updateOffset(r,!1),r):bt(e).local()}function Tt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Rt(e,n){var r,i=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Ct(Gr,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=Tt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?Vt(this,jt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Tt(this):null!=e?this:NaN}function At(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Nt(e){return this.utcOffset(0,e)}function Ft(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Tt(this),"m")),this}function Mt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ct(qr,this._i)),this}function Lt(e){return this.isValid()?(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Dt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ot(){if(!f(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=ft(e),e._a){var t=e._isUTC?u(e._a):bt(e._a);this._isDSTShifted=this.isValid()&&k(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function It(){return this.isValid()?!this._isUTC:!1}function Pt(){return this.isValid()?this._isUTC:!1}function Bt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function jt(e,t){var n,r,i,a=e,o=null;return _t(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(o=Oi.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:w(o[ei])*n,h:w(o[ti])*n,m:w(o[ni])*n,s:w(o[ri])*n,ms:w(o[ii])*n}):(o=Ii.exec(e))?(n="-"===o[1]?-1:1,a={y:zt(o[2],n),M:zt(o[3],n),w:zt(o[4],n),d:zt(o[5],n),h:zt(o[6],n),m:zt(o[7],n),s:zt(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=$t(bt(a.from),bt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new Et(a),_t(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ut(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(e,t){var n;return e.isValid()&&t.isValid()?(t=St(t,e),e.isBefore(t)?n=Ut(e,t):(n=Ut(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ht(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function Wt(e,t){return function(n,r){var i,a;return null===r||isNaN(+r)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),n="string"==typeof n?+n:n,i=jt(n,r),Vt(this,i,e),this}}function Vt(e,n,r,i){var a=n._milliseconds,o=Ht(n._days),s=Ht(n._months);e.isValid()&&(i=null==i?!0:i,a&&e._d.setTime(e._d.valueOf()+a*r),o&&$(e,"Date",U(e,"Date")+o*r),s&&ce(e,U(e,"Month")+s*r),i&&t.updateOffset(e,o||s))}function qt(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Gt(e,n){var r=e||bt(),i=St(r,this).startOf("day"),a=t.calendarFormat(this,i)||"sameElse",o=n&&(C(n[a])?n[a].call(this,r):n[a]);return this.format(o||this.localeData().calendar(a,this,bt(r)))}function Kt(){return new v(this)}function Yt(e,t){var n=b(e)?e:bt(e);return this.isValid()&&n.isValid()?(t=I(f(t)?"millisecond":t),
"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Xt(e,t){var n=b(e)?e:bt(e);return this.isValid()&&n.isValid()?(t=I(f(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Zt(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Jt(e,t){var n,r=b(e)?e:bt(e);return this.isValid()&&r.isValid()?(t=I(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Qt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function en(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tn(e,t,n){var r,i,a,o;return this.isValid()?(r=St(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t),"year"===t||"month"===t||"quarter"===t?(o=nn(this,r),"quarter"===t?o/=3:"year"===t&&(o/=12)):(a=this-r,o="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-i)/864e5:"week"===t?(a-i)/6048e5:a),n?o:y(o)):NaN):NaN}function nn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(i,"months");return 0>t-a?(n=e.clone().add(i-1,"months"),r=(t-a)/(a-n)):(n=e.clone().add(i+1,"months"),r=(t-a)/(n-a)),-(i+r)||0}function rn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function an(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():Y(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=Y(this,e);return this.localeData().postformat(n)}function sn(e,t){return this.isValid()&&(b(e)&&e.isValid()||bt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ln(e){return this.from(bt(),e)}function cn(e,t){return this.isValid()&&(b(e)&&e.isValid()||bt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function un(e){return this.to(bt(),e)}function dn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function pn(){return this._locale}function hn(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function mn(e){return e=I(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function fn(){return this._d.valueOf()-6e4*(this._offset||0)}function gn(){return Math.floor(this.valueOf()/1e3)}function vn(){return new Date(this.valueOf())}function bn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function yn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function wn(){return this.isValid()?this.toISOString():null}function kn(){return h(this)}function En(){return c({},p(this))}function _n(){return p(this).overflow}function xn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Cn(e,t){q(0,[e,e.length],0,t)}function Sn(e){return Nn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Tn(e){return Nn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Rn(){return _e(this.year(),1,4)}function An(){var e=this.localeData()._week;return _e(this.year(),e.dow,e.doy)}function Nn(e,t,n,r,i){var a;return null==e?Ee(this,r,i).year:(a=_e(e,r,i),t>a&&(t=a),Fn.call(this,e,t,n,r,i))}function Fn(e,t,n,r,i){var a=ke(e,t,n,r,i),o=ye(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Mn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ln(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Dn(e,t){t[ii]=w(1e3*("0."+e))}function On(){return this._isUTC?"UTC":""}function In(){return this._isUTC?"Coordinated Universal Time":""}function Pn(e){return bt(1e3*e)}function Bn(){return bt.apply(null,arguments).parseZone()}function jn(e){return e}function zn(e,t,n,r){var i=tt(),a=u().set(r,t);return i[n](a,e)}function Un(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return zn(e,t,n,"month");var r,i=[];for(r=0;12>r;r++)i[r]=zn(e,r,n,"month");return i}function $n(e,t,n,r){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=tt(),a=e?i._week.dow:0;if(null!=n)return zn(t,(n+a)%7,r,"day");var o,s=[];for(o=0;7>o;o++)s[o]=zn(t,(o+a)%7,r,"day");return s}function Hn(e,t){return Un(e,t,"months")}function Wn(e,t){return Un(e,t,"monthsShort")}function Vn(e,t,n){return $n(e,t,n,"weekdays")}function qn(e,t,n){return $n(e,t,n,"weekdaysShort")}function Gn(e,t,n){return $n(e,t,n,"weekdaysMin")}function Kn(){var e=this._data;return this._milliseconds=Ki(this._milliseconds),this._days=Ki(this._days),this._months=Ki(this._months),e.milliseconds=Ki(e.milliseconds),e.seconds=Ki(e.seconds),e.minutes=Ki(e.minutes),e.hours=Ki(e.hours),e.months=Ki(e.months),e.years=Ki(e.years),this}function Yn(e,t,n,r){var i=jt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Xn(e,t){return Yn(this,e,t,1)}function Zn(e,t){return Yn(this,e,t,-1)}function Jn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Qn(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||0>=a&&0>=o&&0>=s||(a+=864e5*Jn(tr(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=y(a/1e3),l.seconds=e%60,t=y(e/60),l.minutes=t%60,n=y(t/60),l.hours=n%24,o+=y(n/24),i=y(er(o)),s+=i,o-=Jn(tr(i)),r=y(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function er(e){return 4800*e/146097}function tr(e){return 146097*e/4800}function nr(e){var t,n,r=this._milliseconds;if(e=I(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+er(t),"month"===e?n:n/12;switch(t=this._days+Math.round(tr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function rr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)}function ir(e){return function(){return this.as(e)}}function ar(e){return e=I(e),this[e+"s"]()}function or(e){return function(){return this._data[e]}}function sr(){return y(this.days()/7)}function lr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function cr(e,t,n){var r=jt(e).abs(),i=ua(r.as("s")),a=ua(r.as("m")),o=ua(r.as("h")),s=ua(r.as("d")),l=ua(r.as("M")),c=ua(r.as("y")),u=i<da.s&&["s",i]||1>=a&&["m"]||a<da.m&&["mm",a]||1>=o&&["h"]||o<da.h&&["hh",o]||1>=s&&["d"]||s<da.d&&["dd",s]||1>=l&&["M"]||l<da.M&&["MM",l]||1>=c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,lr.apply(null,u)}function ur(e){return void 0===e?ua:"function"==typeof e?(ua=e,!0):!1}function dr(e,t){return void 0===da[e]?!1:void 0===t?da[e]:(da[e]=t,!0)}function pr(e){var t=this.localeData(),n=cr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function hr(){var e,t,n,r=pa(this._milliseconds)/1e3,i=pa(this._days),a=pa(this._months);e=y(r/60),t=y(e/60),r%=60,e%=60,n=y(a/12),a%=12;var o=n,s=a,l=i,c=t,u=e,d=r,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var mr,fr;fr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;n>r;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var gr=t.momentProperties=[],vr=!1,br={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var yr;yr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var wr,kr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Er={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},_r="Invalid date",xr="%d",Cr=/\d{1,2}/,Sr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Tr={},Rr={},Ar=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Nr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fr={},Mr={},Lr=/\d/,Dr=/\d\d/,Or=/\d{3}/,Ir=/\d{4}/,Pr=/[+-]?\d{6}/,Br=/\d\d?/,jr=/\d\d\d\d?/,zr=/\d\d\d\d\d\d?/,Ur=/\d{1,3}/,$r=/\d{1,4}/,Hr=/[+-]?\d{1,6}/,Wr=/\d+/,Vr=/[+-]?\d+/,qr=/Z|[+-]\d\d:?\d\d/gi,Gr=/Z|[+-]\d\d(?::?\d\d)?/gi,Kr=/[+-]?\d+(\.\d{1,3})?/,Yr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xr={},Zr={},Jr=0,Qr=1,ei=2,ti=3,ni=4,ri=5,ii=6,ai=7,oi=8;wr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),O("month","M"),B("month",8),Z("M",Br),Z("MM",Br,Dr),Z("MMM",function(e,t){return t.monthsShortRegex(e)}),Z("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[Qr]=w(e)-1}),te(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Qr]=i:p(n).invalidMonth=e});var si=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,li="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ci="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ui=Yr,di=Yr;q("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),O("year","y"),B("year",1),Z("Y",Vr),Z("YY",Br,Dr),Z("YYYY",$r,Ir),Z("YYYYY",Hr,Pr),Z("YYYYYY",Hr,Pr),te(["YYYYY","YYYYYY"],Jr),te("YYYY",function(e,n){n[Jr]=2===e.length?t.parseTwoDigitYear(e):w(e)}),te("YY",function(e,n){n[Jr]=t.parseTwoDigitYear(e)}),te("Y",function(e,t){t[Jr]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var pi=z("FullYear",!0);q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),B("week",5),B("isoWeek",5),Z("w",Br),Z("ww",Br,Dr),Z("W",Br),Z("WW",Br,Dr),ne(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=w(e)});var hi={dow:0,doy:6};q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),Z("d",Br),Z("e",Br),Z("E",Br),Z("dd",function(e,t){return t.weekdaysMinRegex(e)}),Z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Z("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,r){t[r]=w(e)});var mi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),fi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vi=Yr,bi=Yr,yi=Yr;q("H",["HH",2],0,"hour"),q("h",["hh",2],0,He),q("k",["kk",2],0,We),q("hmm",0,0,function(){return""+He.apply(this)+V(this.minutes(),2)}),q("hmmss",0,0,function(){return""+He.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),Ve("a",!0),Ve("A",!1),O("hour","h"),B("hour",13),Z("a",qe),Z("A",qe),Z("H",Br),Z("h",Br),Z("HH",Br,Dr),Z("hh",Br,Dr),Z("hmm",jr),Z("hmmss",zr),Z("Hmm",jr),Z("Hmmss",zr),te(["H","HH"],ti),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[ti]=w(e),p(n).bigHour=!0}),te("hmm",function(e,t,n){var r=e.length-2;t[ti]=w(e.substr(0,r)),t[ni]=w(e.substr(r)),p(n).bigHour=!0}),te("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ti]=w(e.substr(0,r)),t[ni]=w(e.substr(r,2)),t[ri]=w(e.substr(i)),p(n).bigHour=!0}),te("Hmm",function(e,t,n){var r=e.length-2;t[ti]=w(e.substr(0,r)),t[ni]=w(e.substr(r))}),te("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ti]=w(e.substr(0,r)),t[ni]=w(e.substr(r,2)),t[ri]=w(e.substr(i))});var wi,ki=/[ap]\.?m?\.?/i,Ei=z("Hours",!0),_i={calendar:kr,longDateFormat:Er,invalidDate:_r,ordinal:xr,ordinalParse:Cr,relativeTime:Sr,months:li,monthsShort:ci,week:hi,weekdays:mi,weekdaysMin:gi,weekdaysShort:fi,meridiemParse:ki},xi={},Ci=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Si=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ti=/Z|[+-]\d\d(?::?\d\d)?/,Ri=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ai=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ni=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=_("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Fi=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:m()}),Mi=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Li=function(){return Date.now?Date.now():+new Date};xt("Z",":"),xt("ZZ",""),Z("Z",Gr),Z("ZZ",Gr),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ct(Gr,e)});var Di=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Oi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Ii=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;jt.fn=Et.prototype;var Pi=Wt(1,"add"),Bi=Wt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ji=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Cn("gggg","weekYear"),Cn("ggggg","weekYear"),Cn("GGGG","isoWeekYear"),Cn("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),Z("G",Vr),Z("g",Vr),Z("GG",Br,Dr),Z("gg",Br,Dr),Z("GGGG",$r,Ir),Z("gggg",$r,Ir),Z("GGGGG",Hr,Pr),Z("ggggg",Hr,Pr),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=w(e)}),ne(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),q("Q",0,"Qo","quarter"),O("quarter","Q"),B("quarter",7),Z("Q",Lr),te("Q",function(e,t){t[Qr]=3*(w(e)-1)}),q("D",["DD",2],"Do","date"),O("date","D"),B("date",9),Z("D",Br),Z("DD",Br,Dr),Z("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),te(["D","DD"],ei),te("Do",function(e,t){t[ei]=w(e.match(Br)[0],10)});var zi=z("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),B("dayOfYear",4),Z("DDD",Ur),Z("DDDD",Or),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),q("m",["mm",2],0,"minute"),O("minute","m"),B("minute",14),Z("m",Br),Z("mm",Br,Dr),te(["m","mm"],ni);var Ui=z("Minutes",!1);q("s",["ss",2],0,"second"),O("second","s"),B("second",15),Z("s",Br),Z("ss",Br,Dr),te(["s","ss"],ri);var $i=z("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),B("millisecond",16),Z("S",Ur,Lr),Z("SS",Ur,Dr),Z("SSS",Ur,Or);var Hi;for(Hi="SSSS";Hi.length<=9;Hi+="S")Z(Hi,Wr);for(Hi="S";Hi.length<=9;Hi+="S")te(Hi,Dn);var Wi=z("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var Vi=v.prototype;Vi.add=Pi,Vi.calendar=Gt,Vi.clone=Kt,Vi.diff=tn,Vi.endOf=mn,Vi.format=on,Vi.from=sn,Vi.fromNow=ln,Vi.to=cn,Vi.toNow=un,Vi.get=H,Vi.invalidAt=_n,Vi.isAfter=Yt,Vi.isBefore=Xt,Vi.isBetween=Zt,Vi.isSame=Jt,Vi.isSameOrAfter=Qt,Vi.isSameOrBefore=en,Vi.isValid=kn,Vi.lang=ji,Vi.locale=dn,Vi.localeData=pn,Vi.max=Mi,Vi.min=Fi,Vi.parsingFlags=En,Vi.set=W,Vi.startOf=hn,Vi.subtract=Bi,Vi.toArray=bn,Vi.toObject=yn,Vi.toDate=vn,Vi.toISOString=an,Vi.toJSON=wn,Vi.toString=rn,Vi.unix=gn,Vi.valueOf=fn,Vi.creationData=xn,Vi.year=pi,Vi.isLeapYear=ve,Vi.weekYear=Sn,Vi.isoWeekYear=Tn,Vi.quarter=Vi.quarters=Mn,Vi.month=ue,Vi.daysInMonth=de,Vi.week=Vi.weeks=Te,Vi.isoWeek=Vi.isoWeeks=Re,Vi.weeksInYear=An,Vi.isoWeeksInYear=Rn,Vi.date=zi,Vi.day=Vi.days=Ie,Vi.weekday=Pe,Vi.isoWeekday=Be,Vi.dayOfYear=Ln,Vi.hour=Vi.hours=Ei,Vi.minute=Vi.minutes=Ui,Vi.second=Vi.seconds=$i,Vi.millisecond=Vi.milliseconds=Wi,Vi.utcOffset=Rt,Vi.utc=Nt,Vi.local=Ft,Vi.parseZone=Mt,Vi.hasAlignedHourOffset=Lt,Vi.isDST=Dt,Vi.isLocal=It,Vi.isUtcOffset=Pt,Vi.isUtc=Bt,Vi.isUTC=Bt,Vi.zoneAbbr=On,Vi.zoneName=In,Vi.dates=_("dates accessor is deprecated. Use date instead.",zi),Vi.months=_("months accessor is deprecated. Use month instead",ue),Vi.years=_("years accessor is deprecated. Use year instead",pi),Vi.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",At),Vi.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ot);var qi=Vi,Gi=R.prototype;Gi.calendar=A,Gi.longDateFormat=N,Gi.invalidDate=F,Gi.ordinal=M,Gi.preparse=jn,Gi.postformat=jn,Gi.relativeTime=L,Gi.pastFuture=D,Gi.set=S,Gi.months=ae,Gi.monthsShort=oe,Gi.monthsParse=le,Gi.monthsRegex=he,Gi.monthsShortRegex=pe,Gi.week=xe,Gi.firstDayOfYear=Se,Gi.firstDayOfWeek=Ce,Gi.weekdays=Fe,Gi.weekdaysMin=Le,Gi.weekdaysShort=Me,Gi.weekdaysParse=Oe,Gi.weekdaysRegex=je,Gi.weekdaysShortRegex=ze,Gi.weekdaysMinRegex=Ue,Gi.isPM=Ge,Gi.meridiem=Ke,Je("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),t.lang=_("moment.lang is deprecated. Use moment.locale instead.",Je),t.langData=_("moment.langData is deprecated. Use moment.localeData instead.",tt);var Ki=Math.abs,Yi=ir("ms"),Xi=ir("s"),Zi=ir("m"),Ji=ir("h"),Qi=ir("d"),ea=ir("w"),ta=ir("M"),na=ir("y"),ra=or("milliseconds"),ia=or("seconds"),aa=or("minutes"),oa=or("hours"),sa=or("days"),la=or("months"),ca=or("years"),ua=Math.round,da={s:45,m:45,h:22,d:26,M:11},pa=Math.abs,ha=Et.prototype;ha.abs=Kn,ha.add=Xn,ha.subtract=Zn,ha.as=nr,ha.asMilliseconds=Yi,ha.asSeconds=Xi,ha.asMinutes=Zi,ha.asHours=Ji,ha.asDays=Qi,ha.asWeeks=ea,ha.asMonths=ta,ha.asYears=na,ha.valueOf=rr,ha._bubble=Qn,ha.get=ar,ha.milliseconds=ra,ha.seconds=ia,ha.minutes=aa,ha.hours=oa,ha.days=sa,ha.weeks=sr,ha.months=la,ha.years=ca,ha.humanize=pr,ha.toISOString=hr,ha.toString=hr,ha.toJSON=hr,ha.locale=dn,ha.localeData=pn,ha.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hr),ha.lang=ji,q("X",0,0,"unix"),q("x",0,0,"valueOf"),Z("x",Vr),Z("X",Kr),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(w(e))}),t.version="2.14.1",n(bt),t.fn=qi,t.min=wt,t.max=kt,t.now=Li,t.utc=u,t.unix=Pn,t.months=Hn,t.isDate=o,t.locale=Je,t.invalid=m,t.duration=jt,t.isMoment=b,t.weekdays=Vn,t.parseZone=Bn,t.localeData=tt,t.isDuration=_t,t.monthsShort=Wn,t.weekdaysMin=Gn,t.defineLocale=Qe,t.updateLocale=et,t.locales=nt,t.weekdaysShort=qn,t.normalizeUnits=I,t.relativeTimeRounding=ur,t.relativeTimeThreshold=dr,t.calendarFormat=qt,t.prototype=qi;var ma=t;return ma})}).call(t,n(9)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=10},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(12),o=function(e){function t(t){e.call(this,t),this.state=t}return r(t,e),t.prototype.handleDismissal=function(){this.setState({isVisible:!1})},t.prototype.render=function(){return React.createElement(a.Banner,i({},this.state),React.createElement("h1",{className:"scripts-banner__title"},"Welcome to Kaggle Kernels"),React.createElement("h2",{className:"scripts-banner__subtitle"},"The best place to explore data science results and share your own work"),React.createElement("hr",{className:"scripts-banner__divider"}),React.createElement("ul",{className:"scripts-banner__details"},React.createElement("li",{className:"scripts-banner__detail"},React.createElement("img",{alt:"Code",className:"scripts-banner__detail-image",src:"/static/images/scripts-code.svg"}),React.createElement("h3",{className:"scripts-banner__detail-title"},"Code"),React.createElement("p",{className:"scripts-banner__detail-text"},"Skip the download. Kernels is preloaded with the most common data science languages and libraries.")),React.createElement("li",{className:"scripts-banner__detail"},React.createElement("img",{alt:"Learn",className:"scripts-banner__detail-image",src:"/static/images/scripts-learn.svg"}),React.createElement("h3",{className:"scripts-banner__detail-title"},"Learn"),React.createElement("p",{className:"scripts-banner__detail-text"},'Gain exposure to new tools and techniques. The “hottest" kernels showcase the best work on Kaggle.')),React.createElement("li",{className:"scripts-banner__detail"},React.createElement("img",{alt:"Mentor",className:"scripts-banner__detail-image",src:"/static/images/scripts-mentor.png"}),React.createElement("h3",{className:"scripts-banner__detail-title"},"Mentor"),React.createElement("p",{className:"scripts-banner__detail-text"},"Give back by sharing what you know. You can answer questions and leave feedback on others’ code and results."))))},t}(React.Component);t.ScriptsBanner=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=function(e){function t(t){e.call(this,t),this.state=t}return r(t,e),t.prototype.onDismiss=function(){i.ajax({type:"POST",url:this.props.dismissBannerUrl}),this.setState({isVisible:!1})},t.prototype.render=function(){var e=this;return this.state.isVisible?React.createElement("div",{className:"banner__wrapper"},React.createElement("div",{className:"banner"},this.props.dismissBannerUrl?React.createElement("span",{className:"banner__dismiss",onClick:function(){return e.onDismiss()}},React.createElement("span",{className:"fa fa-times"})," Ok, got it"):null,this.props.children)):null},t}(React.Component);t.Banner=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(4),o=n(14),s=function(e){function t(t){e.call(this,t),this.state={selectedValue:this.props.value}}return r(t,e),t.prototype.change=function(e){var t=this,n=e.value;this.setState({selectedValue:n},function(){return t.props.onChange(n)})},t.prototype.render=function(){var e=this;return React.createElement(o,i({},this.props,{className:a("KaggleSelect",this.props.className),onChange:function(t){return e.change(t)},clearable:this.props.clearable?this.props.clearable:!1}))},t}(React.Component);t.SelectBox=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return"object"==typeof e?JSON.stringify(e):e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(15),s=r(o),l=n(16),c=r(l),u=n(17),d=r(u),p=n(18),h=r(p),m=n(19),f=r(m),g=n(20),v=r(g),b=n(21),y=r(b),w=n(22),k=r(w),E=s["default"].PropTypes.oneOfType([s["default"].PropTypes.string,s["default"].PropTypes.node]),_=s["default"].createClass({displayName:"Select",propTypes:{addLabelText:s["default"].PropTypes.string,allowCreate:s["default"].PropTypes.bool,autoBlur:s["default"].PropTypes.bool,autofocus:s["default"].PropTypes.bool,autosize:s["default"].PropTypes.bool,backspaceRemoves:s["default"].PropTypes.bool,className:s["default"].PropTypes.string,clearAllText:E,clearValueText:E,clearable:s["default"].PropTypes.bool,delimiter:s["default"].PropTypes.string,disabled:s["default"].PropTypes.bool,escapeClearsValue:s["default"].PropTypes.bool,filterOption:s["default"].PropTypes.func,filterOptions:s["default"].PropTypes.any,ignoreAccents:s["default"].PropTypes.bool,ignoreCase:s["default"].PropTypes.bool,inputProps:s["default"].PropTypes.object,inputRenderer:s["default"].PropTypes.func,isLoading:s["default"].PropTypes.bool,joinValues:s["default"].PropTypes.bool,labelKey:s["default"].PropTypes.string,matchPos:s["default"].PropTypes.string,matchProp:s["default"].PropTypes.string,menuBuffer:s["default"].PropTypes.number,menuContainerStyle:s["default"].PropTypes.object,menuRenderer:s["default"].PropTypes.func,menuStyle:s["default"].PropTypes.object,multi:s["default"].PropTypes.bool,name:s["default"].PropTypes.string,newOptionCreator:s["default"].PropTypes.func,noResultsText:E,onBlur:s["default"].PropTypes.func,onBlurResetsInput:s["default"].PropTypes.bool,onChange:s["default"].PropTypes.func,onClose:s["default"].PropTypes.func,onFocus:s["default"].PropTypes.func,onInputChange:s["default"].PropTypes.func,onMenuScrollToBottom:s["default"].PropTypes.func,onOpen:s["default"].PropTypes.func,onValueClick:s["default"].PropTypes.func,openAfterFocus:s["default"].PropTypes.bool,openOnFocus:s["default"].PropTypes.bool,optionClassName:s["default"].PropTypes.string,optionComponent:s["default"].PropTypes.func,optionRenderer:s["default"].PropTypes.func,options:s["default"].PropTypes.array,placeholder:E,required:s["default"].PropTypes.bool,resetValue:s["default"].PropTypes.any,scrollMenuIntoView:s["default"].PropTypes.bool,searchable:s["default"].PropTypes.bool,simpleValue:s["default"].PropTypes.bool,style:s["default"].PropTypes.object,tabIndex:s["default"].PropTypes.string,tabSelectsValue:s["default"].PropTypes.bool,value:s["default"].PropTypes.any,valueComponent:s["default"].PropTypes.func,valueKey:s["default"].PropTypes.string,valueRenderer:s["default"].PropTypes.func,wrapperStyle:s["default"].PropTypes.object},statics:{Async:v["default"]},getDefaultProps:function(){return{addLabelText:'Add "{label}"?',autosize:!0,allowCreate:!1,backspaceRemoves:!0,clearable:!0,clearAllText:"Clear all",clearValueText:"Clear value",delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:!0,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,openAfterFocus:!1,optionComponent:y["default"],placeholder:"Select...",required:!1,resetValue:null,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,valueComponent:k["default"],valueKey:"value"}},getInitialState:function(){return{inputValue:"",isFocused:!1,isLoading:!1,isOpen:!1,isPseudoFocused:!1,required:!1}},componentWillMount:function(){var e=this.getValueArray(this.props.value);this.props.required&&this.setState({required:this.handleRequired(e[0],this.props.multi)})},componentDidMount:function(){this.props.autofocus&&this.focus()},componentWillReceiveProps:function(e){var t=this.getValueArray(e.value);e.required&&this.setState({required:this.handleRequired(t[0],e.multi)})},componentWillUpdate:function(e,t){if(t.isOpen!==this.state.isOpen){var n=t.isOpen?e.onOpen:e.onClose;n&&n()}},componentDidUpdate:function(e,t){if(this.refs.menu&&this.refs.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=c["default"].findDOMNode(this.refs.focused),r=c["default"].findDOMNode(this.refs.menu);r.scrollTop=n.offsetTop,this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.refs.focused&&this.refs.menu){this._scrollToFocusedOptionOnUpdate=!1;var i=c["default"].findDOMNode(this.refs.focused),a=c["default"].findDOMNode(this.refs.menu),o=i.getBoundingClientRect(),s=a.getBoundingClientRect();(o.bottom>s.bottom||o.top<s.top)&&(a.scrollTop=i.offsetTop+i.clientHeight-a.offsetHeight)}if(this.props.scrollMenuIntoView&&this.refs.menuContainer){var l=this.refs.menuContainer.getBoundingClientRect();window.innerHeight<l.bottom+this.props.menuBuffer&&window.scrollBy(0,l.bottom+this.props.menuBuffer-window.innerHeight)}e.disabled!==this.props.disabled&&this.setState({isFocused:!1})},focus:function(){this.refs.input&&(this.refs.input.focus(),this.props.openAfterFocus&&this.setState({isOpen:!0}))},blurInput:function(){this.refs.input&&this.refs.input.blur()},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},handleTouchEnd:function(e){this.dragging||this.handleMouseDown(e)},handleTouchEndClearValue:function(e){this.dragging||this.clearValue(e)},handleMouseDown:function(e){return this.props.disabled||"mousedown"===e.type&&0!==e.button?void 0:(e.stopPropagation(),
e.preventDefault(),this.props.searchable?void(this.state.isFocused?this.setState({isOpen:!0,isPseudoFocused:!1}):(this._openAfterFocus=!0,this.focus())):(this.focus(),this.setState({isOpen:!this.state.isOpen})))},handleMouseDownOnArrow:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||this.state.isOpen&&(e.stopPropagation(),e.preventDefault(),this.closeMenu())},handleMouseDownOnMenu:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())},closeMenu:function(){this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi,inputValue:""}),this.hasScrolledToOption=!1},handleInputFocus:function(e){var t=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:t}),this._openAfterFocus=!1},handleInputBlur:function(e){if(this.refs.menu&&document.activeElement===this.refs.menu)return void this.focus();this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=""),this.setState(t)},handleInputChange:function(e){var t=e.target.value;if(this.state.inputValue!==e.target.value&&this.props.onInputChange){var n=this.props.onInputChange(t);null!=n&&(t=""+n)}this.setState({isOpen:!0,isPseudoFocused:!1,inputValue:t})},handleKeyDown:function(e){if(!this.props.disabled){switch(e.keyCode){case 8:return void(!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue()));case 9:if(e.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)return;return void this.selectFocusedOption();case 13:if(!this.state.isOpen)return;e.stopPropagation(),this.selectFocusedOption();break;case 27:this.state.isOpen?this.closeMenu():this.props.clearable&&this.props.escapeClearsValue&&this.clearValue(e);break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;default:return}e.preventDefault()}},handleValueClick:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)},handleMenuScroll:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&!(t.scrollHeight-t.offsetHeight-t.scrollTop)&&this.props.onMenuScrollToBottom()}},handleRequired:function(e,t){return e?t?0===e.length:0===Object.keys(e).length:!0},getOptionLabel:function(e){return e[this.props.labelKey]},getValueArray:function(e){if(this.props.multi){if("string"==typeof e&&(e=e.split(this.props.delimiter)),!Array.isArray(e)){if(null===e||void 0===e)return[];e=[e]}return e.map(this.expandValue).filter(function(e){return e})}var t=this.expandValue(e);return t?[t]:[]},expandValue:function(e){if("string"!=typeof e&&"number"!=typeof e)return e;var t=this.props,n=t.options,r=t.valueKey;if(n)for(var i=0;i<n.length;i++)if(n[i][r]===e)return n[i]},setValue:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.onChange){if(this.props.required){var n=this.handleRequired(e,this.props.multi);this.setState({required:n})}this.props.simpleValue&&e&&(e=this.props.multi?e.map(function(e){return e[t.props.valueKey]}).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange(e)}},selectValue:function(e){this.hasScrolledToOption=!1,this.props.multi?(this.addValue(e),this.setState({inputValue:""})):(this.setValue(e),this.setState({isOpen:!1,inputValue:"",isPseudoFocused:this.state.isFocused}))},addValue:function(e){var t=this.getValueArray(this.props.value);this.setValue(t.concat(e))},popValue:function(){var e=this.getValueArray(this.props.value);e.length&&e[e.length-1].clearableValue!==!1&&this.setValue(e.slice(0,e.length-1))},removeValue:function(e){var t=this.getValueArray(this.props.value);this.setValue(t.filter(function(t){return t!==e})),this.focus()},clearValue:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.setValue(this.props.resetValue),this.setState({isOpen:!1,inputValue:""},this.focus))},focusOption:function(e){this.setState({focusedOption:e})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusAdjacentOption:function(e){var t=this._visibleOptions.filter(function(e){return!e.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this._focusedOption||t["next"===e?0:t.length-1]});if(t.length){for(var n=-1,r=0;r<t.length;r++)if(this._focusedOption===t[r]){n=r;break}var i=t[0];"next"===e&&n>-1&&n<t.length-1?i=t[n+1]:"previous"===e&&(i=n>0?t[n-1]:t[t.length-1]),this.setState({focusedOption:i})}},selectFocusedOption:function(){return this._focusedOption?this.selectValue(this._focusedOption):void 0},renderLoading:function(){return this.props.isLoading?s["default"].createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},s["default"].createElement("span",{className:"Select-loading"})):void 0},renderValue:function(e,t){var n=this,r=this.props.valueRenderer||this.getOptionLabel,i=this.props.valueComponent;if(!e.length)return this.state.inputValue?null:s["default"].createElement("div",{className:"Select-placeholder"},this.props.placeholder);var a=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?e.map(function(e,t){return s["default"].createElement(i,{disabled:n.props.disabled||e.clearableValue===!1,key:"value-"+t+"-"+e[n.props.valueKey],onClick:a,onRemove:n.removeValue,value:e},r(e))}):this.state.inputValue?void 0:(t&&(a=null),s["default"].createElement(i,{disabled:this.props.disabled,onClick:a,value:e[0]},r(e[0])))},renderInput:function(e){if(this.props.inputRenderer)return this.props.inputRenderer();var t=(0,h["default"])("Select-input",this.props.inputProps.className);return this.props.disabled||!this.props.searchable?s["default"].createElement("div",a({},this.props.inputProps,{className:t,tabIndex:this.props.tabIndex||0,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:"input",style:{border:0,width:1,display:"inline-block"}})):this.props.autosize?s["default"].createElement(d["default"],a({},this.props.inputProps,{className:t,tabIndex:this.props.tabIndex,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,minWidth:"5",ref:"input",required:this.state.required,value:this.state.inputValue})):s["default"].createElement("div",{className:t},s["default"].createElement("input",a({},this.props.inputProps,{tabIndex:this.props.tabIndex,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:"input",required:this.state.required,value:this.state.inputValue})))},renderClear:function(){return!this.props.clearable||!this.props.value||this.props.multi&&!this.props.value.length||this.props.disabled||this.props.isLoading?void 0:s["default"].createElement("span",{className:"Select-clear-zone",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEndClearValue},s["default"].createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}}))},renderArrow:function(){return s["default"].createElement("span",{className:"Select-arrow-zone",onMouseDown:this.handleMouseDownOnArrow},s["default"].createElement("span",{className:"Select-arrow",onMouseDown:this.handleMouseDownOnArrow}))},filterOptions:function(e){var t=this,n=this.state.inputValue,r=this.props.options||[];return"function"==typeof this.props.filterOptions?this.props.filterOptions.call(this,r,n,e):this.props.filterOptions?(this.props.ignoreAccents&&(n=(0,f["default"])(n)),this.props.ignoreCase&&(n=n.toLowerCase()),e&&(e=e.map(function(e){return e[t.props.valueKey]})),r.filter(function(r){if(e&&e.indexOf(r[t.props.valueKey])>-1)return!1;if(t.props.filterOption)return t.props.filterOption.call(t,r,n);if(!n)return!0;var i=String(r[t.props.valueKey]),a=String(r[t.props.labelKey]);return t.props.ignoreAccents&&("label"!==t.props.matchProp&&(i=(0,f["default"])(i)),"value"!==t.props.matchProp&&(a=(0,f["default"])(a))),t.props.ignoreCase&&("label"!==t.props.matchProp&&(i=i.toLowerCase()),"value"!==t.props.matchProp&&(a=a.toLowerCase())),"start"===t.props.matchPos?"label"!==t.props.matchProp&&i.substr(0,n.length)===n||"value"!==t.props.matchProp&&a.substr(0,n.length)===n:"label"!==t.props.matchProp&&i.indexOf(n)>=0||"value"!==t.props.matchProp&&a.indexOf(n)>=0})):r},renderMenu:function(e,t,n){var r=this;if(!e||!e.length)return this.props.noResultsText?s["default"].createElement("div",{className:"Select-noresults"},this.props.noResultsText):null;if(this.props.menuRenderer)return this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,labelKey:this.props.labelKey,options:e,selectValue:this.selectValue,valueArray:t});var i=function(){var i=r.props.optionComponent,a=r.props.optionRenderer||r.getOptionLabel;return{v:e.map(function(e,o){var l=t&&t.indexOf(e)>-1,c=e===n,u=c?"focused":null,d=(0,h["default"])(r.props.optionClassName,{"Select-option":!0,"is-selected":l,"is-focused":c,"is-disabled":e.disabled});return s["default"].createElement(i,{className:d,isDisabled:e.disabled,isFocused:c,key:"option-"+o+"-"+e[r.props.valueKey],onSelect:r.selectValue,onFocus:r.focusOption,option:e,isSelected:l,ref:u},a(e))})}}();return"object"==typeof i?i.v:void 0},renderHiddenField:function(e){var t=this;if(this.props.name){if(this.props.joinValues){var n=e.map(function(e){return i(e[t.props.valueKey])}).join(this.props.delimiter);return s["default"].createElement("input",{type:"hidden",ref:"value",name:this.props.name,value:n,disabled:this.props.disabled})}return e.map(function(e,n){return s["default"].createElement("input",{key:"hidden."+n,type:"hidden",ref:"value"+n,name:t.props.name,value:i(e[t.props.valueKey]),disabled:t.props.disabled})})}},getFocusableOption:function(e){var t=this._visibleOptions;if(t.length){var n=this.state.focusedOption||e;if(n&&t.indexOf(n)>-1)return n;for(var r=0;r<t.length;r++)if(!t[r].disabled)return t[r]}},renderOuter:function(e,t,n){var r=this.renderMenu(e,t,n);return r?s["default"].createElement("div",{ref:"menuContainer",className:"Select-menu-outer",style:this.props.menuContainerStyle},s["default"].createElement("div",{ref:"menu",className:"Select-menu",style:this.props.menuStyle,onScroll:this.handleMenuScroll,onMouseDown:this.handleMouseDownOnMenu},r)):null},render:function(){var e=this.getValueArray(this.props.value),t=this._visibleOptions=this.filterOptions(this.props.multi?e:null),n=this.state.isOpen;this.props.multi&&!t.length&&e.length&&!this.state.inputValue&&(n=!1);var r=this._focusedOption=this.getFocusableOption(e[0]),i=(0,h["default"])("Select",this.props.className,{"Select--multi":this.props.multi,"Select--single":!this.props.multi,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":n,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"has-value":e.length});return s["default"].createElement("div",{ref:"wrapper",className:i,style:this.props.wrapperStyle},this.renderHiddenField(e),s["default"].createElement("div",{ref:"control",className:"Select-control",style:this.props.style,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},this.renderValue(e,n),this.renderInput(e),this.renderLoading(),this.renderClear(),this.renderArrow()),n?this.renderOuter(t,this.props.multi?null:e,r):null)}});t["default"]=_,e.exports=t["default"]},function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(15),a={position:"absolute",visibility:"hidden",height:0,width:0,overflow:"scroll",whiteSpace:"pre"},o=("undefined"!=typeof window?function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}().bind(window):void 0,i.createClass({displayName:"AutosizeInput",propTypes:{value:i.PropTypes.any,defaultValue:i.PropTypes.any,onChange:i.PropTypes.func,style:i.PropTypes.object,className:i.PropTypes.string,minWidth:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string]),inputStyle:i.PropTypes.object,inputClassName:i.PropTypes.string},getDefaultProps:function(){return{minWidth:1}},getInitialState:function(){return{inputWidth:this.props.minWidth}},componentDidMount:function(){this.copyInputStyles(),this.updateInputWidth()},componentDidUpdate:function(){this.updateInputWidth()},copyInputStyles:function(){if(this.isMounted()&&window.getComputedStyle){var e=window.getComputedStyle(this.refs.input);if(e){var t=this.refs.sizer;if(t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,this.props.placeholder){var n=this.refs.placeholderSizer;n.style.fontSize=e.fontSize,n.style.fontFamily=e.fontFamily,n.style.fontWeight=e.fontWeight,n.style.fontStyle=e.fontStyle,n.style.letterSpacing=e.letterSpacing}}}},updateInputWidth:function(){if(this.isMounted()&&"undefined"!=typeof this.refs.sizer.scrollWidth){var e=void 0;e=this.props.placeholder?Math.max(this.refs.sizer.scrollWidth,this.refs.placeholderSizer.scrollWidth)+2:this.refs.sizer.scrollWidth+2,e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}},getInput:function(){return this.refs.input},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},select:function(){this.refs.input.select()},render:function(){var e=this.props.defaultValue||this.props.value||"",t=this.props.style||{};t.display||(t.display="inline-block");var n=r({},this.props.inputStyle);n.width=this.state.inputWidth+"px",n.boxSizing="content-box";var o=this.props.placeholder?i.createElement("div",{ref:"placeholderSizer",style:a},this.props.placeholder):null;return i.createElement("div",{className:this.props.className,style:t},i.createElement("input",r({},this.props,{ref:"input",className:this.props.inputClassName,style:n})),i.createElement("div",{ref:"sizer",style:a},e),o)}}));e.exports=o},function(e,t,n){var r,i;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var o in r)a.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],i=function(){return n}.apply(t,r),!(void 0!==i&&(e.exports=i)))}()},function(e,t){"use strict";var n=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];e.exports=function(e){for(var t=0;t<n.length;t++)e=e.replace(n[t].letters,n[t].base);return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e&&"object"!=typeof e&&(e={}),e?e:null}function a(e,t,n){e&&(e[t]=n)}function o(e,t){if(e)for(var n=t.length;n>=0;--n){var r=t.slice(0,n);if(e[r]&&(t===r||e[r].complete))return e[r]}}function s(e,t){return e&&"function"==typeof e.then?e.then(function(e){t(null,e)},function(e){t(e)}):void 0}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(15),u=r(c),d=n(14),p=r(d),h=n(19),m=r(h),f=0,g=u["default"].PropTypes.oneOfType([u["default"].PropTypes.string,u["default"].PropTypes.node]),v=u["default"].createClass({displayName:"Async",propTypes:{cache:u["default"].PropTypes.any,ignoreAccents:u["default"].PropTypes.bool,ignoreCase:u["default"].PropTypes.bool,isLoading:u["default"].PropTypes.bool,loadOptions:u["default"].PropTypes.func.isRequired,loadingPlaceholder:u["default"].PropTypes.string,minimumInput:u["default"].PropTypes.number,noResultsText:g,onInputChange:u["default"].PropTypes.func,placeholder:g,searchPromptText:u["default"].PropTypes.string,searchingText:u["default"].PropTypes.string},getDefaultProps:function(){return{cache:!0,ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",minimumInput:0,searchingText:"Searching...",searchPromptText:"Type to search"}},getInitialState:function(){return{cache:i(this.props.cache),isLoading:!1,options:[]}},componentWillMount:function(){this._lastInput=""},componentDidMount:function(){this.loadOptions("")},componentWillReceiveProps:function(e){e.cache!==this.props.cache&&this.setState({cache:i(e.cache)})},focus:function(){this.refs.select.focus()},resetState:function(){this._currentRequestId=-1,this.setState({isLoading:!1,options:[]})},getResponseHandler:function(e){var t=this,n=this._currentRequestId=f++;return function(r,i){if(r)throw r;t.isMounted()&&(a(t.state.cache,e,i),n===t._currentRequestId&&t.setState({isLoading:!1,options:i&&i.options||[]}))}},loadOptions:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&(e=""+t)}if(this.props.ignoreAccents&&(e=(0,m["default"])(e)),this.props.ignoreCase&&(e=e.toLowerCase()),this._lastInput=e,e.length<this.props.minimumInput)return this.resetState();var n=o(this.state.cache,e);if(n)return this.setState({options:n.options});this.setState({isLoading:!0});var r=this.getResponseHandler(e);return s(this.props.loadOptions(e,r),r)},render:function(){var e=this.props.noResultsText,t=this.state,n=t.isLoading,r=t.options;this.props.isLoading&&(n=!0);var i=n?this.props.loadingPlaceholder:this.props.placeholder;return r.length||(this._lastInput.length<this.props.minimumInput&&(e=this.props.searchPromptText),n&&(e=this.props.searchingText)),u["default"].createElement(p["default"],l({},this.props,{ref:"select",isLoading:n,noResultsText:e,onInputChange:this.loadOptions,options:r,placeholder:i}))}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(15),a=r(i),o=n(18),s=r(o),l=a["default"].createClass({displayName:"Option",propTypes:{children:a["default"].PropTypes.node,className:a["default"].PropTypes.string,isDisabled:a["default"].PropTypes.bool,isFocused:a["default"].PropTypes.bool,isSelected:a["default"].PropTypes.bool,onFocus:a["default"].PropTypes.func,onSelect:a["default"].PropTypes.func,onUnfocus:a["default"].PropTypes.func,option:a["default"].PropTypes.object.isRequired},blockEvent:function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)},handleMouseDown:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)},handleMouseEnter:function(e){this.onFocus(e)},handleMouseMove:function(e){this.onFocus(e)},handleTouchEnd:function(e){this.dragging||this.handleMouseDown(e)},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},onFocus:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)},render:function(){var e=this.props.option,t=(0,s["default"])(this.props.className,e.className);return e.disabled?a["default"].createElement("div",{className:t,onMouseDown:this.blockEvent,onClick:this.blockEvent},this.props.children):a["default"].createElement("div",{className:t,style:e.style,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,title:e.title},this.props.children)}});e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(15),a=r(i),o=n(18),s=r(o),l=a["default"].createClass({displayName:"Value",propTypes:{children:a["default"].PropTypes.node,disabled:a["default"].PropTypes.bool,onClick:a["default"].PropTypes.func,onRemove:a["default"].PropTypes.func,value:a["default"].PropTypes.object.isRequired},handleMouseDown:function(e){return"mousedown"!==e.type||0===e.button?this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation()):void 0},onRemove:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)},handleTouchEndRemove:function(e){this.dragging||this.onRemove(e)},handleTouchMove:function(e){this.dragging=!0},handleTouchStart:function(e){this.dragging=!1},renderRemoveIcon:function(){return!this.props.disabled&&this.props.onRemove?a["default"].createElement("span",{className:"Select-value-icon",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"×"):void 0},renderLabel:function(){var e="Select-value-label";return this.props.onClick||this.props.value.href?a["default"].createElement("a",{className:e,href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):a["default"].createElement("span",{className:e},this.props.children)},render:function(){return a["default"].createElement("div",{className:(0,s["default"])("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}});e.exports=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(2),o=n(24),s=n(4),l=n(6),c=n(25),u=function(e){function t(){var t=this;e.apply(this,arguments),this.handleKeyDown=function(e){27==e.keyCode&&t.props.handleModalClose()},this.handleStopPropagation=function(e){e.stopPropagation()}}return r(t,e),t.prototype.componentDidMount=function(){a(document.body).on("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){a(document.body).off("keydown",this.handleKeyDown)},t.prototype.render=function(){var e=500,t=a(window).width(),n=Math.floor((t-e)/2),r={marginLeft:n+"px",marginRight:n+"px"};return React.createElement("div",{className:"vote-button__voters-outer"},React.createElement("div",{className:"vote-button__voters-modal-background",onClick:this.props.handleModalClose}),React.createElement("div",{className:"vote-button__voters-modal",style:r},React.createElement("div",{className:"vote-button__voters-modal-title-bar"},React.createElement("div",{className:"vote-button__voters-modal-title"},"Voters"),React.createElement("div",{className:"vote-button__voters-modal-close"},React.createElement("span",{className:"fa fa-close",onClick:this.props.handleModalClose}))),React.createElement("div",{className:"vote-button__voters-modal-inner"},this.props.voters.map(function(e,t){return React.createElement("div",{className:"vote-button__voters-model-item"},React.createElement(c.UserCard,i({key:"voter-"+t},e)))}))))},t}(React.Component);t.VoteButtonModal=u;var d=function(e){function t(t){var n=this;e.call(this,t),this.onVoteUp=function(e){if(e.stopPropagation(),n.readyToVote()&&n.props.canUpvote){n.props.upVoteIntercomEventName&&window.Intercom("trackEvent",n.props.upVoteIntercomEventName);var t,r=n.state;if(n.state.hasAlreadyVotedDown){t={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!0,totalVotes:n.state.totalVotes+2,voteRequestInFlight:!0};var i={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!1};return void n.processTwoPartVote(t,r,i,n.props.voteDownUrl,"DELETE",n.props.voteUpUrl,"POST")}var a=null;n.state.voters&&(a=n.state.voters.slice(),n.state.hasAlreadyVotedUp?a.splice(o.findIndex(a,n.props.currentUserInfo),1):a=[n.props.currentUserInfo].concat(a)),t=n.state.hasAlreadyVotedUp?{hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!0,voters:a}:{hasAlreadyVotedUp:!0,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!0,voters:a},n.processVote(t,r,n.props.voteUpUrl,n.state.hasAlreadyVotedUp?"DELETE":"POST")}},this.onVoteDown=function(e){if(e.stopPropagation(),n.readyToVote()&&n.props.canDownvote){var t,r=n.state;if(n.state.hasAlreadyVotedUp){t={hasAlreadyVotedUp:!1,hasAlreadyVotedDown:!0,totalVotes:n.state.totalVotes-2,voteRequestInFlight:!0};var i={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!1};return void n.processTwoPartVote(t,r,i,n.props.voteUpUrl,"DELETE",n.props.voteDownUrl,"POST")}t=n.state.hasAlreadyVotedDown?{hasAlreadyVotedDown:!1,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!0}:{hasAlreadyVotedDown:!0,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!0},n.processVote(t,r,n.props.voteDownUrl,n.state.hasAlreadyVotedDown?"DELETE":"POST")}},this.handleVotersClick=function(e){e.preventDefault(),n.setState({showingVotersModal:!0}),a("body").css({"overflow-x":"hidden","overflow-y":"scroll"}),a("html").css("overflow","hidden")},this.handleVotersClose=function(){n.setState({showingVotersModal:!1}),a("body").css({overflow:"visible","margin-right":"0px"}),a("html").css("overflow","visible")},this.state={totalVotes:t.totalVotes,hasAlreadyVotedUp:t.hasAlreadyVotedUp,hasAlreadyVotedDown:t.hasAlreadyVotedDown,voteRequestInFlight:!1,showingVotersModal:!1,voters:this.props.voters}}return r(t,e),t.prototype.readyToVote=function(){if(this.state.voteRequestInFlight)return!1;if(!l.Current.userId){var e="/account/login?returnUrl="+encodeURIComponent(document.location.pathname);return document.location.href=e,!1}return!0},t.prototype.processVote=function(e,t,n,r){var i=this;this.setState(e,function(){a.ajax({url:n,type:r,success:function(){i.setState({voteRequestInFlight:!1})},error:function(e,n,r){i.setState(t)}})})},t.prototype.processTwoPartVote=function(e,t,n,r,i,o,s){var l=this;this.setState(e,function(){a.ajax({url:r,type:i,success:function(){a.ajax({url:o,type:s,success:function(){l.setState({voteRequestInFlight:!1})},error:function(){l.setState(n)}})},error:function(e,n,r){l.setState(t)}})})},t.prototype.render=function(){var e=null,t=null,n=null,r=this.props.showVoters&&this.state.voters&&this.state.voters.length>0;this.props.voteUpUrl&&(t=React.createElement("div",{onClick:this.props.canUpvote?this.onVoteUp:null},React.createElement("span",{className:"fa fa-caret-up vote-button__caret-up"}))),this.props.voteDownUrl&&(e=React.createElement("div",{onClick:this.props.canDownvote?this.onVoteDown:null},React.createElement("span",{className:"fa fa-caret-down vote-button__caret-down"}))),r&&(n=React.createElement("div",{className:"vote-button__show-voters"},React.createElement("a",{href:"",onClick:this.handleVotersClick},"voters")));var i=null;return this.state.showingVotersModal&&(i=React.createElement(u,{voters:this.state.voters,handleModalClose:this.handleVotersClose})),React.createElement("div",{className:"vote-button__container"},React.createElement("div",{className:s("vote-button",{"vote-button--large":this.props.large,"vote-button--dark-theme":this.props.useDarkTheme,"vote-button--voted-up":this.state.hasAlreadyVotedUp,"vote-button--voted-down":this.state.hasAlreadyVotedDown,"vote-button--disabled":!this.props.canDownvote&&!this.props.canUpvote,"vote-button--enabled":this.props.canDownvote||this.props.canUpvote})},t,React.createElement("div",{className:s("vote-button__vote-count",{"vote-button__vote-count--dark-theme":this.props.useDarkTheme}),onClick:this.state.hasAlreadyVotedDown?this.onVoteDown:this.onVoteUp},React.createElement("span",null,this.state.totalVotes)),e),n,i)},t}(React.Component);t.VoteButton=d},function(e,t,n){var r,i;(function(){function n(e){function t(t,n,r,i,a,o){for(;a>=0&&o>a;a+=e){var s=i?i[a]:a;r=n(r,t[s],s,t)}return r}return function(n,r,i,a){r=_(r,a,4);var o=!N(n)&&E.keys(n),s=(o||n).length,l=e>0?0:s-1;return arguments.length<3&&(i=n[o?o[l]:l],l+=e),t(n,r,i,o,l,s)}}function a(e){return function(t,n,r){n=x(n,r);for(var i=A(t),a=e>0?0:i-1;a>=0&&i>a;a+=e)if(n(t[a],a,t))return a;return-1}}function o(e,t,n){return function(r,i,a){var o=0,s=A(r);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return a=n(r,i),r[a]===i?a:-1;if(i!==i)return a=t(m.call(r,o,s),E.isNaN),a>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&s>a;a+=e)if(r[a]===i)return a;return-1}}function s(e,t){var n=O.length,r=e.constructor,i=E.isFunction(r)&&r.prototype||d,a="constructor";for(E.has(e,a)&&!E.contains(t,a)&&t.push(a);n--;)a=O[n],a in e&&e[a]!==i[a]&&!E.contains(t,a)&&t.push(a)}var l=this,c=l._,u=Array.prototype,d=Object.prototype,p=Function.prototype,h=u.push,m=u.slice,f=d.toString,g=d.hasOwnProperty,v=Array.isArray,b=Object.keys,y=p.bind,w=Object.create,k=function(){},E=function(e){return e instanceof E?e:this instanceof E?void(this._wrapped=e):new E(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=E),t._=E,E.VERSION="1.8.3";var _=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},x=function(e,t,n){return null==e?E.identity:E.isFunction(e)?_(e,t,n):E.isObject(e)?E.matcher(e):E.property(e)};E.iteratee=function(e,t){return x(e,t,1/0)};var C=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var a=arguments[i],o=e(a),s=o.length,l=0;s>l;l++){var c=o[l];t&&void 0!==n[c]||(n[c]=a[c])}return n}},S=function(e){if(!E.isObject(e))return{};if(w)return w(e);k.prototype=e;var t=new k;return k.prototype=null,t},T=function(e){return function(t){return null==t?void 0:t[e]}},R=Math.pow(2,53)-1,A=T("length"),N=function(e){var t=A(e);return"number"==typeof t&&t>=0&&R>=t};E.each=E.forEach=function(e,t,n){t=_(t,n);var r,i;if(N(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var a=E.keys(e);for(r=0,i=a.length;i>r;r++)t(e[a[r]],a[r],e)}return e},E.map=E.collect=function(e,t,n){t=x(t,n);for(var r=!N(e)&&E.keys(e),i=(r||e).length,a=Array(i),o=0;i>o;o++){var s=r?r[o]:o;a[o]=t(e[s],s,e)}return a},E.reduce=E.foldl=E.inject=n(1),E.reduceRight=E.foldr=n(-1),E.find=E.detect=function(e,t,n){var r;return r=N(e)?E.findIndex(e,t,n):E.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},E.filter=E.select=function(e,t,n){var r=[];return t=x(t,n),E.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},E.reject=function(e,t,n){return E.filter(e,E.negate(x(t)),n)},E.every=E.all=function(e,t,n){t=x(t,n);for(var r=!N(e)&&E.keys(e),i=(r||e).length,a=0;i>a;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0},E.some=E.any=function(e,t,n){t=x(t,n);for(var r=!N(e)&&E.keys(e),i=(r||e).length,a=0;i>a;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1},E.contains=E.includes=E.include=function(e,t,n,r){return N(e)||(e=E.values(e)),("number"!=typeof n||r)&&(n=0),E.indexOf(e,t,n)>=0},E.invoke=function(e,t){var n=m.call(arguments,2),r=E.isFunction(t);return E.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},E.pluck=function(e,t){return E.map(e,E.property(t))},E.where=function(e,t){return E.filter(e,E.matcher(t))},E.findWhere=function(e,t){return E.find(e,E.matcher(t))},E.max=function(e,t,n){var r,i,a=-(1/0),o=-(1/0);if(null==t&&null!=e){e=N(e)?e:E.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],r>a&&(a=r)}else t=x(t,n),E.each(e,function(e,n,r){i=t(e,n,r),(i>o||i===-(1/0)&&a===-(1/0))&&(a=e,o=i)});return a},E.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t&&null!=e){e=N(e)?e:E.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],a>r&&(a=r)}else t=x(t,n),E.each(e,function(e,n,r){i=t(e,n,r),(o>i||i===1/0&&a===1/0)&&(a=e,o=i)});return a},E.shuffle=function(e){for(var t,n=N(e)?e:E.values(e),r=n.length,i=Array(r),a=0;r>a;a++)t=E.random(0,a),t!==a&&(i[a]=i[t]),i[t]=n[a];return i},E.sample=function(e,t,n){return null==t||n?(N(e)||(e=E.values(e)),e[E.random(e.length-1)]):E.shuffle(e).slice(0,Math.max(0,t))},E.sortBy=function(e,t,n){return t=x(t,n),E.pluck(E.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var F=function(e){return function(t,n,r){var i={};return n=x(n,r),E.each(t,function(r,a){var o=n(r,a,t);e(i,r,o)}),i}};E.groupBy=F(function(e,t,n){E.has(e,n)?e[n].push(t):e[n]=[t]}),E.indexBy=F(function(e,t,n){e[n]=t}),E.countBy=F(function(e,t,n){E.has(e,n)?e[n]++:e[n]=1}),E.toArray=function(e){return e?E.isArray(e)?m.call(e):N(e)?E.map(e,E.identity):E.values(e):[]},E.size=function(e){return null==e?0:N(e)?e.length:E.keys(e).length},E.partition=function(e,t,n){t=x(t,n);var r=[],i=[];return E.each(e,function(e,n,a){(t(e,n,a)?r:i).push(e)}),[r,i]},E.first=E.head=E.take=function(e,t,n){return null!=e?null==t||n?e[0]:E.initial(e,e.length-t):void 0},E.initial=function(e,t,n){return m.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},E.last=function(e,t,n){return null!=e?null==t||n?e[e.length-1]:E.rest(e,Math.max(0,e.length-t)):void 0},E.rest=E.tail=E.drop=function(e,t,n){return m.call(e,null==t||n?1:t)},E.compact=function(e){return E.filter(e,E.identity)};var M=function(e,t,n,r){for(var i=[],a=0,o=r||0,s=A(e);s>o;o++){var l=e[o];if(N(l)&&(E.isArray(l)||E.isArguments(l))){t||(l=M(l,t,n));var c=0,u=l.length;for(i.length+=u;u>c;)i[a++]=l[c++]}else n||(i[a++]=l)}return i};E.flatten=function(e,t){return M(e,t,!1)},E.without=function(e){return E.difference(e,m.call(arguments,1))},E.uniq=E.unique=function(e,t,n,r){E.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=x(n,r));for(var i=[],a=[],o=0,s=A(e);s>o;o++){var l=e[o],c=n?n(l,o,e):l;t?(o&&a===c||i.push(l),a=c):n?E.contains(a,c)||(a.push(c),i.push(l)):E.contains(i,l)||i.push(l)}return i},E.union=function(){return E.uniq(M(arguments,!0,!0))},E.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=A(e);i>r;r++){var a=e[r];if(!E.contains(t,a)){for(var o=1;n>o&&E.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},E.difference=function(e){var t=M(arguments,!0,!0,1);return E.filter(e,function(e){return!E.contains(t,e)})},E.zip=function(){return E.unzip(arguments)},E.unzip=function(e){for(var t=e&&E.max(e,A).length||0,n=Array(t),r=0;t>r;r++)n[r]=E.pluck(e,r);return n},E.object=function(e,t){for(var n={},r=0,i=A(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},E.findIndex=a(1),E.findLastIndex=a(-1),E.sortedIndex=function(e,t,n,r){n=x(n,r,1);for(var i=n(t),a=0,o=A(e);o>a;){var s=Math.floor((a+o)/2);n(e[s])<i?a=s+1:o=s}return a},E.indexOf=o(1,E.findIndex,E.sortedIndex),E.lastIndexOf=o(-1,E.findLastIndex),E.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;r>a;a++,e+=n)i[a]=e;return i};var L=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=S(e.prototype),o=e.apply(a,i);return E.isObject(o)?o:a};E.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,m.call(arguments,1));if(!E.isFunction(e))throw new TypeError("Bind must be called on a function");var n=m.call(arguments,2),r=function(){return L(e,r,t,this,n.concat(m.call(arguments)))};return r},E.partial=function(e){var t=m.call(arguments,1),n=function(){for(var r=0,i=t.length,a=Array(i),o=0;i>o;o++)a[o]=t[o]===E?arguments[r++]:t[o];for(;r<arguments.length;)a.push(arguments[r++]);return L(e,n,this,this,a)};return n},E.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=E.bind(e[n],e);return e},E.memoize=function(e,t){var n=function(r){var i=n.cache,a=""+(t?t.apply(this,arguments):r);return E.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},E.delay=function(e,t){var n=m.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},E.defer=E.partial(E.delay,E,1),E.throttle=function(e,t,n){var r,i,a,o=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:E.now(),o=null,a=e.apply(r,i),o||(r=i=null)};return function(){var c=E.now();s||n.leading!==!1||(s=c);var u=t-(c-s);return r=this,i=arguments,0>=u||u>t?(o&&(clearTimeout(o),o=null),s=c,a=e.apply(r,i),o||(r=i=null)):o||n.trailing===!1||(o=setTimeout(l,u)),a}},E.debounce=function(e,t,n){var r,i,a,o,s,l=function(){var c=E.now()-o;t>c&&c>=0?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(a,i),r||(a=i=null)))};return function(){a=this,i=arguments,o=E.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(a,i),a=i=null),s}},E.wrap=function(e,t){return E.partial(t,e)},E.negate=function(e){return function(){return!e.apply(this,arguments)}},E.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},E.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},E.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},E.once=E.partial(E.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];E.keys=function(e){if(!E.isObject(e))return[];if(b)return b(e);var t=[];for(var n in e)E.has(e,n)&&t.push(n);return D&&s(e,t),t},E.allKeys=function(e){if(!E.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&s(e,t),t},E.values=function(e){for(var t=E.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},E.mapObject=function(e,t,n){t=x(t,n);for(var r,i=E.keys(e),a=i.length,o={},s=0;a>s;s++)r=i[s],o[r]=t(e[r],r,e);return o},E.pairs=function(e){for(var t=E.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},E.invert=function(e){for(var t={},n=E.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},E.functions=E.methods=function(e){var t=[];for(var n in e)E.isFunction(e[n])&&t.push(n);return t.sort()},E.extend=C(E.allKeys),E.extendOwn=E.assign=C(E.keys),E.findKey=function(e,t,n){t=x(t,n);for(var r,i=E.keys(e),a=0,o=i.length;o>a;a++)if(r=i[a],t(e[r],r,e))return r},E.pick=function(e,t,n){var r,i,a={},o=e;if(null==o)return a;E.isFunction(t)?(i=E.allKeys(o),r=_(t,n)):(i=M(arguments,!1,!1,1),r=function(e,t,n){return t in n},o=Object(o));for(var s=0,l=i.length;l>s;s++){var c=i[s],u=o[c];r(u,c,o)&&(a[c]=u)}return a},E.omit=function(e,t,n){if(E.isFunction(t))t=E.negate(t);else{var r=E.map(M(arguments,!1,!1,1),String);t=function(e,t){return!E.contains(r,t)}}return E.pick(e,t,n)},E.defaults=C(E.allKeys,!0),E.create=function(e,t){var n=S(e);return t&&E.extendOwn(n,t),n},E.clone=function(e){return E.isObject(e)?E.isArray(e)?e.slice():E.extend({},e):e},E.tap=function(e,t){return t(e),e},E.isMatch=function(e,t){var n=E.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;r>a;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var I=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;
if(null==e||null==t)return e===t;e instanceof E&&(e=e._wrapped),t instanceof E&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(E.isFunction(o)&&o instanceof o&&E.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),a){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!I(e[l],t[l],n,r))return!1}else{var c,u=E.keys(e);if(l=u.length,E.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!E.has(t,c)||!I(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};E.isEqual=function(e,t){return I(e,t)},E.isEmpty=function(e){return null==e?!0:N(e)&&(E.isArray(e)||E.isString(e)||E.isArguments(e))?0===e.length:0===E.keys(e).length},E.isElement=function(e){return!(!e||1!==e.nodeType)},E.isArray=v||function(e){return"[object Array]"===f.call(e)},E.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},E.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){E["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),E.isArguments(arguments)||(E.isArguments=function(e){return E.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(E.isFunction=function(e){return"function"==typeof e||!1}),E.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},E.isNaN=function(e){return E.isNumber(e)&&e!==+e},E.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},E.isNull=function(e){return null===e},E.isUndefined=function(e){return void 0===e},E.has=function(e,t){return null!=e&&g.call(e,t)},E.noConflict=function(){return l._=c,this},E.identity=function(e){return e},E.constant=function(e){return function(){return e}},E.noop=function(){},E.property=T,E.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},E.matcher=E.matches=function(e){return e=E.extendOwn({},e),function(t){return E.isMatch(t,e)}},E.times=function(e,t,n){var r=Array(Math.max(0,e));t=_(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},E.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},E.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=E.invert(P),j=function(e){var t=function(t){return e[t]},n="(?:"+E.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};E.escape=j(P),E.unescape=j(B),E.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),E.isFunction(r)?r.call(e):r};var z=0;E.uniqueId=function(e){var t=++z+"";return e?e+t:t},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,W=function(e){return"\\"+$[e]};E.template=function(e,t,n){!t&&n&&(t=n),t=E.defaults({},t,E.templateSettings);var r=RegExp([(t.escape||U).source,(t.interpolate||U).source,(t.evaluate||U).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(r,function(t,n,r,o,s){return a+=e.slice(i,s).replace(H,W),i=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(s){throw s.source=a,s}var l=function(e){return o.call(this,e,E)},c=t.variable||"obj";return l.source="function("+c+"){\n"+a+"}",l},E.chain=function(e){var t=E(e);return t._chain=!0,t};var V=function(e,t){return e._chain?E(t).chain():t};E.mixin=function(e){E.each(E.functions(e),function(t){var n=E[t]=e[t];E.prototype[t]=function(){var e=[this._wrapped];return h.apply(e,arguments),V(this,n.apply(E,e))}})},E.mixin(E),E.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];E.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],V(this,n)}}),E.each(["concat","join","slice"],function(e){var t=u[e];E.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),E.prototype.value=function(){return this._wrapped},E.prototype.valueOf=E.prototype.toJSON=E.prototype.value,E.prototype.toString=function(){return""+this._wrapped},r=[],i=function(){return E}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(this)},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return React.createElement("a",{href:this.props.profileUrl,className:"user-card"},React.createElement("div",{className:"user-card__avatar-thumbnail"},React.createElement("img",{src:this.props.avatarThumbnailUrl})),React.createElement("div",{className:"user-card__display-name"},this.props.displayName))},t}(React.Component);t.UserCard=r},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){var t=this;e.apply(this,arguments),this.scrollListener=function(){$(window).scrollTop()+$(window).height()>=.9*$(document).height()&&t.props.onScroll()}}return n(t,e),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.scrollListener)},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.scrollListener)},t.prototype.render=function(){return React.createElement("div",null,this.props.children)},t}(React.Component);t.WindowInfiniteScroll=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(28),a=(n(4),function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.onClick=function(e,t){e.preventDefault(),t.action()},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"selection-group__wrapper"},React.createElement(i.OverflowX,null,React.createElement("ul",{className:"selection-group__items"},this.props.children?this.props.children.map(function(t,n){return t?React.createElement("li",{onClick:function(n){return e.onClick(n,t)},key:n,className:"selection-group__child selection-group__child--"+(t.key===(e.props.selected||(e.props.children?e.props.children[0].key:null))?"selected":"unselected")},t.separator?React.createElement("span",{className:"selection-group__separator"},"|"):React.createElement("a",{href:t.href,title:t.name},t.name)):null}):null)),this.props.filters?React.createElement("div",{className:"selection-group__filters"},this.props.filters):null)},t}(React.Component));t.SelectionGroup=a},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(t){var n=this;e.call(this,t),this.onResize=function(){var e=ReactDOM.findDOMNode(n.refs.overflowX);if(e){var t=e.clientWidth-1,r=e.clientWidth+1;n.setState({canScrollX:t>e.scrollWidth||r<e.scrollWidth})}},this.state={hasScrolledToBeginning:!0,hasScrolledToEnd:!1}}return n(t,e),t.prototype.componentWillMount=function(){window.addEventListener("resize",this.onResize,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},t.prototype.componentDidMount=function(){setTimeout(this.onResize)},t.prototype.onScroll=function(){var e=ReactDOM.findDOMNode(this.refs.overflowX),t=e.getBoundingClientRect().width;this.setState({hasScrolledToBeginning:0==e.scrollLeft,hasScrolledToEnd:t+e.scrollLeft==e.scrollWidth})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"overflow-x__wrapper"},React.createElement("div",{className:"overflow-x",ref:"overflowX",onScroll:function(){return e.onScroll()}},this.props.children,this.state.canScrollX&&!this.state.hasScrolledToBeginning?React.createElement("div",{className:"overflow-x__scroll-indicator--left"}):null,this.state.canScrollX&&!this.state.hasScrolledToEnd?React.createElement("div",{className:"overflow-x__scroll-indicator--right"}):null))},t}(React.Component);t.OverflowX=r},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};t.Breakpoints={mobileMax:480,tabletMin:481,tabletMax:768,desktopMin:769,desktopMax:1024,desktopLargeMin:1025};var r=function(e){function t(t){var n=this;e.call(this,t),this.onResize=function(){n.setState({windowWidth:window.innerWidth})},this.state={windowWidth:window.innerWidth}}return n(t,e),t.prototype.componentWillMount=function(){window.addEventListener("resize",this.onResize,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},t.prototype.componentDidMount=function(){this.onResize()},t.prototype.render=function(){var e,t=this.state.windowWidth;return e=this.props.maxWidth?t>=this.props.minWidth&&t<=this.props.maxWidth:t>=this.props.minWidth,e?this.props.children:null},t}(React.Component);t.MediaQuery=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(31),o=function(e){function t(){var t=this;e.apply(this,arguments),this.handleClick=function(e){!i(e.target).closest([".off-canvas--left",".off-canvas--right"]).length&&t.props.shouldShowOffCanvas&&t.props.closeButtonCallback()}}return r(t,e),t.prototype.componentWillMount=function(){window.addEventListener("touchstart",this.handleClick,!1),window.addEventListener("mousedown",this.handleClick,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("touchstart",this.handleClick,!1),window.removeEventListener("mousedown",this.handleClick,!1)},t.prototype.render=function(){var e={children:this.props.children,closeButtonCallback:this.props.closeButtonCallback,shouldShowOffCanvas:this.props.shouldShowOffCanvas,shouldUseCloseButton:this.props.shouldUseCloseButton,shouldUseRightSide:this.props.shouldUseRightSide};return React.createElement(a.OffCanvas,i.extend({},this.state,e))},t}(React.Component);t.OffCanvasContainer=o},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",{className:"off-canvas__wrapper"},this.props.shouldShowOffCanvas?React.createElement("div",{className:this.props.shouldUseRightSide?"off-canvas--right":"off-canvas--left"},this.props.children,this.props.shouldUseCloseButton?React.createElement("div",{className:"off-canvas__close-wrapper"},React.createElement("span",{className:"off-canvas__close",onClick:function(){return e.props.closeButtonCallback()}},React.createElement("span",{className:"fa fa-times-circle-o"}),React.createElement("span",{className:"off-canvas__close-text"},"Close"))):null):null)},t}(React.Component);t.OffCanvas=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(4),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){i(e.container).find("a:not(.block-link__anchor)").each(function(e,t){var n=i(t);"auto"===n.css("z-index")&&("static"===n.css("position")&&n.css("position","relative"),n.css("z-index","2"),n.css("pointer-events","auto"))})})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:a("block-link",this.props.className,this.props.borderless?null:"block-link--bordered"),ref:function(t){return e.container=t}},React.createElement("a",{className:"block-link__anchor",href:this.props.href}),this.props.children)},t}(React.Component);t.BlockLink=o},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return React.createElement("span",{className:"tooltip","data-tooltip":this.props.tipText,"data-tooltip-size":this.props.size},this.props.children)},t}(React.Component);t.ToolTip=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(33),a=37,o=function(e){function t(t){e.call(this,t),this.width=t.width||a,this.borderRadius=this.width/10,this.margin=this.width/20}return r(t,e),t.prototype.render=function(){return React.createElement(i.ToolTip,{tipText:this.props.displayName},React.createElement("a",{className:"avatar",href:this.props.userUrl,style:{width:this.width}},React.createElement("img",{className:"avatar__thumbnail",src:this.props.thumbnailUrl,alt:this.props.displayName,width:this.width,height:this.width,style:{borderRadius:this.borderRadius}}),this.props.tier?React.createElement("img",{className:"avatar__tier",src:"/static/images/avatier/avatier-"+this.props.tier+"@2x.png",style:{marginTop:this.margin},width:this.width}):null))},t}(React.Component);t.Avatar=o},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return React.createElement("span",{className:"badge badge--"+(this.props.option||"default")},this.props.icon&&React.createElement("i",{className:"badge__icon fa "+this.props.icon}),this.props.text)},t}(React.Component);t.Badge=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(37),o=n(39),s=n(57),l=n(58),c=n(59),u=n(60),d=n(71),p=n(1),h=n(5),m=n(72),f=n(24),g=n(2),v=(n(4),function(e){function t(t){var n=this;e.call(this,t),this.handleScroll=f.throttle(this.handleScrollInner,100).bind(this),this.handleUnhideScript=function(e){e.preventDefault(),n.state.isHidden&&g.ajax({url:n.props.toggleScriptIsHiddenUrl+"?isHidden=false",type:"POST",success:function(){n.setState({isHidden:!1})},error:function(e,t,n){alert("Sorry, an error occurred. Please reload the page.")}})},this.handleDiscussionUpdated=function(e){n.setState({discussionState:e})},this.state={activeTab:"",activePane:"",scriptVersionId:this.props.initialScriptVersionId,isHidden:this.props.scriptIsHidden,isLanguageTemplate:this.props.scriptIsLanguageTemplate,discussionState:u.InitializeDiscussionPaneEditingState(),savedDiscussionState:u.InitializeDiscussionPaneEditingState(),commentCache:[],codeShouldBeExpanded:!1},this.tabNamesFromUrls={},this.urlNamesFromTabs={},this.props.menuLinks.concat(this.props.rightMenuLinks).forEach(function(e){n.tabNamesFromUrls[e.href||e.tab]=e.text,n.urlNamesFromTabs[e.text]=e.href||e.tab}),this.enclosingElements=[],this.scriptStatus="new",window.location.pathname.slice(0,this.props.baseUrl.length)!==this.props.baseUrl&&history.replaceState({},"",this.props.baseUrl+(this.props.initialTab?"/"+this.props.initialTab:""))}return r(t,e),t.prototype.updateEnclosingElement=function(e,t){this.enclosingElements[t]=e},t.prototype.shouldComponentUpdate=function(e,t){return this.state.activeTab!==t.activeTab||this.state.activePane!==t.activePane?!0:this.state.isHidden!==t.isHidden?!0:this.state.isLanguageTemplate!==t.isLanguageTemplate?!0:!1},t.prototype.hasReportPane=function(){return 1===this.props.menuLinks.filter(function(e){return"Report"===e.text}).length},t.prototype.hasNotebookPane=function(){return 1===this.props.menuLinks.filter(function(e){return"Notebook"===e.text}).length},t.prototype.hasImages=function(){return this.props.outputFiles.length>0&&this.props.outputFiles.some(function(e){return[".png",".jpg",".jpeg",".gif"].indexOf(e.fileType)>-1})},t.prototype.activateDefaultTab=function(){var e;e=this.hasReportPane()?"Report":this.hasNotebookPane()?"Notebook":this.hasImages()||"SQLite"===this.props.languageName&&!this.props.scriptVersionHasError?"Output":"Code",this.setState({activeTab:e,activePane:e})},t.prototype.componentWillMount=function(){var e=this;if(this.props.initialTab in this.tabNamesFromUrls){var t=this.tabNamesFromUrls[this.props.initialTab],n=location.hash;this.updateUrlForTab(this.props.initialTab),n&&(location.hash=n),this.setState({activeTab:t,activePane:t,codeShouldBeExpanded:"Code"===t},function(){"Output"===t&&e.shouldUseCodeOutputCommentsView()&&e.scrollToActiveTab()})}else this.activateDefaultTab();this.props.currentScriptVersionIsBusy&&this.pollScriptStatusAndRefreshWhenReady()},t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.handleScroll),window.Intercom("trackEvent","view_script")},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll)},t.prototype.pollScriptStatusAndRefreshWhenReady=function(){var e=this;this.scriptStatus&&"cancelacknowledged"!==this.scriptStatus&&g.ajax({url:this.props.statusCallbackUrl+"&existingStatus="+this.scriptStatus,success:function(t){e.scriptStatus=t.status,"complete"===t.status||"error"===t.status?location.reload(!0):e.pollScriptStatusAndRefreshWhenReady()}})},t.prototype.handleScrollInner=function(e){var t=this;if(-1!==["Code","Output","Comments","Notebook","Report"].indexOf(this.state.activeTab)){var n=g(document).scrollTop()+.15*g(window).height(),r=function(e){t.state.activeTab!==e&&(t.updateUrlForTab(e.toLowerCase()),t.setState({activeTab:e}))};n>this.getTabScrollTop("Comments")?r("Comments"):n>this.getTabScrollTop("Output")?r("Output"):n>this.getTabScrollTop("Code")?r("Code"):n>this.getTabScrollTop("Notebook")?r("Notebook"):n>this.getTabScrollTop("Code")&&r("Report")}},t.prototype.updateUrlForTab=function(e){history.replaceState({},"",this.props.baseUrl+"/"+e)},t.prototype.onActiveTabChange=function(e){var t=this;if(e!==this.state.activeTab||e!==this.state.activePane){var n=this.urlNamesFromTabs[e];this.updateUrlForTab(n);var r=this.scrollToActiveTab;"Comments"===e&&(r=function(){t.scrollToActiveTab(0)}),this.setState({activeTab:e,activePane:e,codeShouldBeExpanded:"Code"===e,savedDiscussionState:this.state.discussionState},r)}},t.prototype.getTabScrollTop=function(e){if(!(e in this.enclosingElements)||null==this.enclosingElements[e])return 1/0;var t=this.enclosingElements[e],n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,a=r.clientTop||n.clientTop||0;return Math.round(t.getBoundingClientRect().top+i-a)},t.prototype.scrollToActiveTab=function(e){void 0===e&&(e=300);var t=0,n=g(".pageheader__top--safe"),r=n.offset().top+n.height(),i=42,a=20,o=32*((this.state.isHidden?1:0)+this.props.pageMessages.length);if(this.shouldUseCodeOutputCommentsView()&&-1!==["Code","Output"].indexOf(this.state.activeTab)){var s=this.getTabScrollTop(this.state.activeTab);t=s-i-a-o}else{var l=g(document).scrollTop();l>r&&(t=r+1)}t>0&&(e>0?g("html, body").animate({scrollTop:t},e):g("html, body").scrollTop(t))},t.prototype.renderCodeTab=function(){var e=this,t=!this.state.codeShouldBeExpanded;return this.shouldUseCodeOutputCommentsView()&&!this.hasOutputTab()&&(t=!1),React.createElement("div",null,React.createElement(o.ScriptCodePaneContainer,{codeContents:this.props.code,languageName:this.props.languageName,isNotebook:this.props.isNotebook,setEnclosingElement:function(t){return e.updateEnclosingElement(t,"Code")},allowToggle:this.shouldUseCodeOutputCommentsView(),scriptVersionId:this.state.scriptVersionId,startMinimized:t,onPaneExpanded:function(){e.setState({activeTab:"Code"})},submission:this.props.submission,runInfo:this.props.runInfo}),this.shouldUseCodeOutputCommentsView()?null:this.renderCommentsTab())},t.prototype.hasOutputTab=function(){return this.props.outputFiles.length>0},t.prototype.renderOutputTab=function(){var e=this;return this.hasOutputTab()?React.createElement("div",null,this.hasImages()?React.createElement(h.ContentBox,{title:"Visualizations",contentClassName:"script-viewer__visualizations"},this.props.outputFiles.map(function(e){return[".png",".jpg",".jpeg",".gif"].indexOf(e.fileType)>-1?React.createElement("img",{src:e.fileUrl}):null})):null,!this.hasImages()||this.props.outputFiles.length>1?React.createElement(l.ScriptFilesPaneContainer,{fileListItems:this.props.outputFiles,downloadAllFilesUrl:this.props.downloadAllFilesUrl,showSubmitToCompButtons:this.props.showSubmitToCompButtons,submitToCompUrl:this.props.submitToCompUrl,scriptVersionId:this.props.scriptVersionId,competitionName:this.props.competitionName,setEnclosingElement:function(t){return e.updateEnclosingElement(t,"Output")}}):null,this.shouldUseCodeOutputCommentsView()?null:this.renderCommentsTab()):null},t.prototype.renderCommentsTab=function(){var e=this;return React.createElement(u.ScriptDiscussionPaneContainer,{getUrl:this.props.getCommentsUrl,postUrl:this.props.postCommentUrl,scriptId:this.props.scriptId,showAdmin:this.props.isAdmin,scriptIsHidden:this.state.isHidden,initialState:this.state.savedDiscussionState,onStateUpdated:this.handleDiscussionUpdated,preloadedComments:this.state.commentCache,sanitizeHtml:this.props.sanitizeHtml,setEnclosingElement:function(t){return e.updateEnclosingElement(t,"Comments")}})},t.prototype.renderCodeOutputCommentsView=function(){return React.createElement("div",null,this.renderCodeTab(),this.renderOutputTab(),this.renderCommentsTab())},t.prototype.shouldUseCodeOutputCommentsView=function(){return!this.props.isNotebook},t.prototype.renderActivePane=function(){var e=this;switch(this.state.activePane){case"Log":return React.createElement(a.ScriptLogPaneContainer,{logContents:this.props.log,runInfo:this.props.runInfo});case"Code":return this.shouldUseCodeOutputCommentsView()?this.renderCodeOutputCommentsView():this.renderCodeTab();case"Report":return null;case"Notebook":return null;case"Output":return this.shouldUseCodeOutputCommentsView()?this.renderCodeOutputCommentsView():this.renderOutputTab();case"Forks":return this.props.hasForks?React.createElement(p.ScriptList,{listTitle:"Forked Kernels",languagesMetadataUrl:null,loginAndReturnUrl:null,newScriptUrl:null,outputTypesMetadataUrl:null,newNotebookUrl:null,showFilters:!1,showScriptProjectName:!1,sourceBaseUrl:this.props.forksBaseUrl.slice(0,this.props.forksBaseUrl.length-1)}):null;case"Versions":return React.createElement(c.ScriptVersionsPane,{versionHistory:this.props.versionHistory});case"Comments":return this.renderCommentsTab();case"Options":return React.createElement(d.ScriptOptionsPaneContainer,{scriptIsInitiallyHidden:this.state.isHidden,toggleScriptIsHiddenUrl:this.props.toggleScriptIsHiddenUrl,showAdmin:this.props.isAdmin,toggleScriptLanguageTemplateUrl:this.props.toggleScriptLanguageTemplateUrl,scriptIsInitiallyLanguageTemplate:this.state.isLanguageTemplate,rerunScriptUrl:this.props.rerunScriptUrl,onScriptHiddenStateChange:function(t){return e.setState({isHidden:t})},onScriptLanguageTemplateChange:function(t){return e.setState({isLanguageTemplate:t})}});default:return React.createElement("div",null,"Sorry, an error has occurred.")}},t.prototype.renderNotebookPane=function(){if(!this.hasReportPane()&&!this.hasNotebookPane())return null;var e=this.state.activePane===(this.hasReportPane()?"Report":"Notebook");return React.createElement("div",null,React.createElement(s.ScriptNotebookPaneContainer,{iframeUrl:this.props.htmlOutputFileUrl,displayIframe:e,isNotebook:this.hasNotebookPane()}),e?this.renderCommentsTab():null)},t.prototype.render=function(){var e=this.props.pageMessages,t=this.props.callToAction;return this.state.isHidden&&(e=e.concat([{type:"info",message:this.props.userCanEditScript?"You have hidden this script from lists and searches, but is still accessible via URL. Unhide it by deselecting Hide Script on the Options tab.":"The user has hidden this script, meaning they prefer not to have it shared more broadly."}]),this.props.userCanEditScript&&(t={href:this.props.baseUrl,text:"Unhide Script",title:"Unhide Script",actionCallback:this.handleUnhideScript})),this.props.datasetHidden&&(e=e.concat([{type:"info",message:"The dataset used for this script is no longer available."}])),React.createElement("div",{className:"script-viewer"},React.createElement("div",{className:"script-viewer__header-background"}),React.createElement("div",{className:"script-viewer__container"},React.createElement(m.KernelHeader,i({},g.extend(this.props,this.state),{activeTab:this.state.activeTab,callToAction:t,isHidden:this.state.isHidden,onActiveTabChange:this.onActiveTabChange.bind(this),pageMessages:e})),React.createElement("div",{className:"script-viewer__pane-container"},this.renderActivePane(),this.renderNotebookPane())))},t}(React.Component));t.ScriptViewerApp=v},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(5),o=n(38),s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props.time?Math.round(10*+this.props.time)/10:null;if(""===this.props.time&&""===this.props.data)return React.createElement("div",{className:"script-log-pane__line"},React.createElement("span",{className:"script-log-pane__empty-message"},"No output was generated."));var t="script-log-pane__data-column";return"stderr"===this.props.stream_name||"failure"===this.props.status?t+="--stderr":"success"===this.props.status&&(t+="--success"),React.createElement("div",{className:"script-log-pane__line"},React.createElement("span",{className:"script-log-pane__time-column"},e,e&&"s"),React.createElement("span",{className:"script-log-pane__line-no-column"},this.props.lineNo),React.createElement("span",{className:t},this.props.data))},t}(React.Component);t.ScriptLogPaneLine=s;var l=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.downloadUrl=function(){var e=this.props.logLineData.map(function(e){return e.data}).join("\n");return"data:text/plain;charset=utf-8,"+encodeURIComponent(e)},t.prototype.renderStatus=function(){var e=React.createElement(s,{key:"scriptlogpane-emtpy",lineNo:this.props.logLineData.length+1,stream_name:"stdout",time:this.props.logLineData.slice(-1)[0].time,data:""}),t=0===this.props.exitCode?"Complete. Exited with code 0.":"Failed. Exited with code "+this.props.exitCode+".";return"number"==typeof this.props.exitCode?React.createElement("div",null,e,React.createElement(s,{key:"scriptlogpane-status",status:0===this.props.exitCode?"success":"failure",lineNo:this.props.logLineData.length+2,stream_name:"stdout",time:this.props.logLineData.slice(-1)[0].time,data:t})):null},t.prototype.renderHeader=function(){return React.createElement("div",{className:"script-log-pane__line"},React.createElement("span",{className:"script-log-pane__time-column script-log-pane__time-column--header"},"Time"),React.createElement("span",{className:"script-log-pane__line-no-column script-log-pane__line-no-column--header"},"Line #"),React.createElement("span",{className:"script-log-pane__data-column script-log-pane__data-column--header"},"Log Message"))},t.prototype.renderLines=function(){var e=this.props.logLineData.length>0&&this.props.logLineData[0].data;return React.createElement("div",null,e&&this.renderHeader(),this.props.logLineData.map(function(e,t){return React.createElement(s,i({key:"scriptlogpane-"+t,lineNo:t},e))}),e&&this.renderStatus())},t.prototype.render=function(){var e=React.createElement("div",{className:"script-code-pane__right-section"},React.createElement("a",{href:this.downloadUrl(),className:"script-code-pane__download",download:"log.txt"},"Download Log"));return this.props.withContentBox===!1?this.renderLines():React.createElement(a.ContentBox,{title:"Log",titleBarRightSide:e},React.createElement("div",{className:"script-log-pane__log"},this.renderLines()))},t}(React.Component);t.ScriptLogSection=l;var c=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.renderScriptInfo=function(){return React.createElement("div",{className:"script-log-pane__run-info"},React.createElement("div",{className:"script-log-pane__run-info-top"},React.createElement("div",{className:"script-log-pane__run-info-column"},React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Succeeded"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.succeeded?"True":"False")),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Exit Code"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.exitCode)),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Docker Image Name"),React.createElement("div",{className:"script-log-pane__run-info-right"},React.createElement("a",{href:this.props.dockerHubUrl},this.props.dockerImageName)," (",React.createElement("a",{href:this.props.dockerfileUrl},"Dockerfile"),")")),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Timeout Exceeded"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.timeoutExceeded?"True":"False"))),React.createElement("div",{className:"script-log-pane__run-info-column"},React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Run Time"),React.createElement("div",{className:"script-log-pane__run-info-right"},Math.round(10*this.props.runTimeSeconds)/10," seconds")),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Queue Time"),React.createElement("div",{className:"script-log-pane__run-info-right"
},Math.round(10*this.props.queuedSeconds)/10," seconds")),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Output Size"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.outputSizeBytes&&o(this.props.outputSizeBytes))),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Used All Space"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.usedAllSpace?"True":"False")))),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Failure Message"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.failureMessage)))},t.prototype.render=function(){return this.props.withContentBox===!1?this.renderScriptInfo():React.createElement(a.ContentBox,{title:"Run Info"},this.renderScriptInfo())},t}(React.Component);t.ScriptRunInfoSection=c;var u=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.getLoglineData=function(){var e=[{time:"",stream_name:"stdout",lineNo:0,data:""}];try{e=JSON.parse(this.props.logContents)}catch(t){try{e=JSON.parse("["+this.props.logContents)}catch(t){if(console.warn("Error in log parsing"),""!==this.props.logContents){var n=this.props.logContents.split("\n");e=n.map(function(e,t){return{time:null,stream_name:"stdout",lineNo:t+1,data:e}})}}}return e.forEach(function(e,t){return e.lineNo=t+1}),e},t.prototype.render=function(){var e=this.getLoglineData();return React.createElement("div",{className:"script-log-pane"},React.createElement(c,i({},this.props.runInfo)),React.createElement(l,{logLineData:e,exitCode:this.props.runInfo.exitCode}))},t}(React.Component);t.ScriptLogPaneContainer=u},function(e,t,n){(function(t){"use strict";/**
	 * filesize
	 *
	 * @copyright 2016 Jason Mulligan <jason.mulligan@avoidwork.com>
	 * @license BSD-3-Clause
	 * @version 3.2.1
	 */
!function(t){function n(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=[],a=0,o=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,p=void 0,h=void 0,m=void 0,f=void 0,g=void 0;if(isNaN(e))throw new Error("Invalid arguments");return l=t.bits===!0,m=t.unix===!0,s=t.base||2,h=void 0!==t.round?t.round:m?1:2,f=void 0!==t.spacer?t.spacer:m?"":" ",g=t.symbols||t.suffixes||{},p=t.output||"string",o=void 0!==t.exponent?t.exponent:-1,d=Number(e),u=0>d,c=s>2?1e3:1024,u&&(d=-d),0===d?(n[0]=0,n[1]=m?"":l?"b":"B"):((-1===o||isNaN(o))&&(o=Math.floor(Math.log(d)/Math.log(c)),0>o&&(o=0)),o>8&&(o=8),a=2===s?d/Math.pow(2,10*o):d/Math.pow(1e3,o),l&&(a=8*a,a>c&&8>o&&(a/=c,o++)),n[0]=Number(a.toFixed(o>0?h:0)),n[1]=10===s&&1===o?l?"kb":"kB":i[l?"bits":"bytes"][o],m&&(n[1]=n[1].charAt(0),r.test(n[1])&&(n[0]=Math.floor(n[0]),n[1]=""))),u&&(n[0]=-n[0]),n[1]=g[n[1]]||n[1],"array"===p?n:"exponent"===p?o:"object"===p?{value:n[0],suffix:n[1],symbol:n[1]}:n.join(f)}var r=/^(b|B)$/,i={bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]};e.exports=n}("undefined"!=typeof window?window:t)}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=n(40),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this,t=null;return this.props.allowToggle&&(t=React.createElement("div",{className:"script-code-pane__show-more-toggle-container"},React.createElement("div",{className:"script-code-pane__show-more-toggle"},React.createElement("a",{href:"",onClick:function(t){return e.props.handleToggleMinimizedClick(t)}},"show",this.props.isMinimized?" more":" less")))),React.createElement("div",{className:"script-code-pane"},React.createElement("div",{className:"script-code-pane__contents"+(this.props.isMinimized?" script-code-pane__contents--minimized":"")},React.createElement("pre",{className:"line-numbers"},React.createElement("code",{className:this.props.prismLanguageClassName},this.props.codeContents))),t)},t}(React.Component);t.ScriptCodePane=o;var s=function(e){function t(t){var n=this;e.call(this,t),this.showMoreOrLess=function(e){e.preventDefault(),n.state.isMinimized&&n.props.onPaneExpanded(),n.setState({isMinimized:!n.state.isMinimized})};var r=this.parseUrlHash(),i=this.props.codeContents.split("\n").length;this.shouldShowToggle=this.props.allowToggle&&i>10,this.state={downloadUrl:"",highlightStart:r[0],highlightEnd:r[1],isMinimized:this.shouldShowToggle&&null===r[0]&&this.props.startMinimized}}return r(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.downloadUrl!==this.state.downloadUrl||t.isMinimized!==this.state.isMinimized},t.prototype.componentDidMount=function(){var e=this;setTimeout(this.renderPrism()),$.ajax({url:"/kernels/sourceurl/"+this.props.scriptVersionId,success:function(t){e.setState({downloadUrl:t})}})},t.prototype.scrollToLineNumber=function(e){var t=Math.max(0,e-4),n=$('*[data-linenumber="'+t+'"]');n.length&&$("html, body").animate({scrollTop:n.offset().top},250)},t.prototype.renderPrism=function(){var e=this;Prism.highlightAll(!0,function(){$(".line-number-inner-span").click(function(t){var n=t.target.getAttribute("data-linenumber");e.handleLineNumberClick(n,t.shiftKey),t.preventDefault()}),e.updateLineHighlights();var t=e.parseUrlHash()[0];t&&e.scrollToLineNumber(+t)})},t.prototype.handleLineNumberClick=function(e,t){if(t&&this.state.highlightStart){var n=+e,r=+this.state.highlightStart,i=this.state.highlightEnd||this.state.highlightStart;r>n?this.setState({highlightStart:e,highlightEnd:i}):this.setState({highlightEnd:e})}else this.setState({highlightStart:e,highlightEnd:null});Prism.clearLineHighlights(),this.updateLineHighlights(),this.updateUrlHash()},t.prototype.parseUrlHash=function(){var e=location.hash.slice(1);if(!e)return[null,null];var t=e.match(/^L([0-9]+)$|^L([0-9]+)\-L([0-9]+)$/);return t?t[1]?[t[1],null]:[t[2],t[3]]:[null,null]},t.prototype.updateUrlHash=function(){if(this.state.highlightStart){var e="L"+this.state.highlightStart;this.state.highlightEnd&&(e+="-L"+this.state.highlightEnd),location.hash=e}},t.prototype.updateLineHighlights=function(){this.state.highlightStart?Prism.highlightLines($("pre")[0],this.state.highlightStart,this.state.highlightEnd):Prism.clearLineHighlights()},t.prototype.prismName=function(){if(this.props.isNotebook)return"language-json";switch(this.props.languageName){case"Python":return"language-python";case"Julia":return"language-julia";case"R":return"language-r";case"RMarkdown":return"language-r";case"SQLite":return"language-sql"}return""},t.prototype.renderSubmissionInfo=function(){var e=this.props.submission,t=e.date,n=e.teamName,r=e.privateScore,o=e.publicScore;return React.createElement("div",{className:"script-code-pane__submission"},React.createElement("div",{className:"script-code-pane__submission-info-wrapper"},React.createElement(i.ContentBox,null,React.createElement("div",{className:"script-code-pane__submission-info-content"},React.createElement("div",null,React.createElement("div",{className:"script-code-pane__submission-header"},"Submission"),React.createElement("div",null,this.props.runInfo.succeeded?React.createElement("div",{className:"script-code-pane__submission-status--success"},React.createElement("i",{className:"fa fa-check"})," Ran successfully"):React.createElement("div",{className:"script-code-pane__submission-status--failure"},React.createElement("i",{className:"fa fa-times"})," Script run unsuccessful")),React.createElement("div",null,"Submitted by ",n," ",React.createElement(a.TimeAgo,{time:t})))))),React.createElement("div",{className:"script-code-pane__submission-score-wrapper"},React.createElement(i.ContentBox,null,React.createElement("div",{className:"script-code-pane__submission-score-content"},r&&React.createElement("div",{className:"script-code-pane__submission-score-private"},React.createElement("div",{className:"script-code-pane__submission-score-label"},"Private Score"),React.createElement("div",{className:"script-code-pane__submission-score-value"},r)),React.createElement("div",{className:"script-code-pane__submission-score-public"},React.createElement("div",{className:"script-code-pane__submission-score-label"},"Public Score"),React.createElement("div",{className:"script-code-pane__submission-score-value"},o||"No score"))))))},t.prototype.render=function(){var e=this,t=React.createElement("div",{className:"script-code-pane__right-section"},React.createElement(a.MediaQuery,{minWidth:a.Breakpoints.desktopMin},React.createElement("div",{className:"script-code-pane__subtitle"},"This script has been released under the ",React.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0")," open source license.")),React.createElement(a.MediaQuery,{minWidth:0,maxWidth:a.Breakpoints.tabletMax},React.createElement("div",{className:"script-code-pane__subtitle"},"Licensed under ",React.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0"))),React.createElement(a.MediaQuery,{minWidth:a.Breakpoints.tabletMin},React.createElement("a",{href:this.state.downloadUrl,className:"script-code-pane__download"},"Download Code")));return React.createElement("div",{ref:function(t){return e.props.setEnclosingElement(t)}},this.props.submission&&this.renderSubmissionInfo(),React.createElement(i.ContentBox,{title:"Code",titleBarRightSide:t},React.createElement(o,{codeContents:this.props.codeContents,prismLanguageClassName:this.prismName(),downloadUrl:this.state.downloadUrl,isMinimized:this.state.isMinimized,allowToggle:this.shouldShowToggle,handleToggleMinimizedClick:this.props.allowToggle?this.showMoreOrLess:null})))},t}(React.Component);t.ScriptCodePaneContainer=s},function(e,t,n){"use strict";var r=n(5);t.ContentBox=r.ContentBox,t.CollapsibleContentBox=r.CollapsibleContentBox;var i=n(41);t.Button=i.Button;var a=n(6);t.Current=a.Current;var o=n(42);t.PageMessages=o.PageMessages;var s=n(7);t.TimeAgo=s.TimeAgo;var l=n(43);t.InlineTextEditor=l.InlineTextEditor;var c=n(28);t.OverflowX=c.OverflowX;var u=n(29);t.Breakpoints=u.Breakpoints,t.MediaQuery=u.MediaQuery;var d=n(13);t.SelectBox=d.SelectBox;var p=n(44);t.SmartListContainer=p.SmartListContainer;var h=n(46);t.CompetitionCard=h.CompetitionCard;var m=n(47);t.Pluralize=m.Pluralize;var f=n(12);t.Banner=f.Banner;var g=n(49);t.FilePreviewList=g.FilePreviewList;var v=n(51);t.PageHeader=v.PageHeader,t.PageHeaderNav=v.PageHeaderNav,t.PageHeaderBottomRow=v.PageHeaderBottomRow;var b=n(53);t.OrganizationCard=b.OrganizationCard;var y=n(33);t.ToolTip=y.ToolTip;var w=n(54);t.Timer=w.Timer;var k=n(55);t.Modal=k.Modal;var E=n(56);t.Confirm=E.Confirm;var _=n(50);t.ButtonRoundEdged=_.ButtonRoundEdged},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),a=function(e){function t(t){e.call(this,t)}return r(t,e),t.prototype.render=function(){var e=this;return React.createElement("a",{href:this.props.href,className:i("button__anchor-wrapper",this.props.containerClassNames?this.props.containerClassNames:null,this.props.isSmall?"button__anchor-wrapper--small":null),onClick:this.props.isDisabled?null:function(t){return e.props.onClick(t)},target:this.props.target},React.createElement("div",{className:i("button",this.props.classNames?this.props.classNames:null,this.props.toggleable?"button--toggleable":null,this.props.isSmall?"button--small":null,this.props.toggleable&&!this.props.toggled?"button--inactive":null,this.props.isDisabled?"button--disabled":null)},React.createElement("span",null,this.props.text)))},t}(React.Component);t.Button=a;var o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this;return React.createElement("a",{className:i("action-button",this.props.classNames),disabled:this.props.isDisabled,href:this.props.href,onClick:this.props.isDisabled||!this.props.onClick?null:function(t){return e.props.onClick(t)},target:this.props.target},this.props.text)},t}(React.Component);t.ActionButton=o},function(e,t,n){"use strict";var r=n(24),i=function(){function e(){}return e.error=function(e,t){this.pushAndNotifyListeners("error",e,t)},e.info=function(e,t){this.pushAndNotifyListeners("info",e,t)},e.warning=function(e,t){this.pushAndNotifyListeners("warning",e,t)},e.success=function(e,t){this.pushAndNotifyListeners("success",e,t)},e.site=function(e,t){this.pushAndNotifyListeners("site",e,t)},e.clear=function(){this.messages=this.messages.filter(function(e){return e.isPersistent}),this.notifyListeners()},e.set=function(e){this.clear(),this.add(e),this.notifyListeners()},e.add=function(e){e&&(this.messages=this.messages.concat(e),this.notifyListeners())},e.remove=function(e){this.messages=this.messages.filter(function(t){return t.id!==e}),this.notifyListeners()},e.addListener=function(e){this.listeners.push(e),this.notifyListeners()},e.removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.pushAndNotifyListeners=function(e,t,n){n&&n.clear&&this.clear(),t&&(this.messages.push("string"==typeof t?{type:e,message:t,faIcon:n&&n.faIcon}:r.extend(t,{type:e})),this.notifyListeners())},e.notifyListeners=function(){for(var e=0,t=this.listeners;e<t.length;e++){var n=t[e];n(this.messages)}},e.messages=window.Kaggle.PageMessages||[],e.listeners=[],e}();t.PageMessages=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),a=function(e){function t(t){var n=this;e.call(this,t),this.handleKeyPress=function(e){if(n.props.rejectedCharacterRegExp){var t=String.fromCharCode(e.which);t.match(n.props.rejectedCharacterRegExp)&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())}},this.state={content:this.props.value?this.props.value:""}}return r(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState($.extend({},{content:e.value||""}))},t.prototype.handleChange=function(e){var t=this;this.setState({content:e.target.value},function(){t.props.onChangeCallback(t.state.content)})},t.prototype.render=function(){var e=this;return React.createElement("input",{className:i(this.props.className),value:this.state.content,placeholder:this.props.placeholder,onChange:function(t){return e.handleChange(t)},onFocus:this.props.onGainFocusCallback||null,onBlur:this.props.onLoseFocusCallback||null,onKeyPress:this.handleKeyPress})},t}(React.Component);t.InlineTextEditor=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(45);t.DEFAULT_PAGE_SIZE=20;var o=function(e){function n(t){var n=this;e.call(this,t),this.onSearchKeyPress=function(e){"Enter"===e.key&&n.setValueState({search:e.target.value},!0)},this.onFilterChanged=function(e,t){var r={};r[e]=t,n.setValueState(r,!0)},this.onWindowPopState=function(e){if(e.state)n.setValueState(e.state,!1);else{var t=n.getDefaultState();n.setValueState(t.values,!1)}},this.updateOpenMobileSort=function(e){n.setState({openMobileSort:e})},this.state=this.getDefaultState()}return r(n,e),n.prototype.componentDidUpdate=function(){this.props.onDidUpdate&&this.props.onDidUpdate()},n.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},n.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},n.prototype.componentDidMount=function(){this.props.data?this.setData(this.props.data):this.getData()},n.prototype.componentWillReceiveProps=function(e){e.data&&this.setData(e.data)},n.prototype.getDefaultState=function(){var e=i.extend(!0,{sortBy:this.props.sortOptions?this.props.sortOptions[0].value:null,group:this.props.groups?this.props.groups[0].value:null,page:1},this.props.values);return{isLoadingMoreData:!0,hasMoreData:!0,list:[],onScroll:this.onScroll.bind(this),onSortByChanged:this.onSortByChanged.bind(this),boundSelectionGroups:this.getBoundSelectionGroups.bind(this),pageSize:this.props.pageSize||t.DEFAULT_PAGE_SIZE,values:e}},n.prototype.getBoundSelectionGroups=function(){var e=this;return this.props.groups?this.props.groups.map(function(t){return t.separator?{separator:!0}:{key:t.value,name:t.label,href:"?sortBy="+e.state.values.sortBy+"&group="+t.value,action:function(){return e.onSelectionGroupChanged(t.value)}}}):null},n.prototype.getQueryStringParameters=function(){var e={};for(var t in this.state.values){var n=this.state.values[t];n&&(e[t]=n)}return i.param(e)},n.prototype.getData=function(){return this.setState({isLoadingMoreData:!0}),this.currentDataRequest&&4!==this.currentDataRequest.readyState&&this.currentDataRequest.abort(),this.currentDataRequest=i.ajax({url:this.props.dataUrl+"?"+this.getQueryStringParameters(),method:"GET",success:this.setData.bind(this)}),this.currentDataRequest},n.prototype.setData=function(e){var t=e;if(this.props.dataPathToList)for(var n=0,r=this.props.dataPathToList.split(".");n<r.length;n++){var i=r[n];t=t[i]}var a=t,o=this.state.list.concat(t);a&&this.setState({isLoadingMoreData:!1,hasMoreData:a.length>0,hasLoadedSomeData:o.length>0,list:o,data:e,children:o.map(this.props.itemRenderer)})},n.prototype.setValueState=function(e,t){var n=this;this.setState({values:this.mergeValues(e)},function(){return n.onSelectionsChanged(t)})},n.prototype.mergeValues=function(e){return i.extend(!0,this.state.values,e)},n.prototype.onSelectionGroupChanged=function(e){this.setValueState({group:e},!0)},n.prototype.onSortByChanged=function(e){this.setValueState({sortBy:e},!0)},n.prototype.onSelectionsChanged=function(e){var t=this;this.props.onSelectionsChanged&&this.props.onSelectionsChanged(this.state.values.sortBy,this.state.values.group);var n=this.refs.container;n.style.minHeight=i(n).height()+"px",this.setState({openMobileSort:!1,isLoadingMoreData:!0,hasMoreData:!0,hasLoadedSomeData:!1,list:[],children:[],values:this.mergeValues({page:1})},function(){var r=window.location.pathname+"?"+t.getQueryStringParameters();t.getData().then(function(){e&&window.history.pushState(t.state.values,null,r),n.style.minHeight="initial"})})},n.prototype.onScroll=function(){var e=this;this.state.isLoadingMoreData||!this.state.hasMoreData||0!=this.state.list.length&&this.state.list.length<this.state.pageSize||this.setState({isLoadingMoreData:!0,values:this.mergeValues({page:this.state.values.page+1})},function(){e.getData()})},n.prototype.render=function(){var e={updateOpenMobileSort:this.updateOpenMobileSort,onFilterChanged:this.onFilterChanged,onSearchKeyPress:this.onSearchKeyPress};return this.props.isHidden?null:React.createElement("div",{ref:"container"},React.createElement(a.SmartList,i.extend({},this.props,this.state,e)))},n}(React.Component);t.SmartListContainer=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=n(13),o=n(26),s=n(27),l=n(29),c=n(30),u=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.renderTitle=function(){return this.props.selectionGroupInTitle?this.renderSelectionGroups():this.props.title||(this.props.titleResolver?this.props.titleResolver(this.props.list,this.props):null)},t.prototype.renderSelectionGroups=function(){return this.props.groups?React.createElement(s.SelectionGroup,{children:this.props.boundSelectionGroups(),selected:this.props.values.group,filters:this.renderFiltersAndSearch()}):null},t.prototype.renderFilter=function(e,t,n){var r=this;return React.createElement(a.SelectBox,{key:t,options:e.options,onChange:function(t){return r.props.onFilterChanged(e.parameter,t)},searchable:!1,value:(this.props.values[e.parameter]||"").toLowerCase(),placeholder:e.placeholder,className:(n?"KaggleBoxlessSelectSafe":null)+" smart-list__filter smart-list__filter--"+(n?"boxless":"boxed")})},t.prototype.renderSearch=function(e){return this.props.hasSearch?React.createElement("label",{className:"smart-list__search-wrapper smart-list__search-wrapper--"+e},React.createElement("input",{type:"text",className:"smart-list__search smart-list__search--"+e,ref:"search",defaultValue:this.props.values.search,onKeyPress:this.props.onSearchKeyPress})):null},t.prototype.renderFiltersAndSearch=function(){var e=this,t=this.props.filtersOptions?this.props.filtersOptions.map(function(t,n){return e.renderFilter(t,n,!0)}):null;return React.createElement(l.MediaQuery,{minWidth:this.props.mobileSortUpperBound+1},React.createElement("div",{className:"smart-list__sub-title-right"},t,this.renderSearch("sub-title-bar")))},t.prototype.renderSortBy=function(){var e=this;return this.props.sortOptions?React.createElement("div",null,React.createElement(l.MediaQuery,{minWidth:this.props.mobileSortUpperBound+1},React.createElement("div",{className:"smart-list__sort"},React.createElement("p",{className:"smart-list__sort-label"},"Sort By"),React.createElement(a.SelectBox,{options:this.props.sortOptions,onChange:this.props.onSortByChanged,searchable:!1,value:this.props.values.sortBy}))),React.createElement(l.MediaQuery,{minWidth:0,maxWidth:this.props.mobileSortUpperBound},React.createElement("a",{className:"script-list-react__sort-link--mobile",onClick:function(t){return e.props.updateOpenMobileSort(!0)}},"Filter/Sort ",React.createElement("span",{className:"fa fa-chevron-right"})))):null},t.prototype.renderOptionalLoadingMessage=function(){return this.props.isLoadingMoreData?React.createElement("div",{className:"smart-list__message"},"Loading ",this.props.hasLoadedSomeData?"more ":"",this.props.pluralItemDescription,"..."):null},t.prototype.renderOptionalNoMoreDataMessage=function(){return!this.props.isLoadingMoreData&&this.props.children&&(0===this.props.children.length||this.props.children.length>this.props.pageSize||this.props.listFooterRenderer)?this.props.listFooterRenderer?this.props.listFooterRenderer(this.props.list,this.props):React.createElement("div",{className:"smart-list__message"},React.createElement("span",null,"No ",this.props.hasLoadedSomeData?"more ":"",this.props.pluralItemDescription," to show ¯\\_(ツ) _/¯"),React.createElement("br",null)):null},t.prototype.renderSubTitleBar=function(){return this.props.selectionGroupInTitle?null:this.renderSelectionGroups()},t.prototype.renderContent=function(){var e=this;return React.createElement("div",{className:"smart-list__content"},React.createElement(l.MediaQuery,{minWidth:0,maxWidth:this.props.mobileSortUpperBound},React.createElement(c.OffCanvasContainer,{closeButtonCallback:function(){return e.props.updateOpenMobileSort(!1)},shouldShowOffCanvas:this.props.openMobileSort,shouldUseCloseButton:!0,shouldUseRightSide:!0},React.createElement("div",{className:"smart-list__sort-menu--mobile"},React.createElement("p",{className:"smart-list__sort-label--mobile"},"Sort By"),React.createElement(a.SelectBox,{className:"smart-list__sort--mobile",options:this.props.sortOptions,onChange:this.props.onSortByChanged,searchable:!1,value:this.props.values.sortBy})),this.props.filtersOptions?this.props.filtersOptions.map(function(t,n){return React.createElement("div",{className:"smart-list__sort-menu--mobile",key:n},React.createElement("p",{className:"smart-list__sort-label--mobile"},t.placeholder),e.renderFilter(t,n,!1))}):null,React.createElement("div",{className:"smart-list__sort-menu--mobile"},this.renderSearch("off-canvas")))),React.createElement(o.WindowInfiniteScroll,{onScroll:this.props.onScroll},this.props.listHeaderRenderer?this.props.listHeaderRenderer(this.props.list,this.props):null,this.props.children,this.renderOptionalLoadingMessage(),this.renderOptionalNoMoreDataMessage()))},t.prototype.render=function(){return this.props.isUnstyled?this.renderContent():React.createElement("div",{className:"smart-list smart-list--"+(this.props.selectionGroupInTitle?"groups-in-title":"standard")},React.createElement(i.ContentBox,{title:this.renderTitle(),titleBarRightSide:this.props.titleBarRightSide||this.renderSortBy(),subTitleBar:this.renderSubTitleBar()},this.renderContent()))},t}(React.Component);t.SmartList=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(47),a=n(7),o=n(32),s=function(e){function t(t){e.call(this,t),this.hostSegmentModifier=this.props.competition.hostSegment.replace(" ","")}return r(t,e),t.prototype.render=function(){return React.createElement(o.BlockLink,{key:this.props.index,href:this.props.competition.competitionUrl},React.createElement("div",{className:"competition-card competition-card--"+this.hostSegmentModifier},React.createElement("div",null,React.createElement("img",{src:this.props.competition.thumbnailImageUrl,alt:this.props.competition.competitionTitle,className:"competition-card__thumbnail"})),React.createElement("div",{className:"competition-card__title"},React.createElement("div",null,React.createElement("a",{href:this.props.competition.competitionUrl,className:"competition-card__competition-link"},this.props.competition.competitionTitle),this.props.competition.isPrivate?React.createElement("span",{className:"competition-card__tag"},"Private"):null,this.props.competition.isLimited?React.createElement("span",{className:"competition-card__tag"},"Limited"):null),React.createElement("div",{className:"competition-card__description"},this.props.competition.competitionDescription),React.createElement("div",{className:"competition-card__meta"},React.createElement("span",{className:"competition-card__host-segment competition-card__host-segment--"+this.hostSegmentModifier},this.props.competition.hostSegment),React.createElement("span",{className:"competition-card__deadline"},"   ·   ",React.createElement(a.TimeAgo,{time:this.props.competition.deadline})),this.props.competition.totalKernels?React.createElement("span",null,"   ·   ",React.createElement(i.Pluralize,{count:this.props.competition.totalKernels,formatNumber:!0,word:"kernel"})):null)),React.createElement("div",{className:"competition-card__stats"},React.createElement("div",null,this.props.competition.rewardDisplay),React.createElement("div",{className:"competition-card__teams"},React.createElement(i.Pluralize,{count:this.props.competition.totalTeams,formatNumber:!0,word:"team"})))))},t}(React.Component);t.CompetitionCard=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(3),a=n(48),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.formattedNumber=function(e){return a.numberWithCommas(e)},t.prototype.render=function(){return this.props.formatNumber?React.createElement("span",null,a.numberWithCommas(this.props.count)+" "+i(this.props.word,this.props.count)):React.createElement("span",null,i(this.props.word,this.props.count,!0))},t}(React.Component);t.Pluralize=o},function(e,t){"use strict";function n(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};t.numberWithCommas=n;var i=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("span",null,n(this.props.number))},t}(React.Component);t.FormatNumber=i},function(e,t,n){"use strict";function r(e){var t=e.split("."),n=t[t.length-1];switch(n){case"csv":return"fa fa-table";case"sqlite":return"fa fa-database";case"png":case"jpg":case"gif":return"fa fa-picture-o";case"txt":case"json":return"fa fa-file-text-o";case"zip":case"7z":case"gz":case"tar":return"fa fa-file-zip-o";default:return"fa fa-file-o"}}function i(e){switch(e){case"csv":return 0;case"json":return 1;case"txt":return 2;case"png":case"jpg":case"gif":return 3;case"zip":case"7z":case"gz":case"tar":return 10;default:return 5}}var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s=n(33),l=n(50);!function(e){e[e.Image=0]="Image",e[e.Csv=1]="Csv",e[e.File=2]="File",e[e.Text=3]="Text",e[e.Archive=4]="Archive",e[e.Json=5]="Json",e[e.Sqlite=6]="Sqlite"}(t.FilePreviewDisplayType||(t.FilePreviewDisplayType={}));var c=t.FilePreviewDisplayType,u=function(e){function t(t){var n=this;e.call(this,t),this.setActiveFile=function(e){n.setState({activeFileName:e})},this.state={activeFileName:this.props.files&&this.props.files.length>0&&this.props.files[0].fileName}}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.files.slice();t.sort(function(e,t){var n=e.fileName.split("."),r=t.fileName.split("."),a=n[n.length-1],o=r[r.length-1],s=i(a),l=i(o);return l>s?-1:s>l?1:n[0].toLowerCase()<r[0].toLowerCase()?-1:n[0].toLowerCase()>r[0].toLowerCase()?1:0});var n=React.createElement("div",{className:"file-preview-list__list"},React.createElement("div",{className:"file-preview-list__list-file-count"},this.props.files.length+" files"),t.map(function(t){return React.createElement("div",{className:"file-preview-list__list-item"+(t.fileName===e.state.activeFileName?" file-preview-list__list-item--active":""),onClick:function(){e.setActiveFile(t.fileName)},key:"file-header-"+t.fileName},React.createElement("div",{className:"file-preview-list__icon"},React.createElement("span",{className:r(t.fileName)})),React.createElement("div",{className:"file-preview-list__filename",title:t.fileName},t.fileName.length>20?t.fileName.substring(0,20)+"…":t.fileName))}));return React.createElement("div",{className:"file-preview-list__section"},n,this.props.files.filter(function(t){return t.fileName===e.state.activeFileName}).map(function(t){return React.createElement(d,o({key:"file-"+t.fileName,submitToCompUrl:e.props.submitToCompUrl,scriptVersionId:e.props.scriptVersionId,competitionName:e.props.competitionName},t))}))},t}(React.Component);t.FilePreviewList=u;var d=function(e){function t(t){var n=this;e.call(this,t),this.shouldFetchPreview=function(){return n.displayType!==c.Sqlite&&n.displayType!==c.Archive&&n.displayType!==c.Image},this.handleShowMore=function(e){e.preventDefault(),n.setState({isShowingLess:!1,isShowingMore:!0})},[".png",".jpg",".jpeg",".gif"].indexOf(this.props.fileType)>-1?this.displayType=c.Image:".csv"===this.props.fileType?this.displayType=c.Csv:".json"===this.props.fileType?this.displayType=c.Json:[".zip",".gz",".7z",".tar"].indexOf(this.props.fileType)>-1?this.displayType=c.Archive:".sqlite"===this.props.fileType?this.displayType=c.Sqlite:this.displayType=c.File,this.state={previewRequestInFlight:this.shouldFetchPreview(),csvPreviewContents:[[]],textPreviewContents:"",previewFetchErrorText:"",dataIsTruncated:null,isShowingLess:!1,isShowingMore:!1,noPreviewAvailable:!1}}return a(t,e),t.prototype.parsePreviewData=function(e){return e.error?void this.setState({previewRequestInFlight:!1,previewFetchErrorText:e.error||"Invalid CSV data"}):e.noPreviewAvailable?void this.setState({previewRequestInFlight:!1,noPreviewAvailable:!0}):void this.setState({previewRequestInFlight:!1,csvPreviewContents:e.csvData,textPreviewContents:e.textData,previewFetchErrorText:null,dataIsTruncated:!!e.exceededMaxSize,isShowingLess:!this.props.alwaysShowMore&&(e.csvData||e.textData)&&(e.csvData||e.textData.split("\n")).length>11,isShowingMore:this.props.alwaysShowMore})},t.prototype.componentDidMount=function(){var e=this;this.shouldFetchPreview()&&$.ajax({url:this.props.filePreviewUrl,success:function(t){return e.parsePreviewData(t)},error:function(t,n,r){e.setState({previewRequestInFlight:!1,previewFetchErrorText:n+" "+r})}})},t.prototype.render=function(){return React.createElement(p,o({imagePreviewUrl:this.displayType===c.Image?this.props.fileUrl:null,onShowMore:this.handleShowMore},this.props,this.state))},t}(React.Component);t.FilePreviewContainer=d;var p=function(e){function t(t){e.call(this,t),this.props.maxLinesToShow?(this.numLinesWhenShowingLess=Math.min(10,this.props.maxLinesToShow),this.numLinesWhenShowingMore=Math.min(100,this.props.maxLinesToShow)):(this.numLinesWhenShowingLess=10,this.numLinesWhenShowingMore=100)}return a(t,e),t.prototype.renderFetchMessage=function(){return this.props.previewRequestInFlight?React.createElement("div",{className:"file-preview__contents-loading-message"},"Loading..."):this.props.previewFetchErrorText?React.createElement("div",{className:"file-preview__error-message"},this.props.previewFetchErrorText):this.props.noPreviewAvailable?React.createElement("div",{className:"file-preview__no-preview-message"},"No preview available for this format"):null},t.prototype.renderOptionalImagePreview=function(){return this.props.imagePreviewUrl?React.createElement("img",{src:this.props.imagePreviewUrl}):null},t.prototype.renderOptionalTextPreview=function(){return this.props.textPreviewContents?React.createElement("div",{className:"file-preview__text-preview-container"},this.props.textPreviewContents):null},t.prototype.renderOptionalCsvPreviewTable=function(){
var e=this;if(!this.props.csvPreviewContents||0===this.props.csvPreviewContents.length||0===this.props.csvPreviewContents[0].length)return null;var t=null;this.props.dataIsTruncated&&this.props.isShowingMore&&(t=React.createElement("div",{className:"file-preview__truncation-message"},"This is a preview of the first ",this.numLinesWhenShowingMore," lines."));var n=null;this.props.isShowingLess&&(n=React.createElement("div",{className:"file-preview__preview-show-more-less"},React.createElement("a",{onClick:this.props.onShowMore},"show more")));var r=this.props.csvPreviewContents[0],i=this.props.isShowingLess?this.props.csvPreviewContents.slice(1,this.numLinesWhenShowingLess+1):this.props.csvPreviewContents.slice(1,this.numLinesWhenShowingMore+1);return React.createElement("div",{className:"file-preview__csv-preview-container"},React.createElement("div",{className:"file-preview__csv-preview-inner"},React.createElement("div",{className:"file-preview__csv-preview-inner-inner"},React.createElement("div",{className:"file-preview__csv-preview"},React.createElement("div",{className:"file-preview__csv-preview-header-row"},r.map(function(t,n){return React.createElement("div",{key:e.props.reactKey+"-header-"+n,className:"file-preview__csv-preview-header-cell"},t)})),i.map(function(t,n){return React.createElement("div",{key:e.props.reactKey+"-row-"+n,className:"file-preview__csv-preview-row"},t.map(function(t,r){return React.createElement("div",{key:e.props.reactKey+"-row-"+n+"-col-"+r,className:"file-preview__csv-preview-cell"},t)}))})),n,t)))},t.prototype.render=function(){var e=this.renderFetchMessage(),t=null;if(this.props.showSubmitToCompButton&&!this.props.csvHeaderValidationErrors){var n="Submit to "+this.props.competitionName;t=React.createElement("div",{className:"rounded-open-button"},React.createElement("form",{action:this.props.submitToCompUrl,method:"POST"},React.createElement("input",{type:"hidden",name:"scriptVersionId",value:this.props.scriptVersionId.toString()}),React.createElement("input",{type:"hidden",name:"fileName",value:this.props.fileName}),React.createElement("input",{type:"submit",className:"file-preview__submit-csv-button",value:n})))}else this.props.showSubmitToCompButton&&this.props.csvHeaderValidationErrors&&(t=React.createElement(s.ToolTip,{tipText:this.props.csvHeaderValidationErrors,size:"medium"},React.createElement("span",{className:"fa fa-exclamation-triangle file-preview-list__validation-error"})));var r=null;this.props.fileUrl&&(r=React.createElement(l.ButtonRoundEdged,null,React.createElement("a",{href:this.props.fileUrl,onClick:this.props.downloadCallback||null},"Download File")));var i=null;this.props.fullPath&&(i=React.createElement("div",{className:"file-preview__full-path-row"},React.createElement("span",{className:"file-preview__row-title"},"Full path: "),React.createElement("span",{className:"file-preview__full-path"},this.props.fullPath)));var a=null,o=null;return React.createElement("div",{className:"file-preview__item"},React.createElement("div",{className:"file-preview__name-row"},React.createElement("span",{className:"file-preview__item-filename"},this.props.fileName),t,r),i,a,o,React.createElement("div",{className:"file-preview__preview-row"},e,this.renderOptionalImagePreview(),this.renderOptionalCsvPreviewTable(),this.renderOptionalTextPreview()))},t}(React.Component)},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return React.createElement("div",{onClick:this.props.onClick,className:this.props.className||"button-round-edged"},this.props.children)},t}(React.Component);t.ButtonRoundEdged=r},function(e,t,n){"use strict";function r(e,t){return t?e+" "+e+"--"+t:e}function i(e,t){return t?e+"--"+t:e}var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s=n(7),l=n(52),c=n(42),u=n(29),d=n(4),p=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.renderIcon=function(){return this.props.faIcon&&React.createElement("i",{key:this.props.faIcon,className:"pageheader__page-message-icon fa "+this.props.faIcon})},t.prototype.render=function(){var e=null;if(this.props.message&&""!==this.props.message)e=React.createElement("span",{key:this.props.type,className:d("pageheader__pagemessagecontent","pageheader__pagemessagecontent--"+this.props.type,{"pageheader__pagemessagecontent--custom-icon":!!this.props.faIcon})},this.renderIcon(),React.createElement("span",null,this.props.message));else{if(!this.props.htmlMessage||""===this.props.htmlMessage)return null;e=React.createElement("span",{key:this.props.type,className:d("pageheader__pagemessagecontent","pageheader__pagemessagecontent--"+this.props.type,{"pageheader__pagemessagecontent--custom-icon":!!this.props.faIcon})},this.renderIcon(),React.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.htmlMessage}}))}return React.createElement("div",{className:d("pageheader__pagemessage","pageheader__pagemessage--"+this.props.type)},e)},t}(React.Component);t.PageMessageComponent=p;var h=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"pageheader"},React.createElement("div",{className:d("pageheader__container",this.props.backgroundClass)},this.props.children))},t}(React.Component);t.PageHeader=h;var m=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"pageheader__fork-section"},React.createElement("div",{className:"pageheader__forked-symbol"},"L"),React.createElement("span",null,"forked from",React.createElement("span",{className:"pageheader__subtitle-link"}," ",React.createElement("a",{href:this.props.forkParentUrl},this.props.forkParentTitle))," by ",React.createElement("span",{className:"pageheader__subtitle-link"},React.createElement("a",{href:this.props.forkParentAuthorUrl},this.props.forkParentAuthorDisplayName)," "),React.createElement("a",{href:this.props.forkDiffUrl,className:"pageheader__diff"},"(",React.createElement("span",{className:"pageheader__diff-inserted"},"+",this.props.forkDiffLinesInserted),"/",React.createElement("span",{className:"pageheader__diff-deleted"},"-",this.props.forkDiffLinesDeleted),"/",React.createElement("span",{className:"pageheader__diff-changed"},"~",this.props.forkDiffLinesChanged),") ")))},t}(React.Component);t.PageHeaderForkInfo=m;var f=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=React.createElement("a",{href:this.props.userUrl,className:"pageheader__author-name"},this.props.userName),t=null,n=null;this.props.versionLink&&(t=React.createElement("span",null," · ",this.props.versionLink),n=React.createElement("span",null,this.props.versionLink," · "));var r=null;return this.props.dateUpdated&&(r=React.createElement("time",{dateTime:this.props.dateUpdated.toString(),title:this.props.dateUpdated.toString()},"last ",this.props.runTimeVerb," ",React.createElement(s.TimeAgo,{time:this.props.dateUpdated}))),this.props.showUserName&&this.props.showDateUpdated&&this.props.dateUpdated?React.createElement("span",null,"by ",e,t," · ",r):this.props.showUserName?React.createElement("span",null,"by ",e,t):this.props.showDateUpdated&&this.props.dateUpdated?React.createElement("span",null,n,r):null},t}(React.Component);t.PageHeaderUserNameAndRunTime=f;var g=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.nodeId||null;return React.createElement("div",{className:"pageheader__top--safe",id:e},this.props.children)},t}(React.Component);t.PageHeaderTopRowSafe=g;var v=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e,t;this.props.isEditingHeaderInfo?(e=this.props.title,t=this.props.subtitle):(e=this.props.titleUrl?React.createElement("a",{href:this.props.titleUrl,className:r("pageheader__title",this.props.modifier)},this.props.title):React.createElement("div",{className:r("pageheader__title",this.props.modifier),onClick:this.props.onTitleClick||null},this.props.title),t=React.createElement("div",{className:r("pageheader__subtitle",this.props.modifier)},React.createElement("p",null,this.props.subtitle),this.props.forkInfo?this.props.forkInfo:null));var n=this.props.nodeId||null;return React.createElement("div",{className:r("pageheader__top",this.props.modifier),id:n},React.createElement("a",{href:this.props.titleUrl,className:r("pageheader__top-overlay",this.props.modifier)}),React.createElement("div",{className:r("pageheader__top-image",this.props.modifier)},this.props.coverImageUrl?React.createElement("img",{src:this.props.coverImageUrl}):null),e,this.props.editHeaderButton&&this.props.canEdit?this.props.editHeaderButton:null,t,this.props.children)},t}(React.Component);t.PageHeaderTopRow=v;var b=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:i("pageheader__"+this.props.classNameElement,this.props.classNameModifier)},React.createElement("a",{href:this.props.targetUrl},React.createElement("img",{src:this.props.imageUrl})),this.props.thumbnailOverlay?this.props.thumbnailOverlay:null)},t}(React.Component);t.PageHeaderThumbnail=b;var y=function(e){function t(t){e.call(this,t),this.state={lockOverflowDropdown:!1,showOverflowDropdown:!1}}return a(t,e),t.prototype.handleNavClick=function(e,t){this.props.changeActiveTab&&(e.preventDefault(),this.props.changeActiveTab(t))},t.prototype.getLinkText=function(e){return e.text+(e.count?" ("+e.count+")":e.showZeroCountExplicitly?" (0)":"")},t.prototype.render=function(){var e=this;return React.createElement("nav",{className:r("pageheader__nav",this.props.classNameModifier)},React.createElement(u.MediaQuery,{minWidth:0,maxWidth:u.Breakpoints.tabletMax},React.createElement("div",{className:"pageheader__nav-wrapper"},this.props.menuLinks||this.props.overflowMenuLinks?(this.props.menuLinks?this.props.menuLinks:[]).concat(this.props.overflowMenuLinks).filter(function(e){return null!=e}).map(function(t,n){return React.createElement("a",{key:"pageheader__left-link--"+n,href:t.href||t.tab,title:t.title,className:d("pageheader__left-links","pageheader__left-links--with-onclick",(t.text||"").toUpperCase()===(e.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(n){return t.actionCallback?t.actionCallback(n):t.tab?e.handleNavClick(n,t.text):""},"data-link-text":e.getLinkText(t)},e.getLinkText(t))}):null,this.props.rightMenuLinks?this.props.rightMenuLinks.map(function(t,n){return React.createElement("a",{key:"pageheader__right-link--"+n,href:t.href,title:t.title,className:d("pageheader__right-links","pageheader__right-links--with-onclick",t.text.toUpperCase()==e.props.activeTab.toUpperCase()?"pageheader__right-links--selected":"",t.tab&&t.tab.toUpperCase()==e.props.activeTab.toUpperCase()?"pageheader__right-links--selected":""),onClick:function(n){return t.actionCallback?t.actionCallback(n):t.tab?e.handleNavClick(n,t.tab):t.text?e.handleNavClick(n,t.text):""},"data-link-text":e.getLinkText(t)},t.text)}):null)),React.createElement(u.MediaQuery,{minWidth:u.Breakpoints.desktopMin},React.createElement("div",{className:"pageheader__nav-wrapper"},this.props.menuLinks?this.props.menuLinks.filter(function(e){return null!=e}).map(function(t,n){return React.createElement("a",{key:"pageheader__left-link--"+n,href:t.href||t.tab,title:t.title,className:d("pageheader__left-links","pageheader__left-links--with-onclick",(t.text||"").toUpperCase()===(e.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(n){return t.actionCallback?t.actionCallback(n):t.tab?e.handleNavClick(n,t.text):""},"data-link-text":e.getLinkText(t)},e.getLinkText(t))}):null,this.props.overflowMenuLinks&&this.props.overflowMenuLinks.length?React.createElement("div",{onMouseEnter:function(){e.state.lockOverflowDropdown||e.setState({showOverflowDropdown:!0})},onMouseLeave:function(){e.state.lockOverflowDropdown||e.setState({showOverflowDropdown:!1})}},React.createElement("a",{key:"pageheader__left-link--"+(this.props.menuLinks?this.props.menuLinks.length:0),title:"More",className:d("pageheader__left-links","pageheader__left-links--with-onclick","pageheader__more-link",this.state.lockOverflowDropdown?"pageheader__left-links--selected":""),"data-link-text":"More",onClick:function(){return e.setState({lockOverflowDropdown:!e.state.lockOverflowDropdown,showOverflowDropdown:!e.state.lockOverflowDropdown})}},"More"),this.state.showOverflowDropdown?React.createElement("div",{className:"pageheader__nav-overflow"},this.props.overflowMenuLinks.map(function(t,n){return React.createElement("a",{key:"pageheader__overflow-link--"+n,href:t.href||t.tab,title:t.title,className:d("pageheader__left-links","pageheader__overflow-links",(t.text||"").toUpperCase()===(e.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(n){return t.actionCallback?t.actionCallback(n):t.tab?e.handleNavClick(n,t.text):""},"data-link-text":e.getLinkText(t)},e.getLinkText(t))})):null):null,this.props.rightMenuLinks?this.props.rightMenuLinks.map(function(t,n){return React.createElement("a",{key:"pageheader__right-link--"+n,href:t.href,title:t.title,className:d("pageheader__right-links","pageheader__right-links--with-onclick",t.text.toUpperCase()==e.props.activeTab.toUpperCase()?"pageheader__right-links--selected":"",t.tab&&t.tab.toUpperCase()==e.props.activeTab.toUpperCase()?"pageheader__right-links--selected":""),onClick:function(n){return t.actionCallback?t.actionCallback(n):t.tab?e.handleNavClick(n,t.tab):t.text?e.handleNavClick(n,t.text):""},"data-link-text":e.getLinkText(t)},t.text)}):null)))},t}(React.Component);t.PageHeaderNav=y;var w=function(e){function t(t){var n=this;e.call(this,t),this.onPageMessagesUpdated=function(e){n.setState({pageMessages:e})},this.state={pageMessages:[]}}return a(t,e),t.prototype.componentWillReceiveProps=function(e){var t=JSON.stringify(this.props.pageMessages)!==JSON.stringify(e.pageMessages);t&&(c.PageMessages.clear(),c.PageMessages.add(e.pageMessages))},t.prototype.componentDidMount=function(){c.PageMessages.addListener(this.onPageMessagesUpdated),c.PageMessages.add(this.props.pageMessages)},t.prototype.componentWillUnmount=function(){c.PageMessages.removeListener(this.onPageMessagesUpdated)},t.prototype.render=function(){return React.createElement(l.StickyScroll,{stickyClassName:"pageheader__sticky--stuck",scrollingClassName:"pageheader__sticky--scrolling",className:"pageheader__sticky"},React.createElement("div",{className:"pageheader__bottom"},this.props.children),React.createElement("div",null,null!=this.state.pageMessages?this.state.pageMessages.map(function(e,t){return React.createElement(p,o({key:"pageheader__pagemessage--"+t},e))}):""),React.createElement("div",{className:"pageheader__transition"}))},t}(React.Component);t.PageHeaderBottomRow=w;var k=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement("a",{className:this.props.isActive?"pageheader__calltoaction--active":this.props.isMuted?"pageheader__calltoaction--muted":"pageheader__calltoaction",onClick:function(t){return e.props.onClick(t)},title:this.props.title},this.props.text)},t}(React.Component);t.PageHeaderCallToAction=k},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),a=function(e){function t(t){var n=this;e.call(this,t),this.scrollListener=function(){n.setState({isStuck:$(window).scrollTop()>=n.offsetTop})},this.state={isStuck:!1}}return r(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){var t=function(){return ReactDOM.findDOMNode(e).getBoundingClientRect().top+window.scrollY};e.offsetTop=t(),$().ready(function(){return e.offsetTop=t()}),window.addEventListener("scroll",e.scrollListener),e.scrollListener()})},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.scrollListener)},t.prototype.render=function(){var e={visibility:"hidden"};return React.createElement("div",null,React.createElement("div",{className:i(this.props.className,this.state.isStuck?this.props.stickyClassName:this.props.scrollingClassName)},this.props.children),this.state.isStuck?React.createElement("div",{className:i(this.props.className,this.props.scrollingClassName),style:e},this.props.children):"")},t}(React.Component);t.StickyScroll=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(32),a=function(e){function t(t){e.call(this,t)}return r(t,e),t.prototype.render=function(){return React.createElement(i.BlockLink,{className:"organization-card",href:this.props.url},React.createElement("img",{src:this.props.imageUrl,alt:this.props.name,className:"organization-card__image"}),React.createElement("span",{className:"organization-card__name"},this.props.name))},t}(React.Component);t.OrganizationCard=a},function(e,t){"use strict";var n=function(){function e(){this.clear()}return e.prototype.clear=function(){this.stopTimer(),this.timerStart=null,this.timerEnd=null,this.displayCallback&&this.displayCallback("")},e.prototype.setStartTime=function(e){void 0===e&&(e=null),e?this.timerStart=e:this.timerStart=new Date},e.prototype.getElapsedTimeString=function(){if(!this.timerStart)return"";var e=this.getElapsedMilliseconds(),t=e/1e3,n=Math.floor(t/3600),r=Math.floor(t/60)%60,i=Math.floor(t)%60,a=(10>i?"0":"")+i;if(3600>t)return r+":"+a;var o=(10>r?"0":"")+r;return n+":"+o+":"+a},e.prototype.getElapsedMilliseconds=function(){var e=this.timerEnd;return this.paused||(e=new Date),e.getTime()-this.timerStart.getTime()},e.prototype.startTimer=function(){this.startTimerFrom(new Date)},e.prototype.startTimerFrom=function(e){this.displayCallback||console.warn("scriptTimer: starting timer without callback"),this.setStartTime(e);var t=this;this.timerIntervalId=window.setInterval(function(){return t.updateTimer()},1e3),this.paused=!1,this.updateTimer()},e.prototype.setToZero=function(){this.stopTimer(),this.timerStart=this.timerEnd,this.updateTimer()},e.prototype.updateTimer=function(){this.displayCallback&&this.displayCallback(this.getElapsedTimeString())},e.prototype.stopTimer=function(){this.timerIntervalId>=0&&window.clearInterval(this.timerIntervalId),this.timerIntervalId=-1,this.paused=!0,this.timerEnd=new Date},e.prototype.setDisplayCallback=function(e){this.displayCallback=e},e.prototype.isRunning=function(){return!this.paused},e}();t.Timer=n},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(t){var n=this;e.call(this,t),this.handleOpenClick=function(e){n.props.onShow(),$("body").css({"overflow-x":"hidden","overflow-y":"scroll"}),$("html").css("overflow","hidden")},this.handleCloseClick=function(){n.props.onClose(),$("body").css({overflow:"visible"}),$("html").css("overflow","visible")},this.handleKeyDown=function(e){27==e.keyCode&&n.handleCloseClick()},this.handleStopPropagation=function(e){e.stopPropagation()}}return n(t,e),t.prototype.componentDidMount=function(){$(document.body).on("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){$(document.body).off("keydown",this.handleKeyDown)},t.prototype.render=function(){var e=this.props.modalIsShown?{}:{display:"none"};return React.createElement("div",{className:"modal"},React.createElement("div",{className:this.props.buttonClassName,onClick:this.handleOpenClick}),React.createElement("div",{className:"modal__background "+this.props.modalClassName,style:e,onMouseDown:this.handleCloseClick},React.createElement("div",{className:"modal__content",style:{display:"inline-block",margin:"auto"},onMouseDown:this.handleStopPropagation},this.props.modalContent||this.props.children)))},t}(React.Component);t.Modal=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(40),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("div",null,React.createElement(i.Modal,{onClose:this.props.onCancel,onShow:function(){},modalIsShown:this.props.isShown},React.createElement("div",{className:"confirm__modal"},React.createElement("div",{className:"confirm__title"},this.props.title),React.createElement("div",{className:"confirm__content"},this.props.children),React.createElement("div",{className:"confirm__buttons"},React.createElement("div",{className:"confirm__cancel-button",onClick:this.props.onCancel},this.props.cancelText),React.createElement("div",{className:"confirm__confirm-button",onClick:this.props.onConfirm},this.props.confirmText)))))},t}(React.Component);t.Confirm=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e={};this.props.height>0&&(e.height=this.props.height+48+"px");var t={};this.props.displayIframe||(t.display="none");var n={display:this.props.displayLoadingPanel?"inherit":"none"};return React.createElement("div",{className:"script-notebook-pane",style:t},React.createElement(i.ContentBox,{title:this.props.contentBoxTitle},React.createElement("div",{className:"script-notebook-pane__container"},React.createElement("iframe",{src:this.props.iframeUrl,style:e}),React.createElement("div",{className:"script-notebook-pane__loading",style:n},React.createElement("div",{className:"script-notebook-pane__loading-content"},React.createElement("span",{className:"fa fa-circle-o-notch fa-spin"}))))))},t}(React.Component);t.ScriptNotebookPane=a;var o=function(e){function t(t){var n=this;e.call(this,t),this.handleResizeMessage=function(e){if(!isNaN(e.data)){var t=parseInt(e.data);n.setState({height:t,iframeReady:!0,hasBeenRendered:!0})}},this.state={height:552,iframeReady:!1,hasBeenRendered:this.props.displayIframe}}return r(t,e),t.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.handleResizeMessage)},t.prototype.componentDidMount=function(){window.addEventListener("message",this.handleResizeMessage,!1)},t.prototype.render=function(){if(!this.props.displayIframe&&!this.state.hasBeenRendered)return null;var e=this.props.displayIframe,t=this.props.displayIframe&&(!this.state.iframeReady||0===this.state.height);return React.createElement(a,{iframeUrl:this.props.iframeUrl,height:this.state.height,displayIframe:e,displayLoadingPanel:t,contentBoxTitle:this.props.isNotebook?"Notebook":"Report"})},t}(React.Component);t.ScriptNotebookPaneContainer=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=n(49),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this,t=React.createElement("div",{className:"script-code-pane__right-section"},React.createElement("a",{href:this.props.downloadAllFilesUrl,className:"script-code-pane__download"},"Download All"));return React.createElement("div",{ref:function(t){return e.props.setEnclosingElement(t)}},React.createElement(i.ContentBox,{title:"Output",titleBarRightSide:t},React.createElement(a.FilePreviewList,{files:this.props.fileListItems})))},t}(React.Component);t.ScriptFilesPaneContainer=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=n(7),o=n(38),s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e,t=this.props.item,n=this.props.previousItem,r=Math.round(10*t.runInfo.runTimeSeconds)/10+"s",i=o(t.outputFilesTotalSizeBytes),s=0===t.versionNumber?React.createElement("span",{className:"script-versions-pane__fork-parent"},"Forked from"):React.createElement("span",{className:"script-versions-pane__version-number"},"Version ",t.versionNumber),l=new Date(t.lastRunTime),c=!isNaN(l.getTime()),u=c?React.createElement(a.TimeAgo,{time:l}):t.lastRunTime,d=React.createElement("span",null,React.createElement("span",{className:"script-versions-pane__diff-inserted"},"+",t.linesInsertedFromPrevious),"/",React.createElement("span",{className:"script-versions-pane__diff-deleted"},"–",t.linesDeletedFromPrevious),"/",React.createElement("span",{className:"script-versions-pane__diff-changed"},"~",t.linesChangedFromPrevious));return e=n?React.createElement("a",{href:"/kernels/diff/"+n.id+"/"+t.id},d):React.createElement("span",null),React.createElement("div",{key:t.id,className:"script-versions-pane__item"+(t.runInfo.succeeded?" script-versions-pane__item--successful":" script-versions-pane__item--error")},React.createElement("a",{href:t.url,className:"script-versions-pane__version-count"},s),React.createElement("a",{href:t.url,className:"script-versions-pane__version-icon"},React.createElement("span",null,React.createElement("span",{className:t.runInfo.succeeded?"fa fa-check":"fa fa-times"}))),React.createElement("a",{href:t.url,className:"script-versions-pane__version-title"},React.createElement("span",null,t.title)),React.createElement("a",{href:t.url,className:"script-versions-pane__version-last-run-time"},React.createElement("span",null,u)),React.createElement("a",{href:t.url,className:"script-versions-pane__version-run-time"},React.createElement("span",null,r)),React.createElement("a",{href:t.url,className:"script-versions-pane__version-output-size"},React.createElement("span",null,i)),React.createElement("a",{href:t.url,className:"script-versions-pane__version-language-name"},React.createElement("span",null,t.languageName)),React.createElement("a",{href:t.url,className:"script-versions-pane__is-notebook"},React.createElement("span",null,t.isNotebook?"Notebook":"Script")),React.createElement("span",{className:"script-versions-pane__version-diff"},e),React.createElement("div",{className:"script-versions-pane__diff-buttons"},React.createElement("input",{type:"radio",checked:this.props.leftDiffButtonInitiallySelected,onChange:this.props.updateLeftDiffId}),React.createElement("input",{type:"radio",checked:this.props.rightDiffButtonInitiallySelected,onChange:this.props.updateRightDiffId})))},t}(React.Component);t.ScriptVersionsPaneRow=s;var l=function(e){function t(t){e.call(this,t),this.state={leftDiffScriptVersionId:this.props.versionHistory[0].id,rightDiffScriptVersionId:this.props.versionHistory[this.props.versionHistory.length-1].id}}return r(t,e),t.prototype.updateLeftDiffId=function(e){this.setState({leftDiffScriptVersionId:e})},t.prototype.updateRightDiffId=function(e){this.setState({rightDiffScriptVersionId:e})},t.prototype.render=function(){var e=this,t=React.createElement("div",{className:"script-code-pane__right-section"},React.createElement("a",{href:"/kernels/diff/"+this.state.leftDiffScriptVersionId+"/"+this.state.rightDiffScriptVersionId,className:"script-versions-pane__diff-button"},"View Diff"));return React.createElement("div",{className:"script-versions-pane"},React.createElement(i.ContentBox,{title:"Versions",titleBarRightSide:t},this.props.versionHistory.map(function(t,n,r){return React.createElement(s,{key:t.id,item:t,previousItem:n<r.length-1?r[n+1]:null,updateLeftDiffId:function(){return e.updateLeftDiffId(t.id)},updateRightDiffId:function(){return e.updateRightDiffId(t.id)},leftDiffButtonInitiallySelected:t.id==e.state.leftDiffScriptVersionId,rightDiffButtonInitiallySelected:t.id==e.state.rightDiffScriptVersionId})})))},t}(React.Component);t.ScriptVersionsPane=l},function(e,t,n){"use strict";function r(){return{newCommentContents:"",currentlyEditingMessageContents:[]}}function i(e,t,n,r,i){$.ajax({url:e,type:"GET",data:{scriptId:t},success:function(e){n(),r(e)},error:function(e,t,r){n(),i(r)}})}var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s=n(61),l=n(41),c=n(5),u=n(69),d=n(6),p=n(29);t.InitializeDiscussionPaneEditingState=r;var h=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",{className:"script-discussion-pane__messages"},this.props.comments.map(function(t){return-1!==e.props.currentlyEditingIds.indexOf(t.id)?React.createElement(m,{key:t.id,suffix:t.id.toString(),buttonText:"Update",sanitizeHtml:e.props.sanitizeHtml,initialValue:e.props.initialCurrentlyEditingContents[e.props.currentlyEditingIds.indexOf(t.id)]||t.rawMarkdown,onSubmitClicked:function(n){return e.props.onUpdateClicked(n,t.id)},showCancelButton:!0,onCancelClicked:function(n){return e.props.onCancelClicked(n,t.id)},onDiscussionChanged:function(n){return e.props.onMessageEdited(t.id,n)}}):React.createElement(u.ForumMessage,o({key:t.id,onDeleteClicked:function(t){return e.props.handleDeleteRequest(t)},onEditClicked:function(t){return e.props.handleEditRequest(t)},showAdmin:e.props.showAdmin},t))}))},t}(React.Component);t.ScriptDiscussionMessages=h;var m=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.clearContents=function(){this.editor.clearContents()},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"script-discussion-pane__comment-editor"},React.createElement(p.MediaQuery,{minWidth:p.Breakpoints.tabletMin},React.createElement(s.MarkdownEditor,{ref:function(t){e.editor=t},suffix:this.props.suffix,shouldSanitizeHtml:this.props.sanitizeHtml,defaultValue:this.props.initialValue,onChangeCallback:function(t){return e.props.onDiscussionChanged(t)},placeholder:"Enter your comments.",alwaysShowToolbar:!0,minRows:5})),React.createElement(p.MediaQuery,{minWidth:0,maxWidth:p.Breakpoints.mobileMax},React.createElement(s.MarkdownEditor,{ref:function(t){e.editor=t},suffix:this.props.suffix,shouldSanitizeHtml:this.props.sanitizeHtml,defaultValue:this.props.initialValue,onChangeCallback:function(t){return e.props.onDiscussionChanged(t)},placeholder:"Enter your comments.",alwaysShowToolbar:!0,hideToolbar:!0,minRows:5})),React.createElement("div",{className:"script-discussion-pane__comment-editor-button"},this.props.showCancelButton?React.createElement("a",{className:"script-discussion-pane__comment-editor-cancel-link",href:"#",title:"Cancel Editing",onClick:function(t){return e.props.onCancelClicked(t);
}},"cancel"):null,React.createElement(l.Button,{text:this.props.buttonText,onClick:function(t){return e.props.onSubmitClicked(t)}})))},t}(React.Component);t.ScriptDiscussionEditor=m;var f=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.clearContents=function(){this.editor.clearContents()},t.prototype.render=function(){var e=this,t=null;this.props.getRequestInFlight&&(t=React.createElement("div",{className:"script-discussion-pane__loading-message"},"Loading..."));var n=null;this.props.postRequestInFlight&&(n=React.createElement("div",{className:"script-discussion-pane__posting-message"},"Posting..."));var r=null;this.props.comments&&this.props.comments.length>0&&(r=React.createElement(h,{comments:this.props.comments,handleDeleteRequest:function(t){return e.props.handleDeleteRequest(t)},showAdmin:this.props.showAdmin,currentlyEditingIds:this.props.currentlyEditingIds,initialCurrentlyEditingContents:this.props.initialCurrentlyEditingContents.map(function(e){return e.newContents}),onMessageEdited:this.props.onMessageEdited,onUpdateClicked:this.props.onUpdateClicked,onCancelClicked:this.props.onCancelClicked,sanitizeHtml:this.props.sanitizeHtml,handleEditRequest:this.props.handleEditRequest}));var i=React.createElement(m,{buttonText:"Post Reply",suffix:"ed",ref:function(t){e.editor=t},sanitizeHtml:this.props.sanitizeHtml,onSubmitClicked:this.props.onSubmitClicked,showCancelButton:!1,onCancelClicked:function(e){},initialValue:this.props.initialNewCommentContents,onDiscussionChanged:this.props.onDiscussionChanged});if(this.props.scriptIsHidden)i=React.createElement("div",{className:"script-discussion-pane__comment-editor-hidden-script"},"Comments cannot be posted on hidden kernels.");else if(!d.Current.userId){var a="/account/login?returnUrl="+encodeURIComponent(document.location.pathname);i=React.createElement("div",{className:"script-discussion-pane__comment-editor-hidden-script"},"Please ",React.createElement("a",{href:a},"sign in")," to add a comment.")}return React.createElement("div",{className:"script-discussion-pane"},React.createElement(c.ContentBox,{title:"Comments"},t,r,n,i))},t}(React.Component);t.ScriptDiscussionPane=f;var g=function(e){function t(t){var n=this;e.call(this,t),this.updateParentAppState=function(){n.props.onStateUpdated({newCommentContents:n.state.newCommentContents,currentlyEditingMessageContents:n.state.currentlyEditingMessageContents})},this.onDiscussionChanged=function(e){n.setState({newCommentContents:e},n.updateParentAppState)},this.onEditClicked=function(e){n.setState({currentlyEditingMessageContents:n.state.currentlyEditingMessageContents.concat({id:e,newContents:n.state.comments.filter(function(t){return t.id===e})[0].rawMarkdown}),currentlyEditingMessageIds:n.state.currentlyEditingMessageIds.concat(e)},n.updateParentAppState)},this.onMessageEdited=function(e,t){var r=n.state.currentlyEditingMessageContents.map(function(e){return e.id}).indexOf(e),i=n.state.currentlyEditingMessageContents;i[r].newContents=t,n.setState({currentlyEditingMessageContents:i},n.updateParentAppState)},this.onCancelClicked=function(e,t){e.preventDefault(),n.stopEditingMessage(t,!1)},this.onFinishedEditing=function(e,t){e.preventDefault();var r=Markdown.getSanitizingConverter(),i=$("#__AjaxAntiForgeryForm"),a=$('input[name="__RequestVerificationToken"]',i).val(),o=n.state.currentlyEditingMessageContents.filter(function(e){return e.id===t}).map(function(e){return e.newContents})[0];return o?(n.stopEditingMessage(t,!0),void $.ajax({url:n.props.postUrl,type:"PUT",data:{__RequestVerificationToken:a,scriptId:n.props.scriptId,forumMessageId:t,content:r.makeHtml(o),rawMarkdown:o},success:function(e){if(e.id){var r=n.state.comments.map(function(e){return e.id}).indexOf(t),i=n.state.comments;i[r]=e,n.setState({comments:i,postRequestInFlight:!1})}},error:function(e,t,n){alert(n)}})):void console.warn("New comment contents not found")},this.onSubmitClicked=function(e){e.preventDefault();var t=$("#__AjaxAntiForgeryForm"),r=$('input[name="__RequestVerificationToken"]',t).val(),i=Markdown.getSanitizingConverter();window.Intercom("trackEvent","script_comment",{script_id:n.props.scriptId}),n.setState({postRequestInFlight:!0},function(){$.ajax({url:n.props.postUrl,type:"POST",data:{__RequestVerificationToken:r,scriptId:n.props.scriptId,content:i.makeHtml(n.state.newCommentContents),rawMarkdown:n.state.newCommentContents,watchTopic:!0},success:function(e){e.redirect?window.location.replace(e.redirect):(n.pane.clearContents(),n.setState({postRequestInFlight:!1,comments:e.id?n.state.comments.concat(e):n.state.comments,newCommentContents:""},n.updateParentAppState))},error:function(e,t,r){n.setState({postRequestInFlight:!1,errorMessage:r})}})})},this.onDeleteClicked=function(e){var t=n.state.comments,r=t.map(function(e){return e.id}).indexOf(e);return-1==r?void console.warn("Not deleting id "+e):(t.splice(r,1),n.setState({comments:t,postRequestInFlight:!0}),void $.ajax({url:n.props.postUrl,type:"DELETE",data:{forumMessageId:e},success:function(){n.setState({postRequestInFlight:!1})}}))},this.setDisplayTimeout=function(){n.getRequestDisplayTimeout=window.setTimeout(function(){return n.setState({getRequestInFlight:!0})},2e3)},this.clearDisplayTimeout=function(){n.getRequestDisplayTimeout&&(window.clearTimeout(n.getRequestDisplayTimeout),n.getRequestDisplayTimeout=null)},this.state={newCommentContents:this.props.initialState.newCommentContents,comments:this.props.preloadedComments,getRequestInFlight:!1,postRequestInFlight:!1,errorMessage:"",currentlyEditingMessageIds:this.props.initialState.currentlyEditingMessageContents.map(function(e){return e.id}),currentlyEditingMessageContents:this.props.initialState.currentlyEditingMessageContents}}return a(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=this;return this.state.getRequestInFlight!==t.getRequestInFlight||this.state.postRequestInFlight!==t.postRequestInFlight||this.state.errorMessage!==t.errorMessage?!0:this.state.currentlyEditingMessageIds.some(function(e){return-1===t.currentlyEditingMessageIds.indexOf(e)})||t.currentlyEditingMessageIds.some(function(e){return-1===n.state.currentlyEditingMessageIds.indexOf(e)})?!0:this.state.comments.length!==t.comments.length?!0:!1},t.prototype.stopEditingMessage=function(e,t){var n=this.state.currentlyEditingMessageIds.slice(),r=this.state.currentlyEditingMessageContents.slice();r.splice(r.map(function(e){return e.id}).indexOf(e),1),n.splice(n.indexOf(e),1),this.setState({currentlyEditingMessageIds:n,currentlyEditingMessageContents:r,postRequestInFlight:t},this.updateParentAppState)},t.prototype.componentDidMount=function(){var e=this;this.mounted=!0,this.setDisplayTimeout(),i(this.props.getUrl,this.props.scriptId,this.clearDisplayTimeout,function(t){e.mounted&&e.setState({getRequestInFlight:!1,comments:t})},function(t){e.mounted&&e.setState({getRequestInFlight:!1,errorMessage:t})})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this;return React.createElement("div",{ref:function(t){return e.props.setEnclosingElement(t)}},React.createElement(f,{ref:function(t){e.pane=t},sanitizeHtml:this.props.sanitizeHtml,onSubmitClicked:this.onSubmitClicked,handleDeleteRequest:this.onDeleteClicked,handleEditRequest:this.onEditClicked,onDiscussionChanged:this.onDiscussionChanged,comments:this.state.comments,errorMessage:this.state.errorMessage,getRequestInFlight:this.state.getRequestInFlight,postRequestInFlight:this.state.postRequestInFlight,showAdmin:this.props.showAdmin,scriptIsHidden:this.props.scriptIsHidden,currentlyEditingIds:this.state.currentlyEditingMessageIds,onUpdateClicked:this.onFinishedEditing,onCancelClicked:this.onCancelClicked,onMessageEdited:this.onMessageEdited,initialCurrentlyEditingContents:this.props.initialState.currentlyEditingMessageContents,initialNewCommentContents:this.props.initialState.newCommentContents}))},t}(React.Component);t.ScriptDiscussionPaneContainer=g,t.updateDiscussionContents=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(4),o=(n(62),n(67)["default"]),s=function(e){function t(t){var n=this;e.call(this,t),this.handleButtonClick=function(){n.handleChange(n.textArea.value)},this.handleKeyDown=function(e){var t=38,r=40;e.keyCode===t&&n.props.onMoveUp?n.handleUpArrow(e):e.keyCode===r&&n.props.onMoveDown?n.handleDownArrow(e):n.props.onKeyPress&&n.props.onKeyPress(e)},this.state={content:this.props.defaultValue?this.props.defaultValue:"",hasFocus:this.props.hasFocus},this.textAreaId="wmd-input"+(this.props.suffix||"")}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.shouldSanitizeHtml?this.converter=new Markdown.Converter:this.converter=Markdown.getSanitizingConverter(),this.editor=new Markdown.Editor(this.converter,this.props.suffix?this.props.suffix:void 0,{strings:{imagedialog:'<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg "optional title"'}}),this.editor.run(),this.props.hasFocus&&i(this.textArea).focus(),this.refreshInterval=window.setInterval(function(){e.textArea&&e.updateTextState(e.textArea.value)},200)},t.prototype.componentWillUnmount=function(){window.clearInterval(this.refreshInterval)},t.prototype.componentWillReceiveProps=function(e){var t=this;e.defaultValue&&this.props.defaultValue&&e.defaultValue!=this.props.defaultValue&&(this.textArea.value=e.defaultValue),e.hasFocus&&!this.props.hasFocus&&window.setTimeout(function(){i(t.textArea).focus()})},t.prototype.createHtml=function(){return{__html:this.converter.makeHtml(this.state.content)}},t.prototype.updateTextState=function(e){this.state.content!==e&&this.props.onChangeCallback(e)},t.prototype.handleChange=function(e){var t=this;this.props.onChangeImmediate&&this.props.onChangeImmediate(e),this.setState(i.extend({},this.state,{content:e}),function(){t.props.onChangeCallback(t.state.content)})},t.prototype.setFocus=function(e){this.setState(i.extend({},this.state,{hasFocus:e}))},t.prototype.renderPreview=function(){return this.props.hidePreview?null:React.createElement("div",{id:"wmd-preview"+(this.props.suffix||""),className:"wmd-panel wmd-preview post-text-styling"})},t.prototype.clearContents=function(){this.textArea&&(this.textArea.value="")},t.prototype.handleUpArrow=function(e){var t=this.textArea.value.substr(0,this.textArea.selectionStart).split("\n").length;1===t&&(e.preventDefault(),this.props.onMoveUp())},t.prototype.handleDownArrow=function(e){var t=this.textArea.value.substr(0,this.textArea.selectionStart).split("\n").length,n=this.textArea.value.split("\n").length;t===n&&(e.preventDefault(),this.props.onMoveDown())},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"markdown-editor"},React.createElement("div",{tabIndex:0,className:"wmd-panel",onFocus:function(){e.setFocus(!0)},onBlur:function(){e.setFocus(!1)}},React.createElement("div",{id:"wmd-button-bar"+(this.props.suffix||""),className:!this.state.hasFocus&&!this.props.alwaysShowToolbar||this.props.hideToolbar?"wmd-button-bar--disabled":null,onClick:this.handleButtonClick}),React.createElement("a",{href:"http://commonmark.org/help/",target:"__blank",className:a("markdown-editor__help",this.state.hasFocus||this.props.alwaysShowToolbar?null:"markdown-editor__help--disabled",{"markdown-editor__help--left":this.props.hideToolbar})},React.createElement("img",{src:"/static/images/markdown.png"})," Styling with Markdown supported"),React.createElement(o,{ref:function(t){e.textArea=t},defaultValue:this.state.content,onChange:function(t){return e.handleChange(t.target.value)},name:"rawMarkdown",className:a("wmd-input",this.props.editorClassName),id:this.textAreaId,minRows:this.props.minRows,maxRows:this.props.maxRows,rows:this.props.rows,placeholder:this.props.placeholder,onKeyDown:this.props.onMoveDown||this.props.onMoveUp?this.handleKeyDown:null})),this.renderPreview())},t}(React.Component);t.MarkdownEditor=s},function(e,t,n){(function(e){function r(e){return e}function i(e){return!1}function a(){}var o=n(63);e.window.Markdown=o,e.window.Markdown.HookCollection=a;n(66);t.getPagedownEditor=function(){return new Markdown.Editor(o.getSanitizingConverter())},a.prototype={chain:function(e,t){var n=this[e];if(!n)throw new Error("unknown hook "+e);n===r?this[e]=t:this[e]=function(e){return t(n(e))}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(e){this[e]=r},addFalse:function(e){this[e]=i}}}).call(t,function(){return this}())},function(e,t,n){t.Converter=n(64).Converter,t.getSanitizingConverter=n(65).getSanitizingConverter},function(e,t,n){var r;r=t,function(){function e(e){return e}function t(e){return!1}function n(){}function i(){}n.prototype={chain:function(t,n){var r=this[t];if(!r)throw new Error("unknown hook "+t);r===e?this[t]=n:this[t]=function(e){var t=Array.prototype.slice.call(arguments,0);return t[0]=r.apply(null,t),n.apply(null,t)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},r.HookCollection=n,i.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},r.Converter=function(){function e(e){return e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,t,n,r,i,a){return t=t.toLowerCase(),D.set(t,_(n)),i?r:(a&&O.set(t,a.replace(/"/g,"&quot;")),"")})}function t(e){return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,r),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,r),e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r),e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,r),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r)}function r(e,t){var n=t;return n=n.replace(/^\n+/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(I.push(n)-1)+"K\n\n"}function a(e,n){e=L.preBlockGamut(e,B),e=h(e);var r="<hr />\n";return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,r),e=m(e),e=g(e),e=k(e),e=L.postBlockGamut(e,B),e=t(e),e=E(e,n)}function o(e){return e=L.preSpanGamut(e),e=b(e),e=s(e),e=x(e),e=u(e),e=l(e),e=S(e),e=e.replace(/~P/g,"://"),e=_(e),e=w(e),e=e.replace(/  +\n/g," <br>\n"),e=L.postSpanGamut(e)}function s(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=F(t,"!"==e.charAt(1)?"\\`*_/":"\\`*_")})}function l(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,c),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,c),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,c)}function c(e,t,n,r,i,a,o,s){void 0==s&&(s="");var l=t,c=n.replace(/:\/\//g,"~P"),u=r.toLowerCase(),p=i,h=s;if(""==p)if(""==u&&(u=c.toLowerCase().replace(/ ?\n/g," ")),p="#"+u,void 0!=D.get(u))p=D.get(u),void 0!=O.get(u)&&(h=O.get(u));else{if(!(l.search(/\(\s*\)$/m)>-1))return l;p=""}p=N(p),p=F(p,"*_");var m='<a href="'+p+'"';return""!=h&&(h=d(h),h=F(h,"*_"),m+=' title="'+h+'"'),m+=">"+c+"</a>"}function u(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p)}function d(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function p(e,t,n,r,i,a,o,s){var l=t,c=n,u=r.toLowerCase(),p=i,h=s;if(h||(h=""),""==p){if(""==u&&(u=c.toLowerCase().replace(/ ?\n/g," ")),p="#"+u,void 0==D.get(u))return l;p=D.get(u),void 0!=O.get(u)&&(h=O.get(u))}c=F(d(c),"*_[]()"),p=F(p,"*_");var m='<img src="'+p+'" alt="'+c+'"';return h=d(h),h=F(h,"*_"),m+=' title="'+h+'"',m+=" />"}function h(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+o(t)+"</h1>\n\n"}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+o(t)+"</h2>\n\n"}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,n){var r=t.length;return"<h"+r+">"+o(n)+"</h"+r+">\n\n"})}function m(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return P?e=e.replace(t,function(e,t,n){var r=t,i=n.search(/[*+-]/g)>-1?"ul":"ol",a=f(r,i);return a=a.replace(/\s+$/,""),a="<"+i+">"+a+"</"+i+">\n"}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,function(e,t,n,r){var i=t,a=n,o=r.search(/[*+-]/g)>-1?"ul":"ol",s=f(a,o);return s=i+"<"+o+">\n"+s+"</"+o+">\n"})),e=e.replace(/~0/,"")}function f(e,t){P++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var n=j[t],r=new RegExp("(^[ \\t]*)("+n+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+n+")[ \\t]+))","gm"),i=!1;return e=e.replace(r,function(e,t,n,r){var s=r,l=/\n\n$/.test(s),c=l||s.search(/\n{2,}/)>-1;return c||i?s=a(R(s),!0):(s=m(R(s)),s=s.replace(/\n$/,""),s=o(s)),i=l,"<li>"+s+"</li>\n"}),e=e.replace(/~0/g,""),P--,e}function g(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t,i=n;return r=y(R(r)),r=A(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code>"+r+"\n</code></pre>","\n\n"+r+"\n\n"+i}),e=e.replace(/~0/,"")}function v(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(I.push(e)-1)+"K\n\n"}function b(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r,i){var a=r;return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=y(a),a=a.replace(/:\/\//g,"~P"),t+"<code>"+a+"</code>"})}function y(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=F(e,"*_{}[]\\",!1)}function w(e){return e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),e=e.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function k(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=a(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),v("<blockquote>\n"+n+"\n</blockquote>")})}function E(e,t){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var n=e.split(/\n{2,}/g),r=[],i=/~K(\d+)K/,a=n.length,s=0;a>s;s++){var l=n[s];i.test(l)?r.push(l):/\S/.test(l)&&(l=o(l),l=l.replace(/^([ \t]*)/g,"<p>"),l+="</p>",r.push(l))}if(!t){a=r.length;for(var s=0;a>s;s++)for(var c=!0;c;)c=!1,r[s]=r[s].replace(/~K(\d+)K/g,function(e,t){return c=!0,I[t]})}return r.join("\n\n")}function _(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function x(e){return e=e.replace(/\\(\\)/g,M),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,M)}function C(e,t,n,r){if(t)return e;if(")"!==r.charAt(r.length-1))return"<"+n+r+">";for(var i=r.match(/[()]/g),a=0,o=0;o<i.length;o++)"("===i[o]?0>=a?a=1:a++:a--;var s="";if(0>a){var l=new RegExp("\\){1,"+-a+"}$");r=r.replace(l,function(e){return s=e,""})}return"<"+n+r+">"+s}function S(e){e=e.replace(/(="|<)?\b(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\])])(?=$|\W)/gi,C);var t=function(e,t){return'<a href="'+t+'">'+L.plainLinkText(t)+"</a>"};return e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,t)}function T(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})}function R(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}function A(e){if(!/\t/.test(e))return e;var t,n=["    ","   ","  "," "],r=0;return e.replace(/[\n\t]/g,function(e,i){return"\n"===e?(r=i+1,e):(t=(i-r)%4,r=i+1,n[t])})}function N(e){if(!e)return"";var t=e.length;return e.replace(z,function(n,r){return"~D"==n?"%24":":"!=n||r!=t-1&&!/[0-9\/]/.test(e.charAt(r+1))?"%"+n.charCodeAt(0).toString(16):":"})}function F(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var i=new RegExp(r,"g");return e=e.replace(i,M)}function M(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}var L=this.hooks=new n;L.addNoop("plainLinkText"),L.addNoop("preConversion"),L.addNoop("postNormalization"),L.addNoop("preBlockGamut"),L.addNoop("postBlockGamut"),L.addNoop("preSpanGamut"),L.addNoop("postSpanGamut"),L.addNoop("postConversion");var D,O,I,P;this.makeHtml=function(n){if(D)throw new Error("Recursive call to converter.makeHtml");return D=new i,O=new i,I=[],P=0,n=L.preConversion(n),n=n.replace(/~/g,"~T"),n=n.replace(/\$/g,"~D"),n=n.replace(/\r\n/g,"\n"),n=n.replace(/\r/g,"\n"),n="\n\n"+n+"\n\n",n=A(n),n=n.replace(/^[ \t]+$/gm,""),n=L.postNormalization(n),n=t(n),n=e(n),n=a(n),n=T(n),n=n.replace(/~D/g,"$$"),n=n.replace(/~T/g,"~"),n=L.postConversion(n),I=O=D=null,n};var B=function(e){return a(e)},j={ol:"\\d+[.]",ul:"[*+-]"},z=/(?:["'*()[\]:]|~D)/g}}()},function(e,t,n){!function(){function e(e){return e.replace(/<[^>]*>?/gi,r)}function r(e){return e.match(s)||e.match(l)||e.match(c)?e:""}function i(e){if(""==e)return"";var t=/<\/?\w+[^>]*(\s|$|>)/g,n=e.toLowerCase().match(t),r=(n||[]).length;if(0==r)return e;for(var i,a,o,s="<p><img><br><li><hr>",l=[],c=[],u=!1,d=0;r>d;d++)if(i=n[d].replace(/<\/?(\w+).*/,"$1"),!(l[d]||s.search("<"+i+">")>-1)){if(a=n[d],o=-1,!/^<\//.test(a))for(var p=d+1;r>p;p++)if(!l[p]&&n[p]=="</"+i+">"){o=p;break}-1==o?u=c[d]=!0:l[o]=!0}if(!u)return e;var d=0;return e=e.replace(t,function(e){var t=c[d]?"":e;return d++,t})}var a,o;a=t,o=n(64).Converter,a.getSanitizingConverter=function(){var t=new o;return t.hooks.chain("postConversion",e),t.hooks.chain("postConversion",i),t};var s=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,l=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,c=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}()},function(e,t){!function(){function e(){}function t(e){this.buttonBar=d.getElementById("wmd-button-bar"+e),this.preview=d.getElementById("wmd-preview"+e),this.input=d.getElementById("wmd-input"+e)}function n(e,t){var n,i,a,o=this,s=[],c=0,u="none",d=function(e,t){u!=e&&(u=e,t||h()),f.isIE&&"moving"==u?a=null:i=setTimeout(p,1)},p=function(e){a=new r(t,e),i=void 0};this.setCommandMode=function(){u="command",h(),i=setTimeout(p,0)},this.canUndo=function(){return c>1},this.canRedo=function(){return s[c+1]?!0:!1},this.undo=function(){o.canUndo()&&(n?(n.restore(),n=null):(s[c]=new r(t),s[--c].restore(),e&&e())),u="none",t.input.focus(),p()},this.redo=function(){o.canRedo()&&(s[++c].restore(),e&&e()),u="none",t.input.focus(),p()};var h=function(){var i=a||new r(t);return i?"moving"==u?void(n||(n=i)):(n&&(s[c-1].text!=n.text&&(s[c++]=n),n=null),s[c++]=i,s[c+1]=null,void(e&&e())):!1},m=function(e){var t=!1;if((e.ctrlKey||e.metaKey)&&!e.altKey){var n=e.charCode||e.keyCode,r=String.fromCharCode(n);switch(r.toLowerCase()){case"y":o.redo(),t=!0;break;case"z":e.shiftKey?o.redo():o.undo(),t=!0}}return t?(e.preventDefault&&e.preventDefault(),void(window.event&&(window.event.returnValue=!1))):void 0},g=function(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;t>=33&&40>=t||t>=63232&&63235>=t?d("moving"):8==t||46==t||127==t?d("deleting"):13==t?d("newlines"):27==t?d("escape"):(16>t||t>20)&&91!=t&&d("typing")}},v=function(){l.addEvent(t.input,"keypress",function(e){!e.ctrlKey&&!e.metaKey||e.altKey||89!=e.keyCode&&90!=e.keyCode||e.preventDefault()});var e=function(){(f.isIE||a&&a.text!=t.input.value)&&void 0==i&&(u="paste",h(),p())};l.addEvent(t.input,"keydown",m),l.addEvent(t.input,"keydown",g),l.addEvent(t.input,"mousedown",function(){d("moving")}),t.input.onpaste=e,t.input.ondrop=e},b=function(){v(),p(!0),h()};b()}function r(t,n){var r=this,i=t.input;this.init=function(){l.isVisible(i)&&(n||!d.activeElement||d.activeElement===i)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=i.scrollTop,(!this.text&&i.selectionStart||0===i.selectionStart)&&(this.text=i.value))},this.setInputAreaSelection=function(){if(l.isVisible(i))if(void 0===i.selectionStart||f.isOpera){if(d.selection){if(d.activeElement&&d.activeElement!==i)return;i.focus();var e=i.createTextRange();e.moveStart("character",-i.value.length),e.moveEnd("character",-i.value.length),e.moveEnd("character",r.end),e.moveStart("character",r.start),e.select()}}else i.focus(),i.selectionStart=r.start,i.selectionEnd=r.end,i.scrollTop=r.scrollTop},this.setInputAreaSelectionStartEnd=function(){if(t.ieCachedRange||!i.selectionStart&&0!==i.selectionStart){if(d.selection){r.text=l.fixEolChars(i.value);var e=t.ieCachedRange||d.selection.createRange(),n=l.fixEolChars(e.text),a="",o=a+n+a;e.text=o;var s=l.fixEolChars(i.value);e.moveStart("character",-o.length),e.text=n,r.start=s.indexOf(a),r.end=s.lastIndexOf(a)-a.length;var c=r.text.length-l.fixEolChars(i.value).length;if(c){for(e.moveStart("character",-n.length);c--;)n+="\n",r.end+=1;e.text=n}t.ieCachedRange&&(r.scrollTop=t.ieCachedScrollTop),t.ieCachedRange=null,this.setInputAreaSelection()}}else r.start=i.selectionStart,r.end=i.selectionEnd},this.restore=function(){void 0!=r.text&&r.text!=i.value&&(i.value=r.text),this.setInputAreaSelection(),i.scrollTop=r.scrollTop},this.getChunks=function(){var t=new e;return t.before=l.fixEolChars(r.text.substring(0,r.start)),t.startTag="",t.selection=l.fixEolChars(r.text.substring(r.start,r.end)),t.endTag="",t.after=l.fixEolChars(r.text.substring(r.end)),t.scrollTop=r.scrollTop,t},this.setChunks=function(e){e.before=e.before+e.startTag,e.after=e.endTag+e.after,this.start=e.before.length,this.end=e.before.length+e.selection.length,this.text=e.before+e.selection+e.after,this.scrollTop=e.scrollTop},this.init()}function i(e,t,n){var r,i,a,o=3e3,s="delayed",u=function(e,t){l.addEvent(e,"input",t),e.onpaste=t,e.ondrop=t,l.addEvent(e,"keypress",t),l.addEvent(e,"keydown",t)},p=function(){var e=0;return window.innerHeight?e=window.pageYOffset:d.documentElement&&d.documentElement.scrollTop?e=d.documentElement.scrollTop:d.body&&(e=d.body.scrollTop),e},h=function(){if(t.preview){var n=t.input.value;if(!n||n!=a){a=n;var r=(new Date).getTime();n=e.makeHtml(n);var o=(new Date).getTime();i=o-r,_(n)}}},m=function(){if(r&&(clearTimeout(r),r=void 0),"manual"!==s){var e=0;"delayed"===s&&(e=i),e>o&&(e=o),r=setTimeout(h,e)}},g=function(e){return e.scrollHeight<=e.clientHeight?1:e.scrollTop/(e.scrollHeight-e.clientHeight)},v=function(){t.preview&&(t.preview.scrollTop=(t.preview.scrollHeight-t.preview.clientHeight)*g(t.preview))};this.refresh=function(e){e?(a="",h()):m()},this.processingTime=function(){return i};var b,y=!0,w=function(e){var n=t.preview,r=n.parentNode,i=n.nextSibling;r.removeChild(n),n.innerHTML=e,i?r.insertBefore(n,i):r.appendChild(n)},k=function(e){t.preview.innerHTML=e},E=function(e){if(b)return b(e);try{k(e),b=k}catch(t){b=w,b(e)}},_=function(e){var r=c.getTop(t.input)-p();if(t.preview&&(E(e),n()),v(),y)return void(y=!1);var i=c.getTop(t.input)-p();f.isIE?setTimeout(function(){window.scrollBy(0,i-r)},0):window.scrollBy(0,i-r)},x=function(){u(t.input,m),h(),t.preview&&(t.preview.scrollTop=0)};x()}function a(e,t,n,i,a,o,s){function c(e){if(v.focus(),e.textOp){n&&n.setCommandMode();var a=new r(t);if(!a)return;var o=a.getChunks(),s=function(){v.focus(),o&&a.setChunks(o),a.restore(),i.refresh()},l=e.textOp(o,s);l||s()}e.execute&&e.execute(n)}function u(e,n){var r="0px",i="-20px",a="-40px",o=e.getElementsByTagName("span")[0];n?(o.style.backgroundPosition=e.XShift+" "+r,e.onmouseover=function(){o.style.backgroundPosition=this.XShift+" "+a},e.onmouseout=function(){o.style.backgroundPosition=this.XShift+" "+r},f.isIE&&(e.onmousedown=function(){d.activeElement&&d.activeElement!==t.input||(t.ieCachedRange=document.selection.createRange(),t.ieCachedScrollTop=t.input.scrollTop)}),e.isHelp||(e.onclick=function(){return this.onmouseout&&this.onmouseout(),c(this),!1})):(o.style.backgroundPosition=e.XShift+" "+i,e.onmouseover=e.onmouseout=e.onclick=function(){})}function p(e){return"string"==typeof e&&(e=a[e]),function(){e.apply(a,arguments)}}function m(){var n=t.buttonBar,r=document.createElement("ul");r.id="wmd-button-row"+e,r.className="wmd-button-row",r=n.appendChild(r);var i=0,a=function(t,n,a,o){var s=document.createElement("li");s.className="wmd-button",s.style.left=i+"px",i+=25;var l=document.createElement("span");return s.id=t+e,s.appendChild(l),s.title=n,s.XShift=a,o&&(s.textOp=o),u(s,!0),r.appendChild(s),s},l=function(t){var n=document.createElement("li");n.className="wmd-spacer wmd-spacer"+t,n.id="wmd-spacer"+t+e,r.appendChild(n),i+=25};b.bold=a("wmd-bold-button",s("bold"),"0px",p("doBold")),b.italic=a("wmd-italic-button",s("italic"),"-20px",p("doItalic")),l(1),b.link=a("wmd-link-button",s("link"),"-40px",p(function(e,t){return this.doLinkOrImage(e,t,!1)})),b.quote=a("wmd-quote-button",s("quote"),"-60px",p("doBlockquote")),b.code=a("wmd-code-button",s("code"),"-80px",p("doCode")),b.image=a("wmd-image-button",s("image"),"-100px",p(function(e,t){return this.doLinkOrImage(e,t,!0)})),l(2),b.olist=a("wmd-olist-button",s("olist"),"-120px",p(function(e,t){this.doList(e,t,!0)})),b.ulist=a("wmd-ulist-button",s("ulist"),"-140px",p(function(e,t){this.doList(e,t,!1)})),b.heading=a("wmd-heading-button",s("heading"),"-160px",p("doHeading")),b.hr=a("wmd-hr-button",s("hr"),"-180px",p("doHorizontalRule")),l(3),b.undo=a("wmd-undo-button",s("undo"),"-200px",null),b.undo.execute=function(e){e&&e.undo()};var c=s(/win/.test(h.platform.toLowerCase())?"redo":"redomac");if(b.redo=a("wmd-redo-button",c,"-220px",null),b.redo.execute=function(e){e&&e.redo()},o){var d=document.createElement("li"),m=document.createElement("span");d.appendChild(m),d.className="wmd-button wmd-help-button",d.id="wmd-help-button"+e,d.XShift="-240px",d.isHelp=!0,d.style.right="0px",d.title=s("help"),d.onclick=o.handler,u(d,!0),r.appendChild(d),b.help=d}g()}function g(){n&&(u(b.undo,n.canUndo()),u(b.redo,n.canRedo()))}var v=t.input,b={};m();var y="keydown";f.isOpera&&(y="keypress"),l.addEvent(v,y,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode,n=String.fromCharCode(t).toLowerCase();switch(n){case"b":c(b.bold);break;case"i":c(b.italic);break;case"l":c(b.link);break;case"q":c(b.quote);break;case"k":c(b.code);break;case"g":c(b.image);break;case"o":c(b.olist);break;case"u":c(b.ulist);break;case"h":c(b.heading);break;case"r":c(b.hr);break;case"y":c(b.redo);break;case"z":c(e.shiftKey?b.redo:b.undo);break;default:return}e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1)}}),l.addEvent(v,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){var t=e.charCode||e.keyCode;if(13===t){var n={};n.textOp=p("doAutoindent"),c(n)}}}),f.isIE&&l.addEvent(v,"keydown",function(e){var t=e.keyCode;return 27===t?!1:void 0}),this.setUndoRedoButtonStates=g}function o(e,t,n){this.hooks=e,this.getString=t,this.converter=n}function s(e){return e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(e,t,n){var r=!1;return t=t.replace(/%(?:[\da-fA-F]{2})|\?|\+|[^\w\d-./[\]]/g,function(e){if(3===e.length&&"%"==e.charAt(0))return e.toUpperCase();switch(e){case"?":return r=!0,"?";case"+":if(r)return"%20"}return encodeURI(e)}),n&&(n=n.trim?n.trim():n.replace(/^\s*/,"").replace(/\s*$/,""),n=n.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),n?t+' "'+n+'"':t})}var l={},c={},u={},d=window.document,p=window.RegExp,h=window.navigator,m={
lineLength:72},f={isIE:/msie/.test(h.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(h.userAgent.toLowerCase())||/msie 5/.test(h.userAgent.toLowerCase()),isOpera:/opera/.test(h.userAgent.toLowerCase())},g={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:'<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:"<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",olist:"Numbered List <ol> Ctrl+O",ulist:"Bulleted List <ul> Ctrl+U",litem:"List item",heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",hr:"Horizontal Rule <hr> Ctrl+R",undo:"Undo - Ctrl+Z",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"Markdown Editing Help"},v="http://",b="http://";Markdown.Editor=function(e,r,s){s=s||{},"function"==typeof s.handler&&(s={helpButton:s}),s.strings=s.strings||{},s.helpButton&&(s.strings.help=s.strings.help||s.helpButton.title);var l=function(e){return s.strings[e]||g[e]};r=r||"";var c=this.hooks=new Markdown.HookCollection;c.addNoop("onPreviewRefresh"),c.addNoop("postBlockquoteCreation"),c.addFalse("insertImageDialog"),this.getConverter=function(){return e};var u,p=this;this.run=function(){if(!u){u=new t(r);var h,m,f=new o(c,l,e),g=new i(e,u,function(){c.onPreviewRefresh()});/\?noundo/.test(d.location.href)||(h=new n(function(){g.refresh(),m&&m.setUndoRedoButtonStates()},u),this.textOperation=function(e){h.setCommandMode(),e(),p.refreshPreview()}),m=new a(r,u,h,g,f,s.helpButton,l),m.setUndoRedoButtonStates();var v=p.refreshPreview=function(){g.refresh(!0)};v()}}},e.prototype.findTags=function(e,t){var n,r=this;e&&(n=l.extendRegExp(e,"","$"),this.before=this.before.replace(n,function(e){return r.startTag=r.startTag+e,""}),n=l.extendRegExp(e,"^",""),this.selection=this.selection.replace(n,function(e){return r.startTag=r.startTag+e,""})),t&&(n=l.extendRegExp(t,"","$"),this.selection=this.selection.replace(n,function(e){return r.endTag=e+r.endTag,""}),n=l.extendRegExp(t,"^",""),this.after=this.after.replace(n,function(e){return r.endTag=e+r.endTag,""}))},e.prototype.trimWhitespace=function(e){var t,n,r=this;e?t=n="":(t=function(e){return r.before+=e,""},n=function(e){return r.after=e+r.after,""}),this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,n)},e.prototype.skipLines=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=1),e++,t++;var r,i;if(navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+p.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+p.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+p.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+p.$1,this.before){for(r=i="";e--;)r+="\\n?",i+="\n";n&&(r="\\n*"),this.before=this.before.replace(new p(r+"$",""),i)}if(this.after){for(r=i="";t--;)r+="\\n?",i+="\n";n&&(r="\\n*"),this.after=this.after.replace(new p(r,""),i)}},l.isVisible=function(e){return window.getComputedStyle?"none"!==window.getComputedStyle(e,null).getPropertyValue("display"):e.currentStyle?"none"!==e.currentStyle.display:void 0},l.addEvent=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},l.removeEvent=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)},l.fixEolChars=function(e){return e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n")},l.extendRegExp=function(e,t,n){(null===t||void 0===t)&&(t=""),(null===n||void 0===n)&&(n="");var r,i=e.toString();return i=i.replace(/\/([gim]*)$/,function(e,t){return r=t,""}),i=i.replace(/(^\/|\/$)/g,""),i=t+i+n,new p(i,r)},c.getTop=function(e,t){var n=e.offsetTop;if(!t)for(;e=e.offsetParent;)n+=e.offsetTop;return n},c.getHeight=function(e){return e.offsetHeight||e.scrollHeight},c.getWidth=function(e){return e.offsetWidth||e.scrollWidth},c.getPageSize=function(){var e,t,n,r;self.innerHeight&&self.scrollMaxY?(e=d.body.scrollWidth,t=self.innerHeight+self.scrollMaxY):d.body.scrollHeight>d.body.offsetHeight?(e=d.body.scrollWidth,t=d.body.scrollHeight):(e=d.body.offsetWidth,t=d.body.offsetHeight),self.innerHeight?(n=self.innerWidth,r=self.innerHeight):d.documentElement&&d.documentElement.clientHeight?(n=d.documentElement.clientWidth,r=d.documentElement.clientHeight):d.body&&(n=d.body.clientWidth,r=d.body.clientHeight);var i=Math.max(e,n),a=Math.max(t,r);return[i,a,n,r]},u.createBackground=function(){var e=d.createElement("div"),t=e.style;e.className="wmd-prompt-background",t.position="absolute",t.top="0",t.zIndex="1000",f.isIE?t.filter="alpha(opacity=50)":t.opacity="0.5";var n=c.getPageSize();return t.height=n[1]+"px",f.isIE?(t.left=d.documentElement.scrollLeft,t.width=d.documentElement.clientWidth):(t.left="0",t.width="100%"),d.body.appendChild(e),e},u.prompt=function(e,t,n){var r,i;void 0===t&&(t="");var a=function(e){var t=e.charCode||e.keyCode;return 27===t?(e.stopPropagation&&e.stopPropagation(),o(!0),!1):void 0},o=function(e){l.removeEvent(d.body,"keyup",a);var t=i.value;return e?t=null:(t=t.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(t)||(t="http://"+t)),r.parentNode.removeChild(r),n(t),!1},s=function(){r=d.createElement("div"),r.className="wmd-prompt-dialog",r.style.padding="10px;",r.style.position="fixed",r.style.width="400px",r.style.zIndex="1001";var n=d.createElement("div");n.innerHTML=e,n.style.padding="5px",r.appendChild(n);var s=d.createElement("form"),u=s.style;s.onsubmit=function(){return o(!1)},u.padding="0",u.margin="0",u.cssFloat="left",u.width="100%",u.textAlign="center",u.position="relative",r.appendChild(s),i=d.createElement("input"),i.type="text",i.value=t,u=i.style,u.display="block",u.width="80%",u.marginLeft=u.marginRight="auto",s.appendChild(i);var p=d.createElement("input");p.type="button",p.onclick=function(){return o(!1)},p.value="OK",u=p.style,u.margin="10px",u.display="inline",u.width="7em";var h=d.createElement("input");h.type="button",h.onclick=function(){return o(!0)},h.value="Cancel",u=h.style,u.margin="10px",u.display="inline",u.width="7em",s.appendChild(p),s.appendChild(h),l.addEvent(d.body,"keyup",a),r.style.top="50%",r.style.left="50%",r.style.display="block",f.isIE_5or6&&(r.style.position="absolute",r.style.top=d.documentElement.scrollTop+200+"px",r.style.left="50%"),d.body.appendChild(r),r.style.marginTop=-(c.getHeight(r)/2)+"px",r.style.marginLeft=-(c.getWidth(r)/2)+"px"};setTimeout(function(){s();var e=t.length;if(void 0!==i.selectionStart)i.selectionStart=0,i.selectionEnd=e;else if(i.createTextRange){var n=i.createTextRange();n.collapse(!1),n.moveStart("character",-e),n.moveEnd("character",e),n.select()}i.focus()},0)};var y=o.prototype;y.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",y.unwrap=function(e){var t=new p("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")},y.wrap=function(e,t){this.unwrap(e);var n=new p("(.{1,"+t+"})( +|$\\n?)","gm"),r=this;e.selection=e.selection.replace(n,function(e,t){return new p("^"+r.prefixes,"").test(e)?e:t+"\n"}),e.selection=e.selection.replace(/\s+$/,"")},y.doBold=function(e,t){return this.doBorI(e,t,2,this.getString("boldexample"))},y.doItalic=function(e,t){return this.doBorI(e,t,1,this.getString("italicexample"))},y.doBorI=function(e,t,n,r){e.trimWhitespace(),e.selection=e.selection.replace(/\n{2,}/g,"\n");var i=/(\**$)/.exec(e.before)[0],a=/(^\**)/.exec(e.after)[0],o=Math.min(i.length,a.length);if(o>=n&&(2!=o||1!=n))e.before=e.before.replace(p("[*]{"+n+"}$",""),""),e.after=e.after.replace(p("^[*]{"+n+"}",""),"");else if(!e.selection&&a){e.after=e.after.replace(/^([*_]*)/,""),e.before=e.before.replace(/(\s?)$/,"");var s=p.$1;e.before=e.before+a+s}else{e.selection||a||(e.selection=r);var l=1>=n?"*":"**";e.before=e.before+l,e.after=l+e.after}},y.stripLinkDefs=function(e,t){return e=e.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(e,n,r,i,a){return t[n]=e.replace(/\s*$/,""),i?(t[n]=e.replace(/["(](.+?)[")]$/,""),i+a):""})},y.addLinkDef=function(e,t){var n=0,r={};e.before=this.stripLinkDefs(e.before,r),e.selection=this.stripLinkDefs(e.selection,r),e.after=this.stripLinkDefs(e.after,r);for(var i="",a=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,o=e.before+e.selection+e.after,s=this.converter.makeHtml(o),l="http://this-is-a-real-link.biz/";-1!=s.indexOf(l);)l+="nicetry/";var c="\n\n",u=0,d=o.replace(a,function v(e,t,n,r,i,o,s){u+=s,c+=" ["+u+"]: "+l+u+"/unicorn\n",u+=t.length,n=n.replace(a,v),u-=t.length;var d=t+n+r+u+o;return u-=s,d});s=this.converter.makeHtml(d+c);var p=function(e){return-1!==s.indexOf(l+e+"/unicorn")},h=function(e){n++,e=e.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+n+"]:"),i+="\n"+e},m=function(e,t,i,o,s,l,c){return p(u+c)?(u+=c+t.length,i=i.replace(a,m),u-=c+t.length,r[s]?(h(r[s]),t+i+o+n+l):e):e},f=e.before.length;e.before=e.before.replace(a,m),u+=f,f=e.selection.length,t?h(t):e.selection=e.selection.replace(a,m),u+=f;var g=n;return e.after=e.after.replace(a,m),e.after&&(e.after=e.after.replace(/\n*$/,"")),e.after||(e.selection=e.selection.replace(/\n*$/,"")),e.after+="\n\n"+i,g},y.doLinkOrImage=function(e,t,n){e.trimWhitespace(),e.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var r;if(!(e.endTag.length>1&&e.startTag.length>0)){if(e.selection=e.startTag+e.selection+e.endTag,e.startTag=e.endTag="",/\n\n/.test(e.selection))return void this.addLinkDef(e,null);var i=this,a=function(a){if(r.parentNode.removeChild(r),null!==a){e.selection=(" "+e.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var o=" [999]: "+s(a),l=i.addLinkDef(e,o);e.startTag=n?"![":"[",e.endTag="]["+l+"]",e.selection||(n?e.selection=i.getString("imagedescription"):e.selection=i.getString("linkdescription"))}t()};return r=u.createBackground(),n?this.hooks.insertImageDialog(a)||u.prompt(this.getString("imagedialog"),v,a):u.prompt(this.getString("linkdialog"),b,a),!0}e.startTag=e.startTag.replace(/!?\[/,""),e.endTag="",this.addLinkDef(e,null)},y.doAutoindent=function(e,t){var n=this,r=!1;e.before=e.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),e.selection||/^[ \t]*(?:\n|$)/.test(e.after)||(e.after=e.after.replace(/^[^\n]*/,function(t){return e.selection=t,""}),r=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(e.before)&&n.doList&&n.doList(e),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(e.before)&&n.doBlockquote&&n.doBlockquote(e),/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&n.doCode&&n.doCode(e),r&&(e.after=e.selection+e.after,e.selection="")},y.doBlockquote=function(e,t){e.selection=e.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(t,n,r,i){return e.before+=n,e.after=i+e.after,r}),e.before=e.before.replace(/(>[ \t]*)$/,function(t,n){return e.selection=n+e.selection,""}),e.selection=e.selection.replace(/^(\s|>)+$/,""),e.selection=e.selection||this.getString("quoteexample");var n,r="",i="";if(e.before){for(var a=e.before.replace(/\n$/,"").split("\n"),o=!1,s=0;s<a.length;s++){var l=!1;n=a[s],o=o&&n.length>0,/^>/.test(n)?(l=!0,!o&&n.length>1&&(o=!0)):l=/^[ \t]*$/.test(n)?!0:o,l?r+=n+"\n":(i+=r+n,r="\n")}/(^|\n)>/.test(r)||(i+=r,r="")}e.startTag=r,e.before=i,e.after&&(e.after=e.after.replace(/^\n?/,"\n")),e.after=e.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(t){return e.endTag=t,""});var c=function(t){var n=t?"> ":"";e.startTag&&(e.startTag=e.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})),e.endTag&&(e.endTag=e.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"}))};/^(?![ ]{0,3}>)/m.test(e.selection)?(this.wrap(e,m.lineLength-2),e.selection=e.selection.replace(/^/gm,"> "),c(!0),e.skipLines()):(e.selection=e.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(e),c(!1),!/^(\n|^)[ ]{0,3}>/.test(e.selection)&&e.startTag&&(e.startTag=e.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(e.selection)&&e.endTag&&(e.endTag=e.endTag.replace(/^\n{0,2}/,"\n\n"))),e.selection=this.hooks.postBlockquoteCreation(e.selection),/\n/.test(e.selection)||(e.selection=e.selection.replace(/^(> *)/,function(t,n){return e.startTag+=n,""}))},y.doCode=function(e,t){var n=/\S[ ]*$/.test(e.before),r=/^[ ]*\S/.test(e.after);if(!r&&!n||/\n/.test(e.selection)){e.before=e.before.replace(/[ ]{4}$/,function(t){return e.selection=t+e.selection,""});var i=1,a=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&(i=0),/^\n(\t|[ ]{4,})/.test(e.after)&&(a=0),e.skipLines(i,a),e.selection?/^[ ]{0,3}\S/m.test(e.selection)?/\n/.test(e.selection)?e.selection=e.selection.replace(/^/gm,"    "):e.before+="    ":e.selection=e.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm,""):(e.startTag="    ",e.selection=this.getString("codeexample"))}else e.trimWhitespace(),e.findTags(/`/,/`/),e.startTag||e.endTag?e.endTag&&!e.startTag?(e.before+=e.endTag,e.endTag=""):e.startTag=e.endTag="":(e.startTag=e.endTag="`",e.selection||(e.selection=this.getString("codeexample")))},y.doList=function(e,t,n){var r=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,i=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,a="-",o=1,s=function(){var e;return n?(e=" "+o+". ",o++):e=" "+a+" ",e},l=function(e){return void 0===n&&(n=/^\s*\d/.test(e)),e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(e){return s()})};if(e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!e.before||/\n$/.test(e.before)||/^\n/.test(e.startTag)||(e.before+=e.startTag,e.startTag=""),e.startTag){var c=/\d+[.]/.test(e.startTag);if(e.startTag="",e.selection=e.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(e),e.skipLines(),c&&(e.after=e.after.replace(i,l)),n==c)return}var u=1;e.before=e.before.replace(r,function(e){return/^\s*([*+-])/.test(e)&&(a=p.$1),u=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.selection||(e.selection=this.getString("litem"));var d=s(),h=1;e.after=e.after.replace(i,function(e){return h=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.trimWhitespace(!0),e.skipLines(u,h,!0),e.startTag=d;var f=d.replace(/./g," ");this.wrap(e,m.lineLength-f.length),e.selection=e.selection.replace(/\n/g,"\n"+f)},y.doHeading=function(e,t){if(e.selection=e.selection.replace(/\s+/g," "),e.selection=e.selection.replace(/(^\s+|\s+$)/g,""),!e.selection)return e.startTag="## ",e.selection=this.getString("headingexample"),void(e.endTag=" ##");var n=0;e.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(e.startTag)&&(n=p.lastMatch.length),e.startTag=e.endTag="",e.findTags(null,/\s?(-+|=+)/),/=+/.test(e.endTag)&&(n=1),/-+/.test(e.endTag)&&(n=2),e.startTag=e.endTag="",e.skipLines(1,1);var r=0==n?2:n-1;if(r>0){var i=r>=2?"-":"=",a=e.selection.length;for(a>m.lineLength&&(a=m.lineLength),e.endTag="\n";a--;)e.endTag+=i}},y.doHorizontalRule=function(e,t){e.startTag="----------\n",e.selection="",e.skipLines(2,1,!0)}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function c(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u,d,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(15),g=r(f),v=n(68),b=r(v),y=function(){},w=(d=u=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={height:null,minHeight:-(1/0),maxHeight:1/0},n._onNextFrameActionId=null,n._rootDOMNode=null,n._onChange=n._onChange.bind(n),n._resizeComponent=n._resizeComponent.bind(n),n._onRootDOMNode=n._onRootDOMNode.bind(n),n}return s(t,e),m(t,[{key:"render",value:function(){var e=this.props,t=e.valueLink,n=i(e,["valueLink"]);n=h({},n),"object"===("undefined"==typeof t?"undefined":p(t))&&(n.value=this.props.valueLink.value),n.style=h({},n.style,{height:this.state.height});var r=Math.max(n.style.maxHeight?n.style.maxHeight:1/0,this.state.maxHeight);return r<this.state.height&&(n.style.overflow="hidden"),g["default"].createElement("textarea",h({},n,{onChange:this._onChange,ref:this._onRootDOMNode}))}},{key:"componentDidMount",value:function(){this._resizeComponent(),window.addEventListener("resize",this._resizeComponent)}},{key:"componentWillReceiveProps",value:function(){this._clearNextFrame(),this._onNextFrameActionId=l(this._resizeComponent)}},{key:"componentDidUpdate",value:function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height)}},{key:"componentWillUnmount",value:function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeComponent)}},{key:"_clearNextFrame",value:function(){this._onNextFrameActionId&&c(this._onNextFrameActionId)}},{key:"_onRootDOMNode",value:function(e){this._rootDOMNode=e}},{key:"_onChange",value:function(e){this._resizeComponent();var t=this.props,n=t.valueLink,r=t.onChange;n?n.requestChange(e.target.value):r(e)}},{key:"_resizeComponent",value:function(){var e=this.props.useCacheForDOMMeasurements;this.setState((0,b["default"])(this._rootDOMNode,e,this.props.rows||this.props.minRows,this.props.maxRows))}},{key:"focus",value:function(){this._rootDOMNode.focus()}},{key:"blur",value:function(){this._rootDOMNode.blur()}},{key:"value",get:function(){return this._rootDOMNode.value},set:function(e){this._rootDOMNode.value=e}},{key:"selectionStart",get:function(){return this._rootDOMNode.selectionStart},set:function(e){this._rootDOMNode.selectionStart=e}},{key:"selectionEnd",get:function(){return this._rootDOMNode.selectionEnd},set:function(e){this._rootDOMNode.selectionEnd=e}}]),t}(g["default"].Component),u.propTypes={value:g["default"].PropTypes.string,onChange:g["default"].PropTypes.func,onHeightChange:g["default"].PropTypes.func,useCacheForDOMMeasurements:g["default"].PropTypes.bool,rows:g["default"].PropTypes.number,minRows:g["default"].PropTypes.number,maxRows:g["default"].PropTypes.number},u.defaultProps={onChange:y,onHeightChange:y,useCacheForDOMMeasurements:!1},d);t["default"]=w},function(e,t){"use strict";function n(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],a=arguments.length<=3||void 0===arguments[3]?null:arguments[3];s||(s=document.createElement("textarea"),document.body.appendChild(s));var o=r(e,t),l=o.paddingSize,c=o.borderSize,u=o.boxSizing,d=o.sizingStyle;s.setAttribute("style",d+";"+i),s.value=e.value||e.placeholder||"";var p=-(1/0),h=1/0,m=s.scrollHeight;if("border-box"===u?m+=c:"content-box"===u&&(m-=l),null!==n||null!==a){s.value="";var f=s.scrollHeight-l;null!==n&&(p=f*n,"border-box"===u&&(p=p+l+c),m=Math.max(p,m)),null!==a&&(h=f*a,"border-box"===u&&(h=h+l+c),m=Math.min(h,m))}return{height:m,minHeight:p,maxHeight:h}}function r(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&o[n])return o[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),s=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),l=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),c=a.map(function(e){return e+":"+r.getPropertyValue(e)}).join(";"),u={sizingStyle:c,paddingSize:s,borderSize:l,boxSizing:i};return t&&n&&(o[n]=u),u}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var i="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",a=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],o={},s=void 0;e.exports=t["default"]},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(23),a=n(7),o=n(70),s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this,t=null,n=null;(this.props.isCurrentUsersPost||this.props.showAdmin)&&(n=React.createElement("a",{href:"",onClick:function(t){t.preventDefault(),e.props.onEditClicked(e.props.id)}},"edit")),this.props.showAdmin&&(t=React.createElement("a",{href:"",onClick:function(t){t.preventDefault(),e.props.onDeleteClicked(e.props.id)}},"delete"));var r=this.props.editorUserId?React.createElement("span",{className:"forum-message__message-edit-notice"}," · last edited ",React.createElement(a.TimeAgo,{time:this.props.editedTime})," by ",React.createElement("a",{href:this.props.editorUserProfileUrl},this.props.editorDisplayName)):null;return React.createElement("div",{className:"forum-message"},React.createElement("a",{name:this.props.id.toString(),style:{marginTop:"-50px"}})," ",React.createElement("div",{className:"forum-message__info-side"},React.createElement("div",{className:"forum-message__vote-section"},React.createElement(i.VoteButton,{totalVotes:this.props.totalVotes,hasAlreadyVotedUp:this.props.currentUserHasVotedUp,hasAlreadyVotedDown:this.props.currentUserHasVotedDown,canUpvote:!this.props.isCurrentUsersPost,canDownvote:!this.props.isCurrentUsersPost,voteDownUrl:"/forums/messages/downvote?forumMessageId="+this.props.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+this.props.id}))),React.createElement("div",{className:"forum-message__content-side"},React.createElement("div",{className:"forum-message__content-top"},React.createElement("div",{className:"forum-message__content-upper-row"},React.createElement("div",{className:"forum-message__avatar"},React.createElement("a",{href:this.props.userProfileUrl,title:this.props.displayName},React.createElement("img",{src:this.props.userThumbnailUrl}))),React.createElement("div",{className:"forum-message__message-metadata"},React.createElement("span",{className:"forum-message__author"},React.createElement("a",{href:this.props.userProfileUrl,title:this.props.displayName},this.props.displayName)),r,this.props.postedTime?React.createElement("span",{className:"forum-message__time-ago"},React.createElement(a.TimeAgo,{time:this.props.postedTime})):null)),React.createElement(o.ForumMessageContent,{rawHtml:this.props.rawHtml,rawMarkdown:this.props.rawMarkdown})),React.createElement("div",{className:"forum-message__content-bottom"},React.createElement("div",{className:"forum-message__action-section"},React.createElement("span",null," "),React.createElement("a",{href:"#"+this.props.id.toString()},"permalink"),n||t?React.createElement("span",null," | "):null,n,n&&t?React.createElement("span",null," | "):null,t))))},t}(React.Component);t.ForumMessage=s},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.componentDidUpdate=function(){var e=this,t=["$$","\\[","\\("],n=t.some(function(t){return(e.props.rawHtml||"").indexOf(t)>-1||e.props.rawMarkdown.indexOf(t)>-1});n&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,this.renderedDiv])},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"forum-message-content",dangerouslySetInnerHTML:{__html:this.props.rawHtml||""},ref:function(t){e.renderedDiv=t}})},t}(React.Component);t.ForumMessageContent=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e,t=this;return e=this.props.operationBeingProcessed?React.createElement("div",{className:"script-options-pane__processing"},"Processing..."):React.createElement("div",{className:"script-options-pane__hide-script-section"},React.createElement("input",{type:"checkbox",onClick:function(){return t.props.toggleHideScript()},defaultChecked:this.props.scriptIsHidden}),"Hide Script"),React.createElement(i.ContentBox,{title:"Options"},React.createElement("div",{className:"script-options-pane__section"},e))},t}(React.Component);t.ScriptRegularOptionsPane=a;var o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this;return React.createElement(i.ContentBox,{title:"Admin"},React.createElement("div",{className:"script-options-pane__section"},React.createElement("input",{type:"checkbox",onClick:function(){return e.props.toggleScriptIsLanguageTemplate()},defaultChecked:this.props.scriptIsLanguageTemplate}),"Language Template ",React.createElement("br",null),React.createElement("br",null),React.createElement("div",{onClick:function(){return e.props.rerunScript()},className:"script-options-pane__link"},"Rerun Script")))},t}(React.Component);t.ScriptAdminOptionsPane=o;var s=function(e){function t(t){e.call(this,t),this.state={scriptIsHidden:this.props.scriptIsInitiallyHidden,operationBeingProcessed:!1,scriptIsLanguageTemplate:this.props.scriptIsInitiallyLanguageTemplate}}return r(t,e),t.prototype.handleToggleScriptIsHidden=function(){var e=this;this.setState({operationBeingProcessed:!0});var t=!this.state.scriptIsHidden;$.ajax({url:this.props.toggleScriptIsHiddenUrl+"?isHidden="+t,type:"POST",success:function(){e.setState({scriptIsHidden:t,operationBeingProcessed:!1}),e.props.onScriptHiddenStateChange(t)},error:function(e,t,n){alert("Sorry, an error occurred. Please reload the page.")}})},t.prototype.handleToggleScriptIsLanguageTemplate=function(){var e=this,t=!this.state.scriptIsLanguageTemplate;$.ajax({type:"POST",url:this.props.toggleScriptLanguageTemplateUrl,data:{isTemplate:t},success:function(){e.setState({scriptIsLanguageTemplate:t}),e.props.onScriptLanguageTemplateChange(t)}})},t.prototype.handleRerunScript=function(){$.ajax({url:this.props.rerunScriptUrl,type:"POST",success:function(e){console.log("Script re-queued.")}})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"script-options-pane"},React.createElement(a,{toggleHideScript:function(){return e.handleToggleScriptIsHidden()},scriptIsHidden:this.state.scriptIsHidden,operationBeingProcessed:this.state.operationBeingProcessed}),this.props.showAdmin?React.createElement(o,{rerunScript:function(){return e.handleRerunScript()},scriptIsLanguageTemplate:this.props.scriptIsInitiallyLanguageTemplate,toggleScriptIsLanguageTemplate:function(){return e.handleToggleScriptIsLanguageTemplate()}}):null)},t}(React.Component);t.ScriptOptionsPaneContainer=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(29),o=n(28),s=n(51),l=n(23),c=n(73),u=n(4),d=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this,t=React.createElement(a.MediaQuery,{minWidth:a.Breakpoints.desktopLargeMin},React.createElement("div",{className:"pageheader__thumbnail-script-overlay"},React.createElement("div",{className:"pageheader__overlay-text"},this.props.parentName))),n=React.createElement(a.MediaQuery,{minWidth:a.Breakpoints.desktopLargeMin},React.createElement("div",{className:"pageheader__author-script-overlay"},React.createElement("div",{className:"pageheader__overlay-text"},this.props.userName))),r=null,d=!1;return this.props.forkParentUrl&&""!==this.props.forkParentUrl&&(r=React.createElement(s.PageHeaderForkInfo,i({},this.props)),d=!0),React.createElement("div",{className:"kernel-header"},React.createElement(s.PageHeader,{backgroundClass:"kernel-header__container"},React.createElement(s.PageHeaderTopRowSafe,null,React.createElement("div",{className:"kernel-header__top"},React.createElement("a",{className:"kernel-header__title",href:this.props.titleUrl},this.props.title),React.createElement("div",{className:"kernel-header__fork-info"},r),React.createElement("div",{className:"kernel-header__thumbnails"},React.createElement(s.PageHeaderThumbnail,{classNameElement:"author",classNameModifier:"script",thumbnailOverlay:n,targetUrl:this.props.userUrl,imageUrl:this.props.userAvatarImageUrl}),React.createElement(s.PageHeaderThumbnail,{classNameElement:"thumbnail",classNameModifier:"script",thumbnailOverlay:t,targetUrl:this.props.parentUrl,imageUrl:this.props.thumbnailImageUrl})),React.createElement("div",{className:"kernel-header__upvote"},React.createElement(l.VoteButton,i({},this.props.voteButton))),React.createElement("div",{className:u("kernel-header__info",{"kernel-header__info--forked":d})},React.createElement(s.PageHeaderUserNameAndRunTime,{runTimeVerb:"run",userName:this.props.userName,userUrl:this.props.userUrl,dateUpdated:this.props.dateUpdated,showDateUpdated:!0,showUserName:!0}),React.createElement("span",null," · ",this.props.scriptLanguage," · ",this.props.totalViews," views"),this.props.datasetHidden?React.createElement("span",null,React.createElement("br",null)," using data from ",this.props.parentName):React.createElement("span",null,React.createElement("br",null)," using data from ",React.createElement("a",{href:this.props.parentUrl},this.props.parentName))," · ",React.createElement("span",null,React.createElement(c.PrivacyToggle,{kernelType:"Script",displayMode:"Link",scriptId:this.props.scriptId,isPrivate:this.props.isPrivate}))))),React.createElement(s.PageHeaderBottomRow,{pageMessages:this.props.pageMessages
},React.createElement(o.OverflowX,null,React.createElement(s.PageHeaderNav,{classNameModifier:"script",menuLinks:this.props.menuLinks,rightMenuLinks:this.props.rightMenuLinks,activeTab:this.props.activeTab,changeActiveTab:function(t){return e.props.onActiveTabChange(t)}}),this.props.callToAction?React.createElement(a.MediaQuery,{minWidth:a.Breakpoints.tabletMin},React.createElement("a",{href:this.props.callToAction.href,title:this.props.callToAction.title,className:"pageheader__calltoaction",onClick:function(t){return e.props.callToAction.actionCallback?e.props.callToAction.actionCallback(t):""}},this.props.callToAction.text)):""))))},t}(React.Component);t.KernelHeader=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(40),a=n(74),o=[{label:"Private",value:"private"},{label:"Public",value:"public"}],s=function(e){function t(t){var n=this;e.call(this,t),this.onPrivacyChange=function(e){"public"===e&&n.showModal()},this.onLinkClick=function(){n.showModal()},this.onConfirm=function(){n.setState({isConfirmShown:!1,isPrivate:!1})},this.onCancel=function(){n.setState({isConfirmShown:!1})},this.renderOption=function(e){return"private"===e.value?React.createElement("span",null,React.createElement("i",{className:"fa fa-eye-slash"})," Private"):React.createElement("span",null,React.createElement("i",{className:"fa fa-eye"})," Public")},this.state={isConfirmShown:!1,isPrivate:this.props.isPrivate}}return r(t,e),t.prototype.showModal=function(){this.setState({isConfirmShown:!0})},t.prototype.renderToggle=function(){return"SelectBox"===this.props.displayMode?React.createElement(i.SelectBox,{className:"privacy-toggle__privacy-select--select-box",options:o,onChange:this.onPrivacyChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption,searchable:!1,value:"private",disabled:this.props.disabled}):React.createElement("span",{className:"privacy-toggle__privacy-select--link"},React.createElement("i",{className:"fa fa-eye-slash"})," Private",React.createElement("span",{className:"privacy-toggle__make-public-link",onClick:this.onLinkClick},"Make Public"))},t.prototype.render=function(){return React.createElement("div",{className:"privacy-toggle"},React.createElement("div",null,this.state.isPrivate?this.renderToggle():React.createElement("span",{className:"privacy-toggle__public-indicator"},this.renderOption(o[1]))),React.createElement(a.PrivacyModal,{onConfirm:this.onConfirm,onCancel:this.onCancel,isShown:this.state.isConfirmShown,kernelType:this.props.kernelType,scriptId:this.props.scriptId}))},t}(React.Component);t.PrivacyToggle=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(40),a=function(e){function t(){var t=this;e.apply(this,arguments),this.onConfirm=function(){$.post("/kernels/"+t.props.scriptId+"/make-public").then(function(){i.PageMessages.success("Your "+t.props.kernelType+" is now public.",{clear:!0}),t.setState({isShown:!1})}).then(t.props.onConfirm)}}return r(t,e),t.prototype.render=function(){return React.createElement(i.Confirm,{title:"Make "+this.props.kernelType+" Public",cancelText:"No thanks",confirmText:"Ok, make public",onCancel:this.props.onCancel,onConfirm:this.onConfirm,isShown:this.props.isShown},"Enabling this will allow other users to view and fork your ",this.props.kernelType,". Your code will be released under the ",React.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",target:"_blank",rel:"nofollow"},"Apache 2.0")," open source license. Please note that this is not reversible.")},t}(React.Component);t.PrivacyModal=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(3),o=n(76),s=n(6),l=n(81),c=function(e){function t(t){var n=this;e.call(this,t),this.endsWidth=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},this.validationRules=[{isValid:function(){return 0==(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).filter(function(e){return n.endsWidth(e.name,".xlsx")||n.endsWidth(e.name,".xls")||n.endsWidth(e.name,".xlsx.zip")||n.endsWidth(e.name,".xls.zip")}).length},id:"dataset-excel-files",htmlMessage:function(){return"You have uploaded one or more Excel files. It's highly recommended that you <a href='https://support.office.com/en-us/article/Import-or-export-text-txt-or-csv-files-5250ac4c-663c-47ce-937b-339e391393ba#bmexport' target='_blank'>save these as .csv files</a>, as these are much easier to work with."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.validationRules.filter(function(e){return"dataset-excel-files"==e.id})[0].isValid()||0==(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).length||0!=(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).filter(function(e){return n.endsWidth(e.name.toLowerCase(),".csv")||n.endsWidth(e.name.toLowerCase(),".csv.zip")||"database.sqlite"==e.name.toLowerCase()}).length},id:"dataset-no-csv-or-sqlite-files",htmlMessage:function(){return"It looks like you're missing a .csv or database.sqlite file. If this is not an image dataset, we recommend that you include either a database.sqlite file, or one or more .csv files, as these are easiest to work with."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.state.originalImageUrl||0==n.state.originalImageUrl.length||!n.state.coverImageUrl||0==n.state.coverImageUrl.length||-1==n.state.originalImageUrl.indexOf("default-backgrounds")},id:"dataset-default-image",htmlMessage:function(){return"Choosing a topical image other than one of the generated random images may help your dataset stand out more."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.state.isEditingNewVersion||n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed<=0},id:"dataset-too-many-files",message:function(){return"You cannot upload more than "+n.props.maxTopLevelFilesAllowed+" files. You will need to delete at least "+(n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed)+" "+a("file",n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed)+" before you can save your new version."},alwaysValidate:!0},{isValid:function(){return!n.state.isEditingNewVersion||0==n.state.newVersionFiles.filter(function(e){return 0==e.totalBytes}).length},id:"dataset-zero-byte-files",message:function(){return"You cannot upload empty files. Please remove them from your list before saving."},alwaysValidate:!0},{isValid:function(){return n.state.title&&n.state.title.trim().length>0},id:"dataset-no-title",message:function(){return"Please enter a title for your dataset."}},{isValid:function(){return!n.state.title||0==n.state.title.trim().length||n.state.title.trim().length>6&&n.state.title.trim().length<50},id:"dataset-title-length",message:function(){return"The title must be between 6 and 50 characters in length."},alwaysValidate:!0},{isValid:function(){return!(!n.state.overview||!n.state.overview.trim())},id:"dataset-no-overview",message:function(){return"Please enter a subtitle for your dataset."}},{isValid:function(){return!(n.state.overview&&(n.state.overview.trim().length<20||n.state.overview.trim().length>80))},id:"dataset-overview-length",message:function(){return"The subtitle must be between 20 and 80 characters in length."},alwaysValidate:!0},{isValid:function(){return!(n.state.slug&&(n.state.slug.trim().length<3||n.state.slug.trim().length>50))},id:"dataset-slug-length",message:function(){return"The URL must be between 3 and 50 characters."}},{isValid:function(){return n.state.coverImageUrl&&n.state.coverImageUrl&&n.state.coverImageUrl.trim().length>0},id:"dataset-no-image",htmlMessage:function(){return"Please click the <span class='fa fa-camera'></span> to the right to set up an image for your dataset. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images."}},{isValid:function(){return!(!n.state.description||!n.state.description.trim())},id:"dataset-no-description",message:function(){return"Please enter a description for your dataset."}},{isValid:function(){return!(n.state.description&&n.state.description.trim().length>2e4)},id:"dataset-description-length",message:function(){return"Your description must be fewer than 20,000 characters."}},{isValid:function(){return!(!n.state.licenseId&&!n.state.privateGroupId)},id:"dataset-no-license",message:function(){return"Please select a license for your dataset."}},{isValid:function(){return!n.state.isEditingNewVersion||!(n.state.newVersionDescription&&n.state.newVersionDescription.trim().length>2e4)},id:"dataset-version-description-length",message:function(){return"Your version notes must be fewer than 20,000 characters."}},{isValid:function(){return!n.state.isEditingNewVersion||!(!n.state.newVersionDescription||!n.state.newVersionDescription.trim())},id:"dataset-no-version-description",message:function(){return"Please enter a description for this version."}},{isValid:function(){return!n.state.isEditingNewVersion||n.state.newVersionFiles.length>0},id:"dataset-no-version-files",message:function(){return"You must upload at least one file for this version."}},{isValid:function(){return!n.state.isEditingNewVersion||0==n.state.newVersionFiles.filter(function(e){return!e.description}).length},id:"dataset-new-version-files-with-no-description",message:function(){return"Please make sure all of your files have descriptions."}},{isValid:function(){return 0==n.state.files.filter(function(e){return e.description&&e.description.trim().length>2e4}).length},id:"dataset-files-description-lengths",message:function(){return"Your file descriptions must be fewer than 20,000 characters."}},{isValid:function(){return 0==n.state.files.filter(function(e){return!e.description}).length},id:"dataset-files-with-no-description",message:function(){return"Please make sure all of your files have descriptions."}},{isValid:function(){return 0==n.state.datasetVersions.filter(function(e){return!e.versionNotes}).length},id:"dataset-versions-with-no-description",message:function(){return"Please make sure all of your versions have descriptions."}}],this.processingNewDatasetPageMessage=function(){return{type:"info",htmlMessage:"We're processing "+(n.props.creatorUserId==s.Current.userId?"your":"the")+" dataset files. Once we're done, "+(n.props.creatorUserId==s.Current.userId?"your":"the")+" dataset will be available publicly."}},this.processingNewVersionPageMessage=function(){return{type:"info",htmlMessage:n.props.canEdit?"We're processing "+(n.props.creatorUserId==s.Current.userId?"your":"the")+" dataset files. Until they're complete, users will continue to run kernels against the current version's files.":"A new version of this dataset is in progress. Until it completes, new kernels will be run against the current version."}},this.onChangeTab=function(e){if("contributors"==e){var t={};t[e+"IsLoading"]=!0,n.setState(t),i.ajax({url:n.props.datasetUrl+"/"+e+".json",type:"GET",success:function(r){t[e]=r,t[e+"IsLoading"]=!1,n.setState(t)}})}history.replaceState({},null,n.props.datasetUrl+("home"!=e?"/"+e:"")),n.setState({currentTab:e})},this.isDescriptionValid=function(e){return e.length>0&&e.length<100},this.onDatasetPropChanged=function(e,t){var r={};"title"!=e||!n.state.isNewDataset||n.state.slug!=n.convertToSlug(n.state.title)&&(n.state.slug||n.state.title)||(r.slug=n.convertToSlug(t)),r[e]=t,n.setState(r,function(){return n.clearFixedValidations()})},this.onPrivateGroupChanged=function(e){n.setState({privateGroupId:e})},this.onLicenseChanged=function(e,t){n.setState({license:t,licenseId:e},function(){n.clearFixedValidations()})},this.onDatasetFilePropChanged=function(e,t,r,a){var o=i.extend(!0,[],a==l.FileListIndex.NewFiles?n.state.newVersionFiles:n.state.files);o[e][t]=r,n.setState(a==l.FileListIndex.NewFiles?{newVersionFiles:o}:{files:o},function(){return n.clearFixedValidations()})},this.onDatasetVersionPropChanged=function(e,t,r){var a=i.extend(!0,[],n.state.datasetVersions);a[e][t]=r,n.setState({datasetVersions:a},function(){return n.clearFixedValidations()})},this.onPublishedChange=function(e){n.setState({isPublished:e,isFeatured:e&&n.state.isFeatured})},this.onFeaturedChange=function(e){n.setState({isPublished:e||n.state.isPublished,isFeatured:e})},this.onRemovedChange=function(e){n.setState({isRemoved:e})},this.onDatasetEditingStateCancelled=function(e,t){var r={},a={};r["isEditing"+e]=!1,a[t]=n.state.lastSavedState[t],"Slug"==e&&(a.isFeatured=n.state.lastSavedState.isFeatured,a.isPublished=n.state.lastSavedState.isPublished,a.isRemoved=n.state.lastSavedState.isRemoved,a.privateGroupId=n.state.lastSavedState.privateGroupId),"License"==e&&(a.licenseId=n.state.lastSavedState.licenseId),n.setState(i.extend({},r,a),function(){return n.clearFixedValidations()})},this.onDatasetEditingStateChanged=function(e){if("NewVersion"==e){if(n.state.isEditingNewVersion)return void n.onSaveNewVersion();n.setState({showNewVersionProgress:!1,newVersionFiles:[],newVersionDescription:""})}var t=n.state["isEditing"+e],r={};return r["isEditing"+e]=!t,"Slug"==e&&t&&(r.slug=n.cleanseSlug(n.state.slug)),!t||n.state.isNewDataset?(n.setState(r),void(t&&n.state.isNewDataset&&n.setState({lastSavedState:n.state}))):void n.setState(i.extend(n.state,{pageMessages:new Array}),function(){var a=n.getValidationPageMessages(),o=a.filter(function(e){return"error"==e.type}).length>0;n.setState({pageMessages:a},function(){o||n.setState(r,function(){i.ajax({url:n.state.datasetUrl+"/save",type:"POST",contentType:"application/json",data:JSON.stringify(n.state,function(e,t){return"lastSavedState"!=e?t:void 0}),success:function(r){n.setState({lastSavedState:n.state}),r.datasetUrl&&"Slug"==e&&history.replaceState({},null,r.datasetUrl),r.datasetUrl&&"HeaderInfo"==e&&(document.title=n.state.title+" | Kaggle"),n.setState({pageMessages:r.pageMessages},function(){if(!r.success){var i={};i["isEditing"+e]=t,n.setState(i)}})},error:function(e){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}],isSavingNewVersion:!1})}})})})})},this.onCancelImageUploader=function(){i("body").css({overflow:"visible"}),i("html").css("overflow","visible"),n.setState(i.extend({},n.state,{isEditingImages:!1}))},this.onShowImageUploader=function(){n.setState(i.extend({},n.state,{isEditingImages:!0}))},this.onUpdateImages=function(e,t){e.append("datasetId",n.props.datasetId);var r=t[0];e.append("coverImageLeft",r.left),e.append("coverImageTop",r.top),e.append("coverImageWidth",r.width),e.append("coverImageHeight",r.height);var a=t[1];return e.append("cardImageLeft",a.left),e.append("cardImageTop",a.top),e.append("cardImageWidth",a.width),e.append("cardImageHeight",a.height),e.append("originalImageUrl",n.state.originalImageUrl),i.ajax({url:"/datasets/save/image",type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){var t={coverImageUrl:e.coverImageUrl,cardImageUrl:e.cardImageUrl,thumbnailImageUrl:e.thumbnailImageUrl,originalImageUrl:e.originalImageUrl,coverImageWidth:r.width,coverImageHeight:r.height,coverImageLeft:r.left,coverImageTop:r.top,cardImageWidth:a.width,cardImageHeight:a.height,cardImageLeft:a.left,cardImageTop:a.top};i("body").css({overflow:"visible"}),i("html").css("overflow","visible"),n.setState(i.extend({},n.state,t,{isEditingImages:!1}),function(){n.clearFixedValidations(function(){var e=i.extend(!0,[],n.state.pageMessages);e.push({type:"success",message:"Your images have been updated."}),n.setState(i.extend({},n.state,{pageMessages:e}))})})}})},this.onFileUploadFinished=function(e,t,r){var i=n.state.files.filter(function(t){return t.name==e});0==i.length&&(i=n.state.files.filter(function(t){return t.name==e.replace(".zip","")})),0==i.length&&(i=n.state.files.filter(function(t){return t.name.replace(/\.[^/.]+$/,"")==e.replace(".zip","")}));var a="";1==i.length&&(a=i[0].description),n.setState({newVersionFiles:n.state.newVersionFiles.concat({id:0,name:e,totalBytes:r,description:a,blobToken:t}).sort(function(e,t){return e.name.localeCompare(t.name)})},function(){return n.clearFixedValidations()})},this.onToggleCurrentVersionFiles=function(){n.setState(i.extend({},n.state,{showCurrentVersionFiles:!n.state.showCurrentVersionFiles}))},this.onDeleteNewVersionFile=function(e){n.setState({newVersionFiles:n.state.newVersionFiles.filter(function(t){return t.name!=e}).sort(function(e,t){return e.name.localeCompare(t.name)})},function(){return n.clearFixedValidations()})},this.onSaveNewVersion=function(){n.setState({pageMessages:[]},function(){var e=n.getValidationPageMessages(),t=e.filter(function(e){return"error"==e.type}).length>0;n.setState({pageMessages:e},function(){t||n.setState({pageMessages:[n.processingNewVersionPageMessage()]},function(){n.setState({isSavingNewVersion:!0,currentStatusPercentComplete:0,newDatasetVersionStatus:"notYetPersisted",downloadSize:0,needsNewVersionMetadata:!0,isEditingNewVersion:!1,canEdit:!1}),i.ajax({url:n.state.datasetUrl+"/save/version",type:"POST",contentType:"application/json",data:JSON.stringify({newVersionFiles:n.state.newVersionFiles,blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription,isPublished:n.state.isPublished}),success:function(e){!e.success&&e.pageMessages&&(clearInterval(n.timer),n.setState({pageMessages:e.pageMessages},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})}))}}),n.timer=setInterval(n.pollCurrentDatasetVersionStatus,1e3)})})})},this.onSaveNewDataset=function(){n.setState({pageMessages:[]},function(){var e=n.getValidationPageMessages(),t=e.filter(function(e){return"error"==e.type}).length>0;e.length&&i.ajax({url:"/datasets/log-validation",type:"POST",contentType:"application/json",data:JSON.stringify({datasetName:n.state.title,validations:e.map(function(e){return e.id.substring(8)})})}),n.setState({pageMessages:e},function(){t||(goog_report_conversion(),n.setState({pageMessages:[n.processingNewDatasetPageMessage()]},function(){n.setState({isSavingNewVersion:!0,currentStatusPercentComplete:0,newDatasetVersionStatus:"notYetPersisted",needsNewVersionMetadata:!0,isEditingNewVersion:!1}),i.ajax({url:"/datasets/save",type:"POST",contentType:"application/json",data:JSON.stringify(i.extend({},n.state,{newVersionFiles:n.state.newVersionFiles,blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription}),function(e,t){return"lastSavedState"!=e?t:void 0}),success:function(e){e.success?n.setState({datasetId:e.datasetId,datasetVersionId:e.datasetVersionId,isEditingSlug:!1,isEditingHeader:!1,isEditingDescription:!1,isEditingFiles:!1,isEditingLicense:!1,isEditingImages:!1,isEditingHeaderInfo:!1,isEditingVersions:!1,canEdit:!0,isNewDataset:!1,datasetVersions:e.datasetVersions,forumUrl:e.forumUrl,newScriptUrl:e.newScriptUrl,datasetUrl:e.url},function(){history.replaceState({},null,e.url),document.title=n.state.title+" | Kaggle",i.ajax({url:n.state.datasetUrl+"/save/version",type:"POST",contentType:"application/json",data:JSON.stringify({newVersionFiles:n.state.newVersionFiles,blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription,isPublished:n.state.isPublished}),success:function(e){!e.success&&e.pageMessages&&(clearInterval(n.timer),n.setState({pageMessages:e.pageMessages},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})}))},error:function(){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'}]},function(){clearInterval(n.timer),n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})}}),n.timer=setInterval(n.pollCurrentDatasetVersionStatus,1e3)}):n.setState({pageMessages:e.pageMessages},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})},error:function(){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'}]},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})}})}))})})},this.pollCurrentDatasetVersionStatus=function(){i.ajax({url:n.state.datasetUrl+"/poll",type:"POST",data:{datasetId:n.state.datasetId,needsMetadata:n.state.needsNewVersionMetadata},success:function(e){return"ready"==e.status||"failed"==e.status?(clearInterval(n.timer),void n.setState({pageMessages:e.pageMessages},function(){n.setState({newDatasetVersionStatus:e.status,currentStatusPercentComplete:e.currentStatusPercentComplete,isSavingNewVersion:!1,canEdit:n.props.canEdit,showNewVersionProgress:"ready"==e.status,files:e.dataset.files,datasetVersions:e.dataset.datasetVersions,downloadSize:e.dataset.downloadSize}),n.setState({lastSavedState:n.state})})):void n.setState(i.extend({newDatasetVersionStatus:e.status,currentStatusPercentComplete:e.currentStatusPercentComplete},n.state.needsNewVersionMetadata&&e.datasetVersions&&e.files?{needsNewVersionMetadata:!1,files:e.files,datasetVersions:e.datasetVersions,datasetVersionId:e.datasetVersions.id,newVersionFiles:[],showCurrentVersionFiles:!1}:{}))}})},this.state=i.extend({},this.props,{isEditingHeader:this.props.isNewDataset,isEditingDescription:this.props.isNewDataset,isEditingFiles:this.props.isNewDataset,isEditingLicense:!1,isEditingImages:!1,isEditingHeaderInfo:this.props.isNewDataset,isEditingVersions:!1,isEditingNewVersion:this.props.isNewDataset,isEditingSlug:this.props.isNewDataset,newVersionFiles:[],needsNewVersionMetadata:!1,newVersionDescription:this.props.isNewDataset?"Initial release":null,hasLoadedFeed:"feed"==this.props.currentTab}),this.state.lastSavedState=this.state,this.props.isSavingNewVersion&&(this.timer=setInterval(this.pollCurrentDatasetVersionStatus,1e3)),window.onbeforeunload=function(){return!n.state.isNewDataset&&(n.state.isEditingDescription||n.state.isEditingFiles||n.state.isEditingNewVersion||n.state.isEditingHeader||n.state.isEditingHeaderInfo||n.state.isEditingImages||n.state.isEditingLicense||n.state.isEditingSlug||n.state.isEditingVersions)?"It looks like you may be in the middle of working on some changes.":n.state.isNewDataset&&(n.state.title||n.state.overview||n.state.originalImageUrl||n.state.slug||n.state.description||n.state.licenseId||n.state.newVersionFiles.length)?"It looks like you may have started working on your new dataset.":null}}return r(t,e),t.prototype.componentWillMount=function(){var e=i.extend(!0,[],this.state.pageMessages);if(this.props.isOldDatasetVersion){var t={type:"info",htmlMessage:"You are currently viewing Version "+this.props.datasetVersionNumber+" of "+this.props.lastVersionNumber+" of this dataset. <a href='"+this.props.datasetUrl+"'>View the latest version</a> to create kernels."};e.push(t)}if(this.props.isNewDataset||"failed"!=this.props.datasetVersions[0].status){if((!this.props.isPublished||this.props.isRemoved)&&!this.props.isNewDataset&&!this.props.isSavingNewVersion){var t={type:"info",htmlMessage:"This dataset is currently not published and currently unavailable. You're able to see it as "+(this.props.creatorUserId==s.Current.userId?"the creator":"a site admin")+"."};e.push(t)}}else if(this.props.datasetVersions.filter(function(e){return"ready"==e.status}).length){var t={type:"info",htmlMessage:"The most recent version failed during processing, so any new kernels will be run against the last successful version."};e.push(t)}else{var t={type:"error",htmlMessage:'There was a problem saving your dataset files. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'};e.push(t)}this.props.canEdit&&!this.props.isNewDataset&&this.getValidationPageMessages().forEach(function(t){return e.push(t)}),this.props.isSavingNewVersion&&e.push(1==this.props.datasetVersions.length?this.processingNewDatasetPageMessage():this.processingNewVersionPageMessage()),this.setState({pageMessages:e})},t.prototype.convertToSlug=function(e){return e?e.toLowerCase().trim().replace(/[^\w ]+/g,"").replace(/[_ ]+/g,"-"):null},t.prototype.cleanseSlug=function(e){return e.replace(/^-*([^.]*?)-*$/,"$1").replace(/-{2,}/g,"-")},t.prototype.componentWillUpdate=function(e,t,n){if(t.pageMessages.length!=this.state.pageMessages.length){var r=i("html").offset().top,a=i(document).height();this.scrollPositionFromBottom=a+r}},t.prototype.componentDidUpdate=function(e,t,n){if(t.pageMessages.length!=this.state.pageMessages.length){var r=i("html").offset().top;if(0==r)return;var a=i(document).height(),o=a-this.scrollPositionFromBottom;i("html, body").scrollTop(o)}},t.prototype.clearFixedValidations=function(e){this.setState({pageMessages:this.getValidationPageMessages(!0)},e)},t.prototype.getValidationPageMessages=function(e){var t=this,n=this.validationRules.filter(function(n){return!n.isValid()&&(!e||n.alwaysValidate||t.state.pageMessages.filter(function(e){return e.id==n.id}).length>0)});return n.map(function(e){return{type:e.isWarning?"warning":"error",id:e.id,message:e.message?e.message():null,htmlMessage:e.htmlMessage?e.htmlMessage():null}})},t.prototype.render=function(){var e={onDatasetPropChanged:this.onDatasetPropChanged,onDatasetFilePropChanged:this.onDatasetFilePropChanged,onDatasetVersionPropChanged:this.onDatasetVersionPropChanged,onDatasetEditingStateCancelled:this.onDatasetEditingStateCancelled,onDatasetEditingStateChanged:this.onDatasetEditingStateChanged,onLicenseChanged:this.onLicenseChanged,onCancelImageUploader:this.onCancelImageUploader,onUpdateImages:this.onUpdateImages,onFileUploadFinished:this.onFileUploadFinished,onToggleCurrentVersionFiles:this.onToggleCurrentVersionFiles,onSaveNewVersion:this.onSaveNewVersion,onDeleteNewVersionFile:this.onDeleteNewVersionFile,onSaveNewDataset:this.onSaveNewDataset,onPublishedChange:this.onPublishedChange,onFeaturedChange:this.onFeaturedChange,onRemovedChange:this.onRemovedChange,onShowImageUploader:this.onShowImageUploader,onChangeTab:this.onChangeTab,onPrivateGroupChanged:this.onPrivateGroupChanged};return React.createElement(o.Dataset,i.extend({},this.state,e))},t}(React.Component);t.DatasetContainer=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(77),o=n(81),s=n(139),l=n(140),c=n(142),u=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("div",{className:"dataset"},React.createElement("div",{className:"dataset__container"},React.createElement(a.DatasetHeader,i({},this.props)),"home"==this.props.currentTab?React.createElement(o.DatasetHome,i({},this.props)):"contributors"==this.props.currentTab?React.createElement(l.DatasetContributors,i({},this.props)):"",React.createElement(s.DatasetKernels,i({},this.props)),React.createElement(c.DatasetActivityFeed,i({},this.props))))},t}(React.Component);t.Dataset=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(51),a=n(13),o=n(78),s=n(43),l=n(23),c=n(79),u=n(55),d=n(80),p=n(28),h=n(7),m=n(38),f=function(e){function t(){var t=this;e.apply(this,arguments),this.trackDownload=function(){window.Intercom("trackEvent","download_dataset",{dataset_id:t.props.datasetId}),goog_report_conversion()}}return r(t,e),t.prototype.changeActiveTab=function(){},t.prototype.renderTitle=function(){var e=this;return this.props.isEditingHeaderInfo&&this.props.canEdit?React.createElement(s.InlineTextEditor,{className:"dataset-header__title--input",value:this.props.title,placeholder:"Enter a Descriptive Title",onChangeCallback:function(t){return e.props.onDatasetPropChanged("title",t)}}):React.createElement("span",{className:"dataset-header__title"},this.props.title,React.createElement(d.GroupIcon,{groupSize:this.props.privateGroupMemberCount,rightSide:!0}))},t.prototype.renderSubtitle=function(){var e=this;return this.props.isEditingHeaderInfo&&this.props.canEdit?React.createElement(s.InlineTextEditor,{className:"dataset-header__subtitle--input",value:this.props.overview,placeholder:"Include a brief data overview for the subtitle",onChangeCallback:function(t){return e.props.onDatasetPropChanged("overview",t)}}):React.createElement("div",{className:"dataset-header__subtitle"},this.props.overview)},t.prototype.renderOptionalVoteButton=function(){return this.props.isNewDataset?null:React.createElement("div",{className:"dataset-header__upvote"},React.createElement(l.VoteButton,{totalVotes:this.props.voteCount,hasAlreadyVotedUp:this.props.hasAlreadyVotedUp,canUpvote:!0,canDownvote:!1,voteUpUrl:this.props.upVoteUrl,voteDownUrl:null,large:!1,useDarkTheme:!0}))},t.prototype.renderOptionalImageUploader=function(){if(this.props.canEdit){var e=React.createElement(c.ImageUploader,{title:"Upload a Dataset Image",imageSettings:[new c.ImageSetting("cover image","Select an area of the image to use as the cover image for this dataset’s homepage",new c.Size(950,200),new c.Rectangle(new c.Point(this.props.coverImageLeft,this.props.coverImageTop),new c.Size(this.props.coverImageWidth,this.props.coverImageHeight))),new c.ImageSetting("thumbnail","Select an area of the image to use as a thumbnail on the overall Dataset listing page",new c.Size(200,200),new c.Rectangle(new c.Point(this.props.cardImageLeft,this.props.cardImageTop),new c.Size(this.props.cardImageWidth,this.props.cardImageHeight)))],originalImageUrl:this.props.originalImageUrl,containerSize:new c.Size(500,300),selectorBorderWidth:1,onCancel:this.props.onCancelImageUploader,onUpdateImages:this.props.onUpdateImages,hiResScale:2,step1Html:"Upload an image by clicking the button below. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images. Or you can use the random image below."});return React.createElement(u.Modal,{buttonClassName:"dataset-header__upload-image-button",modalContent:e,modalIsShown:this.props.isEditingImages,onShow:this.props.onShowImageUploader,onClose:this.props.onCancelImageUploader})}return null},t.prototype.renderOptionalCallToAction=function(){return this.props.isNewDataset||this.props.isOldDatasetVersion?null:React.createElement("a",{href:this.props.newScriptUrl,title:"New Script",className:"pageheader__calltoaction"},"New Script")},t.prototype.componentDidMount=function(){window.Intercom("trackEvent","view_dataset")},t.prototype.render=function(){var e=this,t=React.createElement(o.EditStateToggleButton,{className:"dataset-header__edit-info",editButtonText:React.createElement("span",{className:"fa fa-pencil"}),saveButtonText:React.createElement("span",{className:"fa fa-save"}),sectionName:"HeaderInfo",
isEditing:this.props.isEditingHeaderInfo,toggleCallback:this.props.onDatasetEditingStateChanged});Math.max(this.props.scripts.length,this.props.discussions.length,this.props.contributors.length,1);return React.createElement("div",{className:"dataset-header"},React.createElement(i.PageHeader,{backgroundClass:"dataset-header__container"},React.createElement(i.PageHeaderTopRowSafe,null,React.createElement("div",{className:"dataset-header__top"},this.props.canEdit&&!this.props.isNewDataset?t:null,this.renderTitle(),this.renderSubtitle(),React.createElement("div",{className:"dataset-header__image"},React.createElement("img",{src:this.props.coverImageUrl})),this.renderOptionalVoteButton(),this.renderOptionalImageUploader(),React.createElement("div",{className:"dataset-header__info"},"by",this.props.isNewDataset&&this.props.owners.length>1?React.createElement(a.SelectBox,{className:"dataset-header__owner-selector KaggleBoxlessSelect",onChange:function(t){var n=e.props.owners.filter(function(e){return e.slug===t})[0];e.props.onDatasetPropChanged("ownerDisplayName",n.name),e.props.onDatasetPropChanged("ownerSlug",n.slug),e.props.onDatasetPropChanged("ownerProfileUrl",n.profileUrl),e.props.onDatasetPropChanged("ownerAvatarUrl",n.imageUrl),n.isOrganization&&e.props.onDatasetPropChanged("organizationId",n.id.toString())},options:this.props.owners.map(function(e){return{label:e.name,value:e.slug}}),searchable:!1,value:this.props.ownerSlug}):React.createElement("a",{href:this.props.ownerProfileUrl,className:"dataset-header__owner-name"}," "+this.props.ownerDisplayName),this.props.isNewDataset?null:React.createElement("time",{dateTime:this.props.lastUpdated.toString(),title:this.props.lastUpdated.toString()}," · last updated ",React.createElement(h.TimeAgo,{time:this.props.lastUpdated}))))),React.createElement(i.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},React.createElement(i.PageHeaderThumbnail,{classNameElement:"author",targetUrl:this.props.ownerProfileUrl,imageUrl:this.props.ownerAvatarUrl}),React.createElement(i.PageHeaderThumbnail,{classNameElement:"thumbnail",targetUrl:"",imageUrl:this.props.thumbnailImageUrl}),React.createElement(p.OverflowX,null,React.createElement(i.PageHeaderNav,{menuLinks:this.props.isNewDataset?null:[{title:"Overview",text:"Overview",actionCallback:function(){return e.props.onChangeTab("home")}},{title:"Kernels",text:"Kernels",actionCallback:function(){return e.props.onChangeTab("kernels")}},{href:this.props.forumUrl,title:"Discussion",text:"Discussion"},{title:"Activity",text:"Activity",actionCallback:function(){return e.props.onChangeTab("feed")}},this.props.downloadSize?{href:this.props.downloadUrl,title:"Download",actionCallback:this.trackDownload,text:"Download ("+m(this.props.downloadSize,{round:0})+")"}:null],rightMenuLinks:this.props.isNewDataset||this.props.isOldDatasetVersion?null:[{href:this.props.newNotebookUrl,title:"New Notebook",text:"New Notebook"}],activeTab:"home"==this.props.currentTab?"Overview":"kernels"==this.props.currentTab?"Kernels":"feed"==this.props.currentTab?"Activity":""}),this.renderOptionalCallToAction()))))},t}(React.Component);t.DatasetHeader=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(50),a=function(e){function t(t){var n=this;e.call(this,t),this.onCancel=function(){n.props.cancelCallback(n.props.sectionName,n.props.cancelPropName)},this.onToggle=function(){n.props.toggleCallback(n.props.sectionName)},this.state={isEditing:t.isEditing}}return r(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({isEditing:e.isEditing})},t.prototype.render=function(){var e=React.createElement(i.ButtonRoundEdged,{onClick:this.onToggle,className:this.props.className||"edit-state-toggle-button"},this.state.isEditing?this.props.saveButtonText||"Save":this.props.editButtonText||"Edit");return this.state.isEditing&&this.props.cancelCallback&&this.props.cancelPropName?React.createElement("div",{className:"edit-state-toggle-button__multiple-button-container"},React.createElement("a",{onClick:this.onCancel,className:"edit-state-toggle-button--cancel"},"cancel"),e):e},t}(React.Component);t.EditStateToggleButton=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(41),a=n(2),o=n(4),s=function(){function e(e,t){this.size=t,this.point=e,this.left=e.left,this.top=e.top,this.width=t.width,this.height=t.height}return e}();t.Rectangle=s;var l=function(){function e(e,t){this.left=e,this.top=t}return e}();t.Point=l;var c=function(){function e(e,t,n,r){this.title=e,this.information=t,this.size=n,this.rect=r}return e}();t.ImageSetting=c;var u=function(){function e(e,t){var n=this;this.getAspect=function(){return n.width/n.height},this.width=e,this.height=t}return e}();t.Size=u;var d=2,p=function(e){function t(t){var n=this;e.call(this,t),this.getHiResScale=function(){return 2},this.onMouseDown=function(e,t){if(0===e.button){ReactDOM.findDOMNode(n).getBoundingClientRect();n.setState(a.extend({},n.state,{isDragging:!0,dragMode:t,dragStartMousePosition:new l(e.pageX,e.pageY),dragStartSelectorRect:n.state.selectorRect})),e.stopPropagation(),e.preventDefault()}},this.onMouseUp=function(e){n.setState(a.extend({},n.state,{isDragging:!1})),e.stopPropagation(),e.preventDefault()},this.onMouseMove=function(e){if(n.state.isDragging){var t=e.pageX-n.state.dragStartMousePosition.left,r=e.pageY-n.state.dragStartMousePosition.top,i="move"==n.state.dragMode,o="ul"==n.state.dragMode||"ll"==n.state.dragMode,c="ul"==n.state.dragMode||"ur"==n.state.dragMode,d="ur"==n.state.dragMode||"lr"==n.state.dragMode,p="lr"==n.state.dragMode||"ll"==n.state.dragMode;o&&(t=Math.max(-n.state.dragStartSelectorRect.left,t)),c&&(r=Math.max(-n.state.dragStartSelectorRect.top,r));var h=n.state.dragStartSelectorRect.width+(i?0:t)*(o?-1:1),m=n.state.dragStartSelectorRect.height+(i?0:r)*(c?-1:1);d&&(h=Math.min(h,n.state.imageRect.width-n.state.selectorRect.left)),p&&(m=Math.min(m,n.state.imageRect.height-n.state.selectorRect.top));var f=n.state.imageRect.width/n.state.originalSize.width;h=Math.max(Math.round(n.state.selectedImageSize.width*f*n.getHiResScale()),h),m=Math.max(Math.round(n.state.selectedImageSize.height*f*n.getHiResScale()),m);var g=h/m,v=n.state.selectedImageSetting.size,b=v.width/v.height,y=n.state.dragStartSelectorRect.left+(i||o?t:0),w=0,k=n.state.imageRect.width-h,E=n.state.dragStartSelectorRect.top+(i||c?r:0),_=0,x=n.state.imageRect.height-m,C=Math.max(Math.min(y,k),w),S=Math.max(Math.min(E,x),_);o&&C+h>n.state.selectorRect.left+n.state.selectorRect.width&&(C=n.state.selectorRect.left+n.state.selectorRect.width-h),c&&S+m>n.state.selectorRect.top+n.state.selectorRect.height&&(S=n.state.selectorRect.top+n.state.selectorRect.height-m),g>b&&(h=Math.round(m*b),o&&(C=n.state.dragStartSelectorRect.left+n.state.dragStartSelectorRect.width-h)),b>g&&(m=Math.round(h/b),c&&(S=n.state.dragStartSelectorRect.top+n.state.dragStartSelectorRect.height-m));var T=new s(new l(C,S),new u(h,m));n.getScaledRect(n.state.originalSize.width/n.state.imageRect.width,T);n.setState(a.extend({},n.state,{selectorRect:T,selectedImageSetting:a.extend(n.state.selectedImageSetting,{rect:T})})),e.stopPropagation(),e.preventDefault()}},this.onFileChange=function(e){if(e.target.files&&e.target.files[0]){n.setState(a.extend({},n.state,{imageLoaded:!1,isLoadingImage:!0,tooSmallImageSize:null}));var t=new FileReader;t.onload=function(e){var t=new Image,r=e.target.result;t.src=r,t.onload=function(){return t.width<n.state.minimumImageSize.width||t.height<n.state.minimumImageSize.height?void n.setState(a.extend({},{tooSmallImageSize:new u(t.width,t.height),imageLoaded:!0,isLoadingImage:!1})):void n.setState(a.extend({},n.state,{imageUrl:r}))}},t.readAsDataURL(e.target.files[0])}},this.onImageLoad=function(e){n.updateImage(e.target.src,e.target.naturalWidth,e.target.naturalHeight)},this.onUpdateImages=function(){n.setState(a.extend({},n.state,{uploadInProgress:!0}));var e=a("#uploadForm")[0],t=new FormData(e),r=Math.min(n.state.originalSize.width/n.state.imageRect.width,n.state.originalSize.height/n.state.imageRect.height),i=n.state.imageSettings.map(function(e){return new s(new l(e.rect.left*r,e.rect.top*r),new u(e.rect.width*r,e.rect.height*r))});n.props.onUpdateImages(t,i).then(function(){n.setState(a.extend({},n.state,{uploadInProgress:!1}))})},this.setStep=function(e){var t=n.state.imageSettings[e-d]||n.state.imageSettings[0];n.setState(a.extend({},{currentStep:e,selectedImageSetting:t,selectorRect:t.rect,selectedImageSize:t.size}))},this.state={imageUrl:this.props.originalImageUrl,imageLoaded:!1,imageRect:new s(new l(0,0),new u(0,0)),selectorRect:new s(new l(0,0),new u(0,0)),imageSettings:this.props.imageSettings,minimumImageSize:this.getMinimumImageSize(),selectedImageSetting:this.props.imageSettings[0],isDragging:!1,isUploadedImage:!this.props.originalImageUrl,selectedImageSize:this.props.imageSettings[0].size,uploadInProgress:!1,isLoadingImage:!1,currentStep:1}}return r(t,e),t.prototype.getMinimumImageSize=function(){return new u(Math.max.apply(Math,this.props.imageSettings.map(function(e){return e.size.width}))*this.getHiResScale(),Math.max.apply(Math,this.props.imageSettings.map(function(e){return e.size.height}))*this.getHiResScale())},t.prototype.isLastStep=function(){return this.state.currentStep===this.props.imageSettings.length+d},t.prototype.getScaledSize=function(e,t){var n=t.width/t.height;return new u(n>e?Math.round(t.height*e):t.width,e>n?Math.round(t.width/e):t.height)},t.prototype.getScaledRect=function(e,t){return new s(new l(Math.round(t.point.left*e),Math.round(t.point.top*e)),new u(Math.round(t.size.width*e),Math.round(t.size.height*e)))},t.prototype.componentDidUpdate=function(e,t){this.state.isDragging&&!t.isDragging?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)):!this.state.isDragging&&t.dragging&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp))},t.prototype.updateImage=function(e,t,n){if(!this.state.imageLoaded){for(var r=t/n,i=this.getScaledSize(r,this.props.containerSize),o=new s(new l(Math.round((this.props.containerSize.width-i.width)/2),Math.round((this.props.containerSize.height-i.height)/2)),new u(Math.round(i.width),Math.round(i.height))),c=o.width/t,d=0,p=this.state.imageSettings;d<p.length;d++){var h=p[d],m=h.size.width/h.size.height,f=this.getScaledSize(m,o.size);h.rect=this.state.isUploadedImage?new s(new l(Math.round((o.width-f.width)/2),Math.round((o.height-f.height)/2)),this.getScaledSize(m,o.size)):this.getScaledRect(c,h.rect)}this.setState(a.extend({},this.state,{imageUrl:e,originalSize:{width:t,height:n},imageRect:o,isUploadedImage:!0,isLoadingImage:!1,imageLoaded:!0,selectorRect:this.state.imageSettings[0].rect,currentStep:e.indexOf("default-backgrounds")>0?1:2}))}},t.prototype.render=function(){var e=this,t={width:this.props.containerSize.width,height:this.props.containerSize.height,display:this.state.isLoadingImage||1!=this.state.currentStep?"none":""},n={width:this.props.containerSize.width,height:this.props.containerSize.height},r=({visibility:this.state.imageLoaded?"":"hidden"},{left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width,height:this.state.imageRect.height,display:this.state.imageLoaded&&!this.isLastStep()?"":"none"}),s={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top,width:this.state.selectorRect.width-2*this.props.selectorBorderWidth,height:this.state.selectorRect.height-2*this.props.selectorBorderWidth,borderWidth:this.props.selectorBorderWidth,cursor:this.state.isDragging?"":"move"},l=8,c={width:l,height:l},p=l/2+1,h=a.extend({},c,{left:s.left,top:s.top,marginLeft:-p,marginTop:-p,cursor:this.state.isDragging?"":"nwse-resize"}),m=a.extend({},c,{left:s.left+s.width-l,top:s.top,marginLeft:p,marginTop:-p,cursor:this.state.isDragging?"":"nesw-resize"}),f=a.extend({},c,{left:s.left,top:s.top+s.height-l,marginLeft:-p,marginTop:p,cursor:this.state.isDragging?"":"nesw-resize"}),g=a.extend({},c,{left:s.left+s.width-l,top:s.top+s.height-l,marginLeft:p,marginTop:p,cursor:this.state.isDragging?"":"nwse-resize"}),v=new u(.8*this.props.containerSize.width,.4*this.props.containerSize.height),b=this.state.imageSettings.map(function(t){var n=e.getScaledSize(t.size.getAspect(),v),r=0==t.rect.width?0:n.width/t.rect.width,i=a.extend({},n,{overflow:"hidden"}),o={width:Math.round(e.state.imageRect.width*r),height:Math.round(e.state.imageRect.height*r),left:Math.round(t.rect.left*-r),top:Math.round(t.rect.top*-r)};return{imageStyle:o,imageContainerStyle:i}}),y={left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.left,height:this.state.imageRect.height},w={left:this.state.imageRect.left+this.state.selectorRect.width+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width-this.state.selectorRect.width-this.state.selectorRect.left,height:this.state.imageRect.height},k={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.width,height:this.state.selectorRect.top},E={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top+this.state.selectorRect.height,width:this.state.selectorRect.width,height:this.state.imageRect.height-this.state.selectorRect.height-this.state.selectorRect.top},_=function(t){return o("image-uploader__step",e.state.currentStep==t?"image-uploader__step--current":e.state.currentStep>t?"image-uploader__step--complete":"image-uploader__step--pending",1==t||e.state.imageLoaded?"image-uploader__step--clickable":"")};return React.createElement("div",{className:o("image-uploader",this.state.uploadInProgress?"image-uploader--inprogress":null),style:{cursor:this.state.isDragging?"move"==this.state.dragMode?"move":"ul"==this.state.dragMode?"nwse-resize":"ur"==this.state.dragMode?"nesw-resize":"ll"==this.state.dragMode?"nesw-resize":"lr"==this.state.dragMode?"nwse-resize":"":""}},React.createElement("div",{className:"image-uploader__inprogressoverlay",style:this.state.uploadInProgress?null:{display:"none"}},React.createElement("div",{className:"image-uploader__inprogressmessage"},"Sending your images up. Hold tight...")),React.createElement("div",{className:"image-uploader__title-container"},React.createElement("div",{className:"image-uploader__title"},this.props.title),React.createElement("div",{className:"image-uploader__cancel",onClick:this.props.onCancel},"cancel")),React.createElement("ul",{className:"image-uploader__steps"},React.createElement("li",{className:_(1),onClick:function(){return e.setStep(1)}},"Upload image"),this.props.imageSettings.map(function(t,n){return React.createElement("li",{key:n,className:_(n+d),onClick:e.state.imageLoaded?function(){return e.setStep(n+d)}:null},"Crop ",t.title)}),React.createElement("li",{className:_(this.props.imageSettings.length+d),onClick:this.state.imageLoaded?function(){return e.setStep(e.props.imageSettings.length+d)}:null},"Preview images")),1==this.state.currentStep?this.state.tooSmallImageSize?React.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"The resolution of your image (",this.state.tooSmallImageSize.width,"x",this.state.tooSmallImageSize.height,") is lower than the minimum resolution (",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")."):React.createElement("div",{className:"image-uploader__message-container"},React.createElement("span",{className:"image-uploader__message-container-label"},"Step 1"),": ",React.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.step1Html||"Upload an image by clicking the button below"}})):this.state.currentStep<this.props.imageSettings.length+d?React.createElement("div",{className:"image-uploader__message-container"},React.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),": ",this.props.imageSettings[this.state.currentStep-d].information):this.state.currentStep==this.props.imageSettings.length+d?React.createElement("div",{className:"image-uploader__message-container"},React.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),": Make sure everything looks good, then click the button below"):"",React.createElement("div",{className:"image-uploader__outer-container"},React.createElement("div",{className:o("fa","fa-chevron-circle-left","image-uploader__navigator",1==this.state.currentStep?"image-uploader__navigator--hidden":"image-uploader__navigator--enabled"),onClick:this.state.currentStep>1?function(){return e.setStep(e.state.currentStep-1)}:null}),React.createElement("div",{className:"image-uploader__container",style:n},this.state.isLoadingImage?React.createElement("div",{className:"image-uploader__loadercontainer"},React.createElement("div",{className:"image-uploader__loadermessage"},"Loading image...")):"",React.createElement("div",{className:"image-uploader__upload",style:t},React.createElement("form",{id:"uploadForm",name:"uploadForm"},React.createElement("input",{id:"imageUpload",name:"imageUpload",type:"file",onChange:this.onFileChange}),React.createElement("label",{className:"image-uploader__upload-button",htmlFor:"imageUpload"},React.createElement("div",{className:"fa fa-upload image-uploader__upload-icon"}),React.createElement("div",null,"upload image"),React.createElement("div",{className:"image-uploader__upload-resolution"},"(min. ",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")")))),this.state.currentStep>1&&this.state.currentStep<this.props.imageSettings.length+d?React.createElement("div",null,React.createElement("div",{className:"image-uploader__selector",style:s,onMouseDown:function(t){return e.onMouseDown(t,"move")}}),React.createElement("div",{className:"image-uploader__selector-corner-resizer",style:h,onMouseDown:function(t){return e.onMouseDown(t,"ul")}}),React.createElement("div",{className:"image-uploader__selector-corner-resizer",style:m,onMouseDown:function(t){return e.onMouseDown(t,"ur")}}),React.createElement("div",{className:"image-uploader__selector-corner-resizer",style:f,onMouseDown:function(t){return e.onMouseDown(t,"ll")}}),React.createElement("div",{className:"image-uploader__selector-corner-resizer",style:g,onMouseDown:function(t){return e.onMouseDown(t,"lr")}}),React.createElement("div",{className:"image-uploader__overlay",style:y}),React.createElement("div",{className:"image-uploader__overlay",style:k}),React.createElement("div",{className:"image-uploader__overlay",style:w}),React.createElement("div",{className:"image-uploader__overlay",style:E})):"",b.map(function(t,n){return React.createElement("div",{key:n,style:e.state.currentStep<d+e.props.imageSettings.length?{display:"none"}:{},className:"image-uploader__preview"},React.createElement("div",{className:"image-uploader__previewimagecontainer",style:t.imageContainerStyle},React.createElement("img",{className:"image-uploader__previewimage",style:t.imageStyle,src:e.state.imageUrl})))}),React.createElement("img",{className:"image-uploader__image",src:this.state.imageUrl,style:r,onLoad:function(t){return e.onImageLoad(t)}}),this.state.currentStep==this.props.imageSettings.length+d?React.createElement("div",{className:"image-uploader__submitcontainer"},React.createElement(i.Button,{onClick:this.onUpdateImages,text:"Update Images"})):""),React.createElement("div",{className:o("fa","fa-chevron-circle-right","image-uploader__navigator",this.isLastStep()?"image-uploader__navigator--hidden":this.state.imageLoaded?"image-uploader__navigator--enabled":"image-uploader__navigator--disabled"),onClick:!this.isLastStep()&&this.state.imageLoaded?function(){return e.setStep(e.state.currentStep+1)}:null})))},t}(React.Component);t.ImageUploader=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return 0==this.props.groupSize?null:React.createElement("span",{className:i("group-icon",this.props.rightSide?"group-icon--right":"group-icon--left"),title:1==this.props.groupSize?"Only visible to the author":"Visible to "+this.props.groupSize+" members including the author"},React.createElement("span",{className:"group-icon__lock"}),React.createElement("span",{className:1==this.props.groupSize?"group-icon__single":"group-icon__multiple"}))},t}(React.Component);t.GroupIcon=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(41),o=n(5),s=n(82),l=n(84),c=n(83),u=n(85),d=n(78),p=n(43),h=n(86),m=n(87),f=n(88),g=n(33),v=n(61),b=n(89),y=n(134),w=n(136),k=n(47),E=n(137),_=n(138),x=n(13),C=n(29),S=n(4);!function(e){e[e.CurrentFiles=0]="CurrentFiles",e[e.NewFiles=1]="NewFiles"}(t.FileListIndex||(t.FileListIndex={}));var T=t.FileListIndex,R=function(e){function t(){var t=this;e.apply(this,arguments),this.recordDatasetDownload=function(){t.props.isNewDataset||goog_report_conversion(),window.Intercom("trackEvent","download_dataset",{dataset_id:t.props.datasetId})}}return r(t,e),t.prototype.renderProgressStep=function(e,t){var n=this.statusSequences(this.props.newDatasetVersionStatus)<e-1?"--pending":this.statusSequences(this.props.newDatasetVersionStatus)==e-1?"--current":"--complete",r=this.statusSequences(this.props.newDatasetVersionStatus)<e-1?0:this.statusSequences(this.props.newDatasetVersionStatus)==e-1?100*this.props.currentStatusPercentComplete:100;return React.createElement("div",{className:S("dataset-home__new-version-status-step","dataset-home__new-version-status-step"+n)},React.createElement("div",{className:S("dataset-home__new-version-progress-bar","dataset-home__new-version-progress-bar"+n),style:{width:r+"%"}}),React.createElement("div",{className:S("dataset-home__new-version-status-step-label","dataset-home__new-version-status-step-label"+n)},t))},t.prototype.statusSequences=function(e){switch(e){case"notYetPersisted":return 0;case"blobsReceived":return 1;case"blobsDecompressed":return 2;case"blobsCopiedToSds":return 3;case"individualBlobsCompressed":return 4;case"ready":return 5;default:return 6}},t.prototype.renderFileDescription=function(e,t,n,r,i){var a=this;return n?React.createElement("div",{className:"dataset-home__markdown-editor-container"},React.createElement(C.MediaQuery,{minWidth:C.Breakpoints.desktopMin},React.createElement(v.MarkdownEditor,{key:"file-"+t,shouldSanitizeHtml:!0,hidePreview:!0,defaultValue:e,suffix:"-file"+t,onChangeCallback:function(e){return a.props.onDatasetFilePropChanged(t,"description",e,i)},placeholder:r,maxRows:10})),React.createElement(C.MediaQuery,{minWidth:0,maxWidth:C.Breakpoints.tabletMax},React.createElement(v.MarkdownEditor,{key:"file-"+t,shouldSanitizeHtml:!0,hidePreview:!0,hideToolbar:!0,defaultValue:e,suffix:"-file"+t,onChangeCallback:function(e){return a.props.onDatasetFilePropChanged(t,"description",e,i)},placeholder:r,maxRows:10}))):React.createElement(E.MarkdownConverter,{key:"file-"+t,contentClassName:"dataset-home__file-description",content:e,insertNofollow:!0})},t.prototype.renderVersionNotes=function(e,t,n){var r=this;return this.props.isEditingVersions?React.createElement("div",{className:"dataset-home__markdown-editor-container"},React.createElement(C.MediaQuery,{minWidth:C.Breakpoints.desktopMin},React.createElement(v.MarkdownEditor,{key:"version-"+t,shouldSanitizeHtml:!0,hidePreview:!0,defaultValue:e,suffix:"-version"+t,onChangeCallback:function(e){return r.props.onDatasetVersionPropChanged(t,"versionNotes",e)},placeholder:n,maxRows:4})),React.createElement(C.MediaQuery,{minWidth:0,maxWidth:C.Breakpoints.tabletMax},React.createElement(v.MarkdownEditor,{key:"version-"+t,shouldSanitizeHtml:!0,hidePreview:!0,hideToolbar:!0,defaultValue:e,suffix:"-version"+t,onChangeCallback:function(e){return r.props.onDatasetVersionPropChanged(t,"versionNotes",e)},placeholder:n,maxRows:4}))):React.createElement(E.MarkdownConverter,{key:"version-"+t,contentClassName:"dataset-home__version-notes",content:e,insertNofollow:!0})},t.prototype.render=function(){var e=this,t=Math.min(Math.max(this.props.scripts.length,this.props.discussions.length,this.props.contributors.length,1),3),n=this.props.privateGroups.map(function(e){return{value:e.id.toString(),label:e.name}});return React.createElement("div",null,this.props.isNewDataset?null:React.createElement("div",{className:"dataset-home__teasers"},React.createElement("div",{className:"dataset-home__teaser-column"},React.createElement(o.ContentBox,{containerClassName:"dataset-home__teaser",title:"Kernels",titleHref:this.props.scriptsUrl,titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement(s.ScriptListTeaser,{minItemHeight:t,items:this.props.scripts,emptyListUrl:this.props.newScriptUrl}))),React.createElement("div",{className:"dataset-home__teaser-column"},React.createElement(o.ContentBox,{containerClassName:"dataset-home__teaser",title:"Discussion",titleHref:this.props.forumUrl,titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement(l.ForumTopicListTeaser,{minItemHeight:t,items:this.props.discussions,emptyListUrl:this.props.forumUrl}))),React.createElement("div",{className:"dataset-home__teaser-column"},React.createElement(o.ContentBox,{containerClassName:"dataset-home__teaser",title:"Top Contributors",onTitleClick:function(){return e.props.onChangeTab("contributors")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement(c.TeaserList,{minItemHeight:t,listItems:this.props.contributors.slice(0,3),listItemRenderer:function(e,t){return React.createElement(_.DatasetContributorsTeaserItem,i({},e,{key:t}))},emptyListCreateNewUrl:this.props.newScriptUrl,emptyListMessage:"There are no contributors yet.",emptyListCreateNewText:"Be the first"})))),this.props.isNewDataset?null:React.createElement(o.ContentBox,{title:"Recent Activity",onTitleClick:function(){return e.props.onChangeTab("feed")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},this.props.feed.slice(0,5).map(function(e,t){return React.createElement(u.DatasetActivityFeedItem,i({},e,{key:t}))})),this.props.isNewDataset||this.props.canEditSlug||this.props.canEditPublishStatus||this.props.canEditFeatureStatus||this.props.canEditPublishStatus?React.createElement(o.ContentBox,{title:this.props.isNewDataset?"Choose a Permanent URL":"Power settings",titleBarRightSide:this.props.isNewDataset?"":React.createElement(d.EditStateToggleButton,{sectionName:"Slug",cancelPropName:"slug",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingSlug,toggleCallback:this.props.onDatasetEditingStateChanged})},this.props.canEditSlug?React.createElement("section",{className:"dataset-home__section"},"https://www.kaggle.com/",this.props.ownerSlug,"/",this.props.isEditingSlug?React.createElement(p.InlineTextEditor,{className:"dataset-home__inline-slug-editor",value:this.props.slug,rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(t){return e.props.onDatasetPropChanged("slug",t)}}):this.props.slug):"",this.props.canEditPublishStatus?React.createElement("section",{className:"dataset-home__section"},React.createElement(h.Checkbox,{isChecked:this.props.isPublished,text:"Is published?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onPublishedChange})):"",this.props.canEditFeatureStatus?React.createElement("section",{className:"dataset-home__section"},React.createElement(h.Checkbox,{isChecked:this.props.isFeatured,text:"Is featured?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onFeaturedChange})):"",this.props.canEditPublishStatus&&!this.props.isNewDataset?React.createElement("section",{className:"dataset-home__section"},React.createElement(h.Checkbox,{isChecked:this.props.isRemoved,text:"Is removed?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onRemovedChange})):"",this.props.canEditPrivateGroup?React.createElement("section",{className:"dataset-home__section"},React.createElement(x.SelectBox,{disabled:!this.props.isEditingSlug,className:"dataset-home__private-group-selection",value:(this.props.privateGroupId||0).toString(),placeholder:this.props.isEditingSlug?"Select a private group":"Publicly Accessible",options:n,onChange:function(t){return e.props.onPrivateGroupChanged(parseInt(t))}})):""):null,React.createElement(o.ContentBox,{title:"Description",titleBarRightSide:this.props.canEdit&&!this.props.isNewDataset?React.createElement(d.EditStateToggleButton,{sectionName:"Description",cancelPropName:"description",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingDescription,toggleCallback:this.props.onDatasetEditingStateChanged}):""},React.createElement("section",{className:"dataset-home__section"},this.props.isEditingDescription?React.createElement("div",null,React.createElement(f.InfoToggle,{bannerName:"dataset-description-info",expandedContent:React.createElement("div",{className:"dataset-home__description-helper"},React.createElement("p",null,"This is your chance to capture the interest of the data science community. Your description should answer these questions. Include links and citations where applicable:"),React.createElement("ul",null,React.createElement("li",null,React.createElement("strong",null,"Context"),": What is the subject matter of the dataset?"),React.createElement("li",null,React.createElement("strong",null,"Content"),": What fields does it include?"),React.createElement("li",null,React.createElement("strong",null,"Acknowledgements"),": Who owns the dataset and how was it compiled?"),React.createElement("li",null,React.createElement("strong",null,"Past Research"),": In brief, what other analysis has been done on this data?"),React.createElement("li",null,React.createElement("strong",null,"Inspiration"),": Why is this dataset worthy of further analysis? What questions would you like answered by the community? What feedback would be helpful on the data itself?"))),collapsedContent:React.createElement("div",{className:"dataset-home__description-helper"},"Click here to see tips on describing your dataset.")}),React.createElement(v.MarkdownEditor,{editorClassName:"dataset-home__description-editor",shouldSanitizeHtml:!0,alwaysShowToolbar:!0,hidePreview:!0,defaultValue:this.props.description,placeholder:"Give a detailed description about your dataset.",suffix:"-description",minRows:5,maxRows:15,onChangeCallback:function(t){return e.props.onDatasetPropChanged("description",t)}})):React.createElement(E.MarkdownConverter,{content:this.props.description,insertNofollow:!0})),this.props.privateGroupId?"":React.createElement("div",{className:"dataset-home__bottom-attached-container"},React.createElement("div",{className:"dataset-home__bottom-attached-header"},!this.props.isEditingLicense&&this.props.license?React.createElement("div",{
dangerouslySetInnerHTML:{__html:this.props.license}}):React.createElement("div",{className:"dataset-home__bottom-attached-default"},"Select a license"),this.props.canEdit?React.createElement("div",{className:"dataset-home__multiple-button-container"},React.createElement(d.EditStateToggleButton,{sectionName:"License",cancelPropName:"license",saveButtonText:this.props.isNewDataset?"Done":"Save",editButtonText:this.props.isNewDataset?"Select":"Edit",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingLicense,toggleCallback:this.props.onDatasetEditingStateChanged})):""),this.props.isEditingLicense?React.createElement("div",{className:"dataset-home__bottom-attached-container-contents"},React.createElement("div",{className:"dataset-home__license-list-container"},React.createElement(m.RadioButtonList,{options:this.props.licenses.map(function(e){return{value:e.id,text:e.description}}),onChange:function(t){return e.props.onLicenseChanged(t.value,t.text)},selectedValue:this.props.licenseId,textIsHtml:!0}))):"")),this.props.canEdit||this.props.files.length>0||this.props.isSavingNewVersion?React.createElement(o.ContentBox,{title:"Files",loaderMessage:"Hold tight while we package up your files...",titleBarRightSide:this.props.canEdit?React.createElement("div",{className:"dataset-home__multiple-button-container"},this.props.isEditingFiles||this.props.isSavingNewVersion?"":React.createElement(C.MediaQuery,{minWidth:C.Breakpoints.desktopMin},React.createElement(d.EditStateToggleButton,{sectionName:"NewVersion",cancelPropName:"newVersion",cancelCallback:this.props.onDatasetEditingStateCancelled,toggleCallback:this.props.onDatasetEditingStateChanged,isEditing:this.props.isEditingNewVersion,editButtonText:"Create New Dataset Version",saveButtonText:"Save New Version"})),this.props.files.length>0&&!this.props.isEditingNewVersion?React.createElement(d.EditStateToggleButton,{sectionName:"Files",cancelPropName:"files",editButtonText:"Edit File Descriptions",isEditing:this.props.isEditingFiles,cancelCallback:this.props.onDatasetEditingStateCancelled,toggleCallback:this.props.onDatasetEditingStateChanged}):""):""},this.props.isSavingNewVersion||this.props.showNewVersionProgress?React.createElement("div",{className:"dataset-home__new-version-status-progress"},this.renderProgressStep(1,"Persisting Metadata"),this.renderProgressStep(2,"Decompressing Files"),this.renderProgressStep(3,"Copying Script Files"),this.renderProgressStep(4,"Compressing Files"),this.renderProgressStep(5,"Building Archive")):"",this.props.isEditingNewVersion?React.createElement("div",null,React.createElement("section",{className:"dataset-home__section"},this.props.isNewDataset?React.createElement(f.InfoToggle,{bannerName:"dataset-files-helper-new-dataset",expandedContent:React.createElement("div",null,React.createElement("p",null,"Here are some guidelines for creating your dataset files:"),React.createElement("ul",null,React.createElement("li",null,"If you have a SQLite database for this dataset, name it database.sqlite in order for users to be able to query it."),React.createElement("li",null,"Keep file names short and clear. Do not include the dataset’s name. ",React.createElement(g.ToolTip,{tipText:"When users download the dataset, it will automatically\nunzip to a folder with the name of the dataset."},React.createElement("span",{className:"fa fa-question-circle"}))),React.createElement("li",null,"Csv files are preferred, when appropriate."),React.createElement("li",null,"Files, including published papers or visualizations, from past analysis should ",React.createElement("strong",null,"not")," be included here. They can be shared under the Dataset Description."))),collapsedContent:React.createElement("div",null,"Click here to see some tips on creating, naming, and uploading files for your dataset.")}):React.createElement(f.InfoToggle,{bannerName:"dataset-files-helper-existing-dataset",expandedContent:React.createElement("div",null,React.createElement("p",null,"Here are some guidelines for updating your dataset files: "),React.createElement("ul",null,React.createElement("li",null,React.createElement("strong",null,"All files will be replaced.")," Be sure to include any existing files that will not change."),React.createElement("li",null,React.createElement("strong",null,"To update existing tables"),": Upload a new version of the file and use the same file name as the previous version."),React.createElement("li",null,React.createElement("strong",null,"To add new tables"),": Upload any new files. You must also upload any existing files again."),React.createElement("li",null,React.createElement("strong",null,"To remove tables"),": Simply do not include any files you would like to be removed."))),collapsedContent:React.createElement("div",null,"Click here to see some tips on creating, naming, and updating the files for your dataset.")})),this.props.isNewDataset?null:React.createElement("div",null,React.createElement("div",{className:"dataset-home__new-version-description-editor"},React.createElement(v.MarkdownEditor,{editorClassName:"dataset-home__description-editor",shouldSanitizeHtml:!0,hidePreview:!0,alwaysShowToolbar:!0,suffix:"-newVersionDescription",placeholder:"Enter a description for this version.",onChangeCallback:function(t){return e.props.onDatasetPropChanged("newVersionDescription",t)}}))),React.createElement("div",{className:"dataset-home__file-uploader-container"},React.createElement(b.FileUploader,{createBlobUrl:"/blobs/inbox/dataset-version-files",mode:b.FileUploaderMode.Multiple,onFileUploadFinished:this.props.onFileUploadFinished,autoRemoveOnComplete:!0,autoRemoveOnCancel:!0,maxUncompressedBytesAllowed:this.props.maxUncompressedFileBytesAllowed,maxCompressedBytesAllowed:this.props.maxCompressedFileBytesAllowed})),React.createElement(y.FileList,{fileListItems:this.props.newVersionFiles,fileListKeyBaseName:"dataset-new-version-file-key-",fileDescriptionRenderer:this.renderFileDescription.bind(this),isEditing:!0,textareaPlaceholder:"Enter a description for this file.",fileListIndex:T.NewFiles,canDelete:!0,deleteCallback:this.props.onDeleteNewVersionFile}),this.props.isNewDataset||this.props.isSavingNewVersion?null:React.createElement("div",{className:"dataset-home__call-to-action-container"},React.createElement(a.Button,{onClick:function(){return e.props.onDatasetEditingStateChanged("NewVersion")},text:"Save New Version"}))):"",!this.props.isNewDataset||this.props.isSavingNewVersion?React.createElement("div",{className:this.props.isEditingNewVersion?"dataset-home__bottom-attached-container":""},!this.props.isEditingNewVersion||this.props.showCurrentVersionFiles?React.createElement("div",{className:this.props.isEditingNewVersion?"dataset-home__bottom-attached-container-contents":""},React.createElement(y.FileList,{fileListItems:this.props.files,fileListKeyBaseName:"dataset-file-key-",fileDescriptionRenderer:this.renderFileDescription.bind(this),isEditing:this.props.isEditingFiles,placeholderText:"There are no files to list yet.",textareaPlaceholder:"Enter a description for this file.",fileListIndex:T.CurrentFiles,downloadCallback:this.recordDatasetDownload})):"",this.props.isEditingNewVersion&&this.props.files.length>0?React.createElement("div",{onClick:this.props.onToggleCurrentVersionFiles,className:S("dataset-home__bottom-attached-container-toggle","dataset-home__bottom-attached-container-toggle"+(this.props.showCurrentVersionFiles?"--collapse":"--expand"))},this.props.showCurrentVersionFiles?"hide":"see"," version ",this.props.datasetVersions.filter(function(t){return t.id==e.props.datasetVersionId})[0].versionNumber," file descriptions"):""):""):"",this.props.datasetVersions.length?React.createElement(o.ContentBox,{title:"Versions",titleBarRightSide:this.props.canEdit?React.createElement(d.EditStateToggleButton,{sectionName:"Versions",cancelPropName:"datasetVersions",isEditing:this.props.isEditingVersions,cancelCallback:this.props.onDatasetEditingStateCancelled,toggleCallback:this.props.onDatasetEditingStateChanged}):""},React.createElement(w.DatasetVersionList,{activeVersionId:this.props.datasetVersionId,datasetVersionListItems:this.props.datasetVersions,datasetVersionListKeyBaseName:"dataset-version-key-",datasetVersionNotesRenderer:this.renderVersionNotes.bind(this),isEditing:this.props.isEditingVersions,textareaPlaceholder:"Enter a description of the updates made on this version.",hideVersionStatuses:this.props.hideVersionStatuses})):"",this.props.isNewDataset?null:React.createElement(o.ContentBox,null,React.createElement("span",null,React.createElement(k.Pluralize,{word:"view",count:this.props.numberOfViews,formatNumber:!0})," · ",React.createElement(k.Pluralize,{word:"download",count:this.props.numberOfDownloads,formatNumber:!0})," · ",React.createElement(k.Pluralize,{word:"kernel",count:this.props.numberOfScripts,formatNumber:!0})," · ",React.createElement(k.Pluralize,{word:"topic",count:this.props.numberOfTopics,formatNumber:!0}))),this.props.isNewDataset?React.createElement("div",{className:"dataset-home__call-to-action-container"},React.createElement(a.Button,{onClick:this.props.onSaveNewDataset,isDisabled:!this.props.isNewDataset,text:"Publish Dataset"})):null,this.props.canEdit||this.props.isSavingNewVersion?null:React.createElement("div",{className:"dataset-home__call-to-action-container"},React.createElement(a.Button,{href:"/datasets",text:"Explore More Datasets"})))},t}(React.Component);t.DatasetHome=R},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(3),a=n(83),o=n(7),s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.renderListItem=function(e,t){return React.createElement("a",{key:t,className:"script-list-item",href:e.url},React.createElement("div",{className:"script-list-item__info"},React.createElement("span",{className:"script-list-item__title"},e.name),React.createElement("div",{className:"script-list-item__posted"},React.createElement("span",null,"run ",React.createElement(o.TimeAgo,{time:e.lastRunDate})))),React.createElement("div",{className:"script-list-item__votes"},React.createElement("span",{className:"script-list-item__votes-number"},e.totalVotes),React.createElement("span",{className:"script-list-item__votes-sub-text"},i("vote",e.totalVotes))))},t.prototype.render=function(){return React.createElement(a.TeaserList,{minItemHeight:this.props.minItemHeight,listItems:this.props.items,listItemRenderer:this.renderListItem,emptyListCreateNewUrl:this.props.emptyListUrl,emptyListMessage:"There are no kernels yet.",emptyListCreateNewText:"Create one"})},t}(React.Component);t.ScriptListTeaser=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.callToAction=function(){return this.props.emptyListCreateNewUrl?React.createElement("a",{href:this.props.emptyListCreateNewUrl},this.props.emptyListCreateNewText):null},t.prototype.render=function(){var e=this;return this.props.listItems.length?React.createElement("div",{className:i("teaser-list","teaser-list--"+(this.props.minItemHeight||3)+"-item-height")},this.props.listItems.map(function(t,n){return e.props.listItemRenderer(t,n)})):React.createElement("div",{className:i("teaser-list","teaser-list--"+(this.props.minItemHeight||1)+"-item-height")},React.createElement("div",{className:"teaser-list__empty-list"},React.createElement("span",{className:"teaser-list__empty-list-message"},this.props.emptyListMessage),this.callToAction()))},t}(React.Component);t.TeaserList=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(3),a=n(83),o=n(7),s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.renderListItem=function(e,t){return React.createElement("a",{key:t,className:"forum-topic-list-item",href:e.url},React.createElement("div",{className:"forum-topic-list-item__info"},React.createElement("span",{className:"forum-topic-list-item__title"},e.title),React.createElement("div",{className:"forum-topic-list-item__posted"},React.createElement(o.TimeAgo,{time:e.lastPost}))),React.createElement("div",{className:"forum-topic-list-item__replies"},React.createElement("span",{className:"forum-topic-list-item__replies-number"},e.totalReplies),React.createElement("span",{className:"forum-topic-list-item__replies-sub-text"},i("reply",e.totalReplies))))},t.prototype.render=function(){return React.createElement(a.TeaserList,{minItemHeight:this.props.minItemHeight,listItems:this.props.items,listItemRenderer:this.renderListItem,emptyListCreateNewUrl:this.props.emptyListUrl,emptyListMessage:"There are no conversations yet.",emptyListCreateNewText:"Start one"})},t}(React.Component);t.ForumTopicListTeaser=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),a=n(7),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e="script"==this.props.activityType?"fa-file-code-o":"scriptFork"==this.props.activityType?"fa-code-fork":"scriptRun"==this.props.activityType?"fa-file-code-o":"dataset"==this.props.activityType?"fa-database":"datasetVersion"==this.props.activityType?"fa-database":"topic"==this.props.activityType?"fa-comments-o":"scriptComment"==this.props.activityType?"fa-comment-o":"comment"==this.props.activityType?"fa-comment-o":"",t="script"==this.props.activityType?React.createElement("span",null,"created kernel ",React.createElement("a",{href:this.props.url},this.props.title)):"scriptFork"==this.props.activityType?React.createElement("span",null,"forked kernel ",React.createElement("a",{href:this.props.url},this.props.title)):"scriptRun"==this.props.activityType?React.createElement("span",null,"ran version ",this.props.versionNumber," of kernel ",React.createElement("a",{href:this.props.url},this.props.title)):"dataset"==this.props.activityType?React.createElement("span",null,"created ",React.createElement("a",{href:this.props.url},"a dataset")):"datasetVersion"==this.props.activityType?React.createElement("span",null,"created version version ",this.props.versionNumber," of dataset ",React.createElement("a",{href:this.props.url},this.props.title)):"topic"==this.props.activityType?React.createElement("span",null,"created a new discussion ",React.createElement("a",{href:this.props.url},this.props.title)):"scriptComment"==this.props.activityType?React.createElement("span",null,"commented on kernel ",React.createElement("a",{href:this.props.url},this.props.title)):"comment"==this.props.activityType?React.createElement("span",null,"commented on dataset discussion ",React.createElement("a",{href:this.props.url},this.props.title)):"";return React.createElement("div",{className:"dataset-activity-feed-item"},React.createElement("div",{className:"dataset-activity-feed-item__images"},React.createElement("div",{className:"dataset-activity-feed-item__icon"},React.createElement("span",{className:i("fa",e)})),React.createElement("a",{href:this.props.userUrl},React.createElement("img",{className:"dataset-activity-feed-item__user-avatar",src:this.props.userAvatarUrl}))),React.createElement("div",{className:"dataset-activity-feed-item__details"},React.createElement("a",{className:"dataset-activity-feed-item__user-link",href:this.props.userUrl},this.props.userDisplayName),t,React.createElement(a.TimeAgo,{className:"dataset-activity-feed-item__time",time:this.props.date})))},t}(React.Component);t.DatasetActivityFeedItem=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),a=function(e){function t(t){var n=this;e.call(this,t),this.handleClick=function(){var e=!n.state.isChecked;n.setState({isChecked:e}),n.props.onChange(e)},this.state={isChecked:!!this.props.isChecked}}return r(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState($.extend({},{isChecked:e.isChecked}))},t.prototype.render=function(){var e=this;return React.createElement("div",{className:i("checkbox",this.props.isEditable&&this.props.textIsClickable?"checkbox--clickable":"")},React.createElement("span",{className:i("checkbox__box",this.props.isEditable&&!this.props.textIsClickable?"checkbox__box--clickable":"",this.props.isEditable?"":"checkbox__box--static",this.state.isChecked?"checkbox__box--checked":"checkbox__box--unchecked"),onClick:this.props.isEditable?this.handleClick:null}),React.createElement("span",{className:"checkbox__label",onClick:this.props.isEditable&&this.props.textIsClickable?this.handleClick:null},this.props.text),this.props.formInputName?React.createElement("input",{ref:function(t){return e.formInput=t},type:"hidden",name:this.props.formInputName,value:this.state.isChecked.toString()}):null)},t}(React.Component);t.Checkbox=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),a=function(e){function t(t){var n=this;e.call(this,t),this.handleClick=function(e){n.setState({selectedValue:e.value}),n.props.onChange(e)},this.state={selectedValue:t.selectedValue}}return r(t,e),t.prototype.render=function(){var e=this;return React.createElement("ul",{className:"radio-button-list"},this.props.options.map(function(t){var n=e.state.selectedValue===t.value;return React.createElement("li",{className:i("radio-button-list__option",n?"radio-button-list__option--selected":"",e.props.textIsClickable?"checkbox--clickable":""),key:t.value,onClick:e.props.textIsClickable?function(){return e.handleClick(t)}:null},React.createElement("span",{className:i("radio-button-list__option-radio",e.props.textIsClickable?"":"radio-button-list__option-radio--clickable",n?"radio-button-list__option-radio--selected":""),onClick:function(){return e.handleClick(t)}}),React.createElement("span",{className:i("radio-button-list__option-label"),dangerouslySetInnerHTML:e.props.textIsHtml?{__html:t.text}:null},e.props.textIsHtml?null:t.text))}))},t}(React.Component);t.RadioButtonList=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(4),o=function(e){function t(t){var n=this;e.call(this,t),this.loadCurrentVisibilityState=function(){i.ajax({type:"POST",url:"/account/get-banner-state",data:{bannerName:n.props.bannerName,showBanner:!n.state.isVisible},success:function(e){n.setState({isVisible:e.showBanner})}})},this.onDismiss=function(){i.ajax({type:"POST",url:"/account/dismiss-banner",data:{bannerName:n.props.bannerName,showBanner:!n.state.isVisible}}),n.setState({isVisible:!n.state.isVisible})},this.state=t,null==this.state.isVisible&&this.loadCurrentVisibilityState()}return r(t,e),t.prototype.render=function(){var e=this;return null==this.state.isVisible?null:React.createElement("div",{className:a("info-toggle",this.state.isVisible?null:"info-toggle--clickable"),onClick:this.state.isVisible?null:function(){return e.onDismiss()}},React.createElement("div",{className:"info-toggle__content"},React.createElement("div",{className:"info-toggle__icon info-toggle__icon--info"}),React.createElement("div",{className:a("info-toggle__icon",this.state.isVisible?"info-toggle__icon--collapse":"info-toggle__icon--expand"),onClick:function(){return e.onDismiss()}}),this.state.isVisible?this.props.expandedContent:this.props.collapsedContent))},t}(React.Component);t.InfoToggle=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){e[e.Compressing=0]="Compressing",e[e.Waiting=1]="Waiting",e[e.Uploading=2]="Uploading",e[e.Paused=3]="Paused",e[e.Canceled=4]="Canceled",e[e.Failed=5]="Failed",e[e.Complete=6]="Complete"}(r||(r={})),function(e){e[e.Single=0]="Single",e[e.Multiple=1]="Multiple",e[e.SingleAndMultiple=2]="SingleAndMultiple"}(t.FileUploaderMode||(t.FileUploaderMode={}));var a=t.FileUploaderMode,o=n(2),s=n(38),l=n(4),c=(n(90),function(e){function t(t){var n=this;e.call(this,t),this.onFileChange=function(e){for(var t=e.target.files,i=[],a=0,s=t;a<s.length;a++){var l=s[a];i=i.concat(l)}o("#files").val(null),i=i.filter(function(e){return 0==n.state.files.filter(function(t){return t.name==e.name&&t.status!=r.Canceled&&t.status!=r.Failed}).length}),n.addFilesToState(i)},this.addFilesToState=function(e){var t=n.state.files.filter(function(t){return 0==e.filter(function(e){return e.name==t.name}).length});n.setState(o.extend({},n.state,{files:t.concat(e.map(function(e,i){var a=n.fileIsCompressed(e),o=null;return n.props.maxCompressedBytesAllowed&&a&&e.size>n.props.maxCompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes for compressed files ("+s(n.props.maxCompressedBytesAllowed)+")"),n.props.maxUncompressedBytesAllowed&&!a&&e.size>n.props.maxUncompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes ("+s(n.props.maxUncompressedBytesAllowed)+")"),{index:i+t.length,name:e.name,totalBytes:e.size,html5File:e,status:o?r.Failed:r.Waiting,lastModifiedDateUtc:e.lastModifiedDate?new Date(e.lastModifiedDate.toUTCString()).getTime():null,isCompressed:a,failureMessage:o}}))}),function(){e.forEach(function(e){return n.compressThenStartUploadingFile(e.name)})})},this.compressThenStartUploadingFile=function(e){n.getFileState(e);n.startUploadingFile(e)},this.startUploadingFile=function(e){var t=n.getFileState(e);o.ajax({url:n.props.createBlobUrl,type:"POST",dataType:"json",data:{fileName:t.compressedName||t.name,contentLength:t.totalBytes,lastModifiedDateUtc:t.lastModifiedDateUtc},success:function(e){n.setFileState(t.name,{uploadUrl:e.resumeUrl||e.createUrl,totalBytesUploadedInPreviousChunks:e.uploadedBytes,totalBytesUplaodedInCurrentChunk:0,maxChunkSize:e.maxChunkSize,status:t.status},function(){e.isComplete?n.markFileAsComplete(t.name,e.token):n.uploadNextChunk(t.name)})}})},this.uploadNextChunk=function(e){var t=n.getFileState(e);switch(t.status){case r.Canceled:case r.Complete:case r.Failed:return}var i=t.totalBytesUploadedInPreviousChunks,a=Math.min(t.totalBytesUploadedInPreviousChunks+t.maxChunkSize-1,t.totalBytes),s=t.html5File.slice(i,a,t.html5File.type),l=new FormData;l.append("file",s,t.compressedName||t.name);o.ajax({url:n.getFileState(t.name).uploadUrl,type:"POST",dataType:"json",headers:{"Content-Range":"bytes "+i+"-"+a+"/"+t.totalBytes},contentType:!1,processData:!1,data:l,xhr:function(){var e=o.ajaxSettings.xhr();return n.setFileState(t.name,{abortCallback:function(){e.abort()}}),e.upload.onprogress=function(e){return n.setFileState(t.name,{status:r.Uploading,totalBytesUplaodedInCurrentChunk:e.loaded})},e.upload.onload=function(e){return n.setFileState(t.name,{status:r.Uploading,totalBytesUplaodedInCurrentChunk:e.loaded})},e},success:function(e){e.isComplete?n.markFileAsComplete(t.name,e.token):n.setFileState(t.name,{totalBytesUploadedInPreviousChunks:e.uploadedBytes,totalBytesUplaodedInCurrentChunk:0},function(){return n.uploadNextChunk(t.name)})}})},this.cancelFile=function(e){e.abortCallback(),n.setFileState(e.name,{status:r.Canceled})},this.pauseFile=function(e){e.abortCallback(),n.setFileState(e.name,{status:r.Paused})},this.markFileAsComplete=function(e,t){var i=n.getFileState(e),a=function(){return n.props.onFileUploadFinished(i.compressedName||i.name,t,i.totalBytes)};n.setFileState(e,{status:r.Complete,totalBytesUploadedInPreviousChunks:i.totalBytes,token:t},a)},this.getFileState=function(e){var t=n.state.files.filter(function(t){return t.name==e});return 0==t.length?null:t[0]},this.setFileState=function(e,t,r){var i=n.state.files.filter(function(t){return t.name!=e}),a=n.getFileState(e);n.setState(o.extend({},n.state,{files:i.concat(o.extend({},a,t))}),r)},this.state={files:[]}}return i(t,e),t.prototype.fileIsCompressed=function(e){var t=["application/zip","application/x-zip","application/x-zip-compressed","application/x-compressed","application/x-compress","application/gzip","application/gzipped","application/gzip-compressed","application/gunzip","application/x-gzip","gzip/document","application/x-7z-compressed","application/x-rar-compressed"],n=t.filter(function(t){return t===e.type}).length>0;return n},t.prototype.render=function(){var e=this,t=React.createElement("span",null,React.createElement("input",{name:"files",id:"files",type:"file",className:"file-uploader__file-button",onChange:this.onFileChange,multiple:!0}),React.createElement("label",{htmlFor:"files",className:"file-uploader__file-label"},React.createElement("div",{className:"fa fa-upload file-uploader__upload-icon"}),React.createElement("div",null,this.props.multipleFileButtonLabel||"upload files"))),n=React.createElement("span",null,React.createElement("input",{name:"file",id:"file",type:"file",className:"file-uploader__file-button",onChange:this.onFileChange}),React.createElement("label",{htmlFor:"file",className:"file-uploader__file-label"},React.createElement("div",{className:"fa fa-upload file-uploader__upload-icon"}),React.createElement("div",null,this.props.singleFileButtonLabel||"upload file"))),i=this.props.singleFileButtonIsFirst||!1;return React.createElement("div",{className:"file-uploader"},React.createElement("form",{name:"filesUploadForm",id:"filesUploadForm"},i?this.props.mode==a.Multiple?null:n:this.props.mode==a.Single?null:t,this.props.mode==a.SingleAndMultiple?React.createElement("span",{style:{padding:"0 10px"}}):null,i?this.props.mode==a.Single?null:t:this.props.mode==a.Multiple?null:n),React.createElement("div",{className:"file-uploader__files-container",style:this.state.files.length>0?{}:{display:"none"}},null==this.state?"":this.state.files.sort(function(e,t){return e.index>t.index?1:-1}).map(function(t){if(e.props.autoRemoveOnCancel&&t.status==r.Canceled||e.props.autoRemoveOnComplete&&t.status==r.Complete)return null;var n=Math.min((t.totalBytesUploadedInPreviousChunks||0)+(t.totalBytesUplaodedInCurrentChunk||0),t.totalBytes),i=n/t.totalBytes*100,a=t.status==r.Waiting||t.status==r.Uploading||t.status==r.Paused,o=t.status==r.Waiting||t.status==r.Uploading,c=t.status==r.Paused,u=c?{display:"none"}:null,d=c?null:{display:"none"},p={width:i+"%"},h=s(t.totalBytes-n,{output:"object"}),m=s(t.totalBytes);return React.createElement("div",{className:"file-uploader__file-row",key:t.name},React.createElement("div",{className:"file-uploader__file-name"},t.compressedName||t.name," (",m,") "),React.createElement("div",{className:"file-uploader__progress-container"},React.createElement("div",{className:l("file-uploader__progress-bar","file-uploader__progress-bar--"+r[t.status].toLowerCase()),style:p}),t.status==r.Failed?React.createElement("div",{className:"file-uploader__status-container file-uploader__status-container--failed"},"Failed: "+t.failureMessage):React.createElement("div",{className:l("file-uploader__status-container","file-uploader__status-container--"+r[t.status].toLowerCase())},React.createElement("div",{title:"Cancel upload",className:l("file-uploader__status-button","file-uploader__status-button--cancel",a?null:"file-uploader__status-button--disabled"),onClick:a?function(){return e.cancelFile(t)}:null}),React.createElement("div",{title:"Pause upload",className:l("file-uploader__status-button","file-uploader__status-button--pause",o?null:"file-uploader__status-button--disabled"),onClick:o?function(){return e.pauseFile(t)}:null,style:u}),React.createElement("div",{title:"Resume upload",className:l("file-uploader__status-button","file-uploader__status-button--resume",c?null:"file-uploader__status-button--disabled"),onClick:c?function(){return e.startUploadingFile(t.name)}:null,style:d}),React.createElement("div",{className:"file-uploader__status"},r[t.status]),React.createElement("div",{className:"file-uploader__percent"},Math.floor(i),"%"),t.status==r.Complete?React.createElement("div",{className:"file-uploader__bytes"},m):React.createElement("div",{className:"file-uploader__bytes"},h.value.toFixed(2)+" "+h.suffix," left"))))})))},t}(React.Component));t.FileUploader=c},function(e,t,n){"use strict";function r(e,t){return this instanceof r?(this.files={},this.comment=null,this.root="",e&&this.load(e,t),void(this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e})):new r(e,t)}var i=n(91);r.prototype=n(92),r.prototype.load=n(125),r.support=n(93),r.defaults=n(120),r.utils=n(133),r.base64={encode:function(e){return i.encode(e)},decode:function(e){return i.decode(e)}},r.compressions=n(99),e.exports=r},function(e,t){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e,t){for(var r,i,a,o,s,l,c,u="",d=0;d<e.length;)r=e.charCodeAt(d++),i=e.charCodeAt(d++),a=e.charCodeAt(d++),o=r>>2,s=(3&r)<<4|i>>4,l=(15&i)<<2|a>>6,c=63&a,isNaN(i)?l=c=64:isNaN(a)&&(c=64),u=u+n.charAt(o)+n.charAt(s)+n.charAt(l)+n.charAt(c);return u},t.decode=function(e,t){var r,i,a,o,s,l,c,u="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)o=n.indexOf(e.charAt(d++)),s=n.indexOf(e.charAt(d++)),l=n.indexOf(e.charAt(d++)),c=n.indexOf(e.charAt(d++)),r=o<<2|s>>4,i=(15&s)<<4|l>>2,a=(3&l)<<6|c,u+=String.fromCharCode(r),64!=l&&(u+=String.fromCharCode(i)),64!=c&&(u+=String.fromCharCode(a));return u}},function(e,t,n){"use strict";var r=n(93),i=n(98),a=n(118),o=n(119),s=n(120),l=n(91),c=n(99),u=n(121),d=n(117),p=n(122),h=n(123),m=n(124),f=function(e){if(e._data instanceof u&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===i.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},g=function(e){var t=f(e),n=i.getTypeOf(t);return"string"===n?!e.options.binary&&r.nodebuffer?d(t,"utf-8"):e.asBinary():t},v=function(e){var t=f(this);return null===t||"undefined"==typeof t?"":(this.options.base64&&(t=l.decode(t)),t=e&&this.options.binary?A.utf8decode(t):i.transformTo("string",t),e||this.options.binary||(t=i.transformTo("string",A.utf8encode(t))),t)},b=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};b.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var e=g(this);return i.transformTo("nodebuffer",e)},asUint8Array:function(){var e=g(this);return i.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var y=function(e,t){var n,r="";for(n=0;t>n;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},w=function(e){return e=e||{},e.base64!==!0||null!==e.binary&&void 0!==e.binary||(e.binary=!0),e=i.extend(e,s),e.date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e},k=function(e,t,n){var r,a=i.getTypeOf(t);if(n=w(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),
n.dir&&(e=_(e)),n.createFolders&&(r=E(e))&&x.call(this,r,!0),n.dir||null===t||"undefined"==typeof t)n.base64=!1,n.binary=!1,t=null,a=null;else if("string"===a)n.binary&&!n.base64&&n.optimizedBinaryString!==!0&&(t=i.string2binary(t));else{if(n.base64=!1,n.binary=!0,!(a||t instanceof u))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===a&&(t=i.transformTo("uint8array",t))}var o=new b(e,t,n);return this.files[e]=o,o},E=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},_=function(e){return"/"!=e.slice(-1)&&(e+="/"),e},x=function(e,t){return t="undefined"!=typeof t?t:!1,e=_(e),this.files[e]||k.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},C=function(e,t,n){var r,o=new u;return e._data instanceof u?(o.uncompressedSize=e._data.uncompressedSize,o.crc32=e._data.crc32,0===o.uncompressedSize||e.dir?(t=c.STORE,o.compressedContent="",o.crc32=0):e._data.compressionMethod===t.magic?o.compressedContent=e._data.getCompressedContent():(r=e._data.getContent(),o.compressedContent=t.compress(i.transformTo(t.compressInputType,r),n))):(r=g(e),(!r||0===r.length||e.dir)&&(t=c.STORE,r=""),o.uncompressedSize=r.length,o.crc32=a(r),o.compressedContent=t.compress(i.transformTo(t.compressInputType,r),n)),o.compressedSize=o.compressedContent.length,o.compressionMethod=t.magic,o},S=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},T=function(e,t){return 63&(e||0)},R=function(e,t,n,r,s,l){var c,u,d,h,m=(n.compressedContent,l!==p.utf8encode),f=i.transformTo("string",l(t.name)),g=i.transformTo("string",p.utf8encode(t.name)),v=t.comment||"",b=i.transformTo("string",l(v)),w=i.transformTo("string",p.utf8encode(v)),k=g.length!==t.name.length,E=w.length!==v.length,_=t.options,x="",C="",R="";d=t._initialMetadata.dir!==t.dir?t.dir:_.dir,h=t._initialMetadata.date!==t.date?t.date:_.date;var A=0,N=0;d&&(A|=16),"UNIX"===s?(N=798,A|=S(t.unixPermissions,d)):(N=20,A|=T(t.dosPermissions,d)),c=h.getHours(),c<<=6,c|=h.getMinutes(),c<<=5,c|=h.getSeconds()/2,u=h.getFullYear()-1980,u<<=4,u|=h.getMonth()+1,u<<=5,u|=h.getDate(),k&&(C=y(1,1)+y(a(f),4)+g,x+="up"+y(C.length,2)+C),E&&(R=y(1,1)+y(this.crc32(b),4)+w,x+="uc"+y(R.length,2)+R);var F="";F+="\n\x00",F+=m||!k&&!E?"\x00\x00":"\x00\b",F+=n.compressionMethod,F+=y(c,2),F+=y(u,2),F+=y(n.crc32,4),F+=y(n.compressedSize,4),F+=y(n.uncompressedSize,4),F+=y(f.length,2),F+=y(x.length,2);var M=o.LOCAL_FILE_HEADER+F+f+x,L=o.CENTRAL_FILE_HEADER+y(N,2)+F+y(b.length,2)+"\x00\x00\x00\x00"+y(A,4)+y(r,4)+f+x+b;return{fileRecord:M,dirRecord:L,compressedObject:n}},A={load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,n,r,a,o=[];for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],a=new b(r.name,r._data,i.extend(r.options)),n=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(n,a)&&o.push(a));return o},file:function(e,t,n){if(1===arguments.length){if(i.isRegExp(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}return this.filter(function(t,n){return!n.dir&&t===e})[0]||null}return e=this.root+e,k.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(i.isRegExp(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=x.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){e=i.extend(e||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:p.utf8encode}),i.checkSupport(e.type),("darwin"===e.platform||"freebsd"===e.platform||"linux"===e.platform||"sunos"===e.platform)&&(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var t,n,r=[],a=0,s=0,u=i.transformTo("string",e.encodeFileName(e.comment||this.comment||""));for(var d in this.files)if(this.files.hasOwnProperty(d)){var f=this.files[d],g=f.options.compression||e.compression.toUpperCase(),v=c[g];if(!v)throw new Error(g+" is not a valid compression method !");var b=f.options.compressionOptions||e.compressionOptions||{},w=C.call(this,f,v,b),k=R.call(this,d,f,w,a,e.platform,e.encodeFileName);a+=k.fileRecord.length+w.compressedSize,s+=k.dirRecord.length,r.push(k)}var E="";E=o.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+y(r.length,2)+y(r.length,2)+y(s,4)+y(a,4)+y(u.length,2)+u;var _=e.type.toLowerCase();for(t="uint8array"===_||"arraybuffer"===_||"blob"===_||"nodebuffer"===_?new m(a+s+E.length):new h(a+s+E.length),n=0;n<r.length;n++)t.append(r[n].fileRecord),t.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)t.append(r[n].dirRecord);t.append(E);var x=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(e.type.toLowerCase(),x);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",x),e.mimeType);case"base64":return e.base64?l.encode(x):x;default:return x}},crc32:function(e,t){return a(e,t)},utf8encode:function(e){return i.transformTo("string",p.utf8encode(e))},utf8decode:function(e){return p.utf8decode(e)}};e.exports=A},function(e,t,n){(function(e){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var n=new ArrayBuffer(0);try{t.blob=0===new Blob([n],{type:"application/zip"}).size}catch(r){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,a=new i;a.append(n),t.blob=0===a.getBlob("application/zip").size}catch(r){t.blob=!1}}}}).call(t,n(94).Buffer)},function(e,t,n){(function(e,r){function i(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function a(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(this.length=0,this.parent=void 0,"number"==typeof t?o(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):l(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function o(t,n){if(t=f(t,0>n?0:0|g(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;n>r;r++)t[r]=0;return t}function s(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|b(t,n);return e=f(e,r),e.write(t,n),e}function l(t,n){if(e.isBuffer(n))return c(t,n);if(X(n))return u(t,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return d(t,n);if(n instanceof ArrayBuffer)return p(t,n)}return n.length?h(t,n):m(t,n)}function c(e,t){var n=0|g(t.length);return e=f(e,n),t.copy(e,0,0,n),e}function u(e,t){var n=0|g(t.length);e=f(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function d(e,t){var n=0|g(t.length);e=f(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function p(t,n){return e.TYPED_ARRAY_SUPPORT?(n.byteLength,t=e._augment(new Uint8Array(n))):t=d(t,new Uint8Array(n)),t}function h(e,t){var n=0|g(t.length);e=f(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function m(e,t){var n,r=0;"Buffer"===t.type&&X(t.data)&&(n=t.data,r=0|g(n.length)),e=f(e,r);for(var i=0;r>i;i+=1)e[i]=255&n[i];return e}function f(t,n){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(n)),t.__proto__=e.prototype):(t.length=n,t._isBuffer=!0);var r=0!==n&&n<=e.poolSize>>>1;return r&&(t.parent=Z),t}function g(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function v(t,n){if(!(this instanceof v))return new v(t,n);var r=new e(t,n);return delete r.parent,r}function b(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return F(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return A(this,t,n);case"binary":return N(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a=t.length;if(a%2!==0)throw new Error("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;r>o;o++){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+o]=s}return o}function k(e,t,n,r){return G(H(t,e.length-n),e,n,r)}function E(e,t,n,r){return G(W(t),e,n,r)}function _(e,t,n,r){return E(e,t,n,r)}function x(e,t,n,r){return G(q(t),e,n,r)}function C(e,t,n,r){return G(V(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;n>i;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(n>=i+s){var l,c,u,d;switch(s){case 1:128>a&&(o=a);break;case 2:l=e[i+1],128===(192&l)&&(d=(31&a)<<6|63&l,d>127&&(o=d));break;case 3:l=e[i+1],c=e[i+2],128===(192&l)&&128===(192&c)&&(d=(15&a)<<12|(63&l)<<6|63&c,d>2047&&(55296>d||d>57343)&&(o=d));break;case 4:l=e[i+1],c=e[i+2],u=e[i+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(d=(15&a)<<18|(63&l)<<12|(63&c)<<6|63&u,d>65535&&1114112>d&&(o=d))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return R(r)}function R(e){var t=e.length;if(J>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=J));return n}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function F(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",a=t;n>a;a++)i+=$(e[a]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function L(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,n,r,i,a,o){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>a||o>n)throw new RangeError("value is out of bounds");if(r+i>t.length)throw new RangeError("index out of range")}function O(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);a>i;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);a>i;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function P(e,t,n,r,i,a){if(t>i||a>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function B(e,t,n,r,i){return i||P(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Y.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return i||P(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Y.write(e,t,n,r,52,8),n+8}function z(e){if(e=U(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function $(e){return 16>e?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var n,r=e.length,i=null,a=[],o=0;r>o;o++){if(n=e.charCodeAt(o),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,128>n){if((t-=1)<0)break;a.push(n)}else if(2048>n){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function W(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function V(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);o++)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function q(e){return K.toByteArray(z(e))}function G(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var K=n(95),Y=n(96),X=n(97);t.Buffer=e,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var Z={};e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,a=0,o=Math.min(r,i);o>a&&t[a]===n[a];)++a;return a!==o&&(r=t[a],i=n[a]),i>r?-1:r>i?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!X(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;r++)n+=t[r].length;var i=new e(n),a=0;for(r=0;r<t.length;r++){var o=t[r];o.copy(i,a),a+=o.length}return i},e.byteLength=b,e.prototype.length=void 0,e.prototype.parent=void 0,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):y.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function r(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return r(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):r(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return E(this,e,t,n);case"binary":return _(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),t>n&&(n=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=e._augment(this.subarray(t,n));else{var a=n-t;i=new e(a,void 0);for(var o=0;a>o;o++)i[o]=this[o+t]}return i.length&&(i.parent=this.parent||this),i},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},e.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),Y.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),Y.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),Y.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),Y.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||D(this,e,t,n,Math.pow(2,8*n),0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||D(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):O(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):O(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):I(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):I(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=0,o=1,s=0>e?1:0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=(e/o>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0>e?1:0;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=(e/o>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):O(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):O(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):I(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):I(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&r>i&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var a,o=i-r;if(this===t&&n>r&&i>n)for(a=o-1;a>=0;a--)t[a+n]=this[a+r];else if(1e3>o||!e.TYPED_ARRAY_SUPPORT)for(a=0;o>a;a++)t[a+n]=this[a+r];else t._set(this.subarray(r,r+o),n);return o},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var i=H(e.toString()),a=i.length;for(r=t;n>r;r++)this[r]=i[r%a]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,r=t.length;r>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=Q.get,t.set=Q.set,t.write=Q.write,t.toString=Q.toString,t.toLocaleString=Q.toString,t.toJSON=Q.toJSON,t.equals=Q.equals,t.compare=Q.compare,t.indexOf=Q.indexOf,t.copy=Q.copy,t.slice=Q.slice,t.readUIntLE=Q.readUIntLE,t.readUIntBE=Q.readUIntBE,t.readUInt8=Q.readUInt8,t.readUInt16LE=Q.readUInt16LE,t.readUInt16BE=Q.readUInt16BE,t.readUInt32LE=Q.readUInt32LE,t.readUInt32BE=Q.readUInt32BE,t.readIntLE=Q.readIntLE,t.readIntBE=Q.readIntBE,t.readInt8=Q.readInt8,t.readInt16LE=Q.readInt16LE,t.readInt16BE=Q.readInt16BE,t.readInt32LE=Q.readInt32LE,t.readInt32BE=Q.readInt32BE,t.readFloatLE=Q.readFloatLE,t.readFloatBE=Q.readFloatBE,t.readDoubleLE=Q.readDoubleLE,t.readDoubleBE=Q.readDoubleBE,t.writeUInt8=Q.writeUInt8,t.writeUIntLE=Q.writeUIntLE,t.writeUIntBE=Q.writeUIntBE,t.writeUInt16LE=Q.writeUInt16LE,t.writeUInt16BE=Q.writeUInt16BE,t.writeUInt32LE=Q.writeUInt32LE,t.writeUInt32BE=Q.writeUInt32BE,t.writeIntLE=Q.writeIntLE,t.writeIntBE=Q.writeIntBE,t.writeInt8=Q.writeInt8,t.writeInt16LE=Q.writeInt16LE,t.writeInt16BE=Q.writeInt16BE,t.writeInt32LE=Q.writeInt32LE,t.writeInt32BE=Q.writeInt32BE,t.writeFloatLE=Q.writeFloatLE,t.writeFloatBE=Q.writeFloatBE,t.writeDoubleLE=Q.writeDoubleLE,t.writeDoubleBE=Q.writeDoubleBE,t.fill=Q.fill,t.inspect=Q.inspect,t.toArrayBuffer=Q.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(94).Buffer,function(){return this}())},function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===o||t===d?62:t===s||t===p?63:l>t?-1:l+10>t?t-l+26+26:u+26>t?t-u:c+26>t?t-c+26:void 0}function n(e){function n(e){c[d++]=e}var r,i,o,s,l,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=e.length;l="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0,c=new a(3*e.length/4-l),o=l>0?e.length-4:e.length;var d=0;for(r=0,i=0;o>r;r+=4,i+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===l?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===l&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),c}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,a,o,s=e.length%3,l="";for(i=0,o=e.length-s;o>i;i+=3)a=(e[i]<<16)+(e[i+1]<<8)+e[i+2],l+=n(a);switch(s){case 1:a=e[e.length-1],l+=t(a>>2),l+=t(a<<4&63),l+="==";break;case 2:a=(e[e.length-2]<<8)+e[e.length-1],l+=t(a>>10),l+=t(a>>4&63),l+=t(a<<2&63),l+="="}return l}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),s="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),u="A".charCodeAt(0),d="-".charCodeAt(0),p="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}(t)},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,p=n?-1:1,h=e[t+d];for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:(h?-1:1)*(1/0);o+=Math.pow(2,r),a-=c}return(h?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,m=r?1:-1,f=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+d>=1?p/l:p*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=m,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+h]=255&o,h+=m,o/=256,c-=8);e[n+h-m]|=128*f}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";function r(e){return e}function i(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function a(e){var n=65536,r=[],i=e.length,a=t.getTypeOf(e),o=0,s=!0;try{switch(a){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,c(0))}}catch(l){s=!1}if(!s){for(var u="",d=0;d<e.length;d++)u+=String.fromCharCode(e[d]);return u}for(;i>o&&n>1;)try{"array"===a||"nodebuffer"===a?r.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+n,i)))):r.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+n,i)))),o+=n}catch(l){n=Math.floor(n/2)}return r.join("")}function o(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var s=n(93),l=n(99),c=n(117);t.string2binary=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t},t.arrayBuffer2Blob=function(e,n){t.checkSupport("blob"),n=n||"application/zip";try{return new Blob([e],{type:n})}catch(r){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,a=new i;return a.append(e),a.getBlob(n)}catch(r){throw new Error("Bug : can't construct the Blob.")}}},t.applyFromCharCode=a;var u={};u.string={string:r,array:function(e){return i(e,new Array(e.length))},arraybuffer:function(e){return u.string.uint8array(e).buffer},uint8array:function(e){return i(e,new Uint8Array(e.length))},nodebuffer:function(e){return i(e,c(e.length))}},u.array={string:a,array:r,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return c(e)}},u.arraybuffer={string:function(e){return a(new Uint8Array(e))},array:function(e){return o(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:r,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return c(new Uint8Array(e))}},u.uint8array={string:a,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:r,nodebuffer:function(e){return c(e)}},u.nodebuffer={string:a,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return u.nodebuffer.uint8array(e).buffer},uint8array:function(e){return o(e,new Uint8Array(e.length))},nodebuffer:r},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var r=t.getTypeOf(n),i=u[r][e](n);return i},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":s.nodebuffer&&c.test(e)?"nodebuffer":s.uint8array&&e instanceof Uint8Array?"uint8array":s.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){var t=s[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this browser")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),r+="\\x"+(16>t?"0":"")+t.toString(16).toUpperCase();return r},t.findCompression=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n}},function(e,t,n){"use strict";t.STORE={magic:"\x00\x00",compress:function(e,t){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},t.DEFLATE=n(100)},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=n(101);t.uncompressInputType=r?"uint8array":"array",t.compressInputType=r?"uint8array":"array",t.magic="\b\x00",t.compress=function(e,t){return i.deflateRaw(e,{level:t.level||-1})},t.uncompress=function(e){return i.inflateRaw(e)}},function(e,t,n){"use strict";var r=n(102).assign,i=n(103),a=n(111),o=n(115),s={};r(s,i,a,o),e.exports=s},function(e,t){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+r),i);for(var a=0;r>a;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;n>t;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;n>t;t++)a=e[t],o.set(a,i),i+=a.length;return o}},i={arraySet:function(e,t,n,r,i){for(var a=0;r>a;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(n)},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=l.assign({level:b,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==f)throw new Error(u[n]);t.header&&s.deflateSetHeader(this.strm,t.header)}function i(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function a(e,t){return t=t||{},t.raw=!0,i(e,t)}function o(e,t){return t=t||{},t.gzip=!0,i(e,t)}var s=n(104),l=n(102),c=n(109),u=n(108),d=n(110),p=Object.prototype.toString,h=0,m=4,f=0,g=1,v=2,b=-1,y=0,w=8;r.prototype.push=function(e,t){var n,r,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:t===!0?m:h,"string"==typeof e?i.input=c.string2buf(e):"[object ArrayBuffer]"===p.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new l.Buf8(a),i.next_out=0,i.avail_out=a),n=s.deflate(i,r),n!==g&&n!==f)return this.onEnd(n),this.ended=!0,!1;(0===i.avail_out||0===i.avail_in&&(r===m||r===v))&&("string"===this.options.to?this.onData(c.buf2binstring(l.shrinkBuf(i.output,i.next_out))):this.onData(l.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&n!==g);return r===m?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f):r===v?(this.onEnd(f),i.avail_out=0,!0):!0},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=r,t.deflate=i,t.deflateRaw=a,t.gzip=o},function(e,t,n){"use strict";function r(e,t){return e.msg=L[t],t}function i(e){return(e<<1)-(e>4?9:0)}function a(e){for(var t=e.length;--t>=0;)e[t]=0}function o(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(A.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){N._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,o(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,A.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=F(e.adler,t,i,n):2===e.state.wrap&&(e.adler=M(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function d(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-ue?e.strstart-(e.w_size-ue):0,c=e.window,u=e.w_mask,d=e.prev,p=e.strstart+ce,h=c[a+o-1],m=c[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,c[n+o]===m&&c[n+o-1]===h&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do;while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&p>a);if(r=ce-(p-a),a=p-ce,r>o){if(e.match_start=t,o=r,r>=s)break;h=c[a+o-1],m=c[a+o]}}while((t=d[t&u])>l&&0!==--i);return o<=e.lookahead?o:e.lookahead}function p(e){var t,n,r,i,a,o=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-ue)){A.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,n=e.hash_size,t=n;do r=e.head[--t],e.head[t]=r>=o?r-o:0;while(--n);n=o,t=n;do r=e.prev[--t],e.prev[t]=r>=o?r-o:0;while(--n);i+=o}if(0===e.strm.avail_in)break;if(n=u(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=le)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+le-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<le)););}while(e.lookahead<ue&&0!==e.strm.avail_in)}function h(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(p(e),0===e.lookahead&&t===D)return ye;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,s(e,!1),0===e.strm.avail_out))return ye;if(e.strstart-e.block_start>=e.w_size-ue&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===P?(s(e,!0),0===e.strm.avail_out?ke:Ee):e.strstart>e.block_start&&(s(e,!1),0===e.strm.avail_out)?ye:ye}function m(e,t){for(var n,r;;){if(e.lookahead<ue){if(p(e),e.lookahead<ue&&t===D)return ye;if(0===e.lookahead)break}if(n=0,e.lookahead>=le&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ue&&(e.match_length=d(e,n)),e.match_length>=le)if(r=N._tr_tally(e,e.strstart-e.match_start,e.match_length-le),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=le){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=N._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=e.strstart<le-1?e.strstart:le-1,t===P?(s(e,!0),0===e.strm.avail_out?ke:Ee):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:we}function f(e,t){for(var n,r,i;;){if(e.lookahead<ue){if(p(e),e.lookahead<ue&&t===D)return ye;if(0===e.lookahead)break}if(n=0,e.lookahead>=le&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=le-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ue&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===V||e.match_length===le&&e.strstart-e.match_start>4096)&&(e.match_length=le-1)),e.prev_length>=le&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-le,r=N._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-le),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=le-1,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return ye}else if(e.match_available){if(r=N._tr_tally(e,0,e.window[e.strstart-1]),r&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return ye}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=N._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<le-1?e.strstart:le-1,t===P?(s(e,!0),0===e.strm.avail_out?ke:Ee):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:we}function g(e,t){for(var n,r,i,a,o=e.window;;){if(e.lookahead<=ce){if(p(e),e.lookahead<=ce&&t===D)return ye;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=le&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){a=e.strstart+ce;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&a>i);e.match_length=ce-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=le?(n=N._tr_tally(e,1,e.match_length-le),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=N._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===P?(s(e,!0),0===e.strm.avail_out?ke:Ee):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:we}function v(e,t){for(var n;;){if(0===e.lookahead&&(p(e),0===e.lookahead)){if(t===D)return ye;break}if(e.match_length=0,n=N._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===P?(s(e,!0),0===e.strm.avail_out?ke:Ee):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:we}function b(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function y(e){e.window_size=2*e.w_size,a(e.head),e.max_lazy_match=R[e.level].max_lazy,e.good_match=R[e.level].good_length,e.nice_match=R[e.level].nice_length,e.max_chain_length=R[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=le-1,e.match_available=0,e.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(2*oe),this.dyn_dtree=new A.Buf16(2*(2*ie+1)),this.bl_tree=new A.Buf16(2*(2*ae+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(se+1),this.heap=new A.Buf16(2*re+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(2*re+1),a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=X,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?pe:ve,e.adler=2===t.wrap?0:1,t.last_flush=D,N._tr_init(t),j):r(e,U)}function E(e){var t=k(e);return t===j&&y(e.state),t}function _(e,t){return e&&e.state?2!==e.state.wrap?U:(e.state.gzhead=t,j):U}function x(e,t,n,i,a,o){if(!e)return U;var s=1;if(t===W&&(t=6),0>i?(s=0,i=-i):i>15&&(s=2,i-=16),1>a||a>J||n!==Z||8>i||i>15||0>t||t>9||0>o||o>K)return r(e,U);8===i&&(i=9);var l=new w;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+le-1)/le),l.window=new A.Buf8(2*l.w_size),l.head=new A.Buf16(l.hash_size),l.prev=new A.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new A.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,E(e)}function C(e,t){return x(e,t,Z,Q,ee,Y)}function S(e,t){var n,s,u,d;if(!e||!e.state||t>B||0>t)return e?r(e,U):U;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===be&&t!==P)return r(e,0===e.avail_out?H:U);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===pe)if(2===s.wrap)e.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=M(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=he):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),l(s,_e),s.status=ve);else{var p=Z+(s.w_bits-8<<4)<<8,h=-1;h=s.strategy>=q||s.level<2?0:s.level<6?1:6===s.level?2:3,p|=h<<6,0!==s.strstart&&(p|=de),p+=31-p%31,s.status=ve,c(s,p),0!==s.strstart&&(c(s,e.adler>>>16),c(s,65535&e.adler)),e.adler=1}if(s.status===he)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(e.adler=M(e.adler,s.pending_buf,s.pending-u,u)),o(e),u=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(e.adler=M(e.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=M(e.adler,s.pending_buf,s.pending-u,u)),o(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=M(e.adler,s.pending_buf,s.pending-u,u)),
0===d&&(s.gzindex=0,s.status=fe)}else s.status=fe;if(s.status===fe)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=M(e.adler,s.pending_buf,s.pending-u,u)),o(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=M(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.status=ge)}else s.status=ge;if(s.status===ge&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&o(e),s.pending+2<=s.pending_buf_size&&(l(s,255&e.adler),l(s,e.adler>>8&255),e.adler=0,s.status=ve)):s.status=ve),0!==s.pending){if(o(e),0===e.avail_out)return s.last_flush=-1,j}else if(0===e.avail_in&&i(t)<=i(n)&&t!==P)return r(e,H);if(s.status===be&&0!==e.avail_in)return r(e,H);if(0!==e.avail_in||0!==s.lookahead||t!==D&&s.status!==be){var m=s.strategy===q?v(s,t):s.strategy===G?g(s,t):R[s.level].func(s,t);if((m===ke||m===Ee)&&(s.status=be),m===ye||m===ke)return 0===e.avail_out&&(s.last_flush=-1),j;if(m===we&&(t===O?N._tr_align(s):t!==B&&(N._tr_stored_block(s,0,0,!1),t===I&&(a(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),o(e),0===e.avail_out))return s.last_flush=-1,j}return t!==P?j:s.wrap<=0?z:(2===s.wrap?(l(s,255&e.adler),l(s,e.adler>>8&255),l(s,e.adler>>16&255),l(s,e.adler>>24&255),l(s,255&e.total_in),l(s,e.total_in>>8&255),l(s,e.total_in>>16&255),l(s,e.total_in>>24&255)):(c(s,e.adler>>>16),c(s,65535&e.adler)),o(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?j:z)}function T(e){var t;return e&&e.state?(t=e.state.status,t!==pe&&t!==he&&t!==me&&t!==fe&&t!==ge&&t!==ve&&t!==be?r(e,U):(e.state=null,t===ve?r(e,$):j)):U}var R,A=n(102),N=n(105),F=n(106),M=n(107),L=n(108),D=0,O=1,I=3,P=4,B=5,j=0,z=1,U=-2,$=-3,H=-5,W=-1,V=1,q=2,G=3,K=4,Y=0,X=2,Z=8,J=9,Q=15,ee=8,te=29,ne=256,re=ne+1+te,ie=30,ae=19,oe=2*re+1,se=15,le=3,ce=258,ue=ce+le+1,de=32,pe=42,he=69,me=73,fe=91,ge=103,ve=113,be=666,ye=1,we=2,ke=3,Ee=4,_e=3;R=[new b(0,0,0,0,h),new b(4,4,8,4,m),new b(4,5,16,8,m),new b(4,6,32,32,m),new b(4,4,16,16,f),new b(8,16,32,32,f),new b(8,16,128,128,f),new b(8,32,128,256,f),new b(32,128,258,1024,f),new b(32,258,258,4096,f)],t.deflateInit=C,t.deflateInit2=x,t.deflateReset=E,t.deflateResetKeep=k,t.deflateSetHeader=_,t.deflate=S,t.deflateEnd=T,t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function a(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function o(e){return 256>e?le[e]:le[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,n){e.bi_valid>Y-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>Y-e.bi_valid,e.bi_valid+=n-Y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function c(e,t,n){l(e,n[2*t],n[2*t+1])}function u(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function p(e,t){var n,r,i,a,o,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,m=t.stat_desc.max_length,f=0;for(a=0;K>=a;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;G>n;n++)r=e.heap[n],a=l[2*l[2*r+1]+1]+1,a>m&&(a=m,f++),l[2*r+1]=a,r>c||(e.bl_count[a]++,o=0,r>=h&&(o=p[r-h]),s=l[2*r],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(u[2*r+1]+o)));if(0!==f){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,f-=2}while(f>0);for(a=m;0!==a;a--)for(r=e.bl_count[a];0!==r;)i=e.heap[--n],i>c||(l[2*i+1]!==a&&(e.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),r--)}}function h(e,t,n){var r,i,a=new Array(K+1),o=0;for(r=1;K>=r;r++)a[r]=o=o+n[r-1]<<1;for(i=0;t>=i;i++){var s=e[2*i+1];0!==s&&(e[2*i]=u(a[s]++,s))}}function m(){var e,t,n,r,a,o=new Array(K+1);for(n=0,r=0;$-1>r;r++)for(ue[r]=n,e=0;e<1<<te[r];e++)ce[n++]=r;for(ce[n-1]=r,a=0,r=0;16>r;r++)for(de[r]=a,e=0;e<1<<ne[r];e++)le[a++]=r;for(a>>=7;V>r;r++)for(de[r]=a<<7,e=0;e<1<<ne[r]-7;e++)le[256+a++]=r;for(t=0;K>=t;t++)o[t]=0;for(e=0;143>=e;)oe[2*e+1]=8,e++,o[8]++;for(;255>=e;)oe[2*e+1]=9,e++,o[9]++;for(;279>=e;)oe[2*e+1]=7,e++,o[7]++;for(;287>=e;)oe[2*e+1]=8,e++,o[8]++;for(h(oe,W+1,o),e=0;V>e;e++)se[2*e+1]=5,se[2*e]=u(e,5);pe=new i(oe,te,H+1,W,K),he=new i(se,ne,0,V,K),me=new i(new Array(0),re,0,q,X)}function f(e){var t;for(t=0;W>t;t++)e.dyn_ltree[2*t]=0;for(t=0;V>t;t++)e.dyn_dtree[2*t]=0;for(t=0;q>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Z]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,r){g(e),r&&(s(e,n),s(e,~n)),M.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function b(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function y(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&b(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!b(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function w(e,t,n){var r,i,a,s,u=0;if(0!==e.last_lit)do r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?c(e,i,t):(a=ce[i],c(e,a+H+1,t),s=te[a],0!==s&&(i-=ue[a],l(e,i,s)),r--,a=o(r),c(e,a,n),s=ne[a],0!==s&&(r-=de[a],l(e,r,s)));while(u<e.last_lit);c(e,Z,t)}function k(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=G,n=0;l>n;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=2>c?++c:0,a[2*i]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)y(e,a,n);i=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],y(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,y(e,a,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],p(e,t),h(a,c,e.bl_count)}function E(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;n>=r;r++)i=o,o=t[2*(r+1)+1],++s<l&&i===o||(c>s?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*J]++):10>=s?e.bl_tree[2*Q]++:e.bl_tree[2*ee]++,s=0,a=i,0===o?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))}function _(e,t,n){var r,i,a=-1,o=t[1],s=0,u=7,d=4;for(0===o&&(u=138,d=3),r=0;n>=r;r++)if(i=o,o=t[2*(r+1)+1],!(++s<u&&i===o)){if(d>s){do c(e,i,e.bl_tree);while(0!==--s)}else 0!==i?(i!==a&&(c(e,i,e.bl_tree),s--),c(e,J,e.bl_tree),l(e,s-3,2)):10>=s?(c(e,Q,e.bl_tree),l(e,s-3,3)):(c(e,ee,e.bl_tree),l(e,s-11,7));s=0,a=i,0===o?(u=138,d=3):i===o?(u=6,d=3):(u=7,d=4)}}function x(e){var t;for(E(e,e.dyn_ltree,e.l_desc.max_code),E(e,e.dyn_dtree,e.d_desc.max_code),k(e,e.bl_desc),t=q-1;t>=3&&0===e.bl_tree[2*ie[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function C(e,t,n,r){var i;for(l(e,t-257,5),l(e,n-1,5),l(e,r-4,4),i=0;r>i;i++)l(e,e.bl_tree[2*ie[i]+1],3);_(e,e.dyn_ltree,t-1),_(e,e.dyn_dtree,n-1)}function S(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return D;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return O;for(t=32;H>t;t++)if(0!==e.dyn_ltree[2*t])return O;return D}function T(e){fe||(m(),fe=!0),e.l_desc=new a(e.dyn_ltree,pe),e.d_desc=new a(e.dyn_dtree,he),e.bl_desc=new a(e.bl_tree,me),e.bi_buf=0,e.bi_valid=0,f(e)}function R(e,t,n,r){l(e,(P<<1)+(r?1:0),3),v(e,t,n,!0)}function A(e){l(e,B<<1,3),c(e,Z,oe),d(e)}function N(e,t,n,r){var i,a,o=0;e.level>0?(e.strm.data_type===I&&(e.strm.data_type=S(e)),k(e,e.l_desc),k(e,e.d_desc),o=x(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,i>=a&&(i=a)):i=a=n+5,i>=n+4&&-1!==t?R(e,t,n,r):e.strategy===L||a===i?(l(e,(B<<1)+(r?1:0),3),w(e,oe,se)):(l(e,(j<<1)+(r?1:0),3),C(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),w(e,e.dyn_ltree,e.dyn_dtree)),f(e),r&&g(e)}function F(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ce[n]+H+1)]++,e.dyn_dtree[2*o(t)]++),e.last_lit===e.lit_bufsize-1}var M=n(102),L=4,D=0,O=1,I=2,P=0,B=1,j=2,z=3,U=258,$=29,H=256,W=H+1+$,V=30,q=19,G=2*W+1,K=15,Y=16,X=7,Z=256,J=16,Q=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=512,oe=new Array(2*(W+2));r(oe);var se=new Array(2*V);r(se);var le=new Array(ae);r(le);var ce=new Array(U-z+1);r(ce);var ue=new Array($);r(ue);var de=new Array(V);r(de);var pe,he,me,fe=!1;t._tr_init=T,t._tr_stored_block=R,t._tr_flush_block=N,t._tr_tally=F,t._tr_align=A},function(e,t){"use strict";function n(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0}e.exports=n},function(e,t){"use strict";function n(){for(var e,t=[],n=0;256>n;n++){e=n;for(var r=0;8>r;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function r(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;o>s;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}var i=n();e.exports=r},function(e,t){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";function r(e,t){if(65537>t&&(e.subarray&&o||!e.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",r=0;t>r;r++)n+=String.fromCharCode(e[r]);return n}var i=n(102),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(s){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){o=!1}for(var l=new i.Buf8(256),c=0;256>c;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1,t.string2buf=function(e){var t,n,r,a,o,s=e.length,l=0;for(a=0;s>a;a++)n=e.charCodeAt(a),55296===(64512&n)&&s>a+1&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=new i.Buf8(l),o=0,a=0;l>o;a++)n=e.charCodeAt(a),55296===(64512&n)&&s>a+1&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),128>n?t[o++]=n:2048>n?(t[o++]=192|n>>>6,t[o++]=128|63&n):65536>n?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return r(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;r>n;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,i,a,o,s=t||e.length,c=new Array(2*s);for(i=0,n=0;s>n;)if(a=e[n++],128>a)c[i++]=a;else if(o=l[a],o>4)c[i++]=65533,n+=o-1;else{for(a&=2===o?31:3===o?15:7;o>1&&s>n;)a=a<<6|63&e[n++],o--;o>1?c[i++]=65533:65536>a?c[i++]=a:(a-=65536,c[i++]=55296|a>>10&1023,c[i++]=56320|1023&a)}return r(c,i)},t.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+l[e[n]]>t?n:t}},function(e,t){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,t.windowBits);if(n!==c.Z_OK)throw new Error(u[n]);this.header=new p,o.inflateGetHeader(this.strm,this.header)}function i(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function a(e,t){return t=t||{},t.raw=!0,i(e,t)}var o=n(112),s=n(102),l=n(109),c=n(115),u=n(108),d=n(110),p=n(116),h=Object.prototype.toString;r.prototype.push=function(e,t){var n,r,i,a,u,d=this.strm,p=this.options.chunkSize,m=!1;if(this.ended)return!1;r=t===~~t?t:t===!0?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof e?d.input=l.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new s.Buf8(p),d.next_out=0,d.avail_out=p),n=o.inflate(d,c.Z_NO_FLUSH),n===c.Z_BUF_ERROR&&m===!0&&(n=c.Z_OK,m=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0===d.avail_out||n===c.Z_STREAM_END||0===d.avail_in&&(r===c.Z_FINISH||r===c.Z_SYNC_FLUSH))&&("string"===this.options.to?(i=l.utf8border(d.output,d.next_out),a=d.next_out-i,u=l.buf2string(d.output,i),d.next_out=a,d.avail_out=p-a,a&&s.arraySet(d.output,d.output,i,a,0),this.onData(u)):this.onData(s.shrinkBuf(d.output,d.next_out))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(r=c.Z_FINISH),r===c.Z_FINISH?(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):r===c.Z_SYNC_FLUSH?(this.onEnd(c.Z_OK),d.avail_out=0,!0):!0},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=r,t.inflate=i,t.inflateRaw=a,t.ungzip=i},function(e,t,n){"use strict";function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=I,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new v.Buf32(me),t.distcode=t.distdyn=new v.Buf32(fe),t.sane=1,t.back=-1,R):F}function o(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,a(e)):F}function s(e,t){var n,r;return e&&e.state?(r=e.state,0>t?(n=0,t=-t):(n=(t>>4)+1,48>t&&(t&=15)),t&&(8>t||t>15)?F:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,o(e))):F}function l(e,t){var n,r;return e?(r=new i,e.state=r,r.window=null,n=s(e,t),n!==R&&(e.state=null),n):F}function c(e){return l(e,ve)}function u(e){if(be){var t;for(f=new v.Buf32(512),g=new v.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(k(_,e.lens,0,288,f,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;k(x,e.lens,0,32,g,0,e.work,{bits:5}),be=!1}e.lencode=f,e.lenbits=9,e.distcode=g,e.distbits=5}function d(e,t,n,r){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new v.Buf8(a.wsize)),r>=a.wsize?(v.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),v.arraySet(a.window,t,n-r,i,a.wnext),r-=i,r?(v.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function p(e,t){var n,i,a,o,s,l,c,p,h,m,f,g,me,fe,ge,ve,be,ye,we,ke,Ee,_e,xe,Ce,Se=0,Te=new v.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return F;n=e.state,n.mode===G&&(n.mode=K),s=e.next_out,a=e.output,c=e.avail_out,o=e.next_in,i=e.input,l=e.avail_in,p=n.hold,h=n.bits,m=l,f=c,_e=R;e:for(;;)switch(n.mode){case I:if(0===n.wrap){n.mode=K;break}for(;16>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}if(2&n.wrap&&35615===p){n.check=0,Te[0]=255&p,Te[1]=p>>>8&255,n.check=y(n.check,Te,2,0),p=0,h=0,n.mode=P;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=de;break}if((15&p)!==O){e.msg="unknown compression method",n.mode=de;break}if(p>>>=4,h-=4,Ee=(15&p)+8,0===n.wbits)n.wbits=Ee;else if(Ee>n.wbits){e.msg="invalid window size",n.mode=de;break}n.dmax=1<<Ee,e.adler=n.check=1,n.mode=512&p?V:G,p=0,h=0;break;case P:for(;16>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}if(n.flags=p,(255&n.flags)!==O){e.msg="unknown compression method",n.mode=de;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=de;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(Te[0]=255&p,Te[1]=p>>>8&255,n.check=y(n.check,Te,2,0)),p=0,h=0,n.mode=B;case B:for(;32>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}n.head&&(n.head.time=p),512&n.flags&&(Te[0]=255&p,Te[1]=p>>>8&255,Te[2]=p>>>16&255,Te[3]=p>>>24&255,n.check=y(n.check,Te,4,0)),p=0,h=0,n.mode=j;case j:for(;16>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(Te[0]=255&p,Te[1]=p>>>8&255,n.check=y(n.check,Te,2,0)),p=0,h=0,n.mode=z;case z:if(1024&n.flags){for(;16>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(Te[0]=255&p,Te[1]=p>>>8&255,n.check=y(n.check,Te,2,0)),p=0,h=0}else n.head&&(n.head.extra=null);n.mode=U;case U:if(1024&n.flags&&(g=n.length,g>l&&(g=l),g&&(n.head&&(Ee=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,i,o,g,Ee)),512&n.flags&&(n.check=y(n.check,i,g,o)),l-=g,o+=g,n.length-=g),n.length))break e;n.length=0,n.mode=$;case $:if(2048&n.flags){if(0===l)break e;g=0;do Ee=i[o+g++],n.head&&Ee&&n.length<65536&&(n.head.name+=String.fromCharCode(Ee));while(Ee&&l>g);if(512&n.flags&&(n.check=y(n.check,i,g,o)),l-=g,o+=g,Ee)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===l)break e;g=0;do Ee=i[o+g++],n.head&&Ee&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ee));while(Ee&&l>g);if(512&n.flags&&(n.check=y(n.check,i,g,o)),l-=g,o+=g,Ee)break e}else n.head&&(n.head.comment=null);n.mode=W;case W:if(512&n.flags){for(;16>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}if(p!==(65535&n.check)){e.msg="header crc mismatch",n.mode=de;break}p=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=G;break;case V:for(;32>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}e.adler=n.check=r(p),p=0,h=0,n.mode=q;case q:if(0===n.havedict)return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=l,n.hold=p,n.bits=h,N;e.adler=n.check=1,n.mode=G;case G:if(t===S||t===T)break e;case K:if(n.last){p>>>=7&h,h-=7&h,n.mode=le;break}for(;3>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}switch(n.last=1&p,p>>>=1,h-=1,3&p){case 0:n.mode=Y;break;case 1:if(u(n),n.mode=te,t===T){p>>>=2,h-=2;break e}break;case 2:n.mode=J;break;case 3:e.msg="invalid block type",n.mode=de}p>>>=2,h-=2;break;case Y:for(p>>>=7&h,h-=7&h;32>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}if((65535&p)!==(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=de;break}if(n.length=65535&p,p=0,h=0,n.mode=X,t===T)break e;case X:n.mode=Z;case Z:if(g=n.length){if(g>l&&(g=l),g>c&&(g=c),0===g)break e;v.arraySet(a,i,o,g,s),l-=g,o+=g,c-=g,s+=g,n.length-=g;break}n.mode=G;break;case J:for(;14>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}if(n.nlen=(31&p)+257,p>>>=5,h-=5,n.ndist=(31&p)+1,p>>>=5,h-=5,n.ncode=(15&p)+4,p>>>=4,h-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=de;break}n.have=0,n.mode=Q;case Q:for(;n.have<n.ncode;){for(;3>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}n.lens[Re[n.have++]]=7&p,p>>>=3,h-=3}for(;n.have<19;)n.lens[Re[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,xe={bits:n.lenbits},_e=k(E,n.lens,0,19,n.lencode,0,n.work,xe),n.lenbits=xe.bits,_e){e.msg="invalid code lengths set",n.mode=de;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.nlen+n.ndist;){for(;Se=n.lencode[p&(1<<n.lenbits)-1],ge=Se>>>24,ve=Se>>>16&255,be=65535&Se,!(h>=ge);){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}if(16>be)p>>>=ge,h-=ge,n.lens[n.have++]=be;else{if(16===be){for(Ce=ge+2;Ce>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}if(p>>>=ge,h-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=de;break}Ee=n.lens[n.have-1],g=3+(3&p),p>>>=2,h-=2}else if(17===be){for(Ce=ge+3;Ce>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}p>>>=ge,h-=ge,Ee=0,g=3+(7&p),p>>>=3,h-=3}else{for(Ce=ge+7;Ce>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}p>>>=ge,h-=ge,Ee=0,g=11+(127&p),p>>>=7,h-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=de;break}for(;g--;)n.lens[n.have++]=Ee}}if(n.mode===de)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=de;break}if(n.lenbits=9,xe={bits:n.lenbits},_e=k(_,n.lens,0,n.nlen,n.lencode,0,n.work,xe),n.lenbits=xe.bits,_e){e.msg="invalid literal/lengths set",n.mode=de;break}if(n.distbits=6,n.distcode=n.distdyn,xe={bits:n.distbits},_e=k(x,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,xe),n.distbits=xe.bits,_e){e.msg="invalid distances set",n.mode=de;break}if(n.mode=te,t===T)break e;case te:n.mode=ne;case ne:if(l>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=l,n.hold=p,n.bits=h,w(e,f),s=e.next_out,a=e.output,c=e.avail_out,o=e.next_in,i=e.input,l=e.avail_in,p=n.hold,h=n.bits,n.mode===G&&(n.back=-1);break}for(n.back=0;Se=n.lencode[p&(1<<n.lenbits)-1],ge=Se>>>24,ve=Se>>>16&255,be=65535&Se,!(h>=ge);){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}if(ve&&0===(240&ve)){for(ye=ge,we=ve,ke=be;Se=n.lencode[ke+((p&(1<<ye+we)-1)>>ye)],ge=Se>>>24,ve=Se>>>16&255,be=65535&Se,!(h>=ye+ge);){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}p>>>=ye,h-=ye,n.back+=ye}if(p>>>=ge,h-=ge,n.back+=ge,n.length=be,0===ve){n.mode=se;break}if(32&ve){n.back=-1,n.mode=G;break}if(64&ve){e.msg="invalid literal/length code",n.mode=de;break}n.extra=15&ve,n.mode=re;case re:if(n.extra){for(Ce=n.extra;Ce>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ie;case ie:for(;Se=n.distcode[p&(1<<n.distbits)-1],ge=Se>>>24,ve=Se>>>16&255,be=65535&Se,!(h>=ge);){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}if(0===(240&ve)){for(ye=ge,we=ve,ke=be;Se=n.distcode[ke+((p&(1<<ye+we)-1)>>ye)],ge=Se>>>24,ve=Se>>>16&255,be=65535&Se,!(h>=ye+ge);){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}p>>>=ye,h-=ye,n.back+=ye}if(p>>>=ge,h-=ge,n.back+=ge,64&ve){e.msg="invalid distance code",n.mode=de;break}n.offset=be,n.extra=15&ve,n.mode=ae;case ae:if(n.extra){for(Ce=n.extra;Ce>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=de;break}n.mode=oe;case oe:if(0===c)break e;if(g=f-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=de;break}g>n.wnext?(g-=n.wnext,me=n.wsize-g):me=n.wnext-g,g>n.length&&(g=n.length),fe=n.window}else fe=a,me=s-n.offset,g=n.length;g>c&&(g=c),c-=g,n.length-=g;do a[s++]=fe[me++];while(--g);0===n.length&&(n.mode=ne);break;case se:if(0===c)break e;a[s++]=n.length,c--,n.mode=ne;break;case le:if(n.wrap){for(;32>h;){if(0===l)break e;l--,p|=i[o++]<<h,h+=8}if(f-=c,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?y(n.check,a,f,s-f):b(n.check,a,f,s-f)),f=c,(n.flags?p:r(p))!==n.check){e.msg="incorrect data check",n.mode=de;break}p=0,h=0}n.mode=ce;case ce:if(n.wrap&&n.flags){for(;32>h;){if(0===l)break e;l--,p+=i[o++]<<h,h+=8}if(p!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=de;break}p=0,h=0}n.mode=ue;case ue:_e=A;break e;case de:_e=M;break e;case pe:return L;case he:default:return F}return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=l,n.hold=p,n.bits=h,(n.wsize||f!==e.avail_out&&n.mode<de&&(n.mode<le||t!==C))&&d(e,e.output,e.next_out,f-e.avail_out)?(n.mode=pe,L):(m-=e.avail_in,f-=e.avail_out,e.total_in+=m,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?y(n.check,a,f,e.next_out-f):b(n.check,a,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===G?128:0)+(n.mode===te||n.mode===X?256:0),(0===m&&0===f||t===C)&&_e===R&&(_e=D),_e)}function h(e){if(!e||!e.state)return F;var t=e.state;return t.window&&(t.window=null),e.state=null,R}function m(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?F:(n.head=t,t.done=!1,R)):F}var f,g,v=n(102),b=n(106),y=n(107),w=n(113),k=n(114),E=0,_=1,x=2,C=4,S=5,T=6,R=0,A=1,N=2,F=-2,M=-3,L=-4,D=-5,O=8,I=1,P=2,B=3,j=4,z=5,U=6,$=7,H=8,W=9,V=10,q=11,G=12,K=13,Y=14,X=15,Z=16,J=17,Q=18,ee=19,te=20,ne=21,re=22,ie=23,ae=24,oe=25,se=26,le=27,ce=28,ue=29,de=30,pe=31,he=32,me=852,fe=592,ge=15,ve=ge,be=!0;t.inflateReset=o,t.inflateReset2=s,t.inflateResetKeep=a,t.inflateInit=c,t.inflateInit2=l,t.inflate=p,t.inflateEnd=h,t.inflateGetHeader=m,t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t){"use strict";var n=30,r=12;e.exports=function(e,t){var i,a,o,s,l,c,u,d,p,h,m,f,g,v,b,y,w,k,E,_,x,C,S,T,R;i=e.state,a=e.next_in,T=e.input,o=a+(e.avail_in-5),s=e.next_out,R=e.output,l=s-(t-e.avail_out),c=s+(e.avail_out-257),u=i.dmax,d=i.wsize,p=i.whave,h=i.wnext,m=i.window,f=i.hold,g=i.bits,v=i.lencode,b=i.distcode,y=(1<<i.lenbits)-1,w=(1<<i.distbits)-1;e:do{15>g&&(f+=T[a++]<<g,g+=8,f+=T[a++]<<g,g+=8),k=v[f&y];t:for(;;){if(E=k>>>24,f>>>=E,g-=E,E=k>>>16&255,0===E)R[s++]=65535&k;else{if(!(16&E)){if(0===(64&E)){k=v[(65535&k)+(f&(1<<E)-1)];continue t}if(32&E){i.mode=r;break e}e.msg="invalid literal/length code",i.mode=n;break e}_=65535&k,E&=15,E&&(E>g&&(f+=T[a++]<<g,g+=8),_+=f&(1<<E)-1,f>>>=E,g-=E),15>g&&(f+=T[a++]<<g,g+=8,f+=T[a++]<<g,g+=8),k=b[f&w];n:for(;;){if(E=k>>>24,f>>>=E,g-=E,E=k>>>16&255,!(16&E)){if(0===(64&E)){k=b[(65535&k)+(f&(1<<E)-1)];continue n}e.msg="invalid distance code",i.mode=n;break e}if(x=65535&k,E&=15,E>g&&(f+=T[a++]<<g,g+=8,E>g&&(f+=T[a++]<<g,g+=8)),x+=f&(1<<E)-1,x>u){e.msg="invalid distance too far back",i.mode=n;break e}if(f>>>=E,g-=E,E=s-l,x>E){if(E=x-E,E>p&&i.sane){e.msg="invalid distance too far back",i.mode=n;break e}if(C=0,S=m,0===h){if(C+=d-E,_>E){_-=E;do R[s++]=m[C++];while(--E);C=s-x,S=R}}else if(E>h){if(C+=d+h-E,E-=h,_>E){_-=E;do R[s++]=m[C++];while(--E);if(C=0,_>h){E=h,_-=E;do R[s++]=m[C++];while(--E);C=s-x,S=R}}}else if(C+=h-E,_>E){_-=E;do R[s++]=m[C++];while(--E);C=s-x,S=R}for(;_>2;)R[s++]=S[C++],R[s++]=S[C++],R[s++]=S[C++],_-=3;_&&(R[s++]=S[C++],_>1&&(R[s++]=S[C++]))}else{C=s-x;do R[s++]=R[C++],R[s++]=R[C++],R[s++]=R[C++],_-=3;while(_>2);_&&(R[s++]=R[C++],_>1&&(R[s++]=R[C++]))}break}}break}}while(o>a&&c>s);_=g>>3,a-=_,g-=_<<3,f&=(1<<g)-1,e.next_in=a,e.next_out=s,e.avail_in=o>a?5+(o-a):5-(a-o),e.avail_out=c>s?257+(c-s):257-(s-c),i.hold=f,i.bits=g}},function(e,t,n){"use strict";var r=n(102),i=15,a=852,o=592,s=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,m,f,g,v,b){var y,w,k,E,_,x,C,S,T,R=b.bits,A=0,N=0,F=0,M=0,L=0,D=0,O=0,I=0,P=0,B=0,j=null,z=0,U=new r.Buf16(i+1),$=new r.Buf16(i+1),H=null,W=0;for(A=0;i>=A;A++)U[A]=0;for(N=0;m>N;N++)U[t[n+N]]++;for(L=R,M=i;M>=1&&0===U[M];M--);if(L>M&&(L=M),0===M)return f[g++]=20971520,f[g++]=20971520,b.bits=1,0;for(F=1;M>F&&0===U[F];F++);for(F>L&&(L=F),I=1,A=1;i>=A;A++)if(I<<=1,I-=U[A],0>I)return-1;if(I>0&&(e===s||1!==M))return-1;for($[1]=0,A=1;i>A;A++)$[A+1]=$[A]+U[A];for(N=0;m>N;N++)0!==t[n+N]&&(v[$[t[n+N]]++]=N);if(e===s?(j=H=v,x=19):e===l?(j=u,z-=257,H=d,W-=257,x=256):(j=p,H=h,x=-1),B=0,N=0,A=F,_=g,D=L,O=0,k=-1,P=1<<L,E=P-1,e===l&&P>a||e===c&&P>o)return 1;for(var V=0;;){V++,C=A-O,v[N]<x?(S=0,T=v[N]):v[N]>x?(S=H[W+v[N]],T=j[z+v[N]]):(S=96,T=0),y=1<<A-O,w=1<<D,F=w;do w-=y,f[_+(B>>O)+w]=C<<24|S<<16|T|0;while(0!==w);for(y=1<<A-1;B&y;)y>>=1;if(0!==y?(B&=y-1,B+=y):B=0,N++,0===--U[A]){if(A===M)break;A=t[n+v[N]]}if(A>L&&(B&E)!==k){for(0===O&&(O=L),_+=F,D=A-O,I=1<<D;M>D+O&&(I-=U[D+O],!(0>=I));)D++,I<<=1;if(P+=1<<D,e===l&&P>a||e===c&&P>o)return 1;k=B&E,f[k]=L<<24|D<<16|_-g|0}}return 0!==B&&(f[_+B]=A-O<<24|64<<16|0),b.bits=L,0}},function(e,t){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=n},function(e,t,n){(function(t){"use strict";e.exports=function(e,n){return new t(e,n)},e.exports.test=function(e){return t.isBuffer(e)}}).call(t,n(94).Buffer)},function(e,t,n){"use strict";var r=n(98),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];
e.exports=function(e,t){if("undefined"==typeof e||!e.length)return 0;var n="string"!==r.getTypeOf(e);"undefined"==typeof t&&(t=0);var a=0,o=0,s=0;t=-1^t;for(var l=0,c=e.length;c>l;l++)s=n?e[l]:e.charCodeAt(l),o=255&(t^s),a=i[o],t=t>>>8^a;return-1^t}},function(e,t){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!1,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t){"use strict";function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=n},function(e,t,n){"use strict";for(var r=n(98),i=n(93),a=n(117),o=new Array(256),s=0;256>s;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;o[254]=o[254]=1;var l=function(e){var t,n,r,a,o,s=e.length,l=0;for(a=0;s>a;a++)n=e.charCodeAt(a),55296===(64512&n)&&s>a+1&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),o=0,a=0;l>o;a++)n=e.charCodeAt(a),55296===(64512&n)&&s>a+1&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),128>n?t[o++]=n:2048>n?(t[o++]=192|n>>>6,t[o++]=128|63&n):65536>n?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},c=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+o[e[n]]>t?n:t},u=function(e){var t,n,i,a,s=e.length,l=new Array(2*s);for(n=0,t=0;s>t;)if(i=e[t++],128>i)l[n++]=i;else if(a=o[i],a>4)l[n++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&s>t;)i=i<<6|63&e[t++],a--;a>1?l[n++]=65533:65536>i?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)};t.utf8encode=function(e){return i.nodebuffer?a(e,"utf-8"):l(e)},t.utf8decode=function(e){if(i.nodebuffer)return r.transformTo("nodebuffer",e).toString("utf-8");e=r.transformTo(i.uint8array?"uint8array":"array",e);for(var t=[],n=0,a=e.length,o=65536;a>n;){var s=c(e,Math.min(n+o,a));i.uint8array?t.push(u(e.subarray(n,s))):t.push(u(e.slice(n,s))),n=s}return t.join("")}},function(e,t,n){"use strict";var r=n(98),i=function(){this.data=[]};i.prototype={append:function(e){e=r.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},e.exports=i},function(e,t,n){"use strict";var r=n(98),i=function(e){this.data=new Uint8Array(e),this.index=0};i.prototype={append:function(e){0!==e.length&&(e=r.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},e.exports=i},function(e,t,n){"use strict";var r=n(91),i=n(122),a=n(98),o=n(126);e.exports=function(e,t){var n,s,l,c;for(t=a.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),t.base64&&(e=r.decode(e)),s=new o(e,t),n=s.files,l=0;l<n.length;l++)c=n[l],this.file(c.fileNameStr,c.decompressed,{binary:!0,optimizedBinaryString:!0,date:c.date,dir:c.dir,comment:c.fileCommentStr.length?c.fileCommentStr:null,unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions,createFolders:t.createFolders});return s.zipComment.length&&(this.comment=s.zipComment),this}},function(e,t,n){"use strict";function r(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}var i=n(127),a=n(129),o=n(130),s=n(131),l=n(98),c=n(119),u=n(132),d=n(93);n(92);r.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw new Error("Corrupted zip or bug : unexpected signature ("+l.pretty(t)+", expected "+l.pretty(e)+")")},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4),i=r===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=d.uint8array?"uint8array":"array",n=l.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44,i=0;r>i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===c.CENTRAL_FILE_HEADER;)e=new u({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(0>e){var t=!this.isSignature(0,c.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(e);var n=e;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>e)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=n-r;if(i>0)this.isSignature(n,c.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(0>i)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){var t=l.getTypeOf(e);if(l.checkSupport(t),"string"!==t||d.uint8array)if("nodebuffer"===t)this.reader=new a(e);else if(d.uint8array)this.reader=new o(l.transformTo("uint8array",e));else{if(!d.array)throw new Error("Unexpected error: unsupported type '"+t+"'");this.reader=new s(l.transformTo("array",e))}else this.reader=new i(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=r},function(e,t,n){"use strict";function r(e,t){this.data=e,t||(this.data=a.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var i=n(128),a=n(98);r.prototype=new i,r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";function r(e){this.data=null,this.length=0,this.index=0,this.zero=0}var i=n(98);r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||0>e)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},e.exports=r},function(e,t,n){"use strict";function r(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0}var i=n(130);r.prototype=new i,r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";function r(e){e&&(this.data=e,this.length=this.data.length,this.index=0,this.zero=0)}var i=n(131);r.prototype=new i,r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";function r(e){if(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0;for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}}var i=n(128);r.prototype=new i,r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return-1},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";function r(e,t){this.options=e,this.loadOptions=t}var i=n(127),a=n(98),o=n(121),s=n(92),l=n(93),c=0,u=3;r.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(e,t,n){return function(){var r=e.index;e.setIndex(t);var i=e.readData(n);return e.setIndex(r),i}},prepareContent:function(e,t,n,r,i){return function(){var e=a.transformTo(r.uncompressInputType,this.getCompressedContent()),t=r.uncompress(e);if(t.length!==i)throw new Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(t=a.findCompression(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");if(this.decompressed=new o,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,t),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,t,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=a.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readInt(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=e.readData(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=16&this.externalFileAttributes?!0:!1,e===c&&(this.dosPermissions=63&this.externalFileAttributes),e===u&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=new i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index;for(this.extraFields=this.extraFields||{};e.index<i+this.extraFieldsLength;)t=e.readInt(2),n=e.readInt(2),r=e.readString(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=a.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=a.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new i(e.value);return 1!==t.readInt(1)?null:s.crc32(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new i(e.value);return 1!==t.readInt(1)?null:s.crc32(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null}},e.exports=r},function(e,t,n){"use strict";var r=n(98);t.string2binary=function(e){return r.string2binary(e)},t.string2Uint8Array=function(e){return r.transformTo("uint8array",e)},t.uint8Array2String=function(e){return r.transformTo("string",e)},t.string2Blob=function(e){var t=r.transformTo("arraybuffer",e);return r.arrayBuffer2Blob(t)},t.arrayBuffer2Blob=function(e){return r.arrayBuffer2Blob(e)},t.transformTo=function(e,t){return r.transformTo(e,t)},t.getTypeOf=function(e){return r.getTypeOf(e)},t.checkSupport=function(e){return r.checkSupport(e)},t.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,t.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,t.pretty=function(e){return r.pretty(e)},t.findCompression=function(e){return r.findCompression(e)},t.isRegExp=function(e){return r.isRegExp(e)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=(n(38),n(4),n(135)),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",{className:"file-list"},0==this.props.fileListItems.length&&this.props.placeholderText?React.createElement("div",{className:"file-list__placeholder-text"},this.props.placeholderText):this.props.fileListItems.map(function(t,n){return React.createElement(a.FileListItem,i({},t,e.props,{index:n,key:t.name}))}))},t}(React.Component);t.FileList=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(38),a=n(4),o=n(49),s=function(e){function t(t){e.call(this,t),this.state={previewIsShown:!1}}return r(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",null,React.createElement("div",{className:a("file-list-item",this.props.isEditing?"file-list-item--editing":"file-list-item--read-only")},React.createElement("div",{className:a("file-list-item__name-container",this.props.isEditing?"file-list-item__name--editing":"")},React.createElement("div",{className:"file-list-item__name"},null==this.props.url?React.createElement("span",null,this.props.name," (",i(this.props.totalBytes),") "):React.createElement("a",{href:this.props.url,className:"file-list-item__link",onClick:this.props.downloadCallback||null},this.props.name," (",i(this.props.totalBytes),")")),React.createElement("div",null,this.props.canDelete?React.createElement("span",{className:"file-list-item__delete-link",title:"Delete file from list",onClick:function(){return e.props.deleteCallback(e.props.name)}},"delete"):"",this.props.previewUrl?React.createElement("span",{className:"file-list-item__preview-link",onClick:function(){return e.setState({previewIsShown:!e.state.previewIsShown})}},this.state.previewIsShown?React.createElement("span",null,React.createElement("span",{className:"fa fa-minus-square-o"})," hide preview"):React.createElement("span",null,React.createElement("span",{className:"fa fa-plus-square-o"})," preview")):"")),React.createElement("div",{className:"file-list-item__description"},this.props.fileDescriptionRenderer(this.props.description,this.props.index,this.props.isEditing,this.props.textareaPlaceholder,this.props.fileListIndex))),this.state.previewIsShown&&this.props.previewUrl?React.createElement("div",{className:"file-list-item__preview-container"},React.createElement(o.FilePreviewContainer,{showSubmitToCompButton:!1,csvHeaderValidationErrors:"",filePreviewUrl:this.props.previewUrl,fileName:this.props.name,fileType:".csv",fileUrl:this.props.url,size:this.props.totalBytes,submitToCompUrl:"",hideFileName:!0,maxLinesToShow:10,downloadCallback:this.props.downloadCallback})):null)},t}(React.Component);t.FileListItem=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(7),a=n(4),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",{className:"dataset-version-list"},this.props.datasetVersionListItems.map(function(t,n){var r=(e.props.activeVersionId==t.id,"ready"==t.status?"":"failed"==t.status?"Processing this version failed.":"This version is in progress."),o="ready"==t.status||"failed"==t.status?t.status:"progress";return React.createElement("div",{key:e.props.datasetVersionListKeyBaseName+n,className:a("dataset-version-list__item",e.props.isEditing?"dataset-version-list__item--editing":"dataset-version-list__item--read-only")},React.createElement("div",{className:"dataset-version-list__item-meta"},e.props.hideVersionStatuses?null:React.createElement("div",{className:a("dataset-version-list__item-status","dataset-version-list__item-status--"+o,"progress"==o?"fa-spin":"",e.props.isEditing?"dataset-version-list__item-name--editing":""),title:r}),React.createElement("div",{className:a("dataset-version-list__item-name",e.props.isEditing?"dataset-version-list__item-name--editing":"")},"ready"==t.status?React.createElement("a",{href:t.datasetVersionUrl,className:"dataset-version-list__item-link"},"Version "+t.versionNumber+" "):null),React.createElement("div",{className:a("dataset-version-list__item-date",e.props.isEditing?"dataset-version-list__item-date--editing":"")},React.createElement(i.TimeAgo,{time:t.creationDate}))),React.createElement("div",{className:a("dataset-version-list__item-notes","dataset-version-list__item-notes--"+o),title:r},e.props.datasetVersionNotesRenderer(t.versionNotes,n,e.props.textareaPlaceholder)))}))},t}(React.Component);t.DatasetVersionList=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),a=(n(63),function(e){function t(t){e.call(this,t),this.converter=new Markdown.getSanitizingConverter}return r(t,e),t.prototype.createSanitizedMarkup=function(){var e=this.props.content&&"text/html"==this.props.mimeType?this.props.content:this.props.content?this.converter.makeHtml(this.props.content):"";return this.props.insertNofollow&&(e=e.replace(/(<a .*?href=".*?".*?)(>)/g,'$1 rel="nofollow"$2')),{__html:e}},t.prototype.componentDidUpdate=function(){var e=this.props.content&&(this.props.content.indexOf("$$")>-1||this.props.content.indexOf("\\[")>-1||this.props.content.indexOf("\\(")>-1);e&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,this.renderedDiv])},t.prototype.render=function(){var e=this;return React.createElement("div",{className:i("markdown-converter__text--rendered",this.props.contentClassName),ref:function(t){e.renderedDiv=t},dangerouslySetInnerHTML:this.createSanitizedMarkup()})},t}(React.Component));t.MarkdownConverter=a},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return React.createElement("a",{className:"dataset-contributors-teaser-item",href:this.props.userUrl},React.createElement("div",{className:"dataset-contributors-teaser-item__avatar"},React.createElement("img",{className:"dataset-contributors-teaser-item__avatar-image",src:this.props.userAvatarUrl})),React.createElement("div",{className:"dataset-contributors-teaser-item__info"},React.createElement("span",{className:"dataset-contributors-teaser-item__user"},this.props.displayName)),React.createElement("div",{className:"dataset-contributors-teaser-item__rank"},React.createElement("span",{className:"dataset-contributors-teaser-item__rank-number"},this.props.rank)))},t}(React.Component);t.DatasetContributorsTeaserItem=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(1),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement(i.ScriptList,{languagesMetadataUrl:"/kernels/alllang",listTitle:"Kernels",loginAndReturnUrl:null,newNotebookUrl:null,newScriptUrl:null,outputTypesMetadataUrl:"/kernels/allouttypes",showFilters:!0,showScriptProjectName:!1,sourceBaseUrl:"/kernels/d/"+this.props.datasetId+"/",isHidden:"kernels"!=this.props.currentTab})},t}(React.Component);t.DatasetKernels=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=n(47),o=n(141),s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement(i.ContentBox,{title:"Contributors"},this.props.contributors.map(function(e){return React.createElement("a",{className:"dataset-contributors__item",href:e.userUrl,key:e.rank},React.createElement("div",{className:"dataset-contributors__rank"},React.createElement("span",{className:"dataset-contributors__rank-number"},e.rank)),React.createElement("div",{className:"dataset-contributors__avatar"},React.createElement("img",{className:"dataset-contributors__avatar-image",src:e.userAvatarUrl})),React.createElement("div",{className:"dataset-contributors__info"},React.createElement("div",null,React.createElement("span",{className:"dataset-contributors__user"},e.displayName),React.createElement("div",{className:"dataset-contributors__meta"},React.createElement(a.Pluralize,{word:"kernel",count:e.totalScripts})," |",React.createElement(a.Pluralize,{word:"post",count:e.totalForumMessages})))))}),React.createElement(o.LoadingText,{isLoading:this.props.contributorsIsLoading,text:"Loading more contributors"}))},t}(React.Component);t.DatasetContributors=s},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return this.props.isLoading?React.createElement("div",{className:"loading-text"},React.createElement("span",{className:"fa fa-refresh fa-spin fa-fw"}),this.props.text,"..."):null},t}(React.Component);t.LoadingText=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(85),o=n(44),s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.renderItem=function(e,t){return React.createElement(a.DatasetActivityFeedItem,i({},e,{key:t}))},t.prototype.render=function(){return this.props.isNewDataset?null:React.createElement(o.SmartListContainer,{title:"Activity Feed",pluralItemDescription:"activity",data:this.props.hasLoadedFeed?this.props.feed:null,dataUrl:this.props.datasetUrl+"/feed.json",itemRenderer:this.renderItem.bind(this),isHidden:"feed"!=this.props.currentTab})},t}(React.Component);t.DatasetActivityFeed=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(41),o=n(144),s=n(5),l=n(13),c=n(27),u=n(26),d=n(6),p=n(29),h=n(30),m=n(145),f=[{value:"hottest",label:"Hotness"},{value:"votes",label:"Most Votes"},{value:"updated",label:"Recently Updated"},{value:"active",label:"Recently Active"}],g=20,v=function(e){function t(t){var n=this;e.call(this,t),this.handleResize=function(){var e=window.innerWidth;n.setState({windowWidth:e,shouldUseMobileSort:e<=p.Breakpoints.mobileMax})},this.onWindowPopState=function(e){if(e.state&&e.state.datasetListFilterState&&e.state.datasetListFilterState.sortBy){var t=e.state.datasetListFilterState;n.onFilterChanged(t.sortBy,t.group,!1)}else n.onFilterChanged(n.props.sortBy,n.props.selectionGroup,!1)},this.onSearchKeyPress=function(e){"Enter"===e.key&&n.setState({search:e.target.value},function(){return n.onFilterChanged(n.state.sortBy,n.state.selectionGroup,!0)})},this.props.userId?this.initForProfile():this.initForDatasetTab();var r=this.props.datasetListItems||[];this.state={page:1,sortBy:this.props.sortBy||"hottest",selectionGroup:this.props.selectionGroup||(this.props.userId?"my":"featured"),search:this.props.search,isLoadingMoreData:!1,hasMoreData:r.length<this.props.totalDatasetListItems,hasLoadedSomeData:r.length>0,datasetListItems:r,totalDatasetListItems:this.props.totalDatasetListItems,shouldUseMobileSort:window.innerWidth<=p.Breakpoints.mobileMax,shouldShowMobileSort:!1}}return r(t,e),t.prototype.initForDatasetTab=function(){this.availableSelectionGroups=[{value:"featured",label:"Featured"},{value:"all",label:"All"}],d.Current.isAnonymous||(this.props.canSeeUnfeaturedTab&&this.availableSelectionGroups.push({value:"unfeatured",label:"Unfeatured"}),(this.props.canCreateNewDataset||this.props.userId)&&this.availableSelectionGroups.push({value:"my",label:"Mine"}),this.availableSelectionGroups.push({value:"upvoted",label:"Upvoted"}))},t.prototype.initForProfile=function(){this.availableSelectionGroups=[{value:"my",label:"Mine"},{separator:!0},{value:"upvoted",label:"Upvoted"}]},t.prototype.componentDidMount=function(){window.Intercom("trackEvent","view_datasets"),this.props.datasetListItems||this.onFilterChanged(this.state.sortBy,this.state.selectionGroup,!1)},t.prototype.componentWillMount=function(){window.addEventListener("resize",this.handleResize,!1),window.addEventListener("popstate",this.onWindowPopState,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize,!1),window.removeEventListener("popstate",this.onWindowPopState,!1)},t.prototype.onSortByChanged=function(e){this.onFilterChanged(e,this.state.selectionGroup,!0)},t.prototype.onSelectionGroupChanged=function(e){this.onFilterChanged(this.state.sortBy,e,!0)},t.prototype.onFilterChanged=function(e,t,n){var r=this;this.container&&(this.container.style.minHeight=$(this.container).height()+"px"),this.setState({page:1,datasetListItems:[],hasLoadedSomeData:!1,isLoadingMoreData:!0,hasMoreData:!0,sortBy:e,selectionGroup:t},function(){var e=window.history.state||{};e.datasetListFilterState=r.getFilterParams();var t=window.location.pathname+"?"+$.param(e.datasetListFilterState);n&&window.history.pushState(e,null,t),r.getData(e.datasetListFilterState).then(function(){r.container.style.minHeight="initial"})})},t.prototype.onScroll=function(){var e=this;!this.state.isLoadingMoreData&&this.state.hasMoreData&&this.setState({isLoadingMoreData:!0,page:this.state.page+1},function(){var t=e.getFilterParams();e.getData(t)})},t.prototype.getFilterParams=function(){var e={sortBy:this.state.sortBy,group:this.state.selectionGroup};return this.props.userId&&(e.userId=this.props.userId,e.group="upvoted"===e.group?"upvoted":"my"),1!==this.state.page&&(e.page=this.state.page),this.state.search&&(e.search=this.state.search),e},t.prototype.getData=function(e){var t=this;return this.currentDataRequest&&4!==this.currentDataRequest.readyState&&this.currentDataRequest.abort(),
this.currentDataRequest=$.ajax({url:"/datasets.json?"+$.param(e),method:"GET",success:function(e){var n=t.state.datasetListItems.concat(e.datasetListItems);return t.setState({datasetListItems:n,totalDatasetListItems:e.totalDatasetListItems,isLoadingMoreData:!1,hasLoadedSomeData:n.length>0,hasMoreData:n.length<e.totalDatasetListItems})}}),this.currentDataRequest},t.prototype.getSelectionGroupItems=function(){var e=this;return this.availableSelectionGroups.map(function(t,n){return t.separator?{separator:!0}:{name:t.label,key:t.value,href:"?sortBy="+e.state.sortBy+"&group="+t.value,action:function(){e.onSelectionGroupChanged(t.value)}}})},t.prototype.getTitle=function(){if(this.state.isLoadingMoreData)return" ";var e="";switch(this.state.selectionGroup){case"featured":e="featured datasets";break;case"unfeatured":e="unfeatured datasets";break;case"my":e="datasets created";break;case"upvoted":e="upvoted datasets";break;case"all":e="datasets"}return(this.state.totalDatasetListItems||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+e},t.prototype.renderSortBy=function(){var e=this;return React.createElement("div",{className:""},this.state.shouldUseMobileSort?React.createElement("a",{className:"datasets__filters-link--mobile",onClick:function(){return e.showMobileSortMenu(!0)}},"Filter/Sort ",React.createElement("span",{className:"fa fa-chevron-right"})):React.createElement("div",{className:"datasets__filters"},React.createElement("p",{className:"datasets__filters-label"},"Sort By"),React.createElement(l.SelectBox,{options:f,onChange:function(t){return e.onSortByChanged(t)},searchable:!1,value:this.state.sortBy})))},t.prototype.renderOptionalLoadingMessage=function(){return this.state.isLoadingMoreData?React.createElement("div",{className:"script-list-react__message"},"Loading ",this.state.hasLoadedSomeData?"more ":"","datasets..."):null},t.prototype.renderOptionalNoMoreScriptsMessage=function(){return!this.state.hasMoreData&&0===this.state.datasetListItems.length||this.state.datasetListItems.length>g?React.createElement("div",{className:"script-list-react__message"},React.createElement("span",null,"No ",this.state.hasLoadedSomeData?"more ":"","datasets to show ¯\\_(ツ) _/¯"),React.createElement("br",null)):null},t.prototype.renderSearch=function(e){return React.createElement("label",{className:"datasets__search-wrapper datasets__search-wrapper--"+e},React.createElement("input",{type:"text",className:"datasets__search datasets__search--"+e,ref:"search",defaultValue:this.props.search,onKeyPress:this.onSearchKeyPress}))},t.prototype.renderSubTitleBar=function(){return React.createElement(c.SelectionGroup,{children:this.getSelectionGroupItems(),selected:this.state.selectionGroup,filters:React.createElement(p.MediaQuery,{minWidth:p.Breakpoints.mobileMax+1},this.renderSearch("sub-title-bar"))})},t.prototype.showMobileSortMenu=function(e){this.setState({shouldShowMobileSort:e})},t.prototype.renderMobileSortMenu=function(){var e=this;return React.createElement(h.OffCanvasContainer,{closeButtonCallback:function(){return e.showMobileSortMenu(!1)},shouldShowOffCanvas:this.state.shouldShowMobileSort&&this.state.shouldUseMobileSort,shouldUseCloseButton:!0,shouldUseRightSide:!0},React.createElement("div",{className:"datasets__filters--mobile"},React.createElement("p",{className:"datasets__filters-label--mobile"},"Sort By"),React.createElement(l.SelectBox,{className:"datasets__filter--mobile",options:f,onChange:function(t){e.onSortByChanged(t),e.showMobileSortMenu(!1)},searchable:!1,value:this.state.sortBy})),React.createElement("div",{className:"datasets__filters--mobile"},this.renderSearch("off-canvas")))},t.prototype.handleNewDatasetClick=function(){goog_report_conversion()},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"datasets",ref:function(t){return e.container=t}},this.props.listingHeaderVisible&&React.createElement("div",{className:"listing-header__wrapper--datasets"},React.createElement("div",{className:"listing-header"},"Datasets"),React.createElement("div",{className:"datasets__upload"},React.createElement(a.Button,{text:"New Dataset",href:"/datasets/new",onClick:this.handleNewDatasetClick}))),React.createElement(o.DatasetsBanner,i({},this.props.banner)),React.createElement("div",{className:"datasets__list-wrapper"},React.createElement("div",{className:"datasets__list"},React.createElement(s.ContentBox,{title:this.getTitle(),titleBarRightSide:this.renderSortBy(),subTitleBar:this.renderSubTitleBar()},React.createElement(u.WindowInfiniteScroll,{onScroll:function(){return e.onScroll()}},this.state.datasetListItems.map(function(t,n){return React.createElement(m.DatasetListItem,{key:n,dataset:t,hideIsFeaturedLabel:"featured"==e.state.selectionGroup})}),this.renderOptionalLoadingMessage(),this.renderOptionalNoMoreScriptsMessage())))," ")," ",this.renderMobileSortMenu())},t}(React.Component);t.DatasetListReact=v},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(12),o=function(e){function t(t){e.call(this,t),this.state=t}return r(t,e),t.prototype.handleDismissal=function(){this.setState({isVisible:!1})},t.prototype.render=function(){return React.createElement(a.Banner,i({},this.state),React.createElement("h1",{className:"datasets-banner__title"},"Welcome to Kaggle Datasets"),React.createElement("h2",{className:"datasets-banner__subtitle"},"The best place to discover and seamlessly analyze publicly-available data"),React.createElement("hr",{className:"datasets-banner__divider"}),React.createElement("ul",{className:"datasets-banner__details"},React.createElement("li",{className:"datasets-banner__detail"},React.createElement("img",{alt:"Dig In",className:"datasets-banner__detail-image",src:"/static/images/datasets-dig-in.svg"}),React.createElement("h3",{className:"datasets-banner__detail-title"},"Dig in"),React.createElement("p",{className:"datasets-banner__detail-text"},"Explore a dataset with our in-browser analytics tool, Kaggle Kernels. You can also download it in an easy-to-read-format.")),React.createElement("li",{className:"datasets-banner__detail"},React.createElement("img",{alt:"Build",className:"datasets-banner__detail-image",src:"/static/images/datasets-build.svg"}),React.createElement("h3",{className:"datasets-banner__detail-title"},"Build"),React.createElement("p",{className:"datasets-banner__detail-text"},"Create your data science portfolio. Publish insights and code with Kaggle Kernels and it will be saved to your profile.")),React.createElement("li",{className:"datasets-banner__detail"},React.createElement("img",{alt:"Connect",className:"datasets-banner__detail-image",src:"/static/images/datasets-connect.svg"}),React.createElement("h3",{className:"datasets-banner__detail-title"},"Connect"),React.createElement("p",{className:"datasets-banner__detail-text"},"Engage with other data scientists. Share feedback on other Kagglers' Kernels, or ask a question in a dataset's forum."))))},t}(React.Component);t.DatasetsBanner=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(23),a=n(80),o=n(146),s=n(47),l=n(7),c=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this.props.dataset.voteButton;return React.createElement("div",{key:this.props.index,className:"dataset-list-item"},React.createElement("a",{className:"dataset-list-item__link",href:this.props.dataset.datasetUrl}),React.createElement("div",{className:"dataset-list-item__images"},React.createElement("div",{className:"dataset-list-item__votes"},React.createElement(i.VoteButton,{totalVotes:e.totalVotes,hasAlreadyVotedDown:e.hasAlreadyVotedDown,hasAlreadyVotedUp:e.hasAlreadyVotedUp,canDownvote:e.canDownvote,canUpvote:e.canUpvote,voteDownUrl:e.voteDownUrl,voteUpUrl:e.voteUpUrl})),React.createElement("div",{className:"dataset-list-item__image-wrapper"},React.createElement("img",{alt:this.props.dataset.title,className:"dataset-list-item__image",src:this.props.dataset.cardImageUrl}),this.props.hideOwnerAvatar?null:React.createElement("a",{className:"dataset-list-item__image--author-link",href:this.props.dataset.ownerUrl},React.createElement("img",{alt:this.props.dataset.ownerName,className:"dataset-list-item__image--author",src:this.props.dataset.ownerAvatarUrl})))),React.createElement("div",{className:"dataset-list-item__info"},React.createElement("a",{className:"dataset-list-item__name",href:this.props.dataset.datasetUrl},React.createElement(a.GroupIcon,{groupSize:this.props.dataset.privateGroupMemberCount}),this.props.dataset.title,this.props.dataset.isHidden&&!this.props.dataset.isFailed?React.createElement(o.StatusTag,{color:"gray",label:"HIDDEN"}):null,this.props.dataset.isFailed?React.createElement(o.StatusTag,{color:"red",label:"FAILED"}):null,this.props.dataset.isFeatured&&!this.props.hideIsFeaturedLabel?React.createElement(o.StatusTag,{color:"gray",label:"FEATURED"}):null),React.createElement("p",{className:"dataset-list-item__summary"},this.props.dataset.overview),React.createElement("p",{className:"dataset-list-item__details"},React.createElement("a",{href:this.props.dataset.ownerUrl,className:"dataset-list-item__details--author"},this.props.dataset.ownerName),"  · updated ",React.createElement(l.TimeAgo,{time:this.props.dataset.dateUpdated}))),React.createElement("div",{className:"dataset-list-item__metadata"},React.createElement("p",{className:"dataset-list-item__metadatum"},React.createElement("span",{className:"dataset-list-item__metadatum--nonlink"},React.createElement(s.Pluralize,{count:this.props.dataset.downloadCount,word:"download",formatNumber:!0}))),React.createElement("p",{className:"dataset-list-item__metadatum"},React.createElement("a",{className:"dataset-list-item__metadatum--link",href:this.props.dataset.scriptsUrl},React.createElement(s.Pluralize,{count:this.props.dataset.scriptCount,word:"kernel",formatNumber:!0}))),React.createElement("p",{className:"dataset-list-item__metadatum"},React.createElement("a",{className:"dataset-list-item__metadatum--link",href:this.props.dataset.forumUrl},React.createElement(s.Pluralize,{count:this.props.dataset.topicCount,word:"comment",formatNumber:!0})))))},t}(React.Component);t.DatasetListItem=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(4),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("span",{className:"status-tag"},React.createElement("span",{className:i("status-tag__content","status-tag__content--"+this.props.color)},this.props.label))},t}(React.Component);t.StatusTag=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(148),a=n(149),o=n(152),s=n(153),l=n(154),c=n(49),u=n(5),d=n(6),p=(n(24),n(151)(),n(164).saveAs),h=50,m=function(e){function t(t){var n=this;e.call(this,t),this.handleAutoSave=function(){n.setState({canSave:!1,lastSavedTime:new Date,wasAutoSaved:!0})},this.handleChangeEvents=function(e){e&&e.length>0&&"load_notebook"===e[0]._type?n.setState({startingStateIpynb:JSON.stringify(e[0].notebook),editHistory:n.state.editHistory.concat(e.slice(1))}):n.setState({editHistory:n.state.editHistory.concat(e)})},this.handleScriptResultMessage=function(e){n.setState({scriptResultMessage:e})},this.handleRedisConnectionError=function(e,t,r){n.redisMessageTimeout&&window.clearTimeout(n.redisMessageTimeout);var i=e;("warning"===t||r&&r>20)&&(i=e+" You can save your work by downloading it to an ipynb file..."),n.setState({redisConnectionMessage:i,redisConnectionMessageType:t}),n.redisMessageTimeout=window.setTimeout(function(){n.setState({redisConnectionMessage:""})},3e3)},this.handleRedisConnectionOk=function(){""!==n.state.redisConnectionMessage&&"success"!==n.state.redisConnectionMessageType&&(n.redisMessageTimeout&&window.clearTimeout(n.redisMessageTimeout),n.setState({redisConnectionMessage:"Reconnected to the server 👍",redisConnectionMessageType:"success"}),n.redisMessageTimeout=window.setTimeout(function(){n.setState({redisConnectionMessage:""})},3e3))},this.kernelLanguageIdToName=function(e){var t=n.props.scriptLanguageTemplates.filter(function(t){return t.languageId==e});return t&&t.length>0?t[0].baseScriptLanguageName:(console.warn("Unknown kernel language id: "+e.toString()),"")},this.kernelLanguageName=function(){return n.state?n.kernelLanguageIdToName(n.state.kernelLanguageId):n.kernelLanguageIdToName(n.props.scriptLanguageId)},this.handleKernelStatusChange=function(e){n.setState({kernelStatus:e})},this.handleChangeCellType=function(e,t){var r=i.UpdateCellEditEvent(e,n.getCellContents(e),t,null);n.setState({editHistory:n.state.editHistory.concat(r)}),n.kernel.sendEditEvent(r)},this.handleChangeCollapsed=function(e,t){var r=i.UpdateCellEditEvent(e,n.getCellContents(e),null,t);n.setState({editHistory:n.state.editHistory.concat(r)}),n.kernel.sendEditEvent(r)},this.handleCellExecuteRequest=function(e){n.state.isEditingTitle&&""!==n.state.title&&n.handleTitleEditingStateChanged();var t,r=n.state.editHistory;n.pendingEditEvent&&n.pendingEditEvent._cell_guid===e?(t=n.pendingEditEvent.source,r=r.concat(n.pendingEditEvent),n.pendingEditEvent=null):t=n.getCellContents(e),n.setState({editHistory:r.concat(i.CellExecutionRequest(e))}),n.kernel.executeCell(e,t),n.hasExecutedCodeCell=!0},this.handlePlayAll=function(){var e=n.serializeCellsToIpynb().cells,t=e.filter(function(e){return"code"===e.cell_type}).map(function(e){return e.metadata._cell_guid});n.state.isEditingTitle&&""!==n.state.title&&n.handleTitleEditingStateChanged(),n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(t.map(function(e){return i.CellExecutionRequest(e)}))})}),n.kernel.executeCells(e),n.hasExecutedCodeCell=!0},this.handleCellCancelRequest=function(e){n.kernel.requestKernelInterrupt()},this.handleCellCancelled=function(){n.state.busyCellUuid&&n.setState({editHistory:n.state.editHistory.concat(i.MakeCellIdleEditEvent(n.state.busyCellUuid))})},this.handleUpdateTitle=function(e){d.Current.log("Received new title from server: "+e),n.setState({title:e})},this.handleUpdateUrl=function(e){history.replaceState({},"",e)},this.handleRedirectToRenderedNotebook=function(){window.location.href+="/../"},this.handleUpdateTitleErrorMessage=function(e){d.Current.log("Received title error: "+e),n.setState({titleErrorText:e})},this.handlePageChange=function(e){if(n.state.hasUnpublishedChanges){var t="Your notebook has unpublished changes. Are you sure you want to leave this page?";return e.returnValue=t,t}return null},this.handleTitleEditingStateChanged=function(){n.state.isEditingTitle?(n.setState({isEditingTitle:!1}),n.kernel.requestNewTitle(n.state.title)):n.setState({isEditingTitle:!0})},this.handleTitleEditorLoseFocus=function(){""!==n.state.title&&n.handleTitleEditingStateChanged()},this.handleLanguageChanged=function(e){var t=+e;if(isNaN(t))return void d.Current.warn("Invalid new language id: "+e);if(t===n.state.kernelLanguageId)return void d.Current.log("No language change needed.");var r=n.serializeCellsToIpynbWithNoOutputs(),i=n.switchLanguageTemplateIfPresent(r,t),a=JSON.stringify(i);n.kernel.changeLanguage(t,a),n.setState({kernelLanguageId:t,startingStateIpynb:a,editHistory:[],kernelInfoText:"",scriptResultMessage:""})},this.handlePrivacyChanged=function(){n.setState({isShowingPrivacyModal:!0})},this.handleRestartKernel=function(){var e=n.serializeCellsToIpynbWithNoOutputs(),t=JSON.stringify(e);n.kernel.changeLanguage(n.state.kernelLanguageId,t),n.setState({startingStateIpynb:t,editHistory:[],kernelInfoText:"",scriptResultMessage:""})},this.handleTitleChanged=function(e){n.setState({title:e,titleErrorText:""})},this.handleTitleEditorGainFocus=function(){n.setState({titleEditorHasFocus:!0})},this.handleRenderHtml=function(){var e=!0;n.kernel.requestRenderingHtml(!e,n.pendingEditEvent),n.setState({scriptResultMessage:"",hasUnpublishedChanges:!1,editHistory:n.state.editHistory.concat(n.pendingEditEvent)})},this.handleRenderRequestError=function(e){n.setState({titleErrorText:e})},this.handleUploadIpynb=function(e){n.deleteAllCellsOnServer();var t=e.target.files[0],r=new FileReader;r.onload=function(e){var t=n.parseIpynbFile(e.target.result);n.sendNewCellsToServer(t)},r.readAsText(t)},this.handleDownloadIpynb=function(){var e=n.serializeCellsToIpynb();e.cells=e.cells.map(function(e){return{cell_type:e.cell_type,source:e.source,execution_count:e.execution_count,outputs:e.outputs,metadata:{}}});var t=new Blob([JSON.stringify(e,null," ")],{type:"text/plain;charset=utf-8"});p(t,"notebook.ipynb")},this.handleKernelSpecChange=function(e,t){n.setState({kernelMetadata:{kernelspec:e,language_info:t},kernelInfoText:t.version})},this.updateActiveCellProperties=function(e,t,r){n.setState({activeCellUuid:e,activeCellIsCollapsed:t,activeCellType:r})},this.updateBusyCellProperties=function(e){n.setState({busyCellUuid:e})},this.updateCellCount=function(e){n.setState({nTotalCells:e})},this.handleInsertActivatedCellBefore=function(e){n.handleInsertActivatedCell(null,e)},this.handleInsertActivatedCellAfter=function(e){void 0===e&&(e=null),n.handleInsertActivatedCell(e,null)},this.handleInsertActivatedCell=function(e,t){var r=i.InsertCellEditEvent(i.strictlyFormattedUuid(),e,!1,i.NotebookCellType.Code,"",t),a=i.ActivateCellEditEvent(r._cell_guid);n.setState({editHistory:n.state.editHistory.concat([r,a])}),n.kernel.sendEditEvents([r,a])},this.insertMarkdownCellAtStart=function(){var e=i.InsertCellEditEvent(i.strictlyFormattedUuid(),null,!1,i.NotebookCellType.Markdown,"",n.state.firstCellUuid),t=i.ActivateCellEditEvent(e._cell_guid);n.setState({editHistory:n.state.editHistory.concat([e,t])}),n.kernel.sendEditEvents([e,t])},this.handleDeleteCell=function(e){confirm("Delete cell?")&&n.registerEditEvent(i.DeleteCellEditEvent(e))},this.handleNewCellContents=function(e,t,r){n.pendingEditEvent&&n.pendingEditEvent._cell_guid===e?n.pendingEditEvent.source=t||"":n.pendingEditEvent?(n.pushNewCellContents(),n.pendingEditEvent=i.UpdateCellEditEvent(e,t,r,!1)):n.pendingEditEvent=i.UpdateCellEditEvent(e,t,r,!1),n.setState({canSave:!0,hasUnpublishedChanges:!0})},this.pushNewCellContents=function(){var e=jQuery.Deferred();return n.pendingEditEvent?(n.setState({editHistory:n.state.editHistory.concat(n.pendingEditEvent),canSave:!1,lastSavedTime:new Date},function(){return e.resolve()}),n.kernel.sendEditEvent(n.pendingEditEvent),n.pendingEditEvent=null):e.resolve(),e},this.handleActivateCell=function(e){n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(i.ActivateCellEditEvent(e))})})},this.handleDeactivateCell=function(e){n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(i.DeactivateCellEditEvent(e))})})},this.handleDocumentClick=function(e){var t=["notebook-editor","notebook-editor__notebook-contents","notebook-editor__cells-container","content-box__content-section"];-1!==t.indexOf(e.target.className)&&n.deactivateActiveCell()},this.deactivateActiveCell=function(){n.state.activeCellUuid&&n.handleDeactivateCell(n.state.activeCellUuid)};var r=!this.props.scriptId||this.props.scriptId<=0,s=this.props.scriptRunId&&this.props.scriptRunId>0;this.state={kernelLanguageId:this.props.scriptLanguageId,kernelStatus:i.KernelStatus.Initializing,startingStateIpynb:"",editHistory:r||this.props.loadNotebookPending?this.getInitialEdits():[],title:this.props.existingTitle||"",isEditingTitle:this.props.existingTitle&&!this.props.forkParentScriptVersionId?!1:!0,titleErrorText:"",canUndo:!1,canRedo:!1,kernelMetadata:{kernelspec:{name:"python"},language_info:{name:"python",version:"3.5.1"}},kernelInfoText:"",canSave:!1,hasUnpublishedChanges:!1,lastSavedTime:null,wasAutoSaved:!1,titleEditorHasFocus:!1,activeCellUuid:null,activeCellIsCollapsed:null,activeCellType:null,busyCellUuid:null,hasCodeCell:!0,hasNonEmptyCell:!0,nTotalCells:0,redisConnectionMessage:"",redisConnectionMessageType:"success",scriptResultMessage:"",downloadDataMessage:null,isInKeyboardShortcutCommandMode:!1,firstCellIsMarkdown:!1,firstCellUuid:null,isPrivate:this.props.isPrivate};var l={initialScriptId:this.props.scriptId,initialTitle:this.props.existingTitle&&""!==this.props.existingTitle?this.props.existingTitle:null,initialScriptRunId:this.props.scriptRunId,initialLanguageId:this.props.scriptLanguageId,scriptProjectId:this.props.scriptProjectId,readOnly:this.props.readOnly,onKernelStatusChange:function(e){n.setState({kernelStatus:e})},onUpdateTitle:this.handleUpdateTitle,onUpdateUrl:this.handleUpdateUrl,onUpdateTitleErrorMessage:this.handleUpdateTitleErrorMessage,onKernelSpecChange:this.handleKernelSpecChange,initialEditEvents:this.state.editHistory,onSave:this.handleAutoSave,onRedirectToRenderedNotebook:this.handleRedirectToRenderedNotebook,receiveChanges:this.handleChangeEvents,onConnectionOk:this.handleRedisConnectionOk,onConnectionProblem:this.handleRedisConnectionError,onDataDownloadUpdate:function(e){return n.setState({downloadDataMessage:e})},onExecutionCancelRequestSent:this.handleCellCancelled,onKernelResultMessage:this.handleScriptResultMessage};this.kernel=new a.NotebookKernelDispatcher(l),s?this.connectToExistingScriptRun():this.kernel.startKernel(this.props.forkParentScriptVersionId,this.props.sourceScriptRunId),window.setInterval(this.pushNewCellContents,3e3);var c={onChangedToEditMode:function(){n.setState({isInKeyboardShortcutCommandMode:!1})},onChangedToCommandMode:function(){n.setState({isInKeyboardShortcutCommandMode:!0})},onInsertCellAbove:function(){n.state.activeCellUuid&&n.handleInsertActivatedCellBefore(n.state.activeCellUuid)},onInsertCellBelow:function(){n.state.activeCellUuid&&n.handleInsertActivatedCellAfter(n.state.activeCellUuid)},onSave:function(){},onCancelExecution:function(){return n.handleCellCancelRequest(n.state.activeCellUuid)},onMakeCodeCell:function(){return n.handleChangeCellType(n.state.activeCellUuid,i.NotebookCellType.Code)},onMakeMarkdownCell:function(){return n.handleChangeCellType(n.state.activeCellUuid,i.NotebookCellType.Markdown)},onDeleteCell:function(){return n.handleDeleteCell(n.state.activeCellUuid)}};this.shortcuts=new o.NotebookKeyboardShortcutter(c),document.addEventListener("keydown",this.shortcuts.handleKeyDown,!0),this.props.url&&""!==this.props.url&&this.handleUpdateUrl(this.props.url)}return r(t,e),t.prototype.getInitialEdits=function(){if(this.props.loadNotebookPending)return[];var e=i.InsertCellEditEvent(i.strictlyFormattedUuid(),null);return this.props.templateText&&""!==this.props.templateText&&(e.source=this.props.templateText),[e]},t.prototype.connectToExistingScriptRun=function(){this.kernel.subscribeToRedisKeys(0)},t.prototype.stopCellExecution=function(e){this.kernel.cancelCellExecution()},t.prototype.componentDidMount=function(){this.kernel.containerDidMount(),document.addEventListener("click",this.handleDocumentClick,!1),window.addEventListener("beforeunload",this.handlePageChange)},t.prototype.componentWillUnmount=function(){this.kernel.containerWillUnmount(),document.removeEventListener("keydown",this.shortcuts.handleKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!1),window.removeEventListener("beforeunload",this.handlePageChange)},t.prototype.componentDidUpdate=function(){this.state.editHistory.length>h&&this.setState({startingStateIpynb:JSON.stringify(this.serializeCellsToIpynb()),editHistory:[]})},t.prototype.switchLanguageTemplateIfPresent=function(e,t){var n=this.props.scriptLanguageTemplates.map(function(e){return e.languageId}).indexOf(this.state.kernelLanguageId),r=this.props.scriptLanguageTemplates.map(function(e){return e.languageId}).indexOf(t),i=this.props.scriptLanguageTemplates[n].template,a=e.cells.map(function(e){return e.source}).indexOf(i);return-1===a?(d.Current.log("No language template found."),e):(d.Current.log("Swapping language template."),e.cells[a].source=this.props.scriptLanguageTemplates[r].template,e)},t.prototype.parseIpynbFile=function(e){var t=JSON.parse(e);return t.cells.forEach(function(e){e.metadata.hasOwnProperty("_cell_guid")||(e.metadata._cell_guid=i.strictlyFormattedUuid()),e.metadata.hasOwnProperty("_active")||(e.metadata._active=!1)}),this.setState({startingStateIpynb:JSON.stringify(t),editHistory:[]}),t.cells},t.prototype.deleteAllCellsOnServer=function(){var e=this.serializeCellsToIpynb().cells;this.kernel.sendEditEvents(e.map(function(e){return i.DeleteCellEditEvent(e.metadata._cell_guid)}))},t.prototype.sendNewCellsToServer=function(e){this.kernel.sendEditEvents(e.map(function(t,n){return i.InsertCellEditEvent(t.metadata._cell_guid,n>0?e[n-1].metadata._cell_guid:null,t.metadata.collapsed,"code"===t.cell_type?i.NotebookCellType.Code:i.NotebookCellType.Markdown,t.source)}))},t.prototype.updateCellProperties=function(e,t){this.setState({hasCodeCell:e,hasNonEmptyCell:t})},t.prototype.registerEditEvent=function(e){this.pendingEditEvent?(this.setState({editHistory:this.state.editHistory.concat([this.pendingEditEvent,e])}),this.kernel.sendEditEvents([this.pendingEditEvent,e]),this.pendingEditEvent=null):(this.setState({editHistory:this.state.editHistory.concat(e)}),this.kernel.sendEditEvent(e))},t.prototype.renderHeader=function(){var e=this,t=this.state.kernelStatus===i.KernelStatus.RenderingHtml,n=this.props.readOnly||t,r=null;""!==this.state.titleErrorText&&(r=(r||[]).concat({type:"error",message:this.state.titleErrorText})),""!==this.state.redisConnectionMessage&&(r=(r||[]).concat({type:this.state.redisConnectionMessageType,message:this.state.redisConnectionMessage})),""!==this.state.scriptResultMessage&&(r=(r||[]).concat({type:"error",message:this.state.scriptResultMessage}));var a=this.props.scriptLanguageTemplates.map(function(e){return{label:e.baseScriptLanguageName,value:e.languageId.toString()}});n&&(a=a.filter(function(t){return t.value===e.state.kernelLanguageId.toString()}));var o=""===this.state.title,l=this.state.titleErrorText&&""!==this.state.titleErrorText,c=!(o||l||n||this.state.isEditingTitle||this.state.kernelStatus!==i.KernelStatus.Running),u="Render the notebook as a new HTML page";o?u="You must enter a title before saving a complete run.":this.state.isEditingTitle&&(u="You must finish editing the title before saving a complete run.");var d=function(){return e.handleInsertActivatedCellAfter(e.state.activeCellUuid)},p=this.state.kernelStatus!==i.KernelStatus.RestartingKernel;return React.createElement(s.NotebookHeader,{readOnly:n,activeCellUuid:this.state.activeCellUuid,activeCellIsCollapsed:this.state.activeCellIsCollapsed,activeCellType:this.state.activeCellType,availableLanguageChoices:a,busyCellUuid:this.state.busyCellUuid,canDownloadIpynb:this.state.hasNonEmptyCell,canExecuteActiveCell:this.state.activeCellType===i.NotebookCellType.Code&&this.state.kernelStatus===i.KernelStatus.Running,canExecuteAll:this.state.hasCodeCell&&this.state.kernelStatus===i.KernelStatus.Running,canRenderHtml:c,canRestartKernel:p,isEditingTitle:this.state.isEditingTitle,kernelInfoLine:this.state.kernelInfoText,kernelLanguageDropdownValue:this.state.kernelLanguageId.toString(),kernelLanguageName:this.kernelLanguageName(),kernelStatus:this.state.kernelStatus,canSave:this.state.canSave,lastSavedTime:this.state.lastSavedTime,wasAutoSaved:this.state.wasAutoSaved,nTotalCells:this.state.nTotalCells,onAddCell:d,onCancel:this.handleCellCancelRequest,onChangeCellType:this.handleChangeCellType,onDelete:this.handleDeleteCell,onDownloadIpynb:this.handleDownloadIpynb,onExecute:this.handleCellExecuteRequest,onExecuteAll:this.handlePlayAll,onLanguageChanged:this.handleLanguageChanged,onPrivacyChanged:this.handlePrivacyChanged,onRenderHtml:this.handleRenderHtml,onRenderHtmlRequestError:this.handleRenderRequestError,onRestartKernel:this.handleRestartKernel,onTitleChanged:this.handleTitleChanged,onTitleEditingStateChanged:this.handleTitleEditingStateChanged,onTitleEditorGainFocus:this.handleTitleEditorGainFocus,onTitleEditorLoseFocus:this.handleTitleEditorLoseFocus,onChangeCollapsed:this.handleChangeCollapsed,onUploadIpynb:this.handleUploadIpynb,pageMessages:r,renderHtmlToolTipText:u,title:this.state.title,isPrivate:this.state.isPrivate,scriptId:this.props.scriptId})},t.prototype.render=function(){var e=this,t=this.props.readOnly||this.state.kernelStatus===i.KernelStatus.RenderingHtml,n=null;t||this.state.firstCellIsMarkdown||(n=React.createElement("div",{className:"notebook-editor__add-description-prompt",onClick:this.insertMarkdownCellAtStart},React.createElement("div",{className:"notebook-editor__add-description-prompt-inner"},"Click here to add an introduction.")));var r=this.state.kernelStatus===i.KernelStatus.Running,a=null;return this.props.inputFiles&&this.props.inputFiles.length>0&&(a=React.createElement(u.CollapsibleContentBox,{title:"Input Files",initiallyCollapsed:!0},React.createElement(c.FilePreviewList,{files:this.props.inputFiles}))),React.createElement("div",{className:"notebook-editor"},this.renderHeader(),React.createElement("div",{className:"notebook-editor__notebook-contents"},this.state.downloadDataMessage&&""!==this.state.downloadDataMessage?React.createElement(f,{message:this.state.downloadDataMessage}):null,a,React.createElement(u.ContentBox,{title:"Notebook"},n,React.createElement(l.NotebookCellsContainer,{startingStateIpynb:this.state.startingStateIpynb,editHistory:this.state.editHistory,kernelMetadata:this.state.kernelMetadata,kernelLanguageName:this.kernelLanguageName(),isReadOnly:t,isInCommandMode:this.state.isInKeyboardShortcutCommandMode,canExecute:r,registerGetIpynb:function(t){e.serializeCellsToIpynb=t},registerGetIpynbWithNoOutputs:function(t){e.serializeCellsToIpynbWithNoOutputs=t},registerGetCellContents:function(t){e.getCellContents=t},onUpdateNumberOfCells:this.updateCellCount,onChangeActiveCell:this.updateActiveCellProperties,onChangeBusyCell:this.updateBusyCellProperties,onAppendActivatedCell:function(){return e.handleInsertActivatedCellAfter(null)},onNewCellContents:this.handleNewCellContents,onChangeCellType:this.handleChangeCellType,onChangeCollapsed:this.handleChangeCollapsed,onAutocomplete:this.state.kernelStatus===i.KernelStatus.Running?this.kernel.requestAutocomplete:function(){},onExecuteCell:this.state.kernelStatus===i.KernelStatus.Running?this.handleCellExecuteRequest:function(){},onActivateCell:this.handleActivateCell,onDeactivateCell:this.handleDeactivateCell,onDeleteCell:this.handleDeleteCell,onAddAbove:this.handleInsertActivatedCellBefore,onAddBelow:this.handleInsertActivatedCellAfter,onUpdateFirstCellIsMarkdown:function(t){e.setState({firstCellIsMarkdown:t})},onUpdateFirstCellUuid:function(t){e.setState({firstCellUuid:t})}}),React.createElement("div",{className:"notebook-editor__new-block-prompt",onClick:function(){return e.handleInsertActivatedCell(null,null)}},React.createElement("span",{className:"fa fa-plus-square"}),"Add a new text or code cell here"),React.createElement("div",{className:"notebook-editor__license-publish-info"},"Code in this notebook will be released under the ",React.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"}," Apache 2.0 ")," open source license when you click Publish, or after 20 minutes of idle time."))))},t}(React.Component);
t.NotebookEditor=m;var f=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.shouldComponentUpdate=function(e){return!e.message!=!this.props.message?!0:e.message&&e.message!==this.props.message},t.prototype.render=function(){return React.createElement(u.ContentBox,{title:"Preparing Worker"},React.createElement("div",{className:"notebook-editor__download-data-message"},this.props.message))},t}(React.Component)},function(e,t,n){"use strict";function r(e,t){var n=x.keys(t),r=x.keys(e);return n.length!==r.length?!1:!r.some(function(n){return!x.has(t,n)||"function"!=typeof t[n]&&"object"!=typeof t[n]&&e[n]&&t[n]!==e[n]||"function"==typeof t[n]&&e[n]&&t[n].toString()!==e[n].toString()})}function i(e,t){var n=Array(t+1).join("0");return(n+e).slice(-t)}function a(e){if(x.has(e,"_type")&&e._type===t.KernelInfoResponseType)return!1;if(!x.has(e,"_guid"))return!1;var n=e._guid.substr(e._guid.length-R-T.length-1,T.length);return T===n}function o(e){return!a(e)}function s(){var e=i((S++).toString(16),R);return A+"-"+T+"-"+e}function l(e,n,r,i,a,o){return void 0===r&&(r=!1),void 0===i&&(i=C.Code),void 0===a&&(a=""),void 0===o&&(o=null),{_type:t.InsertCellEditEventType,_guid:s(),_cell_guid:e,_below_cell_guid:n,_above_cell_guid:o,collapsed:r,cell_type:i===C.Code?"code":"markdown",source:a}}function c(e,n){return{_type:t.AppendCellEditEventType,_guid:s(),_cell_guid:e,source:n}}function u(e){return{_type:t.DeleteCellEditEventType,_guid:s(),_cell_guid:e}}function d(e){return{_type:t.ActivateCellEditEventType,_guid:s(),_cell_guid:e}}function p(e){return{_type:t.DeactivateCellEditEventType,_guid:s(),_cell_guid:e}}function h(e,n,r,i){var a={_type:t.UpdateCellEditEventType,_guid:s(),_cell_guid:e};return null!=r&&(a.cell_type=r===C.Code?"code":"markdown"),null!=n&&(n instanceof Array?a.source=n.join("\n"):a.source=n),null!=i&&(a.collapsed=i),a}function m(e){return{_type:t.UpdateCellEditEventType,_guid:s(),_cell_guid:e,execution_state:"idle"}}function f(e,t){return{_type:"complete_request",_guid:s(),code:e,cursor_pos:t}}function g(e){return{_type:"execute_cell",_guid:s(),_cell_guid:e}}function v(){return{_guid:s(),_type:"interrupt_kernel"}}function b(){return{_guid:s(),_type:"close_notebook",nbconvert:"full"}}function y(){return{_guid:s(),_type:"close_notebook",nbconvert:null}}function w(){return{_guid:s(),_type:"snapshot_notebook_request"}}function k(){return E(8)+"-"+E(4)+"-"+E(4)+"-"+E(4)+"-"+E(12)}function E(e){void 0===e&&(e=40);for(var t="",n=0;e>n;n++)t+=(16*Math.random()|0).toString(16);return t}var _=n(6),x=n(24);t.propsAreShallowEqual=r,function(e){e[e.Code=0]="Code",e[e.Markdown=1]="Markdown"}(t.NotebookCellType||(t.NotebookCellType={}));var C=t.NotebookCellType;!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(t.CellExecutionStatus||(t.CellExecutionStatus={}));t.CellExecutionStatus;!function(e){e[e.Initializing=0]="Initializing",e[e.Requested=1]="Requested",e[e.Queued=2]="Queued",e[e.Starting=3]="Starting",e[e.Running=4]="Running",e[e.Error=5]="Error",e[e.Stopped=6]="Stopped",e[e.DownloadingData=7]="DownloadingData",e[e.LostHeartbeat=8]="LostHeartbeat",e[e.Reconnecting=9]="Reconnecting",e[e.RenderingHtml=10]="RenderingHtml",e[e.RestartingKernel=11]="RestartingKernel"}(t.KernelStatus||(t.KernelStatus={}));var S=(t.KernelStatus,0),T=E(4)+"-"+E(4)+"-"+E(4),R=12,A=i((_.Current.userId||0).toString(16),8);t.ThisClientSent=a,t.NotFromThisClient=o,t.messageUuid=s,t.InsertCellEditEventType="insert_cell",t.InsertCellEditEvent=l,t.AppendCellEditEventType="append_cell",t.AppendCellEditEvent=c,t.DeleteCellEditEventType="delete_cell",t.DeleteCellEditEvent=u,t.ActivateCellEditEventType="activate_cell",t.ActivateCellEditEvent=d,t.DeactivateCellEditEventType="deactivate_cell",t.DeactivateCellEditEvent=p,t.UpdateCellEditEventType="update_cell",t.UpdateCellEditEvent=h,t.MakeCellIdleEditEvent=m,t.AutocompleteRequest=f,t.CellExecutionRequestType="execute_cell",t.CellExecutionRequest=g,t.KernelInfoResponseType="kernel_info",t.InterruptKernelType="interrupt_kernel",t.InterruptKernelRequest=v,t.CloseNotebookType="close_notebook",t.CloseNotebookRequest=b,t.CloseNotebookForLanguageChangeRequest=y,t.SerializeNotebookType="snapshot_notebook_request",t.SerializeNotebookRequest=w,t.strictlyFormattedUuid=k,t.uuid=E},function(e,t,n){"use strict";var r,i=n(148),a=n(150),o=n(6),s=n(24),l=n(2);!function(e){e[e.Ok=0]="Ok",e[e.NotFound=1]="NotFound",e[e.Stopped=2]="Stopped"}(r||(r={}));var c=function(){function e(e){var t=this;this.handleAjaxError=function(e,t,n){alert(n)},this.handleRedisInterfaceStateChange=function(e){e===a.InterfaceState.PollingUntilReconnected?(t.props.onConnectionProblem("Relocating the Kaggle mothership...","warning",0),t.updateStatus(i.KernelStatus.Reconnecting)):e===a.InterfaceState.GivenUp?(t.props.onConnectionProblem("Critical connection problem. Time to download an ipynb copy and refresh the page. Sorry! :^(","error",0),t.updateStatus(i.KernelStatus.Error)):t.props.onConnectionOk()},this.updatePrivateStatus=function(e){t.kernelStatus=e},this.updateParentStatus=function(e){t.kernelStatus=e,t.props.onKernelStatusChange(e)},this.processKernelStartupResult=function(e){var n=JSON.parse(e);return n.ErrorMessage?void alert(n.ErrorMessage):(o.Current.log("Received ScriptId: "+n.ScriptId+" and ScriptRun id: "+n.ScriptRunId),t.scriptId=n.ScriptId,t.scriptRunId=n.ScriptRunId,t.updateStatus(i.KernelStatus.Queued),t.subscribeToRedisKeys(0),o.Current.log("Updating Url: '"+n.NewUrl+"'"),void t.props.onUpdateUrl(n.NewUrl))},this.processStatusResult=function(e){t.props.onConnectionOk();var n=e.map(function(e){return JSON.parse(e)});if(o.Current.log("Status: "),o.Current.log(n),t.kernelStatus===i.KernelStatus.RenderingHtml)return void(n.some(function(e){return"done"===e.complete||"done"===e.running})&&t.props.onRedirectToRenderedNotebook());var r=n[n.length-1];if("done"===r.assigned&&t.updateStatus(i.KernelStatus.Initializing),"Acquiring resources"in r){if(t.updateStatus(i.KernelStatus.DownloadingData),"object"==typeof r["Acquiring resources"]){var a=r["Acquiring resources"],s=!1;if("dataset"in a){var l="";for(var c in a.dataset)l+=c+": "+a.dataset[c]+"\n","done"!==a.dataset[c]&&(s=!0);s&&t.props.onDataDownloadUpdate(l.trim())}}}else t.props.onDataDownloadUpdate(null);"started"===r.running&&t.kernelStatus!==i.KernelStatus.Running&&t.updateStatus(i.KernelStatus.Starting),n.some(function(e){return"done"===e.complete||"done"===e.running})&&(window.clearTimeout(t.heartbeatWarningTimeout),t.updateStatus(i.KernelStatus.Stopped),t.unsubscribeFromRedisKeys(),t.kernelHasStarted=!1,t.props.onKernelResultMessage("The kernel was stopped, for exceeding the limits on idle time (20 minutes), storage (512 Mb) or memory (8Gb). You can use the restart button in the toolbar to try again..."),t.getKernelRunResults())},this.processWorkerHeartbeat=function(e){t.kernelStatus!==i.KernelStatus.RenderingHtml&&t.kernelStatus!==i.KernelStatus.Stopped&&(t.heartbeatWarningTimeout&&window.clearTimeout(t.heartbeatWarningTimeout),(t.kernelStatus===i.KernelStatus.LostHeartbeat||t.kernelStatus===i.KernelStatus.Reconnecting)&&t.updateStatus(i.KernelStatus.Running),t.heartbeatWarningTimeout=window.setTimeout(function(){t.kernelStatus===i.KernelStatus.Running&&t.updateStatus(i.KernelStatus.LostHeartbeat)},3e4))},this.processChangesResult=function(e){t.props.onConnectionOk();var n=e.map(function(e){return JSON.parse(e)}).filter(i.NotFromThisClient),r=n.map(function(e){return e._type}).indexOf(i.KernelInfoResponseType);-1!==r&&(o.Current.log("Processing startup..."),t.processWorkerStartup(n[r]),n.splice(r,1)),o.Current.log("Sending changes to Editor at "+(new Date).getTime()),t.props.receiveChanges(n)},this.requestAutocomplete=function(e,n,r){if(!t.props.readOnly){var o=i.AutocompleteRequest(e,n);a.redis.request(t.scriptRunId,JSON.stringify([o]),2,function(e){return t.handleAutocompleteResult(e,r)},function(){})}},this.handleAutocompleteResult=function(e,t){o.Current.log("Received autocomplete result: "+e);var n=JSON.parse(e);return"complete_reply"!==n._type?void console.warn("Incorrect _type, aborting"):void t(n.matches,n.cursor_start,n.cursor_end)},this.processKernelTitleResult=function(e){var n=JSON.parse(e);return n.ErrorMessage&&""!==n.ErrorMessage?void t.props.onUpdateTitleErrorMessage(n.ErrorMessage):void t.props.onUpdateUrl(n.NewUrl)},this.processKernelTitleCheckResult=function(e){var n=JSON.parse(e);n.ErrorMessage&&""!==n.ErrorMessage&&t.props.onUpdateTitleErrorMessage(n.ErrorMessage)},this.parseKernelRunResults=function(e){var n=JSON.parse(e);n.results&&n.results.FailureMessage&&t.props.onKernelResultMessage(n.results.FailureMessage+"; you can use the restart button in the toolbar to try again...")},this.props=s.clone(e),this.kernelStatus=i.KernelStatus.Initializing,this.scriptRunId=this.props.initialScriptRunId||0,this.scriptId=this.props.initialScriptId||0,this.kernelLanguage=this.props.initialLanguageId,this.updateStatus=this.updatePrivateStatus,this.initialEditsBeforeKernelReady=this.props.initialEditEvents,this.kernelHasStarted=!1,a.redis.addInterfaceStateCallback(this.handleRedisInterfaceStateChange)}return e.prototype.containerDidMount=function(){this.props.onKernelStatusChange(this.kernelStatus),this.updateStatus=this.updateParentStatus},e.prototype.startKernel=function(e,t,n){if(void 0===n&&(n=""),!this.props.readOnly){o.Current.log("Starting kernel..."),this.forkParentScriptVersionId=e||null;var r={ScriptId:this.scriptId,SourceScriptVersionId:t&&t>0?t:null,LanguageId:this.kernelLanguage,ScriptProjectId:this.props.scriptProjectId,Title:this.props.initialTitle||"Notebook"+i.uuid(10),ForkParentScriptVersionId:e&&e>0?e:null,IpynbContents:n};l.ajax({url:"/kernels/byod/newkernel",type:"POST",data:JSON.stringify(r),processData:!1,contentType:"application/json",success:this.processKernelStartupResult,error:this.handleAjaxError}),this.updateStatus(i.KernelStatus.Requested)}},e.prototype.subscribeToRedisKeys=function(e){a.redis.subscribe(this.scriptRunId,"status",-1,this.processStatusResult),a.redis.subscribe(this.scriptRunId,"jupyter:changes",e,this.processChangesResult),a.redis.subscribe(this.scriptRunId,"heartbeats:worker",0,this.processWorkerHeartbeat)},e.prototype.unsubscribeFromRedisKeys=function(){a.redis.unsubscribe("status"),a.redis.unsubscribe("jupyter:changes"),a.redis.unsubscribe("heartbeats:worker")},e.prototype.containerWillUnmount=function(){o.Current.log("NotebookKernelDispatcher is stopping")},e.prototype.getSavedNotebookState=function(e){o.Current.log("Getting existing state for script run "+this.scriptRunId),a.redis.request(this.scriptRunId,JSON.stringify([i.SerializeNotebookRequest()]),30,e,this.props.onConnectionProblem)},e.prototype.executeCell=function(e,t){var n=this;if(!this.props.readOnly){o.Current.log("Requesting cell execution for id "+e+" at "+(new Date).getTime()),o.Current.log("Source: '"+t+"'");var r=i.UpdateCellEditEvent(e,t,i.NotebookCellType.Code,!1),s=i.CellExecutionRequest(e);a.redis.request(this.scriptRunId,JSON.stringify([r,s]),10,null,function(t,r,a){o.Current.log("Cancelling busy status for id "+e+" at "+(new Date).getTime()),n.props.receiveChanges([i.MakeCellIdleEditEvent(e)]),n.props.onConnectionProblem(t,r,a)})}},e.prototype.executeCells=function(e){if(!this.props.readOnly){var t=[];e.filter(function(e){return"code"===e.cell_type}).forEach(function(e){t.push(i.UpdateCellEditEvent(e.metadata._cell_guid,e.source,i.NotebookCellType.Code,e.metadata.collapsed)),t.push(i.CellExecutionRequest(e.metadata._cell_guid))}),a.redis.request(this.scriptRunId,JSON.stringify(t),10,null,this.props.onConnectionProblem)}},e.prototype.cancelCellExecution=function(){this.props.readOnly||a.redis.request(this.scriptRunId,JSON.stringify([i.InterruptKernelRequest()]),15,this.props.onExecutionCancelRequestSent,this.props.onConnectionProblem)},e.prototype.changeLanguage=function(e,t){var n=this;if(!this.props.readOnly){this.kernelHasStarted=!1,o.Current.log("Submitting stop request...");var r=i.CloseNotebookForLanguageChangeRequest();a.redis.request(this.scriptRunId,JSON.stringify([r]),10,function(){o.Current.log("Stop request submitted."),n.heartbeatWarningTimeout&&window.clearTimeout(n.heartbeatWarningTimeout),n.unsubscribeFromRedisKeys(),n.kernelLanguage=e,n.initialEditsBeforeKernelReady=[],n.kernelHasStarted=!1,n.startKernel(n.forkParentScriptVersionId,null,t)},this.props.onConnectionProblem)}},e.prototype.requestNewTitle=function(e){return this.props.readOnly?void 0:this.scriptRunId?void this.sendTitleChangeOrCheckRequest(e,!1,this.processKernelTitleResult):void alert("Please try again in a few seconds.")},e.prototype.checkNewTitle=function(e){this.props.readOnly||this.scriptRunId&&this.sendTitleChangeOrCheckRequest(e,!0,this.processKernelTitleResult)},e.prototype.sendTitleChangeOrCheckRequest=function(e,t,n){var r={ScriptVersionId:this.scriptRunId,NewTitle:e,CheckOnly:t};l.ajax({url:"/kernels/byod/kerneltitle",type:"POST",data:JSON.stringify(r),processData:!1,contentType:"application/json",success:n,error:this.handleAjaxError})},e.prototype.sendEditEvent=function(e){if(!this.props.readOnly&&e._type!==i.ActivateCellEditEventType){if(!this.kernelHasStarted)return void this.initialEditsBeforeKernelReady.push(e);o.Current.log("Sending edit event at "+(new Date).getTime()+": "+JSON.stringify(e)),a.redis.request(this.scriptRunId,JSON.stringify([e]),5,function(e){o.Current.log(e)},this.props.onConnectionProblem)}},e.prototype.sendEditEvents=function(e){if(!this.props.readOnly){var t=e.filter(function(e){return e._type!==i.ActivateCellEditEventType});if(0!==t.length){if(!this.kernelHasStarted)return void(this.initialEditsBeforeKernelReady=this.initialEditsBeforeKernelReady.concat(t));o.Current.log("Sending edit events at "+(new Date).getTime()+":"),o.Current.log(JSON.stringify(t)),a.redis.request(this.scriptRunId,JSON.stringify(t),5,function(e){o.Current.log(e)},this.props.onConnectionProblem)}}},e.prototype.processWorkerStartup=function(e){this.updateStatus(i.KernelStatus.Running),this.kernelHasStarted=!0,this.initialEditsBeforeKernelReady.length>0&&this.sendEditEvents(this.initialEditsBeforeKernelReady),this.props.onKernelSpecChange(e.kernelspec,e.kernel_info_reply_content.language_info)},e.prototype.requestRenderingHtml=function(e,t){var n=this;if(!this.props.readOnly){var r,o=i.CloseNotebookRequest();r=t?[t,o]:[o],a.redis.request(this.scriptRunId,JSON.stringify(r),10,function(){n.updateStatus(i.KernelStatus.RenderingHtml),n.heartbeatWarningTimeout&&window.clearTimeout(n.heartbeatWarningTimeout)},this.props.onConnectionProblem)}},e.prototype.requestKernelInterrupt=function(){return this.props.readOnly?void 0:this.kernelStatus!==i.KernelStatus.Running?void console.warn("Ignoring kernel interrupt request; not running"):void a.redis.request(this.scriptRunId,JSON.stringify([i.InterruptKernelRequest()]),30,function(e){o.Current.log("Interrupt kernel response:\n"+e)},this.props.onConnectionProblem)},e.prototype.getKernelRunResults=function(){l.ajax({url:"/kernels/statmin?id="+this.scriptRunId,success:this.parseKernelRunResults,error:o.Current.warn})},e}();t.NotebookKernelDispatcher=c},function(e,t,n){"use strict";var r=n(6),i=n(24),a=n(2),o=n(151)();!function(e){e[e.Unstarted=0]="Unstarted",e[e.LongPolling=1]="LongPolling",e[e.Polling=2]="Polling",e[e.PollingUntilReconnected=3]="PollingUntilReconnected",e[e.GivenUp=4]="GivenUp"}(t.InterfaceState||(t.InterfaceState={}));var s=t.InterfaceState,l=2,c=300,u=15,d=20,p=50,h=function(){function e(){var e=this;this.subscriptions=[],this.interfaceState=s.Unstarted,this.pollIntervalSeconds=l,this.interfaceStateCallbacks=[],this.request=function(t,n,i,l,c,u){if(void 0===u&&(u=0),u>10)return r.Current.warn("Giving up on request after multiple retries."),void r.Current.log(n);if(e.interfaceState===s.GivenUp)return void c("The server is unreachable","error",null);if(e.interfaceState===s.PollingUntilReconnected){var d="I can't reach the server right now, but I'm trying to reconnect.",p=e.lostConnectionTime?1e3*(e.lostConnectionTime.getTime()-(new Date).getTime()):-1;return p>0&&1800>p&&(d="I've been trying to reconnect to the server since "+o.ago(e.lostConnectionTime)+"."),void c(d,"warning",p)}a.ajax({url:"/redis/nbreq/"+t,timeout:1e3*i,type:"POST",data:n,processData:!1,contentType:"application/json",success:l,error:function(e,t,n){}})},this.handleRequestError=function(t,n,i,a,o,s,l,c,u){return t.status&&t.status>=400?(r.Current.warn("Received status "+t.status+" on request. Retrying in three seconds."),void window.setTimeout(function(){return e.request(a,o,s,l,c,u+1)},3e3)):void("timeout"===i||"error"===n&&!i?(e.switchToPollingUntilReconnected(),c("I'm having trouble reaching the server, but I'm trying to reconnect.","warning",null)):c(n+": "+i,"error",null))},this.handleVisibilityChange=function(){e.isVisible="hidden"!==document[e.visibilityState],r.Current.log("Visibility state is now: "+document[e.visibilityState]),e.interfaceState!==s.Unstarted&&(e.isVisible?e.interfaceState===s.Polling?(r.Current.log("Switching to long-polling"),e.cancelPoll(),e.executeLongPoll(),e.updateInterfaceState(s.LongPolling)):(r.Current.log("Cancelling switch to polling"),window.clearTimeout(e.switchToPollTimeout)):(r.Current.log("Switching to polling in 30 seconds"),e.switchToPollTimeout=window.setTimeout(function(){e.cancelLongPoll(),e.executePoll(),e.updateInterfaceState(s.Polling)},3e4)))},this.dispatchResult=function(t){r.Current.log("Incoming Redis at "+(new Date).getTime()),(e.interfaceState===s.PollingUntilReconnected||e.interfaceState===s.GivenUp)&&(r.Current.log("Reconnected succesfully. Resuming normal polling."),e.pollIntervalSeconds=l,e.updateInterfaceState(e.isVisible?s.LongPolling:s.Polling),e.lostConnectionTime=null);var n=JSON.parse(t),i=e.subscriptions.map(function(e){return e.channel}).indexOf(n.Key);-1!==i?(e.subscriptions[i].callback(n.Result.map(function(e){return e.Value})),i=e.subscriptions.map(function(e){return e.channel}).indexOf(n.Key),-1!==i&&(e.subscriptions[i].position=Math.max.apply(Math,n.Result.map(function(e){return e.Position})))):"timeout"===n.Key&&e.interfaceState===s.Polling?e.pollIntervalSeconds<c&&(e.pollIntervalSeconds*=2,r.Current.log("Received timeout, increasing poll interval to: "+e.pollIntervalSeconds)):"timeout"!==n.Key&&e.interfaceState===s.Polling&&(e.pollIntervalSeconds=l),e.interfaceState===s.LongPolling?e.executeLongPoll():e.interfaceState===s.Polling&&e.executePoll()},this.handleAjaxError=function(t,n,i){return"abort"===n?void r.Current.log("Ignoring response from aborted Ajax."):(r.Current.warn(n+("error"===n?": "+i:"")),e.interfaceState!==s.PollingUntilReconnected&&e.interfaceState!==s.GivenUp?e.switchToPollingUntilReconnected():e.pollingErrors++,e.pollingErrors>=d?(r.Current.warn("Stopping reconnection attempts."),void e.updateInterfaceState(s.GivenUp)):void e.executePoll())},this.addPageVisibilityHandler(),this.executeAjax=i.throttle(this.executeAjaxImmediate,1e3/(60*p))}return e.prototype.addPageVisibilityHandler=function(){var e=this;"undefined"!=typeof document.hidden?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange",this.visibilityState="visibilityState"):"undefined"!=typeof document.mozHidden?(this.hiddenProperty="mozHidden",this.visibilityChangeEvent="mozvisibilitychange",this.visibilityState="mozVisibilityState"):"undefined"!=typeof document.msHidden?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange",this.visibilityState="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange",this.visibilityState="webkitVisibilityState"),document.addEventListener(this.visibilityChangeEvent,this.handleVisibilityChange,!1),window.addEventListener("beforeunload",function(){document.removeEventListener(e.visibilityChangeEvent,e.handleVisibilityChange,!1)}),this.isVisible="hidden"!==document[this.visibilityState]},e.prototype.addInterfaceStateCallback=function(e){this.interfaceStateCallbacks.push(e)},e.prototype.updateInterfaceState=function(e){this.interfaceState=e,this.interfaceStateCallbacks.length>0&&this.interfaceStateCallbacks.forEach(function(t){return t(e)})},e.prototype.subscribe=function(e,t,n,i){var a=this;this.scriptRunId=e,r.Current.log("Subscribing to key: "+t+" for script run "+e),this.subscriptions.push({channel:t,callback:i,position:n}),this.interfaceState===s.Unstarted?this.isVisible?(this.longPollTimeout&&(window.clearTimeout(this.longPollTimeout),this.longPollTimeout=null),this.longPollTimeout=window.setTimeout(function(){a.updateInterfaceState(s.LongPolling),a.executeLongPoll()})):(this.updateInterfaceState(s.Polling),this.executePoll()):this.restartSubscription()},e.prototype.unsubscribe=function(e){var t=this.subscriptions.map(function(e){return e.channel}).indexOf(e);-1!==t?(r.Current.log("Unsubscribed from '"+e+"'"),this.subscriptions.splice(t,1)):console.warn("Not unsubscribing from '"+e+"'; not found."),0===this.subscriptions.length&&(this.cancelLongPoll(),this.cancelPoll(),this.updateInterfaceState(s.Unstarted))},e.prototype.serializeSubscriptions=function(){for(var e={scriptRun:{id:this.scriptRunId}},t=0;t<this.subscriptions.length;t++){for(var n=this.subscriptions[t],r=n.channel.split(":"),a=e.scriptRun,o=0;o<r.length-1;o++)i.has(a,r[o])||(a[r[o]]={}),a=a[r[o]];a[r[r.length-1]]=this.subscriptions[t].position}return e},e.prototype.executeAjaxImmediate=function(e){return a.ajax({url:e,timeout:13e4,type:"POST",data:JSON.stringify(this.serializeSubscriptions()),processData:!1,contentType:"application/json",success:this.dispatchResult,error:this.handleAjaxError})},e.prototype.restartSubscription=function(){this.interfaceState===s.LongPolling?(this.cancelLongPoll(),this.executeLongPoll()):this.interfaceState===s.Polling||this.interfaceState===s.PollingUntilReconnected?(this.cancelPoll(),this.executePoll()):console.warn("restartSubscription: not currently polling")},e.prototype.executeLongPoll=function(){this.longPollQuery=this.executeAjax("/redis/sub/")},e.prototype.cancelLongPoll=function(){this.longPollQuery&&this.longPollQuery.abort(),this.longPollTimeout&&window.clearTimeout(this.longPollTimeout),this.updateInterfaceState(s.Unstarted)},e.prototype.executePoll=function(){var e=this;this.pollTimeout&&window.clearTimeout(this.pollTimeout),this.pollTimeout=window.setTimeout(function(){e.executeAjax("/redis/check/")},1e3*this.pollIntervalSeconds)},e.prototype.cancelPoll=function(){this.pollTimeout&&window.clearTimeout(this.pollTimeout),this.pollIntervalSeconds=l,this.updateInterfaceState(s.Unstarted)},e.prototype.switchToPollingUntilReconnected=function(){r.Current.log("Switching to slow polls until successful reconnection."),this.updateInterfaceState(s.PollingUntilReconnected),this.pollIntervalSeconds=u,this.pollingErrors=1,this.lostConnectionTime=new Date},e}();t.redis=new h},function(module,exports){var timeago=function(){var o={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},obj={};return obj.ago=function(e){var t,n=Math.round,r=function(e,t){return t+" "+e+(t>1?"s":"")+" ago"},a=(new Date).getTime()-new Date(e).getTime();for(i in o){if(n(a)<o[i])return r(t||"m",n(a/(o[t]||1)));t=i}return r(i,n(a/o[i]))},obj.today=function(){var e=new Date,t=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),n=new Array("January","February","March","April","May","June","July","August","September","October","November","December");return t[e.getDay()]+", "+n[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},obj.timefriendly=function(s){var t=s.match(/(\d).([a-z]*?)s?$/);return t[1]*eval(o[t[2]])},obj.mintoread=function(e,t,n){var r=Math.round(e.split(" ").length/(n||200));return(r||"< 1")+(t||" min to read")},obj};"undefined"!=typeof module&&module.exports&&(module.exports=timeago)},function(e,t,n){"use strict";var r,i=n(24);!function(e){e[e.Edit=0]="Edit",e[e.Command=1]="Command",e[e.SecondCommandKey=2]="SecondCommandKey"}(r||(r={}));var a=13,o=27,s=65,l=66,c=83,u=73,d=89,p=77,h=68,m=function(){function e(e){var t=this;this.handleKeyDown=function(e){t.mode===r.Edit?t.handleEditModeKeyDown(e):t.mode===r.Command?t.handleCommandModeKeyDown(e):t.handleSecondCommandKey(e)},this.handleEditModeKeyDown=function(e){e.keyCode==o&&(e.preventDefault(),e.stopPropagation(),t.setMode(r.Command))},this.fireActionAndReturnToEditMode=function(e,n){void 0===n&&(n=null),e.preventDefault(),e.stopPropagation(),n&&n(),t.setMode(r.Edit)},this.waitForSecondCommandKey=function(e,n){e.preventDefault(),e.stopPropagation(),t.previousCommandKeyCode=n,t.setMode(r.SecondCommandKey,!1)},this.handleSecondCommandKey=function(e){if(e.keyCode===t.previousCommandKeyCode)switch(e.keyCode){case h:t.fireActionAndReturnToEditMode(e,t.props.onDeleteCell);break;default:t.fireActionAndReturnToEditMode(e)}else t.fireActionAndReturnToEditMode(e)},this.handleCommandModeKeyDown=function(e){switch(console.log(e),e.keyCode){case a:t.fireActionAndReturnToEditMode(e);break;case s:t.fireActionAndReturnToEditMode(e,t.props.onInsertCellAbove);break;case l:t.fireActionAndReturnToEditMode(e,t.props.onInsertCellBelow);break;case c:t.fireActionAndReturnToEditMode(e,t.props.onSave);break;case u:t.fireActionAndReturnToEditMode(e,t.props.onCancelExecution);break;case d:t.fireActionAndReturnToEditMode(e,t.props.onMakeCodeCell);break;case p:t.fireActionAndReturnToEditMode(e,t.props.onMakeMarkdownCell);break;case h:t.waitForSecondCommandKey(e,h)}},this.props=i.clone(e),this.setMode(r.Edit,!1)}return e.prototype.setMode=function(e,t){void 0===t&&(t=!0),this.mode=e,e===r.Edit?t&&this.props.onChangedToEditMode():t&&this.props.onChangedToCommandMode()},e}();t.NotebookKeyboardShortcutter=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(148),a=n(51),o=n(43),s=n(13),l=n(50),c=n(73),u=(n(24),function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e="fa fa-circle",t={},n=i.KernelStatus[this.props.status].replace(/([a-z])([A-Z])/g,"$1 $2");switch(this.props.status){case i.KernelStatus.Initializing:case i.KernelStatus.Queued:case i.KernelStatus.Requested:break;case i.KernelStatus.Starting:t={color:"#FF8C00"};break;case i.KernelStatus.Running:t={color:"#1DBB9A"};break;case i.KernelStatus.DownloadingData:t={color:"#B3B3B3"};break;case i.KernelStatus.LostHeartbeat:n="Reconnecting";case i.KernelStatus.Reconnecting:t={color:"#FFCC00"};break;case i.KernelStatus.Error:e="fa fa-times-circle",t={color:"#C92C2C"};break;case i.KernelStatus.Stopped:e="fa fa-square",t={color:"#C0C0C0"};break;case i.KernelStatus.RenderingHtml:e="fa fa-refresh fa-spin",t={color:"#B3B3B3"};break;default:e="fa fa-square",t={color:"#2F9C0A"}}return React.createElement("div",{className:"pageheader__notebook-header-item"},React.createElement("div",{className:"notebook-editor__kernel-status"},React.createElement("span",{className:e,style:t}),React.createElement("span",{className:"notebook-editor__kernel-status-description",style:t},n)))},t}(React.Component));t.NotebookKernelStatusIndicator=u;var d=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},t.prototype.render=function(){return React.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.isActive?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.isActive?this.props.clickAction:null},React.createElement("span",{className:"fa fa-"+this.props.faClass,title:this.props.tooltip}))},t}(React.Component),p=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},t.prototype.render=function(){var e,t=this,n=null!==this.props.activeCellUuid&&""!==this.props.activeCellUuid,r=null!==this.props.busyCellUuid&&""!==this.props.busyCellUuid,p=n&&this.props.activeCellType===i.NotebookCellType.Code,h=!this.props.readOnly&&r,m=this.props.canExecuteActiveCell&&!this.props.readOnly&&n&&p&&!h,f=h?"Cancel current execution":m?"Execute cell":"Select a code cell to execute",g=h?function(){return t.props.onCancel(t.props.busyCellUuid)}:m?function(){return t.props.onExecute(t.props.activeCellUuid)}:null,v=null;return this.props.isEditingTitle?e=React.createElement(o.InlineTextEditor,{className:"pageheader__notebook-header-title--input",value:this.props.title,placeholder:"Enter a title for your notebook",onGainFocusCallback:this.props.onTitleEditorGainFocus,onLoseFocusCallback:this.props.onTitleEditorLoseFocus,onChangeCallback:this.props.onTitleChanged}):(e=this.props.title,v=this.props.onTitleEditingStateChanged),React.createElement(a.PageHeader,null,React.createElement(a.PageHeaderTopRow,{title:e,subtitle:null,titleUrl:null,isEditingHeaderInfo:this.props.isEditingTitle,modifier:"notebook",nodeId:"pageheader__top--notebook",onTitleClick:v}),React.createElement(a.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},React.createElement("div",{className:"pageheader__nav pageheader__nav--notebook"},React.createElement(u,{status:this.props.kernelStatus}),React.createElement("div",{className:"pageheader__notebook-header-restart-button"},React.createElement(l.ButtonRoundEdged,{onClick:this.props.onRestartKernel},"Restart")),React.createElement("div",{className:"pageheader__notebook-header-button-group"},React.createElement(d,{faClass:h?"stop":"play",isActive:m||h,tooltip:f,clickAction:g}),React.createElement(d,{faClass:"forward",isActive:!this.props.readOnly&&this.props.canExecuteAll,tooltip:"Execute all cells",clickAction:this.props.onExecuteAll})),React.createElement("div",{className:"pageheader__notebook-header-button-group"},React.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.readOnly?" pageheader__notebook-header-button--disabled":"")},React.createElement("label",{htmlFor:"ipynb-file-upload"},React.createElement("span",{className:"fa fa-cloud-upload",title:"Upload ipynb file (beta)"})),React.createElement("input",{id:"ipynb-file-upload",type:"file",style:{display:"none"},onChange:this.props.onUploadIpynb})),React.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.canDownloadIpynb?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.onDownloadIpynb},React.createElement("span",{className:"fa fa-cloud-download",title:"Download ipynb file"}))),React.createElement("div",{className:"pageheader__notebook-language-select"},React.createElement(s.SelectBox,{options:this.props.availableLanguageChoices,className:"pageheader__notebook-language-select-box",onChange:this.props.onLanguageChanged,searchable:!1,value:this.props.kernelLanguageDropdownValue})),""===this.props.kernelInfoLine?null:React.createElement("div",{className:"pageheader__notebook-header-button--extraspace"},this.props.kernelInfoLine),React.createElement("div",{className:"pageheader__notebook-privacy-select pageheader__notebook-privacy-select--"+(this.props.isPrivate?"private":"public")},React.createElement(c.PrivacyToggle,{kernelType:"Notebook",displayMode:"SelectBox",isPrivate:this.props.isPrivate,scriptId:this.props.scriptId})),React.createElement("div",{className:"pageheader__notebook-save-message"},this.props.canSave?"…":this.props.lastSavedTime?"Saved":"")),React.createElement("a",{onClick:this.props.canRenderHtml?this.props.onRenderHtml:function(){return t.props.onRenderHtmlRequestError(t.props.renderHtmlToolTipText)},className:"pageheader__calltoaction pageheader__calltoaction--notebook"+(this.props.canRenderHtml?"":"-disabled")},React.createElement("span",{title:this.props.renderHtmlToolTipText},this.props.kernelStatus===i.KernelStatus.RenderingHtml?"Rendering…":"Publish"))))},t}(React.Component);
t.NotebookHeader=p},function(e,t,n){"use strict";function r(e){if(0==e.length)return[];var t=JSON.parse(e);return t.cells?t.cells.map(function(e){return e.source=o(e.source),e}):[]}function i(e,t){return void 0===t&&(t=[]),e.reduce(w,t)}function a(e,t){var n=t.map(function(e){return e.metadata._cell_guid}).indexOf(e);if(-1===n)throw"Invalid uuid: "+e;return n}function o(e){return e?e instanceof Array?e.map(function(e){return e.replace(/\n$/,"")}).join("\n"):e:null}function s(e,t,n){return{metadata:{_cell_guid:e,_active:!1,collapsed:!1},source:o(t),execution_count:null,cell_type:n===C.NotebookCellType.Markdown?"markdown":"code",outputs:[]}}function l(e,t){var n=a(e,t),r=n>0?t.slice(0,n):[],i=t.slice(n+1);return r.concat(i)}function c(e,t,n,r,i,a){var o="markdown"===i?C.NotebookCellType.Markdown:C.NotebookCellType.Code;return n?u(e,t,n,o,a):r?d(e,t,r,o,a):p(e,t,o,a)}function u(e,t,n,r,i){var o=a(n,i),l=i.slice(0,o),c=i.slice(o),u=s(e,t,r);return l.concat(u).concat(c)}function d(e,t,n,r,i){var o=a(n,i),l=i.slice(0,o+1),c=i.slice(o+1),u=s(e,t,r);return l.concat(u).concat(c)}function p(e,t,n,r){var i=s(e,t,n);return r.concat(i)}function h(e,t,n,r,i,s,l,c){var u=a(e,c);return c[u].source=null==t?c[u].source:o(t),c[u].metadata.collapsed=null==n?c[u].metadata.collapsed:n,c[u].cell_type=r||c[u].cell_type,c[u].execution_state=i||c[u].execution_state,c[u].execution_count=s||c[u].execution_count,l?c[u].outputs=v(l,[]):"busy"===i&&(c[u].outputs=[]),c}function m(e,t,n,r){var i=a(e,r);return r[i].source instanceof Array?(T.Current.warn("Cell source array in "+e),r[i].source.push(t)):r[i].source+=o(t)||"",n&&n.length>0&&(r[i].outputs=v(n,r[i].outputs)),r}function f(e,t){return t.forEach(function(t){return t.metadata._active=t.metadata._cell_guid===e}),t}function g(e,t){return t.forEach(function(e){return e.metadata._active=!1}),t}function v(e,t){return e.reduce(y,t)}function b(e,t){if(e&&e.length>0&&e[e.length-1].name===t.name){var n=e[e.length-1].text[e[e.length-1].text.length-1];e[e.length-1].text+=("\n"===n?"":"\n")+t.text}else e.push(t);return e}function y(e,t){return"stream"===t.output_type?b(e,t):e.concat(t)}function w(e,t){if(!t)return e;switch(t._type){case C.DeleteCellEditEventType:return l(t._cell_guid,e);case C.InsertCellEditEventType:return c(t._cell_guid,t.source||"",t._above_cell_guid,t._below_cell_guid,t.cell_type,e);case C.UpdateCellEditEventType:return h(t._cell_guid,t.source,t.collapsed,t.cell_type,t.execution_state,t.execution_count,t.outputs,e);case C.AppendCellEditEventType:return m(t._cell_guid,t.source,t.outputs,e);case C.ActivateCellEditEventType:return f(t._cell_guid,e);case C.DeactivateCellEditEventType:return g(t._cell_guid,e);case C.CellExecutionRequestType:return h(t._cell_guid,null,null,null,"busy",null,null,e);default:return e}}function k(e,t){return{metadata:t,nbformat:4,nbformat_minor:0,cells:e}}function E(e,t){var n=e.slice();return n.forEach(function(e){e.execution_count=null,e.outputs=[],e.execution_state="idle"}),k(n,t)}var _=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},x=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},C=n(148),S=n(155),T=n(6),R=(n(24),function(e){function t(t){var n=this;e.call(this,t),this.getCellContents=function(e){var t=a(e,n.state.cells);return n.state.cells[t].source},this.state={cells:i(this.props.editHistory,r(this.props.startingStateIpynb)),nextEditToApply:this.props.editHistory.length},this.props.registerGetIpynb(function(){return k(n.state.cells,n.props.kernelMetadata)}),this.props.registerGetIpynbWithNoOutputs(function(){return E(n.state.cells,n.props.kernelMetadata)}),this.props.registerGetCellContents(function(e){return n.getCellContents(e)})}return _(t,e),t.prototype.componentWillMount=function(){this.checkActiveAndBusyCells(this.state.cells),this.props.onUpdateNumberOfCells(this.state.cells.length)},t.prototype.checkActiveAndBusyCells=function(e){this.updateActiveCellProperties(e),this.updateBusyCellProperties(e),this.props.onUpdateFirstCellIsMarkdown(0===e.length||"markdown"===e[0].cell_type),this.props.onUpdateFirstCellUuid(0===e.length?null:e[0].metadata._cell_guid)},t.prototype.updateActiveCellProperties=function(e){var t=e.filter(function(e){return e.metadata._active});0===t.length?this.props.onChangeActiveCell(null,null,null):this.props.onChangeActiveCell(t[0].metadata._cell_guid,t[0].metadata.collapsed,"markdown"===t[0].cell_type?C.NotebookCellType.Markdown:C.NotebookCellType.Code)},t.prototype.updateBusyCellProperties=function(e){var t=e.filter(function(e){return e.execution_state&&"busy"===e.execution_state});0===t.length?this.props.onChangeBusyCell(null):this.props.onChangeBusyCell(t[0].metadata._cell_guid)},t.prototype.componentWillReceiveProps=function(e){var t=this,n=e.startingStateIpynb!==this.props.startingStateIpynb,a=e.editHistory.length!==this.props.editHistory.length||e.editHistory.length>0&&e.editHistory.length>this.state.nextEditToApply;if(n||a){var o;if(n?(o=r(e.startingStateIpynb),T.Current.log("New cells from startingStateIpynb:"),T.Current.log(o)):o=this.state.cells.map(function(e){return S.copyCell(e)}),a&&e.editHistory.length){var s=this.state.nextEditToApply;T.Current.log("New edits from "+this.state.nextEditToApply+":"),T.Current.log(e.editHistory.slice(s)),o=i(e.editHistory.slice(s),o)}this.setState({cells:o,nextEditToApply:e.editHistory.length}),this.checkActiveAndBusyCells(o),this.state.cells.length!==o.length&&this.props.onUpdateNumberOfCells(o.length),this.props.kernelMetadata!==e.kernelMetadata&&(e.registerGetIpynb(function(){return k(t.state.cells,e.kernelMetadata)}),e.registerGetIpynbWithNoOutputs(function(){return E(t.state.cells,e.kernelMetadata)}))}},t.prototype.shouldComponentUpdate=function(e,t){return this.state.nextEditToApply!==t.nextEditToApply||e.startingStateIpynb!==this.props.startingStateIpynb||this.props.isReadOnly!==e.isReadOnly||this.props.canExecute!==e.canExecute||this.props.isInCommandMode!==e.isInCommandMode},t.prototype.cellCanMoveDown=function(e){return e!==this.state.cells[this.state.cells.length-1].metadata._cell_guid},t.prototype.onCellMoveDown=function(e){var t=a(e,this.state.cells);this.props.onActivateCell(this.state.cells[t+1].metadata._cell_guid)},t.prototype.cellCanMoveUp=function(e){return e!==this.state.cells[0].metadata._cell_guid},t.prototype.onCellMoveUp=function(e){var t=a(e,this.state.cells);this.props.onActivateCell(this.state.cells[t-1].metadata._cell_guid)},t.prototype.onCellAppendOrMoveDown=function(e){this.props.canExecute&&(this.cellCanMoveDown(e)?this.onCellMoveDown(e):this.props.onAppendActivatedCell())},t.prototype.render=function(){var e=this,t=this.state.cells;return this.props.isReadOnly&&(t=this.state.cells.map(function(e){return S.copyCell(e)}),t.forEach(function(e){return e.metadata._active=!1})),React.createElement("div",{className:"notebook-editor__cells-container"},t.map(function(t,n){return React.createElement(S.NotebookCell,x({key:"notebook-cell-"+t.metadata._cell_guid,readOnly:e.props.isReadOnly?"nocursor":!1,isInCommandMode:e.props.isInCommandMode,languageName:e.props.kernelLanguageName,onChangeCellType:function(n){return e.props.onChangeCellType(t.metadata._cell_guid,n)},canExecute:e.props.canExecute,onExecute:function(){return e.props.onExecuteCell(t.metadata._cell_guid)},onAutocomplete:e.props.onAutocomplete,onContentsChange:function(n){return e.props.onNewCellContents(t.metadata._cell_guid,n,"markdown"===t.cell_type?C.NotebookCellType.Markdown:C.NotebookCellType.Code)},canMoveDown:function(){return e.cellCanMoveDown(t.metadata._cell_guid)},canMoveUp:function(){return e.cellCanMoveUp(t.metadata._cell_guid)},onMoveDown:function(){return e.onCellMoveDown(t.metadata._cell_guid)},onMoveUp:function(){return e.onCellMoveUp(t.metadata._cell_guid)},onMouseUp:t.metadata._active?null:function(){console.log(e),e.props.onActivateCell(t.metadata._cell_guid)},appendNewOrMoveDown:function(){return e.onCellAppendOrMoveDown(t.metadata._cell_guid)},onUncollapse:function(){return e.props.onChangeCollapsed(t.metadata._cell_guid,!1)},onDeactivate:function(){return e.props.onDeactivateCell(t.metadata._cell_guid)},onDelete:function(){return e.props.onDeleteCell(t.metadata._cell_guid)},onCollapse:function(){return e.props.onChangeCollapsed(t.metadata._cell_guid,!0)},onAddAbove:function(){return e.props.onAddAbove(t.metadata._cell_guid)},onAddBelow:function(){return e.props.onAddBelow(t.metadata._cell_guid)}},t))}))},t}(React.Component));t.NotebookCellsContainer=R},function(e,t,n){"use strict";function r(e){return JSON.parse(JSON.stringify(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(148),o=n(156),s=n(61),l=n(137),c=n(33),u=n(6),d=n(24),p=n(163);t.copyCell=r;var h=function(e){function t(){var t=this;e.apply(this,arguments),this.isCodeCell=function(){return"code"===t.props.cell_type},this.isBusy=function(){return t.props.execution_state&&"busy"===t.props.execution_state}}return i(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=e;return this.props.isInCommandMode!==n.isInCommandMode?!0:(this.props.metadata._active&&n.metadata._active&&(t=d.omit(this.props,"source"),n=d.omit(e,"source")),JSON.stringify(t)!==JSON.stringify(n))},t.prototype.renderToolbar=function(e){var t=this;if(!e)return null;var n=null;"code"===this.props.cell_type&&this.props.canExecute&&(n=React.createElement("div",{className:"notebook-editor__cell-toolbar-button",style:{padding:0,marginLeft:"15px",marginRight:"7px",marginTop:"2px"},onClick:this.props.onExecute},React.createElement(c.ToolTip,{tipText:"Execute cell"},React.createElement("span",{className:"fa fa-play"}))));var r=null;return React.createElement("div",{className:"notebook-editor__cell-toolbar"},React.createElement("div",{className:"notebook-editor__cell-type-toggle-group"},React.createElement("div",{className:"notebook-editor__cell-type-toggle-group-inner"},React.createElement("div",{onClick:function(){return t.props.onChangeCellType(a.NotebookCellType.Markdown)},className:"notebook-editor__cell-type-toggle"+("markdown"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},"Markdown"),React.createElement("div",{onClick:function(){return t.props.onChangeCellType(a.NotebookCellType.Code)},className:"notebook-editor__cell-type-toggle"+("code"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},this.props.languageName)),n),React.createElement("div",{className:"notebook-editor__cell-toolbar-lhs"},React.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},r,React.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddAbove},React.createElement(c.ToolTip,{tipText:"Add cell above"},React.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},React.createElement("span",{className:"fa fa-plus"}),React.createElement("span",{className:"fa fa-caret-up"})))),React.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddBelow},React.createElement(c.ToolTip,{tipText:"Add cell below"},React.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},React.createElement("span",{className:"fa fa-plus"}),React.createElement("span",{className:"fa fa-caret-down"}))))),React.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},React.createElement("div",{className:"notebook-editor__cell-toolbar-button notebook-editor__cell-toolbar-button--red",onClick:this.props.onDelete},React.createElement(c.ToolTip,{tipText:"Delete cell"},React.createElement("span",{className:"fa fa-trash"}))))))},t.prototype.renderCellOutputChunk=function(e,t){switch(e.output_type){case"execute_result":case"display_data":var n=null,r=null;if("image/png"in e.data)r=React.createElement("img",{src:"data:image/png;base64,"+e.data["image/png"],key:t+"-img"});else if("text/html"in e.data){var i={__html:p.sanitizeHTML(e.data["text/html"])};n=React.createElement("div",{className:"notebook-editor__html-output",key:t+"-html",dangerouslySetInnerHTML:i})}else"text/plain"in e.data&&(n=React.createElement("div",{className:"notebook-editor__cell-output",key:t+"-text"},e.data["text/plain"]));return React.createElement("div",{key:t},n,r);case"stream":return"stderr"===e.name?React.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:t+"-stderr"},e.text):React.createElement("div",{className:"notebook-editor__cell-output",key:t+"-stdout"},e.text);case"error":var a=null,o=null;return"ename"in e&&"evalue"in e?a=React.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:t+"-desc"},React.createElement("span",null,e.ename+": "+e.evalue)):console.warn("Missing ename/evalue in error event"),"traceback"in e&&(o=React.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:t+"-trace"},React.createElement("span",null,e.traceback.join("\n")))),React.createElement("div",{key:t+"-err"},a,o);default:return console.warn("Unknown output_type in cell "+this.props.metadata._cell_guid),null}},t.prototype.renderCellOutput=function(){var e=this;return this.isCodeCell()&&this.props.outputs&&0!==this.props.outputs.length?React.createElement("div",{className:"notebook-editor__cell-output-section"},React.createElement("div",{className:"notebook-editor__cell-number-container"},React.createElement("div",{className:"notebook-editor__cell-number-out"},"Out["+this.props.execution_count+"]:")),this.props.outputs.map(function(t,n){return e.renderCellOutputChunk(t,e.props.metadata._cell_guid+"-"+n.toString())})):null},t.prototype.componentWillUpdate=function(){this.mainDiv?this.lastMainDivTop=this.mainDiv.getBoundingClientRect().top:this.lastMainDivTop=null},t.prototype.componentDidUpdate=function(e){!e.metadata._active&&this.props.metadata._active&&this.mainDiv&&this.lastMainDivTop&&window.scrollBy(0,this.mainDiv.getBoundingClientRect().top-this.lastMainDivTop)},t.prototype.render=function(){var e=this,t=null,n="",r=null;if(this.isCodeCell()){var i=" ";this.isBusy()?i="*":null!==this.props.execution_count&&(i=this.props.execution_count?this.props.execution_count.toString():" "),r=this.props.metadata.collapsed?React.createElement("div",{className:"notebook-editor__cell-number-in notebook-editor__cell-number-in--collapsed"},"["+i+"]"):React.createElement("div",{className:"notebook-editor__cell-number-in"},"In["+i+"]:"),r=React.createElement("div",{className:"notebook-editor__cell-number-container"},r)}if(this.props.metadata.collapsed){var a=void 0;return a=this.props.source instanceof Array?this.props.source.length:this.props.source.split(/\r\n|\r|\n/).length,React.createElement("div",{className:"notebook-editor__cell notebook-editor__cell--collapsed"},r,React.createElement("div",{className:"notebook-editor__cell-expand-div"},React.createElement("div",{className:"notebook-editor__cell-action-text",onClick:this.props.onUncollapse},this.isCodeCell()?React.createElement("span",{className:"fa fa-code"}):React.createElement("span",{className:"fa fa-align-left"}),"Expand",a>0?React.createElement("span",{className:"notebook-editor__cell-expand-lines"},a," ",a>1?React.createElement("span",null,"lines"):React.createElement("span",null,"line")):null)))}var c;if(c=this.props.source?this.props.source instanceof Array?0===this.props.source.length?"":this.props.source.some(function(e){return e.indexOf("\n")>-1})?this.props.source.join(""):this.props.source.join("\n"):this.props.source:"",this.isCodeCell()){var d={mode:this.props.languageName.toLowerCase(),scrollbarStyle:"native",indentUnit:4,indentWithTabs:!1,autoCloseBrackets:!0,readOnly:this.props.readOnly,theme:"kaggle"};n="code",t=React.createElement(o.CodeMirrorEditor,{value:this.props.metadata._active?null:c,defaultValue:c,onChange:this.props.onContentsChange,hasFocus:this.props.metadata._active,onMouseUp:this.props.readOnly?null:this.props.onMouseUp,options:d,getAutocomplete:this.props.onAutocomplete,canMoveUp:this.props.canMoveUp,canMoveDown:this.props.canMoveDown,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,onCtrlEnter:function(){e.isBusy()||e.props.onExecute()},onShiftEnter:function(){e.isBusy()||(e.props.onExecute(),e.props.appendNewOrMoveDown())}})}else{n="markdown";var p=this.props.metadata._active||""===c.trim();t=React.createElement("div",null,React.createElement("div",{style:p?{display:"inherit",animationName:"notebook-markdown-editor",animationDuration:"0.5s"}:{display:"none"}},React.createElement(s.MarkdownEditor,{shouldSanitizeHtml:!0,onChangeCallback:function(){},onChangeImmediate:this.props.onContentsChange,defaultValue:c,hidePreview:!0,alwaysShowToolbar:!0,hasFocus:this.props.metadata._active,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,suffix:this.props.metadata._cell_guid,onKeyPress:function(t){t.shiftKey&&13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.appendNewOrMoveDown())}})),p?null:React.createElement(l.MarkdownConverter,{content:c}))}var h="";this.props.metadata._active&&(h=" notebook-editor__cell--active",this.props.isInCommandMode&&(h+=" notebook-editor__cell--command"));var m=this.renderToolbar(this.props.metadata._active);return u.Current.log("Cell "+this.props.metadata._cell_guid+" rendered at "+(new Date).getTime()),React.createElement("div",{className:"notebook-editor__cell-plus-toolbar"},m,React.createElement("div",{className:"notebook-editor__cell notebook-editor__cell--"+n+h,onMouseUp:this.props.onMouseUp},r,React.createElement("div",{className:"notebook-editor__cell-inner notebook-editor__cell-inner--"+n,ref:function(t){return e.mainDiv=t}},t),this.renderCellOutput()))},t}(React.Component);t.NotebookCell=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(6),a=n(4),o=n(157);n(158),n(159),n(160),n(161),n(162);var s=(n(24),function(e){function t(){var t=this;e.apply(this,arguments),this.getAutocompleteHints=function(e,n){i.Current.log("Beginning autocomplete.");var r=t.codeMirror.getDoc(),a=r.getCursor();o.Pos(a.line,a.ch);t.props.getAutocomplete(r.getValue(),r.indexFromPos(a),function(e,t,i){var a=r.posFromIndex(t),o=r.posFromIndex(i);n({list:e,from:a,to:o})})},this.shouldFireAutocomplete=function(){var e=t.codeMirror.getDoc(),n=e.getCursor();if(!n.ch)return!1;var r=e.getValue(),i=e.indexFromPos(n),a=e.indexFromPos({line:n.line,ch:0}),o=r.slice(a,i);return/\S/.test(o)?!0:!1},this.handleAutocomplete=function(){var e=t.codeMirror.getDoc();if(!t.props.getAutocomplete||!t.shouldFireAutocomplete()){if(e.somethingSelected())t.codeMirror.execCommand("indentMore");else{var n=Array(t.codeMirror.getOption("indentUnit")+1).join(" ");e.replaceRange(n,e.getCursor(),null)}return void(t.props.onChange&&t.props.onChange(e.getValue()))}var r=t.getAutocompleteHints;r.async=!0,t.codeMirror.showHint({hint:r})},this.focusChanged=function(e){t.setState({isFocused:e}),t.props.onFocusChange&&t.props.onFocusChange(e)},this.codeMirrorValueChanged=function(e,n){var r=e.getValue();t.currentCodeMirrorValue=r,n.origin&&"setValue"!==n.origin&&t.props.onChange&&t.props.onChange(r)}}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.codeMirror=o.fromTextArea(this.textarea,this.props.options),this.codeMirror.on("change",this.codeMirrorValueChanged),this.props.onFocusChange&&(this.codeMirror.on("focus",function(){e.props.onFocusChange(!0)}),this.codeMirror.on("blur",function(){e.props.onFocusChange(!1)})),this.codeMirror.on("blur",function(){setTimeout(function(){e.codeMirror.getDoc().setSelection({line:0,ch:0},{line:0,ch:0})})}),this.props.onMouseUp&&this.codeMirror.on("mosueup",this.props.onMouseUp),this.currentCodeMirrorValue=this.props.defaultValue||this.props.value||"",this.codeMirror.setValue(this.currentCodeMirrorValue),this.codeMirror.setOption("extraKeys",{Tab:this.handleAutocomplete,"Ctrl-Space":this.handleAutocomplete,"Shift-Tab":"indentLess",Up:function(){return 0===e.codeMirror.getDoc().getCursor().line&&e.props.canMoveUp()?void e.props.onMoveUp():o.Pass},Down:function(){var t=e.codeMirror.getDoc();return t.getCursor().line===t.lineCount()-1&&e.props.canMoveDown()?void e.props.onMoveDown():o.Pass},"Shift-Enter":this.props.onShiftEnter,"Alt-Enter":this.props.onShiftEnter,"Ctrl-Enter":this.props.onCtrlEnter,"Cmd-Enter":this.props.onCtrlEnter}),this.props.hasFocus&&window.setTimeout(function(){return e.codeMirror.focus()})},t.prototype.componentWillUnmount=function(){this.codeMirror&&this.codeMirror.toTextArea()},t.prototype.componentWillReceiveProps=function(e){var t=this;if(this.codeMirror&&e.hasFocus&&!this.codeMirror.hasFocus()&&window.setTimeout(function(){t.codeMirror.refresh(),t.codeMirror.focus()},0),this.codeMirror&&e.value&&this.currentCodeMirrorValue!==e.value&&this.codeMirror.setValue(e.value),"object"==typeof e.options)for(var n in e.options)e.options.hasOwnProperty(n)&&this.codeMirror.setOption(n,e.options[n])},t.prototype.focus=function(){this.codeMirror&&this.codeMirror.focus()},t.prototype.render=function(){var e=this,t=a("code-mirror-editor",this.props.className);return React.createElement("div",{className:t},React.createElement("textarea",{ref:function(t){e.textarea=t},defaultValue:this.props.value,autoComplete:"off"}))},t}(React.Component));t.CodeMirrorEditor=s},function(e,t,n){!function(t){e.exports=t()}(function(){"use strict";function e(n,r){if(!(this instanceof e))return new e(n,r);this.options=r=r?Pi(r):{},Pi(Qa,r,!1),h(r);var i=r.value;"string"==typeof i&&(i=new xo(i,r.mode,null,r.lineSeparator)),this.doc=i;var a=new e.inputStyles[r.inputStyle](this),o=this.display=new t(n,i,a);o.wrapper.CodeMirror=this,c(this),s(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!Ra&&o.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ni,keySeq:null,specialChars:null};var l=this;ba&&11>ya&&setTimeout(function(){l.display.input.reset(!0)},20),$t(this),Yi(),wt(this),this.curOp.forceUpdate=!0,Xr(this,i),r.autofocus&&!Ra||l.hasFocus()?setTimeout(Bi(vn,this),20):bn(this);for(var u in eo)eo.hasOwnProperty(u)&&eo[u](this,r[u],to);E(this),r.finishInit&&r.finishInit(this);for(var d=0;d<ao.length;++d)ao[d](this);Et(this),wa&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function t(e,t,n){var r=this;this.input=n,r.scrollbarFiller=$i("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=$i("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=$i("div",null,"CodeMirror-code"),r.selectionDiv=$i("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=$i("div",null,"CodeMirror-cursors"),r.measure=$i("div",null,"CodeMirror-measure"),r.lineMeasure=$i("div",null,"CodeMirror-measure"),r.lineSpace=$i("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=$i("div",[$i("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=$i("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=$i("div",null,null,"position: absolute; height: "+Oo+"px; width: 1px;"),r.gutters=$i("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=$i("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=$i("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),ba&&8>ya&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),wa||fa&&Ra||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,je(e,100),e.state.modeGen++,e.curOp&&Ot(e)}function i(e){e.options.lineWrapping?(Jo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Zo(e.display.wrapper,"CodeMirror-wrap"),p(e)),o(e),Ot(e),st(e),setTimeout(function(){b(e)},100)}function a(e){var t=bt(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/yt(e.display)-3);return function(i){if(Er(e.doc,i))return 0;var a=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(a+=i.widgets[o].height);return n?a+(Math.ceil(i.text.length/r)||1)*t:a+t}}function o(e){var t=e.doc,n=a(e);t.iter(function(e){var t=n(e);t!=e.height&&ei(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),st(e)}function l(e){c(e),Ot(e),setTimeout(function(){k(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;Hi(t);for(var r=0;r<n.length;++r){var i=n[r],a=t.appendChild($i("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function d(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=fr(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=gr(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function p(e){var t=e.display,n=e.doc;t.maxLine=Zr(n,n.first),t.maxLineLength=d(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=d(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function h(e){var t=Li(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function m(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+We(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+qe(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function f(e,t,n){this.cm=n;var r=this.vert=$i("div",[$i("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=$i("div",[$i("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),No(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),No(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ba&&8>ya&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Zo(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),No(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?an(t,e):rn(t,e)},t),t.display.scrollbars.addClass&&Jo(t.display.wrapper,t.display.scrollbars.addClass)}function b(e,t){t||(t=m(e));var n=e.display.barWidth,r=e.display.barHeight;y(e,t);for(var i=0;4>i&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&F(e),y(e,m(e)),n=e.display.barWidth,r=e.display.barHeight}function y(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function w(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-He(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,a=ni(t,r),o=ni(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;a>s?(a=s,o=ni(t,ri(Zr(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(a=ni(t,ri(Zr(t,l))-e.wrapper.clientHeight),o=l)}return{from:a,to:Math.max(o,a+1)}}function k(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=x(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,a=r+"px",o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&n[o].gutter&&(n[o].gutter.style.left=a);var s=n[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function E(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=_(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild($i("div",[$i("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=i.firstChild.offsetWidth,o=i.offsetWidth-a;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(a,r.lineGutter.offsetWidth-o)+1,r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",u(e),!0}return!1}function _(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function x(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function C(e,t,n){var r=e.display;this.viewport=t,this.visible=w(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Ge(e),this.force=n,this.dims=L(e),this.events=[]}function S(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=qe(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=qe(e)+"px",t.scrollbarsClipped=!0)}function T(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Pt(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Ut(e))return!1;E(e)&&(Pt(e),t.dims=L(e));var i=r.first+r.size,a=Math.max(t.visible.from-e.options.viewportMargin,r.first),o=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<a&&a-n.viewFrom<20&&(a=Math.max(r.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(i,n.viewTo)),Ia&&(a=wr(e.doc,a),o=kr(e.doc,o));var s=a!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;
zt(e,a,o),n.viewOffset=ri(Zr(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Ut(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Vi();return l>4&&(n.lineDiv.style.display="none"),D(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&Vi()!=c&&c.offsetHeight&&c.focus(),Hi(n.cursorDiv),Hi(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,je(e,400)),n.updateLineNumbers=null,!0}function R(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Ge(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+We(e.display)-Ke(e),n.top)}),t.visible=w(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&T(e,t);r=!1){F(e);var i=m(e);De(e),b(e,i),N(e,i)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function A(e,t){var n=new C(e,t);if(T(e,n)){F(e),R(e,n);var r=m(e);De(e),b(e,r),N(e,r),n.finish()}}function N(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+qe(e)+"px"}function F(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,a=t.view[r];if(!a.hidden){if(ba&&8>ya){var o=a.node.offsetTop+a.node.offsetHeight;i=o-n,n=o}else{var s=a.node.getBoundingClientRect();i=s.bottom-s.top}var l=a.line.height-i;if(2>i&&(i=bt(t)),(l>.001||-.001>l)&&(ei(a.line,i),M(a.line),a.rest))for(var c=0;c<a.rest.length;c++)M(a.rest[c])}}}function M(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function L(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,a=t.gutters.firstChild,o=0;a;a=a.nextSibling,++o)n[e.options.gutters[o]]=a.offsetLeft+a.clientLeft+i,r[e.options.gutters[o]]=a.clientWidth;return{fixedPos:x(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function D(e,t,n){function r(t){var n=t.nextSibling;return wa&&Aa&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,a=e.options.lineNumbers,o=i.lineDiv,s=o.firstChild,l=i.view,c=i.viewFrom,u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;s!=d.node;)s=r(s);var p=a&&null!=t&&c>=t&&d.lineNumber;d.changes&&(Li(d.changes,"gutter")>-1&&(p=!1),O(e,d,c,n)),p&&(Hi(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(_(e.options,c)))),s=d.node.nextSibling}else{var h=H(e,d,c,n);o.insertBefore(h,s)}c+=d.size}for(;s;)s=r(s)}function O(e,t,n,r){for(var i=0;i<t.changes.length;i++){var a=t.changes[i];"text"==a?j(e,t):"gutter"==a?U(e,t,n,r):"class"==a?z(t):"widget"==a&&$(e,t,r)}t.changes=null}function I(e){return e.node==e.text&&(e.node=$i("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ba&&8>ya&&(e.node.style.zIndex=2)),e.node}function P(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=I(e);e.background=n.insertBefore($i("div",null,t),n.firstChild)}}function B(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Br(e,t)}function j(e,t){var n=t.text.className,r=B(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,z(t)):n&&(t.text.className=n)}function z(e){P(e),e.line.wrapClass?I(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function U(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=I(t);t.gutterBackground=$i("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var i=I(t),o=t.gutter=$i("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(o),i.insertBefore(o,t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild($i("div",_(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=a.hasOwnProperty(l)&&a[l];c&&o.appendChild($i("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function $(e,t,n){t.alignable&&(t.alignable=null);for(var r,i=t.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}W(e,t,n)}function H(e,t,n,r){var i=B(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),z(t),U(e,t,n,r),W(e,t,r),t.node}function W(e,t,n){if(V(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)V(e,t.rest[r],t,n,!1)}function V(e,t,n,r,i){if(t.widgets)for(var a=I(n),o=0,s=t.widgets;o<s.length;++o){var l=s[o],c=$i("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),q(l,c,n,r),e.display.input.setUneditable(c),i&&l.above?a.insertBefore(c,n.gutter||n.text):a.appendChild(c),xi(l,"redraw")}}function q(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function G(e){return Pa(e.line,e.ch)}function K(e,t){return Ba(e,t)<0?t:e}function Y(e,t){return Ba(e,t)<0?e:t}function X(e){e.state.focused||(e.display.input.focus(),vn(e))}function Z(e,t,n,r,i){var a=e.doc;e.display.shift=!1,r||(r=a.sel);var o=e.state.pasteIncoming||"paste"==i,s=a.splitLines(t),l=null;if(o&&r.ranges.length>1)if(ja&&ja.text.join("\n")==t){if(r.ranges.length%ja.text.length==0){l=[];for(var c=0;c<ja.text.length;c++)l.push(a.splitLines(ja.text[c]))}}else s.length==r.ranges.length&&(l=Di(s,function(e){return[e]}));for(var c=r.ranges.length-1;c>=0;c--){var u=r.ranges[c],d=u.from(),p=u.to();u.empty()&&(n&&n>0?d=Pa(d.line,d.ch-n):e.state.overwrite&&!o?p=Pa(p.line,Math.min(Zr(a,p.line).text.length,p.ch+Mi(s).length)):ja&&ja.lineWise&&ja.text.join("\n")==t&&(d=p=Pa(d.line,0)));var h=e.curOp.updateInput,m={from:d,to:p,text:l?l[c%l.length]:s,origin:i||(o?"paste":e.state.cutIncoming?"cut":"+input")};Sn(e.doc,m),xi(e,"inputRead",e,m)}t&&!o&&Q(e,t),Bn(e),e.curOp.updateInput=h,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function J(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),t.isReadOnly()||t.options.disableInput||At(t,function(){Z(t,n,0,null,"paste")}),!0):void 0}function Q(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var a=e.getModeAt(i.head),o=!1;if(a.electricChars){for(var s=0;s<a.electricChars.length;s++)if(t.indexOf(a.electricChars.charAt(s))>-1){o=zn(e,i.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(Zr(e.doc,i.head.line).text.slice(0,i.head.ch))&&(o=zn(e,i.head.line,"smart"));o&&xi(e,"electricInput",e,i.head.line)}}}function ee(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,a={anchor:Pa(i,0),head:Pa(i+1,0)};n.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:n}}function te(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ne(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ni,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function re(){var e=$i("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=$i("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return wa?e.style.width="1000px":e.setAttribute("wrap","off"),Ta&&(e.style.border="1px solid black"),te(e),t}function ie(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ni,this.gracePeriod=!1}function ae(e,t){var n=Qe(e,t.line);if(!n||n.hidden)return null;var r=Zr(e.doc,t.line),i=Xe(n,r,t.line),a=ii(r),o="left";if(a){var s=ca(a,t.ch);o=s%2?"right":"left"}var l=nt(i.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function oe(e,t){return t&&(e.bad=!0),e}function se(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return oe(e.clipPos(Pa(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var a=e.display.view[i];if(a.node==r)return le(a,t,n)}}function le(e,t,n){function r(t,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var a=0>i?c.map:u[i],o=0;o<a.length;o+=3){var s=a[o+2];if(s==t||s==n){var l=ti(0>i?e.line:e.rest[i]),d=a[o]+r;return(0>r||s!=t)&&(d=a[o+(r?1:0)]),Pa(l,d)}}}var i=e.text.firstChild,a=!1;if(!t||!Ko(i,t))return oe(Pa(ti(e.line),0),!0);if(t==i&&(a=!0,t=i.childNodes[n],n=0,!t)){var o=e.rest?Mi(e.rest):e.line;return oe(Pa(ti(o),o.text.length),a)}var s=3==t.nodeType?t:null,l=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var c=e.measure,u=c.maps,d=r(s,l,n);if(d)return oe(d,a);for(var p=l.nextSibling,h=s?s.nodeValue.length-n:0;p;p=p.nextSibling){if(d=r(p,p.firstChild,0))return oe(Pa(d.line,d.ch-h),a);h+=p.textContent.length}for(var m=l.previousSibling,h=n;m;m=m.previousSibling){if(d=r(m,m.firstChild,-1))return oe(Pa(d.line,d.ch+h),a);h+=p.textContent.length}}function ce(e,t,n,r,i){function a(e){return function(t){return t.id==e}}function o(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(s+=n);var u,d=t.getAttribute("cm-marker");if(d){var p=e.findMarks(Pa(r,0),Pa(i+1,0),a(+d));return void(p.length&&(u=p[0].find())&&(s+=Jr(e.doc,u.from,u.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;for(var h=0;h<t.childNodes.length;h++)o(t.childNodes[h]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var m=t.nodeValue;if(!m)return;l&&(s+=c,l=!1),s+=m}}for(var s="",l=!1,c=e.doc.lineSeparator();o(t),t!=n;)t=t.nextSibling;return s}function ue(e,t){this.ranges=e,this.primIndex=t}function de(e,t){this.anchor=e,this.head=t}function pe(e,t){var n=e[t];e.sort(function(e,t){return Ba(e.from(),t.from())}),t=Li(e,n);for(var r=1;r<e.length;r++){var i=e[r],a=e[r-1];if(Ba(a.to(),i.from())>=0){var o=Y(a.from(),i.from()),s=K(a.to(),i.to()),l=a.empty()?i.from()==i.head:a.from()==a.head;t>=r&&--t,e.splice(--r,2,new de(l?s:o,l?o:s))}}return new ue(e,t)}function he(e,t){return new ue([new de(e,t||e)],0)}function me(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function fe(e,t){if(t.line<e.first)return Pa(e.first,0);var n=e.first+e.size-1;return t.line>n?Pa(n,Zr(e,n).text.length):ge(t,Zr(e,t.line).text.length)}function ge(e,t){var n=e.ch;return null==n||n>t?Pa(e.line,t):0>n?Pa(e.line,0):e}function ve(e,t){return t>=e.first&&t<e.first+e.size}function be(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=fe(e,t[r]);return n}function ye(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var a=Ba(n,i)<0;a!=Ba(r,i)<0?(i=n,n=r):a!=Ba(n,r)<0&&(n=r)}return new de(i,n)}return new de(r||n,n)}function we(e,t,n,r){Se(e,new ue([ye(e,e.sel.primary(),t,n)],0),r)}function ke(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=ye(e,e.sel.ranges[i],t[i],null);var a=pe(r,e.sel.primIndex);Se(e,a,n)}function Ee(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Se(e,pe(i,e.sel.primIndex),r)}function _e(e,t,n,r){Se(e,he(t,n),r)}function xe(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new de(fe(e,t[n].anchor),fe(e,t[n].head))},origin:n&&n.origin};return Lo(e,"beforeSelectionChange",e,r),e.cm&&Lo(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?pe(r.ranges,r.ranges.length-1):t}function Ce(e,t,n){var r=e.history.done,i=Mi(r);i&&i.ranges?(r[r.length-1]=t,Te(e,t,n)):Se(e,t,n)}function Se(e,t,n){Te(e,t,n),di(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Te(e,t,n){(Ri(e,"beforeSelectionChange")||e.cm&&Ri(e.cm,"beforeSelectionChange"))&&(t=xe(e,t,n));var r=n&&n.bias||(Ba(t.primary().head,e.sel.primary().head)<0?-1:1);Re(e,Ne(e,t,r,!0)),n&&n.scroll===!1||!e.cm||Bn(e.cm)}function Re(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ti(e.cm)),xi(e,"cursorActivity",e))}function Ae(e){Re(e,Ne(e,e.sel,null,!1),Po)}function Ne(e,t,n,r){for(var i,a=0;a<t.ranges.length;a++){var o=t.ranges[a],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[a],l=Me(e,o.anchor,s&&s.anchor,n,r),c=Me(e,o.head,s&&s.head,n,r);(i||l!=o.anchor||c!=o.head)&&(i||(i=t.ranges.slice(0,a)),i[a]=new de(l,c))}return i?pe(i,t.primIndex):t}function Fe(e,t,n,r,i){var a=Zr(e,t.line);if(a.markedSpans)for(var o=0;o<a.markedSpans.length;++o){var s=a.markedSpans[o],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Lo(l,"beforeCursorEnter"),l.explicitlyCleared)){if(a.markedSpans){--o;continue}break}if(!l.atomic)continue;if(n){var c,u=l.find(0>r?1:-1);if((0>r?l.inclusiveRight:l.inclusiveLeft)&&(u=Le(e,u,-r,u&&u.line==t.line?a:null)),u&&u.line==t.line&&(c=Ba(u,n))&&(0>r?0>c:c>0))return Fe(e,u,t,r,i)}var d=l.find(0>r?-1:1);return(0>r?l.inclusiveLeft:l.inclusiveRight)&&(d=Le(e,d,r,d.line==t.line?a:null)),d?Fe(e,d,t,r,i):null}}return t}function Me(e,t,n,r,i){var a=r||1,o=Fe(e,t,n,a,i)||!i&&Fe(e,t,n,a,!0)||Fe(e,t,n,-a,i)||!i&&Fe(e,t,n,-a,!0);return o?o:(e.cantEdit=!0,Pa(e.first,0))}function Le(e,t,n,r){return 0>n&&0==t.ch?t.line>e.first?fe(e,Pa(t.line-1)):null:n>0&&t.ch==(r||Zr(e,t.line)).text.length?t.line<e.first+e.size-1?Pa(t.line+1,0):null:new Pa(t.line,t.ch+n)}function De(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Oe(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),a=r.selection=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++)if(t!==!1||o!=n.sel.primIndex){var s=n.sel.ranges[o];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Ie(e,s.head,i),l||Pe(e,s,a)}}return r}function Ie(e,t,n){var r=ht(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild($i("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var a=n.appendChild($i("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Pe(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild($i("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(r-t)+"px"))}function i(t,n,i){function a(n,r){return pt(e,Pa(t,n),"div",d,r)}var s,l,d=Zr(o,t),p=d.text.length;return ea(ii(d),n||0,null==i?p:i,function(e,t,o){var d,h,m,f=a(e,"left");if(e==t)d=f,h=m=f.left;else{if(d=a(t-1,"right"),"rtl"==o){var g=f;f=d,d=g}h=f.left,m=d.right}null==n&&0==e&&(h=c),d.top-f.top>3&&(r(h,f.top,null,f.bottom),h=c,f.bottom<d.top&&r(h,f.bottom,null,d.top)),null==i&&t==p&&(m=u),(!s||f.top<s.top||f.top==s.top&&f.left<s.left)&&(s=f),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),c+1>h&&(h=c),r(h,d.top,m-h,d.bottom)}),{start:s,end:l}}var a=e.display,o=e.doc,s=document.createDocumentFragment(),l=Ve(e.display),c=l.left,u=Math.max(a.sizerWidth,Ge(e)-a.sizer.offsetLeft)-l.right,d=t.from(),p=t.to();if(d.line==p.line)i(d.line,d.ch,p.ch);else{var h=Zr(o,d.line),m=Zr(o,p.line),f=br(h)==br(m),g=i(d.line,d.ch,f?h.text.length+1:null).end,v=i(p.line,f?0:null,p.ch).start;f&&(g.top<v.top-2?(r(g.right,g.top,null,g.bottom),r(c,v.top,v.left,v.bottom)):r(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&r(c,g.bottom,null,v.top)}n.appendChild(s)}function Be(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function je(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Bi(ze,e))}function ze(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=so(t.mode,$e(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(a){if(t.frontier>=e.display.viewFrom){var o=a.styles,s=a.text.length>e.options.maxHighlightLength,l=Dr(e,a,s?so(t.mode,r):r,!0);a.styles=l.styles;var c=a.styleClasses,u=l.classes;u?a.styleClasses=u:c&&(a.styleClasses=null);for(var d=!o||o.length!=a.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),p=0;!d&&p<o.length;++p)d=o[p]!=a.styles[p];d&&i.push(t.frontier),a.stateAfter=s?r:so(t.mode,r)}else a.text.length<=e.options.maxHighlightLength&&Ir(e,a.text,r),a.stateAfter=t.frontier%5==0?so(t.mode,r):null;return++t.frontier,+new Date>n?(je(e,e.options.workDelay),!0):void 0}),i.length&&At(e,function(){for(var t=0;t<i.length;t++)It(e,i[t],"text")})}}function Ue(e,t,n){for(var r,i,a=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>o;--s){if(s<=a.first)return a.first;var l=Zr(a,s-1);if(l.stateAfter&&(!n||s<=a.frontier))return s;var c=zo(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function $e(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var a=Ue(e,t,n),o=a>r.first&&Zr(r,a-1).stateAfter;return o=o?so(r.mode,o):lo(r.mode),r.iter(a,t,function(n){Ir(e,n.text,o);var s=a==t-1||a%5==0||a>=i.viewFrom&&a<i.viewTo;n.stateAfter=s?so(r.mode,o):null,++a}),n&&(r.frontier=a),o}function He(e){return e.lineSpace.offsetTop}function We(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ve(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Wi(e.measure,$i("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function qe(e){return Oo-e.display.nativeBarWidth}function Ge(e){return e.display.scroller.clientWidth-qe(e)-e.display.barWidth}function Ke(e){return e.display.scroller.clientHeight-qe(e)-e.display.barHeight}function Ye(e,t,n){var r=e.options.lineWrapping,i=r&&Ge(e);if(!t.measure.heights||r&&t.measure.width!=i){var a=t.measure.heights=[];if(r){t.measure.width=i;for(var o=t.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],c=o[s+1];Math.abs(l.bottom-c.bottom)>2&&a.push((l.bottom+c.top)/2-n.top)}}a.push(n.bottom-n.top)}}function Xe(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(ti(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Ze(e,t){t=br(t);var n=ti(t),r=e.display.externalMeasured=new Lt(e.doc,t,n);r.lineN=n;var i=r.built=Br(e,r);return r.text=i.pre,Wi(e.display.lineMeasure,i.pre),r}function Je(e,t,n,r){return tt(e,et(e,t),n,r)}function Qe(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Bt(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function et(e,t){var n=ti(t),r=Qe(e,n);r&&!r.text?r=null:r&&r.changes&&(O(e,r,n,L(e)),e.curOp.forceUpdate=!0),r||(r=Ze(e,t));var i=Xe(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function tt(e,t,n,r,i){t.before&&(n=-1);var a,o=n+(r||"");return t.cache.hasOwnProperty(o)?a=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ye(e,t.view,t.rect),t.hasHeights=!0),a=rt(e,t,n,r),a.bogus||(t.cache[o]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}function nt(e,t,n){for(var r,i,a,o,s=0;s<e.length;s+=3){var l=e[s],c=e[s+1];if(l>t?(i=0,a=1,o="left"):c>t?(i=t-l,a=i+1):(s==e.length-3||t==c&&e[s+3]>t)&&(a=c-l,i=a-1,t>=c&&(o="right")),null!=i){if(r=e[s+2],l==c&&n==(r.insertLeft?"left":"right")&&(o=n),"left"==n&&0==i)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)r=e[(s-=3)+2],o="left";if("right"==n&&i==c-l)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)r=e[(s+=3)+2],o="right";break}}return{node:r,start:i,end:a,collapse:o,coverStart:l,coverEnd:c}}function rt(e,t,n,r){var i,a=nt(t.map,n,r),o=a.node,s=a.start,l=a.end,c=a.collapse;if(3==o.nodeType){for(var u=0;4>u;u++){for(;s&&Ui(t.line.text.charAt(a.coverStart+s));)--s;for(;a.coverStart+l<a.coverEnd&&Ui(t.line.text.charAt(a.coverStart+l));)++l;if(ba&&9>ya&&0==s&&l==a.coverEnd-a.coverStart)i=o.parentNode.getBoundingClientRect();else if(ba&&e.options.lineWrapping){var d=Wo(o,s,l).getClientRects();i=d.length?d["right"==r?d.length-1:0]:Ha}else i=Wo(o,s,l).getBoundingClientRect()||Ha;if(i.left||i.right||0==s)break;l=s,s-=1,c="right"}ba&&11>ya&&(i=it(e.display.measure,i))}else{s>0&&(c=r="right");var d;i=e.options.lineWrapping&&(d=o.getClientRects()).length>1?d["right"==r?d.length-1:0]:o.getBoundingClientRect()}if(ba&&9>ya&&!s&&(!i||!i.left&&!i.right)){var p=o.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+yt(e.display),top:p.top,bottom:p.bottom}:Ha}for(var h=i.top-t.rect.top,m=i.bottom-t.rect.top,f=(h+m)/2,g=t.view.measure.heights,u=0;u<g.length-1&&!(f<g[u]);u++);var v=u?g[u-1]:0,b=g[u],y={left:("right"==c?i.right:i.left)-t.rect.left,right:("left"==c?i.left:i.right)-t.rect.left,top:v,bottom:b};return i.left||i.right||(y.bogus=!0),e.options.singleCursorHeightPerLine||(y.rtop=h,y.rbottom=m),y}function it(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Qi(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function at(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ot(e){e.display.externalMeasure=null,Hi(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)at(e.display.view[t])}function st(e){ot(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function lt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ct(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ut(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var a=Cr(t.widgets[i]);n.top+=a,n.bottom+=a}if("line"==r)return n;r||(r="local");var o=ri(t);if("local"==r?o+=He(e.display):o-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+("window"==r?0:ct());var l=s.left+("window"==r?0:lt());n.left+=l,n.right+=l}return n.top+=o,n.bottom+=o,n}function dt(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=lt(),i-=ct();else if("local"==n||!n){var a=e.display.sizer.getBoundingClientRect();r+=a.left,i+=a.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:r-o.left,top:i-o.top}}function pt(e,t,n,r,i){return r||(r=Zr(e.doc,t.line)),ut(e,r,Je(e,r,t.ch,i),n)}function ht(e,t,n,r,i,a){function o(t,o){var s=tt(e,i,t,o?"right":"left",a);return o?s.left=s.right:s.right=s.left,ut(e,r,s,n)}function s(e,t){var n=l[t],r=n.level%2;return e==ta(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=na(n)-(n.level%2?0:1),r=!0):e==na(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=ta(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?o(e-1):o(e,r)}r=r||Zr(e.doc,t.line),i||(i=et(e,r));var l=ii(r),c=t.ch;if(!l)return o(c);var u=ca(l,c),d=s(c,u);return null!=os&&(d.other=s(c,os)),d}function mt(e,t){var n=0,t=fe(e.doc,t);e.options.lineWrapping||(n=yt(e.display)*t.ch);var r=Zr(e.doc,t.line),i=ri(r)+He(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function ft(e,t,n,r){var i=Pa(e,t);return i.xRel=r,n&&(i.outside=!0),i}function gt(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,0>n)return ft(r.first,0,!0,-1);var i=ni(r,n),a=r.first+r.size-1;if(i>a)return ft(r.first+r.size-1,Zr(r,a).text.length,!0,1);0>t&&(t=0);for(var o=Zr(r,i);;){var s=vt(e,o,i,t,n),l=gr(o),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;i=ti(o=c.to.line)}}function vt(e,t,n,r,i){function a(r){var i=ht(e,Pa(n,r),"line",t,c);return s=!0,o>i.bottom?i.left-l:o<i.top?i.left+l:(s=!1,i.left)}var o=i-ri(t),s=!1,l=2*e.display.wrapper.clientWidth,c=et(e,t),u=ii(t),d=t.text.length,p=ra(t),h=ia(t),m=a(p),f=s,g=a(h),v=s;if(r>g)return ft(n,h,v,1);for(;;){if(u?h==p||h==da(t,p,1):1>=h-p){var b=m>r||g-r>=r-m?p:h,y=b==p?f:v,w=r-(b==p?m:g);if(v&&!u&&!/\s/.test(t.text.charAt(b))&&w>0&&b<t.text.length&&c.view.measure.heights.length>1){var k=tt(e,c,b,"right");o<=k.bottom&&o>=k.top&&Math.abs(r-k.right)<w&&(y=!1,b++,w=r-k.right)}for(;Ui(t.text.charAt(b));)++b;var E=ft(n,b,y,-1>w?-1:w>1?1:0);return E}var _=Math.ceil(d/2),x=p+_;if(u){x=p;for(var C=0;_>C;++C)x=da(t,x,1)}var S=a(x);S>r?(h=x,g=S,(v=s)&&(g+=1e3),d=_):(p=x,m=S,f=s,d-=_)}}function bt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==za){za=$i("pre");for(var t=0;49>t;++t)za.appendChild(document.createTextNode("x")),za.appendChild($i("br"));za.appendChild(document.createTextNode("x"))}Wi(e.measure,za);var n=za.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Hi(e.measure),n||1}function yt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=$i("span","xxxxxxxxxx"),n=$i("pre",[t]);Wi(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function wt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Va},Wa?Wa.ops.push(e.curOp):e.curOp.ownsGroup=Wa={ops:[e.curOp],delayedCallbacks:[]}}function kt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Et(e){var t=e.curOp,n=t.ownsGroup;if(n)try{kt(n)}finally{Wa=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;_t(n)}}function _t(e){for(var t=e.ops,n=0;n<t.length;n++)xt(t[n]);for(var n=0;n<t.length;n++)Ct(t[n]);for(var n=0;n<t.length;n++)St(t[n]);for(var n=0;n<t.length;n++)Tt(t[n]);for(var n=0;n<t.length;n++)Rt(t[n])}function xt(e){var t=e.cm,n=t.display;S(t),e.updateMaxLine&&p(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new C(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ct(e){e.updatedDisplay=e.mustUpdate&&T(e.cm,e.update)}function St(e){var t=e.cm,n=t.display;e.updatedDisplay&&F(t),e.barMeasure=m(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Je(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+qe(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ge(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function Tt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&an(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==Vi()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&b(t,e.barMeasure),e.updatedDisplay&&N(t,e.barMeasure),e.selectionChanged&&Be(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&X(e.cm)}function Rt(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&R(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,k(t)),e.scrollToPos){var i=Dn(t,fe(r,e.scrollToPos.from),fe(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Ln(t,i)}var a=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(a)for(var s=0;s<a.length;++s)a[s].lines.length||Lo(a[s],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&Lo(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Lo(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function At(e,t){if(e.curOp)return t();wt(e);try{return t()}finally{Et(e)}}function Nt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);wt(e);try{return t.apply(e,arguments)}finally{Et(e)}}}function Ft(e){return function(){if(this.curOp)return e.apply(this,arguments);wt(this);try{return e.apply(this,arguments)}finally{Et(this)}}}function Mt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);wt(t);try{return e.apply(this,arguments)}finally{Et(t)}}}function Lt(e,t,n){this.line=t,this.rest=yr(t),this.size=this.rest?ti(Mi(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Er(e,t)}function Dt(e,t,n){for(var r,i=[],a=t;n>a;a=r){var o=new Lt(e.doc,Zr(e.doc,a),a);r=a+o.size,i.push(o)}return i}function Ot(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ia&&wr(e.doc,t)<i.viewTo&&Pt(e);else if(n<=i.viewFrom)Ia&&kr(e.doc,n+r)>i.viewFrom?Pt(e):(i.viewFrom+=r,
i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Pt(e);else if(t<=i.viewFrom){var a=jt(e,n,n+r,1);a?(i.view=i.view.slice(a.index),i.viewFrom=a.lineN,i.viewTo+=r):Pt(e)}else if(n>=i.viewTo){var a=jt(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Pt(e)}else{var o=jt(e,t,t,-1),s=jt(e,n,n+r,1);o&&s?(i.view=i.view.slice(0,o.index).concat(Dt(e,o.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):Pt(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function It(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var a=r.view[Bt(e,t)];if(null!=a.node){var o=a.changes||(a.changes=[]);-1==Li(o,n)&&o.push(n)}}}function Pt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Bt(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,0>t)return r}function jt(e,t,n,r){var i,a=Bt(e,t),o=e.display.view;if(!Ia||n==e.doc.first+e.doc.size)return{index:a,lineN:n};for(var s=0,l=e.display.viewFrom;a>s;s++)l+=o[s].size;if(l!=t){if(r>0){if(a==o.length-1)return null;i=l+o[a].size-t,a++}else i=l-t;t+=i,n+=i}for(;wr(e.doc,n)!=n;){if(a==(0>r?0:o.length-1))return null;n+=r*o[a-(0>r?1:0)].size,a+=r}return{index:a,lineN:n}}function zt(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Dt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Dt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Bt(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Dt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Bt(e,n)))),r.viewTo=n}function Ut(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function $t(e){function t(){i.activeTouch&&(a=setTimeout(function(){i.activeTouch=null},1e3),o=i.activeTouch,o.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;No(i.scroller,"mousedown",Nt(e,Gt)),ba&&11>ya?No(i.scroller,"dblclick",Nt(e,function(t){if(!Si(e,t)){var n=qt(e,t);if(n&&!Jt(e,t)&&!Vt(e.display,t)){To(t);var r=e.findWordAt(n);we(e.doc,r.anchor,r.head)}}})):No(i.scroller,"dblclick",function(t){Si(e,t)||To(t)}),Da||No(i.scroller,"contextmenu",function(t){yn(e,t)});var a,o={end:0};No(i.scroller,"touchstart",function(t){if(!Si(e,t)&&!n(t)){clearTimeout(a);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-o.end<=300?o:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),No(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),No(i.scroller,"touchend",function(n){var a=i.activeTouch;if(a&&!Vt(i,n)&&null!=a.left&&!a.moved&&new Date-a.start<300){var o,s=e.coordsChar(i.activeTouch,"page");o=!a.prev||r(a,a.prev)?new de(s,s):!a.prev.prev||r(a,a.prev.prev)?e.findWordAt(s):new de(Pa(s.line,0),fe(e.doc,Pa(s.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),To(n)}t()}),No(i.scroller,"touchcancel",t),No(i.scroller,"scroll",function(){i.scroller.clientHeight&&(rn(e,i.scroller.scrollTop),an(e,i.scroller.scrollLeft,!0),Lo(e,"scroll",e))}),No(i.scroller,"mousewheel",function(t){on(e,t)}),No(i.scroller,"DOMMouseScroll",function(t){on(e,t)}),No(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Si(e,t)||Ao(t)},over:function(t){Si(e,t)||(tn(e,t),Ao(t))},start:function(t){en(e,t)},drop:Nt(e,Qt),leave:function(t){Si(e,t)||nn(e)}};var s=i.input.getField();No(s,"keyup",function(t){mn.call(e,t)}),No(s,"keydown",Nt(e,pn)),No(s,"keypress",Nt(e,fn)),No(s,"focus",Bi(vn,e)),No(s,"blur",Bi(bn,e))}function Ht(t,n,r){var i=r&&r!=e.Init;if(!n!=!i){var a=t.display.dragFunctions,o=n?No:Mo;o(t.display.scroller,"dragstart",a.start),o(t.display.scroller,"dragenter",a.enter),o(t.display.scroller,"dragover",a.over),o(t.display.scroller,"dragleave",a.leave),o(t.display.scroller,"drop",a.drop)}}function Wt(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Vt(e,t){for(var n=ki(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function qt(e,t,n,r){var i=e.display;if(!n&&"true"==ki(t).getAttribute("cm-not-content"))return null;var a,o,s=i.lineSpace.getBoundingClientRect();try{a=t.clientX-s.left,o=t.clientY-s.top}catch(t){return null}var l,c=gt(e,a,o);if(r&&1==c.xRel&&(l=Zr(e.doc,c.line).text).length==c.ch){var u=zo(l,l.length,e.options.tabSize)-l.length;c=Pa(c.line,Math.max(0,Math.round((a-Ve(e.display).left)/yt(e.display))-u))}return c}function Gt(e){var t=this,n=t.display;if(!(Si(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=e.shiftKey,Vt(n,e))return void(wa||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Jt(t,e)){var r=qt(t,e);switch(window.focus(),Ei(e)){case 1:t.state.selectingText?t.state.selectingText(e):r?Kt(t,e,r):ki(e)==n.scroller&&To(e);break;case 2:wa&&(t.state.lastMiddleDown=+new Date),r&&we(t.doc,r),setTimeout(function(){n.input.focus()},20),To(e);break;case 3:Da?yn(t,e):gn(t)}}}}function Kt(e,t,n){ba?setTimeout(Bi(X,e),0):e.curOp.focus=Vi();var r,i=+new Date;$a&&$a.time>i-400&&0==Ba($a.pos,n)?r="triple":Ua&&Ua.time>i-400&&0==Ba(Ua.pos,n)?(r="double",$a={time:i,pos:n}):(r="single",Ua={time:i,pos:n});var a,o=e.doc.sel,s=Aa?t.metaKey:t.ctrlKey;e.options.dragDrop&&es&&!e.isReadOnly()&&"single"==r&&(a=o.contains(n))>-1&&(Ba((a=o.ranges[a]).from(),n)<0||n.xRel>0)&&(Ba(a.to(),n)>0||n.xRel<0)?Yt(e,t,n,s):Xt(e,t,n,r,s)}function Yt(e,t,n,r){var i=e.display,a=+new Date,o=Nt(e,function(s){wa&&(i.scroller.draggable=!1),e.state.draggingText=!1,Mo(document,"mouseup",o),Mo(i.scroller,"drop",o),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(To(s),!r&&+new Date-200<a&&we(e.doc,n),wa||ba&&9==ya?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});wa&&(i.scroller.draggable=!0),e.state.draggingText=o,o.copy=Aa?t.altKey:t.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),No(document,"mouseup",o),No(i.scroller,"drop",o)}function Xt(e,t,n,r,i){function a(t){if(0!=Ba(g,t))if(g=t,"rect"==r){for(var i=[],a=e.options.tabSize,o=zo(Zr(c,n.line).text,n.ch,a),s=zo(Zr(c,t.line).text,t.ch,a),l=Math.min(o,s),h=Math.max(o,s),m=Math.min(n.line,t.line),f=Math.min(e.lastLine(),Math.max(n.line,t.line));f>=m;m++){var v=Zr(c,m).text,b=Uo(v,l,a);l==h?i.push(new de(Pa(m,b),Pa(m,b))):v.length>b&&i.push(new de(Pa(m,b),Pa(m,Uo(v,h,a))))}i.length||i.push(new de(n,n)),Se(c,pe(p.ranges.slice(0,d).concat(i),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y=u,w=y.anchor,k=t;if("single"!=r){if("double"==r)var E=e.findWordAt(t);else var E=new de(Pa(t.line,0),fe(c,Pa(t.line+1,0)));Ba(E.anchor,w)>0?(k=E.head,w=Y(y.from(),E.anchor)):(k=E.anchor,w=K(y.to(),E.head))}var i=p.ranges.slice(0);i[d]=new de(fe(c,w),k),Se(c,pe(i,d),Bo)}}function o(t){var n=++b,i=qt(e,t,!0,"rect"==r);if(i)if(0!=Ba(i,g)){e.curOp.focus=Vi(),a(i);var s=w(l,c);(i.line>=s.to||i.line<s.from)&&setTimeout(Nt(e,function(){b==n&&o(t)}),150)}else{var u=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;u&&setTimeout(Nt(e,function(){b==n&&(l.scroller.scrollTop+=u,o(t))}),50)}}function s(t){e.state.selectingText=!1,b=1/0,To(t),l.input.focus(),Mo(document,"mousemove",y),Mo(document,"mouseup",k),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;To(t);var u,d,p=c.sel,h=p.ranges;if(i&&!t.shiftKey?(d=c.sel.contains(n),u=d>-1?h[d]:new de(n,n)):(u=c.sel.primary(),d=c.sel.primIndex),Na?t.shiftKey&&t.metaKey:t.altKey)r="rect",i||(u=new de(n,n)),n=qt(e,t,!0,!0),d=-1;else if("double"==r){var m=e.findWordAt(n);u=e.display.shift||c.extend?ye(c,u,m.anchor,m.head):m}else if("triple"==r){var f=new de(Pa(n.line,0),fe(c,Pa(n.line+1,0)));u=e.display.shift||c.extend?ye(c,u,f.anchor,f.head):f}else u=ye(c,u,n);i?-1==d?(d=h.length,Se(c,pe(h.concat([u]),d),{scroll:!1,origin:"*mouse"})):h.length>1&&h[d].empty()&&"single"==r&&!t.shiftKey?(Se(c,pe(h.slice(0,d).concat(h.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),p=c.sel):Ee(c,d,u,Bo):(d=0,Se(c,new ue([u],0),Bo),p=c.sel);var g=n,v=l.wrapper.getBoundingClientRect(),b=0,y=Nt(e,function(e){Ei(e)?o(e):s(e)}),k=Nt(e,s);e.state.selectingText=k,No(document,"mousemove",y),No(document,"mouseup",k)}function Zt(e,t,n,r){try{var i=t.clientX,a=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&To(t);var o=e.display,s=o.lineDiv.getBoundingClientRect();if(a>s.bottom||!Ri(e,n))return wi(t);a-=s.top-o.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=o.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i){var u=ni(e.doc,a),d=e.options.gutters[l];return Lo(e,n,e,u,d,t),wi(t)}}}function Jt(e,t){return Zt(e,t,"gutterClick",!0)}function Qt(e){var t=this;if(nn(t),!Si(t,e)&&!Vt(t.display,e)){To(e),ba&&(qa=+new Date);var n=qt(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,a=Array(i),o=0,s=function(e,r){if(!t.options.allowDropFileTypes||-1!=Li(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=Nt(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),a[r]=e,++o==i){n=fe(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(a.join(t.doc.lineSeparator())),origin:"paste"};Sn(t.doc,l),Ce(t.doc,he(n,Ja(l)))}}),s.readAsText(e)}},l=0;i>l;++l)s(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var a=e.dataTransfer.getData("Text");if(a){if(t.state.draggingText&&!t.state.draggingText.copy)var c=t.listSelections();if(Te(t.doc,he(n,n)),c)for(var l=0;l<c.length;++l)Mn(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(a,"around","paste"),t.display.input.focus()}}catch(e){}}}}function en(e,t){if(ba&&(!e.state.draggingText||+new Date-qa<100))return void Ao(t);if(!Si(e,t)&&!Vt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!xa)){var n=$i("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_a&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),_a&&n.parentNode.removeChild(n)}}function tn(e,t){var n=qt(e,t);if(n){var r=document.createDocumentFragment();Ie(e,n,r),e.display.dragCursor||(e.display.dragCursor=$i("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Wi(e.display.dragCursor,r)}}function nn(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function rn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,fa||A(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),fa&&A(e),je(e,100))}function an(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,k(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function on(e,t){var n=Ya(t),r=n.x,i=n.y,a=e.display,o=a.scroller,s=o.scrollWidth>o.clientWidth,l=o.scrollHeight>o.clientHeight;if(r&&s||i&&l){if(i&&Aa&&wa)e:for(var c=t.target,u=a.view;c!=o;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(r&&!fa&&!_a&&null!=Ka)return i&&l&&rn(e,Math.max(0,Math.min(o.scrollTop+i*Ka,o.scrollHeight-o.clientHeight))),an(e,Math.max(0,Math.min(o.scrollLeft+r*Ka,o.scrollWidth-o.clientWidth))),(!i||i&&l)&&To(t),void(a.wheelStartX=null);if(i&&null!=Ka){var p=i*Ka,h=e.doc.scrollTop,m=h+a.wrapper.clientHeight;0>p?h=Math.max(0,h+p-50):m=Math.min(e.doc.height,m+p+50),A(e,{top:h,bottom:m})}20>Ga&&(null==a.wheelStartX?(a.wheelStartX=o.scrollLeft,a.wheelStartY=o.scrollTop,a.wheelDX=r,a.wheelDY=i,setTimeout(function(){if(null!=a.wheelStartX){var e=o.scrollLeft-a.wheelStartX,t=o.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(Ka=(Ka*Ga+n)/(Ga+1),++Ga)}},200)):(a.wheelDX+=r,a.wheelDY+=i))}}function sn(e,t,n){if("string"==typeof t&&(t=co[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Io}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function ln(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=po(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&po(t,e.options.extraKeys,n,e)||po(t,e.options.keyMap,n,e)}function cn(e,t,n,r){var i=e.state.keySeq;if(i){if(ho(t))return"handled";Xa.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var a=ln(e,t,r);return"multi"==a&&(e.state.keySeq=t),"handled"==a&&xi(e,"keyHandled",e,t,n),("handled"==a||"multi"==a)&&(To(n),Be(e)),i&&!a&&/\'$/.test(t)?(To(n),!0):!!a}function un(e,t){var n=mo(t,!0);return n?t.shiftKey&&!e.state.keySeq?cn(e,"Shift-"+n,t,function(t){return sn(e,t,!0)})||cn(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?sn(e,t):void 0}):cn(e,n,t,function(t){return sn(e,t)}):!1}function dn(e,t,n){return cn(e,"'"+n+"'",t,function(t){return sn(e,t,!0)})}function pn(e){var t=this;if(t.curOp.focus=Vi(),!Si(t,e)){ba&&11>ya&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=un(t,e);_a&&(Za=r?n:null,!r&&88==n&&!rs&&(Aa?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||hn(t)}}function hn(e){function t(e){18!=e.keyCode&&e.altKey||(Zo(n,"CodeMirror-crosshair"),Mo(document,"keyup",t),Mo(document,"mouseover",t))}var n=e.display.lineDiv;Jo(n,"CodeMirror-crosshair"),No(document,"keyup",t),No(document,"mouseover",t)}function mn(e){16==e.keyCode&&(this.doc.sel.shift=!1),Si(this,e)}function fn(e){var t=this;if(!(Vt(t.display,e)||Si(t,e)||e.ctrlKey&&!e.altKey||Aa&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(_a&&n==Za)return Za=null,void To(e);if(!_a||e.which&&!(e.which<10)||!un(t,e)){var i=String.fromCharCode(null==r?n:r);dn(t,e,i)||t.display.input.onKeyPress(e)}}}function gn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,bn(e))},100)}function vn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Lo(e,"focus",e),e.state.focused=!0,Jo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),wa&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Be(e))}function bn(e){e.state.delayingBlurEvent||(e.state.focused&&(Lo(e,"blur",e),e.state.focused=!1,Zo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yn(e,t){Vt(e.display,t)||wn(e,t)||Si(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function wn(e,t){return Ri(e,"gutterContextMenu")?Zt(e,t,"gutterContextMenu",!1):!1}function kn(e,t){if(Ba(e,t.from)<0)return e;if(Ba(e,t.to)<=0)return Ja(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Ja(t).ch-t.to.ch),Pa(n,r)}function En(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new de(kn(i.anchor,t),kn(i.head,t)))}return pe(n,e.sel.primIndex)}function _n(e,t,n){return e.line==t.line?Pa(n.line,e.ch-t.ch+n.ch):Pa(n.line+(e.line-t.line),e.ch)}function xn(e,t,n){for(var r=[],i=Pa(e.first,0),a=i,o=0;o<t.length;o++){var s=t[o],l=_n(s.from,i,a),c=_n(Ja(s),i,a);if(i=s.to,a=c,"around"==n){var u=e.sel.ranges[o],d=Ba(u.head,u.anchor)<0;r[o]=new de(d?c:l,d?l:c)}else r[o]=new de(l,l)}return new ue(r,e.sel.primIndex)}function Cn(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=fe(e,t)),n&&(this.to=fe(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),Lo(e,"beforeChange",e,r),e.cm&&Lo(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Sn(e,t,n){if(e.cm){if(!e.cm.curOp)return Nt(e.cm,Sn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Ri(e,"beforeChange")||e.cm&&Ri(e.cm,"beforeChange"))||(t=Cn(e,t,!0))){var r=Oa&&!n&&lr(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Tn(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else Tn(e,t)}}function Tn(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Ba(t.from,t.to)){var n=En(e,t);ci(e,t,n,e.cm?e.cm.curOp.id:NaN),Nn(e,t,n,ar(e,t));var r=[];Yr(e,function(e,n){n||-1!=Li(r,e.history)||(yi(e.history,t),r.push(e.history)),Nn(e,t,null,ar(e,t))})}}function Rn(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,a=e.sel,o="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<o.length&&(r=o[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=o.length){for(i.lastOrigin=i.lastSelOrigin=null;r=o.pop(),r.ranges;){if(pi(r,s),n&&!r.equals(e.sel))return void Se(e,r,{clearRedo:!1});a=r}var c=[];pi(a,s),s.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var u=Ri(e,"beforeChange")||e.cm&&Ri(e.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var d=r.changes[l];if(d.origin=t,u&&!Cn(e,d,!1))return void(o.length=0);c.push(oi(e,d));var p=l?En(e,d):Mi(o);Nn(e,d,p,sr(e,d)),!l&&e.cm&&e.cm.scrollIntoView({from:d.from,to:Ja(d)});var h=[];Yr(e,function(e,t){t||-1!=Li(h,e.history)||(yi(e.history,d),h.push(e.history)),Nn(e,d,null,sr(e,d))})}}}}function An(e,t){if(0!=t&&(e.first+=t,e.sel=new ue(Di(e.sel.ranges,function(e){return new de(Pa(e.anchor.line+t,e.anchor.ch),Pa(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Ot(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)It(e.cm,r,"gutter")}}function Nn(e,t,n,r){if(e.cm&&!e.cm.curOp)return Nt(e.cm,Nn)(e,t,n,r);if(t.to.line<e.first)return void An(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);An(e,i),t={from:Pa(e.first,0),to:Pa(t.to.line+i,t.to.ch),text:[Mi(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:Pa(a,Zr(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Jr(e,t.from,t.to),n||(n=En(e,t)),e.cm?Fn(e.cm,t,r):qr(e,t,r),Te(e,n,Po)}}function Fn(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to,l=!1,c=o.line;e.options.lineWrapping||(c=ti(br(Zr(r,o.line))),r.iter(c,s.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&Ti(e),qr(r,t,n,a(e)),e.options.lineWrapping||(r.iter(c,o.line+t.text.length,function(e){var t=d(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,o.line),je(e,400);var u=t.text.length-(s.line-o.line)-1;t.full?Ot(e):o.line!=s.line||1!=t.text.length||Vr(e.doc,t)?Ot(e,o.line,s.line+1,u):It(e,o.line,"text");var p=Ri(e,"changes"),h=Ri(e,"change");if(h||p){var m={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};h&&xi(e,"change",e,m),p&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(m)}e.display.selForContextMenu=null}function Mn(e,t,n,r,i){if(r||(r=n),Ba(r,n)<0){var a=r;r=n,n=a}"string"==typeof t&&(t=e.splitLines(t)),Sn(e,{from:n,to:r,text:t,origin:i})}function Ln(e,t){if(!Si(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Sa){var a=$i("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-He(e.display))+"px; height: "+(t.bottom-t.top+qe(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}}function Dn(e,t,n,r){null==r&&(r=0);for(var i=0;5>i;i++){var a=!1,o=ht(e,t),s=n&&n!=t?ht(e,n):o,l=In(e,Math.min(o.left,s.left),Math.min(o.top,s.top)-r,Math.max(o.left,s.left),Math.max(o.bottom,s.bottom)+r),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(rn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(an(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(a=!0)),!a)break}return o}function On(e,t,n,r,i){var a=In(e,t,n,r,i);null!=a.scrollTop&&rn(e,a.scrollTop),null!=a.scrollLeft&&an(e,a.scrollLeft)}function In(e,t,n,r,i){var a=e.display,o=bt(e.display);0>n&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:a.scroller.scrollTop,l=Ke(e),c={};i-n>l&&(i=n+l);var u=e.doc.height+We(a),d=o>n,p=i>u-o;if(s>n)c.scrollTop=d?0:n;else if(i>s+l){var h=Math.min(n,(p?u:i)-l);h!=s&&(c.scrollTop=h)}var m=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:a.scroller.scrollLeft,f=Ge(e)-(e.options.fixedGutter?a.gutters.offsetWidth:0),g=r-t>f;return g&&(r=t+f),10>t?c.scrollLeft=0:m>t?c.scrollLeft=Math.max(0,t-(g?0:10)):r>f+m-3&&(c.scrollLeft=r+(g?0:10)-f),c}function Pn(e,t,n){(null!=t||null!=n)&&jn(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Bn(e){jn(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?Pa(t.line,t.ch-1):t,r=Pa(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function jn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=mt(e,t.from),r=mt(e,t.to),i=In(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function zn(e,t,n,r){var i,a=e.doc;null==n&&(n="add"),"smart"==n&&(a.mode.indent?i=$e(e,t):n="prev");var o=e.options.tabSize,s=Zr(a,t),l=zo(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(c=a.mode.indent(i,s.text.slice(u.length),s.text),c==Io||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>a.first?zo(Zr(a,t-1).text,null,o):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",p=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/o);h;--h)p+=o,d+="	";if(c>p&&(d+=Fi(c-p)),d!=u)return Mn(a,d,Pa(t,0),Pa(t,u.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<a.sel.ranges.length;h++){var m=a.sel.ranges[h];if(m.head.line==t&&m.head.ch<u.length){var p=Pa(t,u.length);Ee(a,h,new de(p,p));break}}}function Un(e,t,n,r){var i=t,a=t;return"number"==typeof t?a=Zr(e,me(e,t)):i=ti(t),null==i?null:(r(a,i)&&e.cm&&It(e.cm,i,n),a)}function $n(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var a=t(n[i]);r.length&&Ba(a.from,Mi(r).to)<=0;){var o=r.pop();if(Ba(o.from,a.from)<0){a.from=o.from;break}}r.push(a)}At(e,function(){for(var t=r.length-1;t>=0;t--)Mn(e.doc,"",r[t].from,r[t].to,"+delete");Bn(e)})}function Hn(e,t,n,r,i){function a(){var t=s+n;return t<e.first||t>=e.first+e.size?!1:(s=t,u=Zr(e,t))}function o(e){var t=(i?da:pa)(u,l,n,!0);if(null==t){if(e||!a())return!1;l=i?(0>n?ia:ra)(u):0>n?u.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,c=n,u=Zr(e,s);if("char"==r)o();else if("column"==r)o(!0);else if("word"==r||"group"==r)for(var d=null,p="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),m=!0;!(0>n)||o(!m);m=!1){var f=u.text.charAt(l)||"\n",g=ji(f,h)?"w":p&&"\n"==f?"n":!p||/\s/.test(f)?null:"p";if(!p||m||g||(g="s"),d&&d!=g){0>n&&(n=1,o());break}if(g&&(d=g),n>0&&!o(!m))break}var v=Me(e,Pa(s,l),t,c,!0);return Ba(t,v)||(v.hitSide=!0),v}function Wn(e,t,n,r){var i,a=e.doc,o=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(s-(0>n?1.5:.5)*bt(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var l=gt(e,o,i);if(!l.outside)break;if(0>n?0>=i:i>=a.height){l.hitSide=!0;break}i+=5*n}return l}function Vn(t,n,r,i){e.defaults[t]=n,r&&(eo[t]=i?function(e,t,n){n!=to&&r(e,t,n)}:r)}function qn(e){for(var t,n,r,i,a=e.split(/-(?!$)/),e=a[a.length-1],o=0;o<a.length-1;o++){var s=a[o];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Gn(e){return"string"==typeof e?uo[e]:e}function Kn(e,t,n,r,i){if(r&&r.shared)return Yn(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Nt(e.cm,Kn)(e,t,n,r,i);var a=new vo(e,i),o=Ba(t,n);if(r&&Pi(r,a,!1),o>0||0==o&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=$i("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(vr(e,t.line,t,n,a)||t.line!=n.line&&vr(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ia=!0}a.addToHistory&&ci(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&a.collapsed&&!c.options.lineWrapping&&br(e)==c.display.maxLine&&(s=!0),a.collapsed&&l!=t.line&&ei(e,0),nr(e,new Qn(a,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),a.collapsed&&e.iter(t.line,n.line+1,function(t){Er(e,t)&&ei(t,0)}),a.clearOnEnter&&No(a,"beforeCursorEnter",function(){a.clear()}),a.readOnly&&(Oa=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++go,a.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),a.collapsed)Ot(c,t.line,n.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var u=t.line;u<=n.line;u++)It(c,u,"text");a.atomic&&Ae(c.doc),xi(c,"markerAdded",c,a)}return a}function Yn(e,t,n,r,i){r=Pi(r),r.shared=!1;var a=[Kn(e,t,n,r,i)],o=a[0],s=r.widgetNode;return Yr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),a.push(Kn(e,fe(e,t),fe(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Mi(a)}),new bo(a,o)}function Xn(e){return e.findMarks(Pa(e.first,0),e.clipPos(Pa(e.lastLine())),function(e){return e.parent})}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),a=e.clipPos(i.from),o=e.clipPos(i.to);if(Ba(a,o)){var s=Kn(e,a,o,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Jn(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];Yr(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var a=n.markers[i];-1==Li(r,a.doc)&&(a.parent=null,n.markers.splice(i--,1))}}}function Qn(e,t,n){this.marker=e,this.from=t,this.to=n}function er(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function tr(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function nr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function rr(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);if(s||a.from==t&&"bookmark"==o.type&&(!n||!a.marker.insertLeft)){var l=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);(r||(r=[])).push(new Qn(o,a.from,l?null:a.to))}}return r}function ir(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);if(s||a.from==t&&"bookmark"==o.type&&(!n||a.marker.insertLeft)){var l=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);(r||(r=[])).push(new Qn(o,l?null:a.from-t,null==a.to?null:a.to-t))}}return r}function ar(e,t){if(t.full)return null;var n=ve(e,t.from.line)&&Zr(e,t.from.line).markedSpans,r=ve(e,t.to.line)&&Zr(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,a=t.to.ch,o=0==Ba(t.from,t.to),s=rr(n,i,o),l=ir(r,a,o),c=1==t.text.length,u=Mi(t.text).length+(c?i:0);if(s)for(var d=0;d<s.length;++d){var p=s[d];if(null==p.to){var h=er(l,p.marker);h?c&&(p.to=null==h.to?null:h.to+u):p.to=i}}if(l)for(var d=0;d<l.length;++d){var p=l[d];if(null!=p.to&&(p.to+=u),null==p.from){var h=er(s,p.marker);h||(p.from=u,c&&(s||(s=[])).push(p))}else p.from+=u,c&&(s||(s=[])).push(p)}s&&(s=or(s)),l&&l!=s&&(l=or(l));var m=[s];if(!c){var f,g=t.text.length-2;if(g>0&&s)for(var d=0;d<s.length;++d)null==s[d].to&&(f||(f=[])).push(new Qn(s[d].marker,null,null));for(var d=0;g>d;++d)m.push(f);m.push(l)}return m}function or(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function sr(e,t){var n=fi(e,t),r=ar(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var a=n[i],o=r[i];if(a&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],c=0;c<a.length;++c)if(a[c].marker==l.marker)continue e;a.push(l)}else o&&(n[i]=o)}return n}function lr(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=Li(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],a=0;a<r.length;++a)for(var o=r[a],s=o.find(0),l=0;l<i.length;++l){var c=i[l];if(!(Ba(c.to,s.from)<0||Ba(c.from,s.to)>0)){var u=[l,1],d=Ba(c.from,s.from),p=Ba(c.to,s.to);(0>d||!o.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(p>0||!o.inclusiveRight&&!p)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-1}}return i}function cr(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ur(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function dr(e){return e.inclusiveLeft?-1:0}function pr(e){return e.inclusiveRight?1:0}function hr(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),a=Ba(r.from,i.from)||dr(e)-dr(t);if(a)return-a;var o=Ba(r.to,i.to)||pr(e)-pr(t);return o?o:t.id-e.id}function mr(e,t){var n,r=Ia&&e.markedSpans;if(r)for(var i,a=0;a<r.length;++a)i=r[a],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||hr(n,i.marker)<0)&&(n=i.marker);return n}function fr(e){return mr(e,!0)}function gr(e){return mr(e,!1)}function vr(e,t,n,r,i){var a=Zr(e,t),o=Ia&&a.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var c=l.marker.find(0),u=Ba(c.from,n)||dr(l.marker)-dr(i),d=Ba(c.to,r)||pr(l.marker)-pr(i);if(!(u>=0&&0>=d||0>=u&&d>=0)&&(0>=u&&(l.marker.inclusiveRight&&i.inclusiveLeft?Ba(c.to,n)>=0:Ba(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?Ba(c.from,r)<=0:Ba(c.from,r)<0)))return!0}}}function br(e){for(var t;t=fr(e);)e=t.find(-1,!0).line;return e}function yr(e){for(var t,n;t=gr(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function wr(e,t){var n=Zr(e,t),r=br(n);return n==r?t:ti(r)}function kr(e,t){if(t>e.lastLine())return t;var n,r=Zr(e,t);if(!Er(e,r))return t;for(;n=gr(r);)r=n.find(1,!0).line;return ti(r)+1}function Er(e,t){var n=Ia&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&_r(e,t,r))return!0}}function _r(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return _r(e,r.line,er(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,a=0;a<t.markedSpans.length;++a)if(i=t.markedSpans[a],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&_r(e,t,i))return!0;
}function xr(e,t,n){ri(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Pn(e,null,n)}function Cr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ko(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Wi(t.display.measure,$i("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Sr(e,t,n,r){var i=new yo(e,n,r),a=e.cm;return a&&i.noHScroll&&(a.display.alignWidgets=!0),Un(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,a&&!Er(e,t)){var r=ri(t)<e.scrollTop;ei(t,t.height+Cr(i)),r&&Pn(a,null,i.height),a.curOp.forceUpdate=!0}return!0}),i}function Tr(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),cr(e),ur(e,n);var i=r?r(e):1;i!=e.height&&ei(e,i)}function Rr(e){e.parent=null,cr(e)}function Ar(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Nr(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Fr(t,n,r,i){for(var a=0;10>a;a++){i&&(i[0]=e.innerMode(t,r).mode);var o=t.token(n,r);if(n.pos>n.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function Mr(e,t,n,r){function i(e){return{start:d.start,end:d.pos,string:d.current(),type:a||null,state:e?so(o.mode,u):u}}var a,o=e.doc,s=o.mode;t=fe(o,t);var l,c=Zr(o,t.line),u=$e(e,t.line,n),d=new fo(c.text,e.options.tabSize);for(r&&(l=[]);(r||d.pos<t.ch)&&!d.eol();)d.start=d.pos,a=Fr(s,d,u),r&&l.push(i(!0));return r?l:i()}function Lr(e,t,n,r,i,a,o){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new fo(t,e.options.tabSize),p=e.options.addModeClass&&[null];for(""==t&&Ar(Nr(n,r),a);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,o&&Ir(e,t,r,d.pos),d.pos=t.length,l=null):l=Ar(Fr(n,d,r,p),a),p){var h=p[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||u!=l){for(;c<d.start;)c=Math.min(d.start,c+5e4),i(c,u);u=l}d.start=d.pos}for(;c<d.pos;){var m=Math.min(d.pos,c+5e4);i(m,u),c=m}}function Dr(e,t,n,r){var i=[e.state.modeGen],a={};Lr(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},a,r);for(var o=0;o<e.state.overlays.length;++o){var s=e.state.overlays[o],l=1,c=0;Lr(e,t.text,s.mode,!0,function(e,t){for(var n=l;e>c;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var a=i[n+1];i[n+1]=(a?a+" ":"")+"cm-overlay "+t}},a)}return{styles:i,classes:a.bgClass||a.textClass?a:null}}function Or(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=$e(e,ti(t)),i=Dr(e,t,t.text.length>e.options.maxHighlightLength?so(e.doc.mode,r):r);t.stateAfter=r,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Ir(e,t,n,r){var i=e.doc.mode,a=new fo(t,e.options.tabSize);for(a.start=a.pos=r||0,""==t&&Nr(i,n);!a.eol();)Fr(i,a,n),a.start=a.pos}function Pr(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Eo:ko;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Br(e,t){var n=$i("span",null,null,wa?"padding-right: .1px":null),r={pre:$i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(ba||wa)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a,o=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=zr,Ji(e.display.measure)&&(a=ii(o))&&(r.addToken=$r(r.addToken,a)),r.map=[];var s=t!=e.display.externalMeasured&&ti(o);Wr(o,r,Or(e,o,s)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=Gi(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=Gi(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Zi(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(wa){var l=r.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Lo(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Gi(r.pre.className,r.textClass||"")),r}function jr(e){var t=$i("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function zr(e,t,n,r,i,a,o){if(t){var s=e.splitSpaces?t.replace(/ {3,}/g,Ur):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var u=document.createDocumentFragment(),d=0;;){l.lastIndex=d;var p=l.exec(t),h=p?p.index-d:t.length-d;if(h){var m=document.createTextNode(s.slice(d,d+h));ba&&9>ya?u.appendChild($i("span",[m])):u.appendChild(m),e.map.push(e.pos,e.pos+h,m),e.col+=h,e.pos+=h}if(!p)break;if(d+=h+1,"	"==p[0]){var f=e.cm.options.tabSize,g=f-e.col%f,m=u.appendChild($i("span",Fi(g),"cm-tab"));m.setAttribute("role","presentation"),m.setAttribute("cm-text","	"),e.col+=g}else if("\r"==p[0]||"\n"==p[0]){var m=u.appendChild($i("span","\r"==p[0]?"␍":"␤","cm-invalidchar"));m.setAttribute("cm-text",p[0]),e.col+=1}else{var m=e.cm.options.specialCharPlaceholder(p[0]);m.setAttribute("cm-text",p[0]),ba&&9>ya?u.appendChild($i("span",[m])):u.appendChild(m),e.col+=1}e.map.push(e.pos,e.pos+1,m),e.pos++}else{e.col+=t.length;var u=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,u),ba&&9>ya&&(c=!0),e.pos+=t.length}if(n||r||i||c||o){var v=n||"";r&&(v+=r),i&&(v+=i);var b=$i("span",[u],v,o);return a&&(b.title=a),e.content.appendChild(b)}e.content.appendChild(u)}}function Ur(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" "}function $r(e,t){return function(n,r,i,a,o,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var d=0;d<t.length;d++){var p=t[d];if(p.to>c&&p.from<=c)break}if(p.to>=u)return e(n,r,i,a,o,s,l);e(n,r.slice(0,p.to-c),i,a,null,s,l),a=null,r=r.slice(p.to-c),c=p.to}}}function Hr(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function Wr(e,t,n){var r=e.markedSpans,i=e.text,a=0;if(r)for(var o,s,l,c,u,d,p,h=i.length,m=0,f=1,g="",v=0;;){if(v==m){l=c=u=d=s="",p=null,v=1/0;for(var b,y=[],w=0;w<r.length;++w){var k=r[w],E=k.marker;"bookmark"==E.type&&k.from==m&&E.widgetNode?y.push(E):k.from<=m&&(null==k.to||k.to>m||E.collapsed&&k.to==m&&k.from==m)?(null!=k.to&&k.to!=m&&v>k.to&&(v=k.to,c=""),E.className&&(l+=" "+E.className),E.css&&(s=(s?s+";":"")+E.css),E.startStyle&&k.from==m&&(u+=" "+E.startStyle),E.endStyle&&k.to==v&&(b||(b=[])).push(E.endStyle,k.to),E.title&&!d&&(d=E.title),E.collapsed&&(!p||hr(p.marker,E)<0)&&(p=k)):k.from>m&&v>k.from&&(v=k.from)}if(b)for(var w=0;w<b.length;w+=2)b[w+1]==v&&(c+=" "+b[w]);if(!p||p.from==m)for(var w=0;w<y.length;++w)Hr(t,0,y[w]);if(p&&(p.from||0)==m){if(Hr(t,(null==p.to?h+1:p.to)-m,p.marker,null==p.from),null==p.to)return;p.to==m&&(p=!1)}}if(m>=h)break;for(var _=Math.min(h,v);;){if(g){var x=m+g.length;if(!p){var C=x>_?g.slice(0,_-m):g;t.addToken(t,C,o?o+l:l,u,m+C.length==v?c:"",d,s)}if(x>=_){g=g.slice(_-m),m=_;break}m=x,u=""}g=i.slice(a,a=n[f++]),o=Pr(n[f++],t.cm.options)}}else for(var f=1;f<n.length;f+=2)t.addToken(t,i.slice(a,a=n[f]),Pr(n[f+1],t.cm.options))}function Vr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Mi(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function qr(e,t,n,r){function i(e){return n?n[e]:null}function a(e,n,i){Tr(e,n,i,r),xi(e,"change",e,t)}function o(e,t){for(var n=e,a=[];t>n;++n)a.push(new wo(c[n],i(n),r));return a}var s=t.from,l=t.to,c=t.text,u=Zr(e,s.line),d=Zr(e,l.line),p=Mi(c),h=i(c.length-1),m=l.line-s.line;if(t.full)e.insert(0,o(0,c.length)),e.remove(c.length,e.size-c.length);else if(Vr(e,t)){var f=o(0,c.length-1);a(d,d.text,h),m&&e.remove(s.line,m),f.length&&e.insert(s.line,f)}else if(u==d)if(1==c.length)a(u,u.text.slice(0,s.ch)+p+u.text.slice(l.ch),h);else{var f=o(1,c.length-1);f.push(new wo(p+u.text.slice(l.ch),h,r)),a(u,u.text.slice(0,s.ch)+c[0],i(0)),e.insert(s.line+1,f)}else if(1==c.length)a(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),i(0)),e.remove(s.line+1,m);else{a(u,u.text.slice(0,s.ch)+c[0],i(0)),a(d,p+d.text.slice(l.ch),h);var f=o(1,c.length-1);m>1&&e.remove(s.line+1,m-1),e.insert(s.line+1,f)}xi(e,"change",e,t)}function Gr(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Kr(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Yr(e,t,n){function r(e,i,a){if(e.linked)for(var o=0;o<e.linked.length;++o){var s=e.linked[o];if(s.doc!=i){var l=a&&s.sharedHist;(!n||l)&&(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Xr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),n(e),e.options.lineWrapping||p(e),e.options.mode=t.modeOption,Ot(e)}function Zr(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],a=i.chunkSize();if(a>t){n=i;break}t-=a}return n.lines[t]}function Jr(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var a=e.text;i==n.line&&(a=a.slice(0,n.ch)),i==t.line&&(a=a.slice(t.ch)),r.push(a),++i}),r}function Qr(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ei(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function ti(e){if(null==e.parent)return null;for(var t=e.parent,n=Li(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function ni(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],a=i.height;if(a>t){e=i;continue e}t-=a,n+=i.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var o=e.lines[r],s=o.height;if(s>t)break;t-=s}return n+r}function ri(e){e=br(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var a=n.parent;a;n=a,a=n.parent)for(var r=0;r<a.children.length;++r){var o=a.children[r];if(o==n)break;t+=o.height}return t}function ii(e){var t=e.order;return null==t&&(t=e.order=ss(e.text)),t}function ai(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function oi(e,t){var n={from:G(t.from),to:Ja(t),text:Jr(e,t.from,t.to)};return hi(e,n,t.from.line,t.to.line+1),Yr(e,function(e){hi(e,n,t.from.line,t.to.line+1)},!0),n}function si(e){for(;e.length;){var t=Mi(e);if(!t.ranges)break;e.pop()}}function li(e,t){return t?(si(e.done),Mi(e.done)):e.done.length&&!Mi(e.done).ranges?Mi(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Mi(e.done)):void 0}function ci(e,t,n,r){var i=e.history;i.undone.length=0;var a,o=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=li(i,i.lastOp==r))){var s=Mi(a.changes);0==Ba(t.from,t.to)&&0==Ba(t.from,s.to)?s.to=Ja(t):a.changes.push(oi(e,t))}else{var l=Mi(i.done);for(l&&l.ranges||pi(e.sel,i.done),a={changes:[oi(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||Lo(e,"historyAdded")}function ui(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function di(e,t,n,r){var i=e.history,a=r&&r.origin;n==i.lastSelOp||a&&i.lastSelOrigin==a&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==a||ui(e,a,Mi(i.done),t))?i.done[i.done.length-1]=t:pi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=a,i.lastSelOp=n,r&&r.clearRedo!==!1&&si(i.undone)}function pi(e,t){var n=Mi(t);n&&n.ranges&&n.equals(e)||t.push(e)}function hi(e,t,n,r){var i=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[a]=n.markedSpans),++a})}function mi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function fi(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(mi(n[r]));return i}function gi(e,t,n){for(var r=0,i=[];r<e.length;++r){var a=e[r];if(a.ranges)i.push(n?ue.prototype.deepCopy.call(a):a);else{var o=a.changes,s=[];i.push({changes:s});for(var l=0;l<o.length;++l){var c,u=o[l];if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&Li(t,Number(c[1]))>-1&&(Mi(s)[d]=u[d],delete u[d])}}}return i}function vi(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function bi(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i],o=!0;if(a.ranges){a.copied||(a=e[i]=a.deepCopy(),a.copied=!0);for(var s=0;s<a.ranges.length;s++)vi(a.ranges[s].anchor,t,n,r),vi(a.ranges[s].head,t,n,r)}else{for(var s=0;s<a.changes.length;++s){var l=a.changes[s];if(n<l.from.line)l.from=Pa(l.from.line+r,l.from.ch),l.to=Pa(l.to.line+r,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function yi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;bi(e.done,n,r,i),bi(e.undone,n,r,i)}function wi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ki(e){return e.target||e.srcElement}function Ei(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Aa&&e.ctrlKey&&1==t&&(t=3),t}function _i(e,t,n){var r=e._handlers&&e._handlers[t];return n?r&&r.length>0?r.slice():Fo:r||Fo}function xi(e,t){function n(e){return function(){e.apply(null,a)}}var r=_i(e,t,!1);if(r.length){var i,a=Array.prototype.slice.call(arguments,2);Wa?i=Wa.delayedCallbacks:Do?i=Do:(i=Do=[],setTimeout(Ci,0));for(var o=0;o<r.length;++o)i.push(n(r[o]))}}function Ci(){var e=Do;Do=null;for(var t=0;t<e.length;++t)e[t]()}function Si(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Lo(e,n||t.type,e,t),wi(t)||t.codemirrorIgnore}function Ti(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==Li(n,t[r])&&n.push(t[r])}function Ri(e,t){return _i(e,t).length>0}function Ai(e){e.prototype.on=function(e,t){No(this,e,t)},e.prototype.off=function(e,t){Mo(this,e,t)}}function Ni(){this.id=null}function Fi(e){for(;$o.length<=e;)$o.push(Mi($o)+" ");return $o[e]}function Mi(e){return e[e.length-1]}function Li(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Di(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Oi(){}function Ii(e,t){var n;return Object.create?n=Object.create(e):(Oi.prototype=e,n=new Oi),t&&Pi(t,n),n}function Pi(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function Bi(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function ji(e,t){return t?t.source.indexOf("\\w")>-1&&qo(e)?!0:t.test(e):qo(e)}function zi(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Ui(e){return e.charCodeAt(0)>=768&&Go.test(e)}function $i(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)i.appendChild(t[a]);return i}function Hi(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Wi(e,t){return Hi(e).appendChild(t)}function Vi(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function qi(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Gi(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!qi(n[r]).test(t)&&(t+=" "+n[r]);return t}function Ki(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Yi(){Qo||(Xi(),Qo=!0)}function Xi(){var e;No(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ki(Wt)},100))}),No(window,"blur",function(){Ki(bn)})}function Zi(e){if(null==Yo){var t=$i("span","​");Wi(e,$i("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Yo=t.offsetWidth<=1&&t.offsetHeight>2&&!(ba&&8>ya))}var n=Yo?$i("span","​"):$i("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ji(e){if(null!=Xo)return Xo;var t=Wi(e,document.createTextNode("AخA")),n=Wo(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=Wo(t,1,2).getBoundingClientRect();return Xo=r.right-n.right<3}function Qi(e){if(null!=is)return is;var t=Wi(e,$i("span","x")),n=t.getBoundingClientRect(),r=Wo(t,0,1).getBoundingClientRect();return is=Math.abs(n.left-r.left)>1}function ea(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,a=0;a<e.length;++a){var o=e[a];(o.from<n&&o.to>t||t==n&&o.to==t)&&(r(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function ta(e){return e.level%2?e.to:e.from}function na(e){return e.level%2?e.from:e.to}function ra(e){var t=ii(e);return t?ta(t[0]):0}function ia(e){var t=ii(e);return t?na(Mi(t)):e.text.length}function aa(e,t){var n=Zr(e.doc,t),r=br(n);r!=n&&(t=ti(r));var i=ii(r),a=i?i[0].level%2?ia(r):ra(r):0;return Pa(t,a)}function oa(e,t){for(var n,r=Zr(e.doc,t);n=gr(r);)r=n.find(1,!0).line,t=null;var i=ii(r),a=i?i[0].level%2?ra(r):ia(r):r.text.length;return Pa(null==t?ti(r):t,a)}function sa(e,t){var n=aa(e,t.line),r=Zr(e.doc,n.line),i=ii(r);if(!i||0==i[0].level){var a=Math.max(0,r.text.search(/\S/)),o=t.line==n.line&&t.ch<=a&&t.ch;return Pa(n.line,o?0:a)}return n}function la(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:n>t}function ca(e,t){os=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return la(e,i.level,e[n].level)?(i.from!=i.to&&(os=n),r):(i.from!=i.to&&(os=r),n);n=r}}return n}function ua(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&Ui(e.text.charAt(t)));return t}function da(e,t,n,r){var i=ii(e);if(!i)return pa(e,t,n,r);for(var a=ca(i,t),o=i[a],s=ua(e,t,o.level%2?-n:n,r);;){if(s>o.from&&s<o.to)return s;if(s==o.from||s==o.to)return ca(i,s)==a?s:(o=i[a+=n],n>0==o.level%2?o.to:o.from);if(o=i[a+=n],!o)return null;s=n>0==o.level%2?ua(e,o.to,-1,r):ua(e,o.from,1,r)}}function pa(e,t,n,r){var i=t+n;if(r)for(;i>0&&Ui(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var ha=navigator.userAgent,ma=navigator.platform,fa=/gecko\/\d/i.test(ha),ga=/MSIE \d/.test(ha),va=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ha),ba=ga||va,ya=ba&&(ga?document.documentMode||6:va[1]),wa=/WebKit\//.test(ha),ka=wa&&/Qt\/\d+\.\d+/.test(ha),Ea=/Chrome\//.test(ha),_a=/Opera\//.test(ha),xa=/Apple Computer/.test(navigator.vendor),Ca=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ha),Sa=/PhantomJS/.test(ha),Ta=/AppleWebKit/.test(ha)&&/Mobile\/\w+/.test(ha),Ra=Ta||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ha),Aa=Ta||/Mac/.test(ma),Na=/\bCrOS\b/.test(ha),Fa=/win/i.test(ma),Ma=_a&&ha.match(/Version\/(\d*\.\d*)/);Ma&&(Ma=Number(Ma[1])),Ma&&Ma>=15&&(_a=!1,wa=!0);var La=Aa&&(ka||_a&&(null==Ma||12.11>Ma)),Da=fa||ba&&ya>=9,Oa=!1,Ia=!1;f.prototype=Pi({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var a=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+a+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Aa&&!Ca?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ni,this.disableVert=new Ni},enableZeroWidthBar:function(e,t){function n(){var r=e.getBoundingClientRect(),i=document.elementFromPoint(r.left+1,r.bottom-1);i!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},f.prototype),g.prototype=Pi({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":f,"null":g},C.prototype.signal=function(e,t){Ri(e,t)&&this.events.push(arguments)},C.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Lo.apply(null,this.events[e])};var Pa=e.Pos=function(e,t){return this instanceof Pa?(this.line=e,void(this.ch=t)):new Pa(e,t)},Ba=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},ja=null;ne.prototype=Pi({init:function(e){function t(e){if(!Si(r,e)){if(r.somethingSelected())ja={lineWise:!1,text:r.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,a.value=ja.text.join("\n"),Ho(a));else{if(!r.options.lineWiseCopyCut)return;var t=ee(r);ja={lineWise:!0,text:t.text},"cut"==e.type?r.setSelections(t.ranges,null,Po):(n.prevInput="",a.value=t.text.join("\n"),Ho(a))}"cut"==e.type&&(r.state.cutIncoming=!0)}}var n=this,r=this.cm,i=this.wrapper=re(),a=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),Ta&&(a.style.width="0px"),No(a,"input",function(){ba&&ya>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),No(a,"paste",function(e){Si(r,e)||J(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),No(a,"cut",t),No(a,"copy",t),No(e.scroller,"paste",function(t){Vt(e,t)||Si(r,t)||(r.state.pasteIncoming=!0,n.focus())}),No(e.lineSpace,"selectstart",function(t){Vt(e,t)||To(t)}),No(a,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),No(a,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=Oe(e);if(e.options.moveInputWithCursor){var i=ht(e,n.sel.primary().head,"div"),a=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+o.top-a.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+o.left-a.left))}return r},showSelection:function(e){var t=this.cm,n=t.display;Wi(n.cursorDiv,e.cursors),Wi(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var a=i.sel.primary();t=rs&&(a.to().line-a.from().line>100||(n=r.getSelection()).length>1e3);var o=t?"-":n||r.getSelection();this.textarea.value=o,r.state.focused&&Ho(this.textarea),ba&&ya>=9&&(this.hasSelection=o)}else e||(this.prevInput=this.textarea.value="",ba&&ya>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ra||Vi()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var r=n.poll();r||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||ns(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(ba&&ya>=9&&this.hasSelection===r||Aa&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var a=0,o=Math.min(n.length,r.length);o>a&&n.charCodeAt(a)==r.charCodeAt(a);)++a;var s=this;return At(e,function(){Z(e,r.slice(a),n.length-a,null,s.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=r,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ba&&ya>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=o.selectionStart){var e=i.somethingSelected(),t="​"+(e?o.value:"");o.value="⇚",o.value=t,r.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=t.length,a.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=d,o.style.cssText=u,ba&&9>ya&&a.scrollbars.setScrollTop(a.scroller.scrollTop=l),null!=o.selectionStart){(!ba||ba&&9>ya)&&t();var e=0,n=function(){a.selForContextMenu==i.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==r.prevInput?Nt(i,co.selectAll)(i):e++<10?a.detectingSelectAll=setTimeout(n,500):a.input.reset()};a.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,a=i.display,o=r.textarea,s=qt(i,e),l=a.scroller.scrollTop;if(s&&!_a){var c=i.options.resetSelectionOnContextMenu;c&&-1==i.doc.sel.contains(s)&&Nt(i,Se)(i.doc,he(s),Po);var u=o.style.cssText,d=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var p=r.wrapper.getBoundingClientRect();if(o.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px; z-index: 1000; background: "+(ba?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",wa)var h=window.scrollY;if(a.input.focus(),wa&&window.scrollTo(null,h),a.input.reset(),i.somethingSelected()||(o.value=r.prevInput=" "),r.contextMenuPending=!0,a.selForContextMenu=i.doc.sel,clearTimeout(a.detectingSelectAll),ba&&ya>=9&&t(),Da){Ao(e);var m=function(){Mo(window,"mouseup",m),setTimeout(n,20)};No(window,"mouseup",m)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Oi,needsContentAttribute:!1},ne.prototype),ie.prototype=Pi({init:function(e){function t(e){if(!Si(r,e)){if(r.somethingSelected())ja={lineWise:!1,text:r.getSelections()},"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=ee(r);ja={lineWise:!0,text:t.text},"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,Po),r.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Ta)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",ja.text.join("\n"));else{var n=re(),i=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),i.value=ja.text.join("\n");var a=document.activeElement;Ho(i),setTimeout(function(){r.display.lineSpace.removeChild(n),a.focus()},50)}}}var n=this,r=n.cm,i=n.div=e.lineDiv;te(i),No(i,"paste",function(e){Si(r,e)||J(e,r)}),No(i,"compositionstart",function(e){var t=e.data;if(n.composing={sel:r.doc.sel,data:t,startData:t},t){var i=r.doc.sel.primary(),a=r.getLine(i.head.line),o=a.indexOf(t,Math.max(0,i.head.ch-t.length));o>-1&&o<=i.head.ch&&(n.composing.sel=he(Pa(i.head.line,o),Pa(i.head.line,o+t.length)))}}),No(i,"compositionupdate",function(e){n.composing.data=e.data}),No(i,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),No(i,"touchstart",function(){n.forceCompositionEnd()}),No(i,"input",function(){n.composing||(r.isReadOnly()||!n.pollContent())&&At(n.cm,function(){Ot(r)})}),No(i,"copy",t),No(i,"cut",t)},prepareSelection:function(){var e=Oe(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=se(this.cm,e.anchorNode,e.anchorOffset),r=se(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!r||r.bad||0!=Ba(Y(n,r),t.from())||0!=Ba(K(n,r),t.to())){var i=ae(this.cm,t.from()),a=ae(this.cm,t.to());if(i||a){var o=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!a){var l=o[o.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;a={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else i={node:o[0].measure.map[2],offset:0};try{var u=Wo(i.node,i.offset,a.offset,a.node)}catch(d){}u&&(!fa&&this.cm.state.focused?(e.collapse(i.node,i.offset),u.collapsed||e.addRange(u)):(e.removeAllRanges(),e.addRange(u)),s&&null==e.anchorNode?e.addRange(s):fa&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Wi(this.cm.display.cursorDiv,e.cursors),Wi(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ko(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():At(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){
var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=se(t,e.anchorNode,e.anchorOffset),r=se(t,e.focusNode,e.focusOffset);n&&r&&At(t,function(){Se(t.doc,he(n,r),Po),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var a;if(r.line==t.viewFrom||0==(a=Bt(e,r.line)))var o=ti(t.view[0].line),s=t.view[0].node;else var o=ti(t.view[a].line),s=t.view[a-1].node.nextSibling;var l=Bt(e,i.line);if(l==t.view.length-1)var c=t.viewTo-1,u=t.lineDiv.lastChild;else var c=ti(t.view[l+1].line)-1,u=t.view[l+1].node.previousSibling;for(var d=e.doc.splitLines(ce(e,s,u,o,c)),p=Jr(e.doc,Pa(o,0),Pa(c,Zr(e.doc,c).text.length));d.length>1&&p.length>1;)if(Mi(d)==Mi(p))d.pop(),p.pop(),c--;else{if(d[0]!=p[0])break;d.shift(),p.shift(),o++}for(var h=0,m=0,f=d[0],g=p[0],v=Math.min(f.length,g.length);v>h&&f.charCodeAt(h)==g.charCodeAt(h);)++h;for(var b=Mi(d),y=Mi(p),w=Math.min(b.length-(1==d.length?h:0),y.length-(1==p.length?h:0));w>m&&b.charCodeAt(b.length-m-1)==y.charCodeAt(y.length-m-1);)++m;d[d.length-1]=b.slice(0,b.length-m),d[0]=d[0].slice(h);var k=Pa(o,h),E=Pa(c,p.length?Mi(p).length-m:0);return d.length>1||d[0]||Ba(k,E)?(Mn(e.doc,d,k,E,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?Nt(this.cm,Ot)(this.cm):e.data&&e.data!=e.startData&&Nt(this.cm,Z)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||Nt(this.cm,Z)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Oi,resetPosition:Oi,needsContentAttribute:!0},ie.prototype),e.inputStyles={textarea:ne,contenteditable:ie},ue.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=Ba(n.anchor,r.anchor)||0!=Ba(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new de(G(this.ranges[t].anchor),G(this.ranges[t].head));return new ue(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(Ba(t,r.from())>=0&&Ba(e,r.to())<=0)return n}return-1}},de.prototype={from:function(){return Y(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var za,Ua,$a,Ha={left:0,right:0,top:0,bottom:0},Wa=null,Va=0,qa=0,Ga=0,Ka=null;ba?Ka=-.53:fa?Ka=15:Ea?Ka=-.7:xa&&(Ka=-1/3);var Ya=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Ya(e);return t.x*=Ka,t.y*=Ka,t};var Xa=new Ni,Za=null,Ja=e.changeEnd=function(e){return e.text?Pa(e.from.line+e.text.length-1,Mi(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,eo.hasOwnProperty(e)&&Nt(this,eo[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Gn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Ft(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,Ot(this)}),removeOverlay:Ft(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Ot(this)}}),indentLine:Ft(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ve(this.doc,e)&&zn(this,e,t,n)}),indentSelection:Ft(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(zn(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Bn(this));else{var a=i.from(),o=i.to(),s=Math.max(n,a.line);n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=s;n>l;++l)zn(this,l,e);var c=this.doc.sel.ranges;0==a.ch&&t.length==c.length&&c[r].from().ch>0&&Ee(this.doc,r,new de(a,c[r].to()),Po)}}}),getTokenAt:function(e,t){return Mr(this,e,t)},getLineTokens:function(e,t){return Mr(this,Pa(e),t,!0)},getTokenTypeAt:function(e){e=fe(this.doc,e);var t,n=Or(this,Zr(this.doc,e.line)),r=0,i=(n.length-1)/2,a=e.ch;if(0==a)t=n[2];else for(;;){var o=r+i>>1;if((o?n[2*o-1]:0)>=a)i=o;else{if(!(n[2*o+1]<a)){t=n[2*o+2];break}r=o+1}}var s=t?t.indexOf("cm-overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!oo.hasOwnProperty(t))return n;var r=oo[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var o=r[i[t][a]];o&&n.push(o)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var a=0;a<r._global.length;a++){var s=r._global[a];s.pred(i,this)&&-1==Li(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=me(n,null==e?n.first+n.size-1:e),$e(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?fe(this.doc,e):e?r.from():r.to(),ht(this,n,t||"page")},charCoords:function(e,t){return pt(this,fe(this.doc,e),t||"page")},coordsChar:function(e,t){return e=dt(this,e,t||"page"),gt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=dt(this,{top:e,left:0},t||"page").top,ni(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,r=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,r=!0),n=Zr(this.doc,e)}else n=e;return ut(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-ri(n):0)},defaultTextHeight:function(){return bt(this.display)},defaultCharWidth:function(){return yt(this.display)},setGutterMarker:Ft(function(e,t,n){return Un(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&zi(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Ft(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,It(t,r,"gutter"),zi(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(e){if("number"==typeof e){if(!ve(this.doc,e))return null;var t=e;if(e=Zr(this.doc,e),!e)return null}else{var t=ti(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var a=this.display;e=ht(this,fe(this.doc,e));var o=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==r)o=e.top;else if("above"==r||"near"==r){var l=Math.max(a.wrapper.clientHeight,this.doc.height),c=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==i?(s=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&On(this,s,o,s+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:Ft(pn),triggerOnKeyPress:Ft(fn),triggerOnKeyUp:mn,execCommand:function(e){return co.hasOwnProperty(e)?co[e].call(null,this):void 0},triggerElectric:Ft(function(e){Q(this,e)}),findPosH:function(e,t,n,r){var i=1;0>t&&(i=-1,t=-t);for(var a=0,o=fe(this.doc,e);t>a&&(o=Hn(this.doc,o,i,n,r),!o.hitSide);++a);return o},moveH:Ft(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Hn(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},jo)}),deleteH:Ft(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):$n(this,function(n){var i=Hn(r,n.head,e,t,!1);return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,a=r;0>t&&(i=-1,t=-t);for(var o=0,s=fe(this.doc,e);t>o;++o){var l=ht(this,s,"div");if(null==a?a=l.left:l.left=a,s=Wn(this,l,i,n),s.hitSide)break}return s},moveV:Ft(function(e,t){var n=this,r=this.doc,i=[],a=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(o){if(a)return 0>e?o.from():o.to();var s=ht(n,o.head,"div");null!=o.goalColumn&&(s.left=o.goalColumn),i.push(s.left);var l=Wn(n,s,e,t);return"page"==t&&o==r.sel.primary()&&Pn(n,null,pt(n,l,"div").top-s.top),l},jo),i.length)for(var o=0;o<r.sel.ranges.length;o++)r.sel.ranges[o].goalColumn=i[o]}),findWordAt:function(e){var t=this.doc,n=Zr(t,e.line).text,r=e.ch,i=e.ch;if(n){var a=this.getHelper(e,"wordChars");(e.xRel<0||i==n.length)&&r?--r:++i;for(var o=n.charAt(r),s=ji(o,a)?function(e){return ji(e,a)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ji(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new de(Pa(e.line,r),Pa(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Jo(this.display.cursorDiv,"CodeMirror-overwrite"):Zo(this.display.cursorDiv,"CodeMirror-overwrite"),Lo(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Vi()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ft(function(e,t){(null!=e||null!=t)&&jn(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-qe(this)-this.display.barHeight,width:e.scrollWidth-qe(this)-this.display.barWidth,clientHeight:Ke(this),clientWidth:Ge(this)}},scrollIntoView:Ft(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Pa(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)jn(this),this.curOp.scrollToPos=e;else{var n=In(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Ft(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=n(e)),null!=t&&(r.display.wrapper.style.height=n(t)),r.options.lineWrapping&&ot(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){It(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,Lo(r,"refresh",this)}),operation:function(e){return At(this,e)},refresh:Ft(function(){var e=this.display.cachedTextHeight;Ot(this),this.curOp.forceUpdate=!0,st(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-bt(this.display))>.5)&&o(this),Lo(this,"refresh",this)}),swapDoc:Ft(function(e){var t=this.doc;return t.cm=null,Xr(this,e),st(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,xi(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ai(e);var Qa=e.defaults={},eo=e.optionHandlers={},to=e.Init={toString:function(){return"CodeMirror.Init"}};Vn("value","",function(e,t){e.setValue(t)},!0),Vn("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Vn("indentUnit",2,n,!0),Vn("indentWithTabs",!1),Vn("smartIndent",!0),Vn("tabSize",4,function(e){r(e),st(e),Ot(e)},!0),Vn("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var a=e.text.indexOf(t,i);if(-1==a)break;i=a+t.length,n.push(Pa(r,a))}r++});for(var i=n.length-1;i>=0;i--)Mn(e.doc,t,n[i],Pa(n[i].line,n[i].ch+t.length))}}),Vn("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,r){t.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),r!=e.Init&&t.refresh()}),Vn("specialCharPlaceholder",jr,function(e){e.refresh()},!0),Vn("electricChars",!0),Vn("inputStyle",Ra?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Vn("rtlMoveVisually",!Fa),Vn("wholeLineUpdateBefore",!0),Vn("theme","default",function(e){s(e),l(e)},!0),Vn("keyMap","default",function(t,n,r){var i=Gn(n),a=r!=e.Init&&Gn(r);a&&a.detach&&a.detach(t,i),i.attach&&i.attach(t,a||null)}),Vn("extraKeys",null),Vn("lineWrapping",!1,i,!0),Vn("gutters",[],function(e){h(e.options),l(e)},!0),Vn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?x(e.display)+"px":"0",e.refresh()},!0),Vn("coverGutterNextToScrollbar",!1,function(e){b(e)},!0),Vn("scrollbarStyle","native",function(e){v(e),b(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Vn("lineNumbers",!1,function(e){h(e.options),l(e)},!0),Vn("firstLineNumber",1,l,!0),Vn("lineNumberFormatter",function(e){return e},l,!0),Vn("showCursorWhenSelecting",!1,De,!0),Vn("resetSelectionOnContextMenu",!0),Vn("lineWiseCopyCut",!0),Vn("readOnly",!1,function(e,t){"nocursor"==t?(bn(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),Vn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Vn("dragDrop",!0,Ht),Vn("allowDropFileTypes",null),Vn("cursorBlinkRate",530),Vn("cursorScrollMargin",0),Vn("cursorHeight",1,De,!0),Vn("singleCursorHeightPerLine",!0,De,!0),Vn("workTime",100),Vn("workDelay",100),Vn("flattenSpans",!0,r,!0),Vn("addModeClass",!1,r,!0),Vn("pollInterval",100),Vn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Vn("historyEventDelay",1250),Vn("viewportMargin",10,function(e){e.refresh()},!0),Vn("maxHighlightLength",1e4,r,!0),Vn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Vn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Vn("autofocus",null);var no=e.modes={},ro=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),no[t]=n},e.defineMIME=function(e,t){ro[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ro.hasOwnProperty(t))t=ro[t];else if(t&&"string"==typeof t.name&&ro.hasOwnProperty(t.name)){var n=ro[t.name];"string"==typeof n&&(n={name:n}),t=Ii(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=no[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(io.hasOwnProperty(n.name)){var a=io[n.name];for(var o in a)a.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=a[o])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var o in n.modeProps)i[o]=n.modeProps[o];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var io=e.modeExtensions={};e.extendMode=function(e,t){var n=io.hasOwnProperty(e)?io[e]:io[e]={};Pi(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){xo.prototype[e]=t},e.defineOption=Vn;var ao=[];e.defineInitHook=function(e){ao.push(e)};var oo=e.helpers={};e.registerHelper=function(t,n,r){oo.hasOwnProperty(t)||(oo[t]=e[t]={_global:[]}),oo[t][n]=r},e.registerGlobalHelper=function(t,n,r,i){e.registerHelper(t,n,i),oo[t]._global.push({pred:r,val:i})};var so=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},lo=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var co=e.commands={selectAll:function(e){e.setSelection(Pa(e.firstLine(),0),Pa(e.lastLine()),Po)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Po)},killLine:function(e){$n(e,function(t){if(t.empty()){var n=Zr(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Pa(t.head.line+1,0)}:{from:t.head,to:Pa(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){$n(e,function(t){return{from:Pa(t.from().line,0),to:fe(e.doc,Pa(t.to().line+1,0))}})},delLineLeft:function(e){$n(e,function(e){return{from:Pa(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){$n(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){$n(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Pa(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Pa(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return aa(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return sa(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return oa(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},jo)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},jo)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?sa(e,t.head):r},jo)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var a=n[i].from(),o=zo(e.getLine(a.line),a.ch,r);t.push(Fi(r-o%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){At(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,a=Zr(e.doc,i.line).text;if(a)if(i.ch==a.length&&(i=new Pa(i.line,i.ch-1)),i.ch>0)i=new Pa(i.line,i.ch+1),e.replaceRange(a.charAt(i.ch-1)+a.charAt(i.ch-2),Pa(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var o=Zr(e.doc,i.line-1).text;o&&e.replaceRange(a.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),Pa(i.line-1,o.length-1),Pa(i.line,1),"+transpose")}n.push(new de(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){At(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0)}Bn(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},uo=e.keyMap={};uo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},uo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},uo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},uo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},uo["default"]=Aa?uo.macDefault:uo.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Di(n.split(" "),qn),a=0;a<i.length;a++){var o,s;a==i.length-1?(s=i.join(" "),o=r):(s=i.slice(0,a+1).join(" "),o="...");var l=t[s];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+s)}else t[s]=o}delete e[n]}for(var c in t)e[c]=t[c];return e};var po=e.lookupKey=function(e,t,n,r){t=Gn(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return po(e,t.fallthrough,n,r);for(var a=0;a<t.fallthrough.length;a++){var o=po(e,t.fallthrough[a],n,r);if(o)return o}}},ho=e.isModifierKey=function(e){var t="string"==typeof e?e:as[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},mo=e.keyName=function(e,t){if(_a&&34==e.keyCode&&e["char"])return!1;var n=as[e.keyCode],r=n;return null==r||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(La?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(La?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};e.fromTextArea=function(t,n){function r(){t.value=c.getValue()}if(n=n?Pi(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=Vi();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(No(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var a=t.form,o=a.submit;try{var s=a.submit=function(){r(),a.submit=o,a.submit(),a.submit=s}}catch(l){}}n.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Mo(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c};var fo=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};fo.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=zo(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?zo(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return zo(this.string,null,this.tabSize)-(this.lineStart?zo(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},a=this.string.substr(this.pos,e.length);return i(a)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var go=0,vo=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++go};Ai(vo),vo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&wt(e),Ri(this,"clear")){var n=this.find();n&&xi(this,"clear",n.from,n.to)}for(var r=null,i=null,a=0;a<this.lines.length;++a){var o=this.lines[a],s=er(o.markedSpans,this);e&&!this.collapsed?It(e,ti(o),"text"):e&&(null!=s.to&&(i=ti(o)),null!=s.from&&(r=ti(o))),o.markedSpans=tr(o.markedSpans,s),null==s.from&&this.collapsed&&!Er(this.doc,o)&&e&&ei(o,bt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var l=br(this.lines[a]),c=d(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Ot(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ae(e.doc)),e&&xi(e,"markerCleared",e,this),t&&Et(e),this.parent&&this.parent.clear()}},vo.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var a=this.lines[i],o=er(a.markedSpans,this);if(null!=o.from&&(n=Pa(t?a:ti(a),o.from),-1==e))return n;if(null!=o.to&&(r=Pa(t?a:ti(a),o.to),1==e))return r}return n&&{from:n,to:r}},vo.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&At(n,function(){var r=e.line,i=ti(e.line),a=Qe(n,i);if(a&&(at(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Er(t.doc,r)&&null!=t.height){var o=t.height;t.height=null;var s=Cr(t)-o;s&&ei(r,r.height+s)}})},vo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Li(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},vo.prototype.detachLine=function(e){if(this.lines.splice(Li(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var go=0,bo=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Ai(bo),bo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();xi(this,"clear")}},bo.prototype.find=function(e,t){return this.primary.find(e,t)};var yo=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Ai(yo),yo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=ti(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var a=Cr(this);ei(n,Math.max(0,n.height-a)),e&&At(e,function(){xr(e,n,-a),It(e,r,"widget")})}},yo.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=Cr(this)-e;r&&(ei(n,n.height+r),t&&At(t,function(){t.curOp.forceUpdate=!0,xr(t,n,r)}))};var wo=e.Line=function(e,t,n){this.text=e,ur(this,t),this.height=n?n(this):1};Ai(wo),wo.prototype.lineNo=function(){return ti(this)};var ko={},Eo={};Gr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var i=this.lines[n];this.height-=i.height,Rr(i),xi(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},Kr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>e){var a=Math.min(t,i-e),o=r.height;if(r.removeInner(e,a),this.height-=o-r.height,i==a&&(this.children.splice(n--,1),r.parent=null),0==(t-=a))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Gr))){var s=[];this.collapse(s),this.children=[new Gr(s)],this.children[0].parent=this;
}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(a>=e){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var o=i.lines.length%25+25,s=o;s<i.lines.length;){var l=new Gr(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,o),this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Kr(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=Li(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Kr(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(a>e){var o=Math.min(t,a-e);if(i.iterN(e,o,n))return!0;if(0==(t-=o))break;e=0}else e-=a}}};var _o=0,xo=e.Doc=function(e,t,n,r){if(!(this instanceof xo))return new xo(e,t,n,r);null==n&&(n=0),Kr.call(this,[new Gr([new wo("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=Pa(n,0);this.sel=he(i),this.history=new ai(null),this.id=++_o,this.modeOption=t,this.lineSep=r,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),qr(this,{from:i,to:i,text:e}),Se(this,he(i),Po)};xo.prototype=Ii(Kr.prototype,{constructor:xo,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Qr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Mt(function(e){var t=Pa(this.first,0),n=this.first+this.size-1;Sn(this,{from:t,to:Pa(n,Zr(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Se(this,he(t))}),replaceRange:function(e,t,n,r){t=fe(this,t),n=n?fe(this,n):t,Mn(this,e,t,n,r)},getRange:function(e,t,n){var r=Jr(this,fe(this,e),fe(this,t));return n===!1?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return ve(this,e)?Zr(this,e):void 0},getLineNumber:function(e){return ti(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Zr(this,e)),br(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return fe(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Mt(function(e,t,n){_e(this,fe(this,"number"==typeof e?Pa(e,t||0):e),null,n)}),setSelection:Mt(function(e,t,n){_e(this,fe(this,e),fe(this,t||e),n)}),extendSelection:Mt(function(e,t,n){we(this,fe(this,e),t&&fe(this,t),n)}),extendSelections:Mt(function(e,t){ke(this,be(this,e),t)}),extendSelectionsBy:Mt(function(e,t){var n=Di(this.sel.ranges,e);ke(this,be(this,n),t)}),setSelections:Mt(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new de(fe(this,e[r].anchor),fe(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Se(this,pe(i,t),n)}}),addSelection:Mt(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new de(fe(this,e),fe(this,t||e))),Se(this,pe(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Jr(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Jr(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Mt(function(e,t,n){for(var r=[],i=this.sel,a=0;a<i.ranges.length;a++){var o=i.ranges[a];r[a]={from:o.from(),to:o.to(),text:this.splitLines(e[a]),origin:n}}for(var s=t&&"end"!=t&&xn(this,r,t),a=r.length-1;a>=0;a--)Sn(this,r[a]);s?Ce(this,s):this.cm&&Bn(this.cm)}),undo:Mt(function(){Rn(this,"undo")}),redo:Mt(function(){Rn(this,"redo")}),undoSelection:Mt(function(){Rn(this,"undo",!0)}),redoSelection:Mt(function(){Rn(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ai(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:gi(this.history.done),undone:gi(this.history.undone)}},setHistory:function(e){var t=this.history=new ai(this.history.maxGeneration);t.done=gi(e.done.slice(0),null,!0),t.undone=gi(e.undone.slice(0),null,!0)},addLineClass:Mt(function(e,t,n){return Un(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(qi(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:Mt(function(e,t,n){return Un(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var a=i.match(qi(n));if(!a)return!1;var o=a.index+a[0].length;e[r]=i.slice(0,a.index)+(a.index&&o!=i.length?" ":"")+i.slice(o)||null}return!0})}),addLineWidget:Mt(function(e,t,n){return Sr(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Kn(this,fe(this,e),fe(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=fe(this,e),Kn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=fe(this,e);var t=[],n=Zr(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=fe(this,e),t=fe(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(a){var o=a.markedSpans;if(o)for(var s=0;s<o.length;s++){var l=o[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var a=i.text.length+r;return a>e?(t=e,!0):(e-=a,void++n)}),fe(this,Pa(n,t))},indexFromPos:function(e){e=fe(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new xo(Qr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new xo(Qr(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Zn(r,Xn(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Jn(Xn(this));break}}if(t.history==this.history){var i=[t.id];Yr(t,function(e){i.push(e.id)},!0),t.history=new ai(null),t.history.done=gi(this.history.done,i),t.history.undone=gi(this.history.undone,i)}},iterLinkedDocs:function(e){Yr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ts(e)},lineSeparator:function(){return this.lineSep||"\n"}}),xo.prototype.eachLine=xo.prototype.iter;var Co="iter insert remove copy getEditor constructor".split(" ");for(var So in xo.prototype)xo.prototype.hasOwnProperty(So)&&Li(Co,So)<0&&(e.prototype[So]=function(e){return function(){return e.apply(this.doc,arguments)}}(xo.prototype[So]));Ai(xo);var To=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Ro=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ao=e.e_stop=function(e){To(e),Ro(e)},No=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}},Fo=[],Mo=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var r=_i(e,t,!1),i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}},Lo=e.signal=function(e,t){var n=_i(e,t,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},Do=null,Oo=30,Io=e.Pass={toString:function(){return"CodeMirror.Pass"}},Po={scroll:!1},Bo={origin:"*mouse"},jo={origin:"+move"};Ni.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var zo=e.countColumn=function(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var a=r||0,o=i||0;;){var s=e.indexOf("	",a);if(0>s||s>=t)return o+(t-a);o+=s-a,o+=n-o%n,a=s+1}},Uo=e.findColumn=function(e,t,n){for(var r=0,i=0;;){var a=e.indexOf("	",r);-1==a&&(a=e.length);var o=a-r;if(a==e.length||i+o>=t)return r+Math.min(o,t-i);if(i+=a-r,i+=n-i%n,r=a+1,i>=t)return r}},$o=[""],Ho=function(e){e.select()};Ta?Ho=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ba&&(Ho=function(e){try{e.select()}catch(t){}});var Wo,Vo=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,qo=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Vo.test(e))},Go=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Wo=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Ko=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};ba&&11>ya&&(Vi=function(){try{return document.activeElement}catch(e){return document.body}});var Yo,Xo,Zo=e.rmClass=function(e,t){var n=e.className,r=qi(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},Jo=e.addClass=function(e,t){var n=e.className;qi(t).test(n)||(e.className+=(n?" ":"")+t)},Qo=!1,es=function(){if(ba&&9>ya)return!1;var e=$i("div");return"draggable"in e||"dragDrop"in e}(),ts=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var a=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),o=a.indexOf("\r");-1!=o?(n.push(a.slice(0,o)),t+=o+1):(n.push(a),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},ns=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},rs=function(){var e=$i("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),is=null,as=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)as[e+48]=as[e+96]=String(e);for(var e=65;90>=e;e++)as[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)as[e+111]=as[e+63235]="F"+e}();var os,ss=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!i.test(n))return!1;for(var r,u=n.length,d=[],p=0;u>p;++p)d.push(r=e(n.charCodeAt(p)));for(var p=0,h=c;u>p;++p){var r=d[p];"m"==r?d[p]=h:h=r}for(var p=0,m=c;u>p;++p){var r=d[p];"1"==r&&"r"==m?d[p]="n":o.test(r)&&(m=r,"r"==r&&(d[p]="R"))}for(var p=1,h=d[0];u-1>p;++p){var r=d[p];"+"==r&&"1"==h&&"1"==d[p+1]?d[p]="1":","!=r||h!=d[p+1]||"1"!=h&&"n"!=h||(d[p]=h),h=r}for(var p=0;u>p;++p){var r=d[p];if(","==r)d[p]="N";else if("%"==r){for(var f=p+1;u>f&&"%"==d[f];++f);for(var g=p&&"!"==d[p-1]||u>f&&"1"==d[f]?"1":"N",v=p;f>v;++v)d[v]=g;p=f-1}}for(var p=0,m=c;u>p;++p){var r=d[p];"L"==m&&"1"==r?d[p]="L":o.test(r)&&(m=r)}for(var p=0;u>p;++p)if(a.test(d[p])){for(var f=p+1;u>f&&a.test(d[f]);++f);for(var b="L"==(p?d[p-1]:c),y="L"==(u>f?d[f]:c),g=b||y?"L":"R",v=p;f>v;++v)d[v]=g;p=f-1}for(var w,k=[],p=0;u>p;)if(s.test(d[p])){var E=p;for(++p;u>p&&s.test(d[p]);++p);k.push(new t(0,E,p))}else{var _=p,x=k.length;for(++p;u>p&&"L"!=d[p];++p);for(var v=_;p>v;)if(l.test(d[v])){v>_&&k.splice(x,0,new t(1,_,v));var C=v;for(++v;p>v&&l.test(d[v]);++v);k.splice(x,0,new t(2,C,v)),_=v}else++v;p>_&&k.splice(x,0,new t(1,_,p))}return 1==k[0].level&&(w=n.match(/^\s+/))&&(k[0].from=w[0].length,k.unshift(new t(0,0,w[0].length))),1==Mi(k).level&&(w=n.match(/\s+$/))&&(Mi(k).to-=w[0].length,k.push(new t(0,u-w[0].length,u))),2==k[0].level&&k.unshift(new t(1,k[0].to,k[0].to)),k[0].level!=Mi(k).level&&k.push(new t(k[0].level,u,u)),k}}();return e.version="5.16.0",e})},function(e,t,n){!function(e){e(n(157))}(function(e){"use strict";function t(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}function n(t,n){var r=e.cmpPos(n.from,t.from);return r>0&&t.to.ch-t.from.ch!=n.to.ch-n.from.ch}function r(e,t,n){var r=e.options.hintOptions,i={};for(var a in f)i[a]=f[a];if(r)for(var a in r)void 0!==r[a]&&(i[a]=r[a]);if(n)for(var a in n)void 0!==n[a]&&(i[a]=n[a]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}function i(e){return"string"==typeof e?e:e.text}function a(e,t){function n(e,n){var i;i="string"!=typeof n?function(e){return n(e,t)}:r.hasOwnProperty(n)?r[n]:n,a[e]=i}var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},i=e.options.customKeys,a=i?{}:r;if(i)for(var o in i)i.hasOwnProperty(o)&&n(o,i[o]);var s=e.options.extraKeys;if(s)for(var o in s)s.hasOwnProperty(o)&&n(o,s[o]);return a}function o(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function s(t,n){this.completion=t,this.data=n,this.picked=!1;var r=this,s=t.cm,l=this.hints=document.createElement("ul");l.className="CodeMirror-hints",this.selectedHint=n.selectedHint||0;for(var c=n.list,u=0;u<c.length;++u){var h=l.appendChild(document.createElement("li")),m=c[u],f=d+(u!=this.selectedHint?"":" "+p);null!=m.className&&(f=m.className+" "+f),h.className=f,m.render?m.render(h,n,m):h.appendChild(document.createTextNode(m.displayText||i(m))),h.hintId=u}var g=s.cursorCoords(t.options.alignWithWord?n.from:null),v=g.left,b=g.bottom,y=!0;l.style.left=v+"px",l.style.top=b+"px";var w=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),k=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(l);var E=l.getBoundingClientRect(),_=E.bottom-k,x=l.scrollHeight>l.clientHeight+1;if(_>0){var C=E.bottom-E.top,S=g.top-(g.bottom-E.top);if(S-C>0)l.style.top=(b=g.top-C)+"px",y=!1;else if(C>k){l.style.height=k-5+"px",l.style.top=(b=g.bottom-E.top)+"px";var T=s.getCursor();n.from.ch!=T.ch&&(g=s.cursorCoords(T),l.style.left=(v=g.left)+"px",E=l.getBoundingClientRect())}}var R=E.right-w;if(R>0&&(E.right-E.left>w&&(l.style.width=w-5+"px",R-=E.right-E.left-w),l.style.left=(v=g.left-R)+"px"),x)for(var A=l.firstChild;A;A=A.nextSibling)A.style.paddingRight=s.display.nativeBarWidth+"px";if(s.addKeyMap(this.keyMap=a(t,{moveFocus:function(e,t){r.changeActive(r.selectedHint+e,t)},setFocus:function(e){r.changeActive(e)},menuSize:function(){return r.screenAmount()},length:c.length,close:function(){t.close()},pick:function(){r.pick()},data:n})),t.options.closeOnUnfocus){var N;s.on("blur",this.onBlur=function(){N=setTimeout(function(){t.close()},100)}),s.on("focus",this.onFocus=function(){clearTimeout(N)})}var F=s.getScrollInfo();return s.on("scroll",this.onScroll=function(){var e=s.getScrollInfo(),n=s.getWrapperElement().getBoundingClientRect(),r=b+F.top-e.top,i=r-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return y||(i+=l.offsetHeight),i<=n.top||i>=n.bottom?t.close():(l.style.top=r+"px",void(l.style.left=v+F.left-e.left+"px"))}),e.on(l,"dblclick",function(e){var t=o(l,e.target||e.srcElement);t&&null!=t.hintId&&(r.changeActive(t.hintId),r.pick())}),e.on(l,"click",function(e){var n=o(l,e.target||e.srcElement);n&&null!=n.hintId&&(r.changeActive(n.hintId),t.options.completeOnSingleClick&&r.pick())}),e.on(l,"mousedown",function(){setTimeout(function(){s.focus()},20)}),e.signal(n,"select",c[0],l.firstChild),!0}function l(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}function c(e,t,n,r){if(e.async)e(t,r,n);else{var i=e(t,n);i&&i.then?i.then(r):r(i)}}function u(t,n){var r,i=t.getHelpers(n,"hint");if(i.length){var a=function(e,t,n){function r(i){return i==a.length?t(null):void c(a[i],e,n,function(e){e&&e.list.length>0?t(e):r(i+1)})}var a=l(e,i);r(0)};return a.async=!0,a.supportsSelection=!0,a}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}var d="CodeMirror-hint",p="CodeMirror-hint-active";e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",function(n){n=r(this,this.getCursor("start"),n);var i=this.listSelections();if(!(i.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var a=0;a<i.length;a++)if(i[a].head.line!=i[a].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new t(this,n);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}});var h=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},m=window.cancelAnimationFrame||clearTimeout;t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n];r.hint?r.hint(this.cm,t,r):this.cm.replaceRange(i(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(m(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||e.ch&&this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=h(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;c(this.options.hint,this.cm,this.options,function(r){t.tick==n&&t.finishUpdate(r,e)})}},finishUpdate:function(t,r){this.data&&e.signal(this.data,"update");var i=this.widget&&this.widget.picked||r&&this.options.completeSingle;this.widget&&this.widget.close(),t&&this.data&&n(this.data,t)||(this.data=t,t&&t.list.length&&(i&&1==t.list.length?this.pick(t,0):(this.widget=new s(this,t),e.signal(t,"shown"))))}},s.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:0>t&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" "+p,""),r=this.hints.childNodes[this.selectedHint=t],r.className+=" "+p,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:u}),e.registerHelper("hint","fromList",function(t,n){var r=t.getCursor(),i=t.getTokenAt(r),a=e.Pos(r.line,i.end);if(i.string&&/\w/.test(i.string[i.string.length-1]))var o=i.string,s=e.Pos(r.line,i.start);else var o="",s=a;for(var l=[],c=0;c<n.words.length;c++){var u=n.words[c];u.slice(0,o.length)==o&&l.push(u)}return l.length?{list:l,from:s,to:a}:void 0}),e.commands.autocomplete=e.showHint;var f={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)})},function(e,t,n){!function(e){e(n(157))}(function(e){function t(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:d[t]}function n(e){return function(t){return s(t,e)}}function r(e){var t=e.state.closeBrackets;if(!t)return null;var n=e.getModeAt(e.getCursor());return n.closeBrackets||t}function i(n){var i=r(n);if(!i||n.getOption("disableInput"))return e.Pass;for(var a=t(i,"pairs"),o=n.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var l=c(n,o[s].head);if(!l||a.indexOf(l)%2!=0)return e.Pass}for(var s=o.length-1;s>=0;s--){var u=o[s].head;n.replaceRange("",p(u.line,u.ch-1),p(u.line,u.ch+1),"+delete")}}function a(n){var i=r(n),a=i&&t(i,"explode");if(!a||n.getOption("disableInput"))return e.Pass;for(var o=n.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var l=c(n,o[s].head);if(!l||a.indexOf(l)%2!=0)return e.Pass}n.operation(function(){n.replaceSelection("\n\n",null),n.execCommand("goCharLeft"),o=n.listSelections();for(var e=0;e<o.length;e++){var t=o[e].head.line;n.indentLine(t,null,!0),n.indentLine(t+1,null,!0)}})}function o(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new p(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new p(t.head.line,t.head.ch+(n?1:-1))}}function s(n,i){var a=r(n);if(!a||n.getOption("disableInput"))return e.Pass;var s=t(a,"pairs"),c=s.indexOf(i);if(-1==c)return e.Pass;for(var d,h=t(a,"triples"),m=s.charAt(c+1)==i,f=n.listSelections(),g=c%2==0,v=0;v<f.length;v++){var b,y=f[v],w=y.head,k=n.getRange(w,p(w.line,w.ch+1));if(g&&!y.empty())b="surround";else if(!m&&g||k!=i)if(m&&w.ch>1&&h.indexOf(i)>=0&&n.getRange(p(w.line,w.ch-2),w)==i+i&&(w.ch<=2||n.getRange(p(w.line,w.ch-3),p(w.line,w.ch-2))!=i))b="addFour";else if(m){if(e.isWordChar(k)||!u(n,w,i))return e.Pass;b="both"}else{if(!g||n.getLine(w.line).length!=w.ch&&!l(k,s)&&!/\s/.test(k))return e.Pass;b="both"}else b=h.indexOf(i)>=0&&n.getRange(w,p(w.line,w.ch+3))==i+i+i?"skipThree":"skip";if(d){if(d!=b)return e.Pass}else d=b}var E=c%2?s.charAt(c-1):i,_=c%2?i:s.charAt(c+1);n.operation(function(){if("skip"==d)n.execCommand("goCharRight");else if("skipThree"==d)for(var e=0;3>e;e++)n.execCommand("goCharRight");else if("surround"==d){for(var t=n.getSelections(),e=0;e<t.length;e++)t[e]=E+t[e]+_;n.replaceSelections(t,"around"),t=n.listSelections().slice();for(var e=0;e<t.length;e++)t[e]=o(t[e]);n.setSelections(t)}else"both"==d?(n.replaceSelection(E+_,null),n.triggerElectric(E+_),n.execCommand("goCharLeft")):"addFour"==d&&(n.replaceSelection(E+E+E+E,"before"),n.execCommand("goCharRight"))})}function l(e,t){var n=t.lastIndexOf(e);return n>-1&&n%2==1}function c(e,t){var n=e.getRange(p(t.line,t.ch-1),p(t.line,t.ch+1));return 2==n.length?n:null}function u(t,n,r){var i=t.getLine(n.line),a=t.getTokenAt(n);if(/\bstring2?\b/.test(a.type))return!1;var o=new e.StringStream(i.slice(0,n.ch)+r+i.slice(n.ch),4);for(o.pos=o.start=a.start;;){var s=t.getMode().token(o,a.state);if(o.pos>=n.ch+1)return/\bstring2?\b/.test(s);o.start=o.pos}}var d={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},p=e.Pos;e.defineOption("autoCloseBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.removeKeyMap(m),t.state.closeBrackets=null),n&&(t.state.closeBrackets=n,t.addKeyMap(m))});for(var h=d.pairs+"`",m={Backspace:i,Enter:a},f=0;f<h.length;f++)m["'"+h.charAt(f)+"'"]=n(h.charAt(f))})},function(e,t,n){!function(e){e(n(157))}(function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function n(e){return e.scopes[e.scopes.length-1]}var r=t(["and","or","not","is"]),i=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],a=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];e.registerHelper("hintWords","python",i.concat(a)),e.defineMode("python",function(o,s){function l(e,t){if(e.sol()&&(t.indent=e.indentation()),e.sol()&&"py"==n(t).type){var r=n(t).offset;if(e.eatSpace()){var i=e.indentation();return i>r?d(t):r>i&&h(e,t)&&(t.errorToken=!0),null}var a=c(e,t);return r>0&&h(e,t)&&(a+=" "+f),a}return c(e,t)}function c(e,t){if(e.eatSpace())return null;var n=e.peek();if("#"==n)return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var i=!1;if(e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(i=!0),e.match(/^\d+\.\d*/)&&(i=!0),e.match(/^\.\d+/)&&(i=!0),i)return e.eat(/J/i),"number";var a=!1;if(e.match(/^0x[0-9a-f]+/i)&&(a=!0),e.match(/^0b[01]+/i)&&(a=!0),e.match(/^0o[0-7]+/i)&&(a=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),a=!0),e.match(/^0(?![\dx])/i)&&(a=!0),a)return e.eat(/L/i),"number"}return e.match(S)?(t.tokenize=u(e.current()),t.tokenize(e,t)):e.match(y)||e.match(b)?"punctuation":e.match(v)||e.match(x)?"operator":e.match(g)?"punctuation":"."==t.lastToken&&e.match(C)?"property":e.match(T)||e.match(r)?"keyword":e.match(R)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(C)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),f)}function u(e){function t(t,i){for(;!t.eol();)if(t.eatWhile(/[^'"\\]/),t.eat("\\")){if(t.next(),n&&t.eol())return r}else{if(t.match(e))return i.tokenize=l,r;t.eat(/['"]/)}if(n){if(s.singleLineStringErrors)return f;i.tokenize=l}return r}for(;"rub".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);
var n=1==e.length,r="string";return t.isString=!0,t}function d(e){for(;"py"!=n(e).type;)e.scopes.pop();e.scopes.push({offset:n(e).offset+o.indentUnit,type:"py",align:null})}function p(e,t,n){var r=e.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+w,type:n,align:r})}function h(e,t){for(var r=e.indentation();n(t).offset>r;){if("py"!=n(t).type)return!0;t.scopes.pop()}return n(t).offset!=r}function m(e,t){e.sol()&&(t.beginningOfLine=!0);var r=t.tokenize(e,t),i=e.current();if(t.beginningOfLine&&"@"==i)return e.match(C,!1)?"meta":_?"operator":f;/\S/.test(i)&&(t.beginningOfLine=!1),"variable"!=r&&"builtin"!=r||"meta"!=t.lastToken||(r="meta"),("pass"==i||"return"==i)&&(t.dedent+=1),"lambda"==i&&(t.lambda=!0),":"!=i||t.lambda||"py"!=n(t).type||d(t);var a=1==i.length?"[({".indexOf(i):-1;if(-1!=a&&p(e,t,"])}".slice(a,a+1)),a="])}".indexOf(i),-1!=a){if(n(t).type!=i)return f;t.indent=t.scopes.pop().offset-w}return t.dedent>0&&e.eol()&&"py"==n(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),r}var f="error",g=s.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.]/,v=s.doubleOperators||/^([!<>]==|<>|<<|>>|\/\/|\*\*)/,b=s.doubleDelimiters||/^(\+=|\-=|\*=|%=|\/=|&=|\|=|\^=)/,y=s.tripleDelimiters||/^(\/\/=|>>=|<<=|\*\*=)/,w=s.hangingIndent||o.indentUnit,k=i,E=a;void 0!=s.extra_keywords&&(k=k.concat(s.extra_keywords)),void 0!=s.extra_builtins&&(E=E.concat(s.extra_builtins));var _=s.version&&3==parseInt(s.version,10);if(_){var x=s.singleOperators||/^[\+\-\*\/%&|\^~<>!@]/,C=s.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;k=k.concat(["nonlocal","False","True","None","async","await"]),E=E.concat(["ascii","bytes","exec","print"]);var S=new RegExp("^(([rbuf]|(br))?('{3}|\"{3}|['\"]))","i")}else{var x=s.singleOperators||/^[\+\-\*\/%&|\^~<>!]/,C=s.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;k=k.concat(["exec","print"]),E=E.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);var S=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var T=t(k),R=t(E),A={startState:function(e){return{tokenize:l,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var r=m(e,t);return r&&"comment"!=r&&(t.lastToken="keyword"==r||"punctuation"==r?e.current():r),"punctuation"==r&&(r=null),e.eol()&&t.lambda&&(t.lambda=!1),n?r+" "+f:r},indent:function(t,r){if(t.tokenize!=l)return t.tokenize.isString?e.Pass:0;var i=n(t),a=i.type==r.charAt(0);return null!=i.align?i.align-(a?1:0):i.offset-(a?w:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return A}),e.defineMIME("text/x-python","python");var o=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:o("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})})},function(e,t,n){!function(e){e(n(157))}(function(e){"use strict";e.defineMode("julia",function(e,t){function n(e,t){return"undefined"==typeof t&&(t="\\b"),new RegExp("^(("+e.join(")|(")+"))"+t)}function r(e){var t=i(e);return"["==t?!0:!1}function i(e){return 0==e.scopes.length?null:e.scopes[e.scopes.length-1]}function a(e,t){if(e.match(/^#=/,!1))return t.tokenize=s,t.tokenize(e,t);var n=t.leavingExpr;if(e.sol()&&(n=!1),t.leavingExpr=!1,n&&e.match(/^'+/))return"operator";if(e.match(/^\.{2,3}/))return"operator";if(e.eatSpace())return null;var a=e.peek();if("#"===a)return e.skipToEnd(),"comment";"["===a&&t.scopes.push("["),"("===a&&t.scopes.push("(");var d=i(t);"["==d&&"]"===a&&(t.scopes.pop(),t.leavingExpr=!0),"("==d&&")"===a&&(t.scopes.pop(),t.leavingExpr=!0);var p;if(!r(t)&&(p=e.match(T,!1))&&t.scopes.push(p),!r(t)&&e.match(R,!1)&&t.scopes.pop(),r(t)){if("end"==t.lastToken&&e.match(/^:/))return"operator";if(e.match(/^end/))return"number"}if(e.match(/^=>/))return"operator";if(e.match(/^[0-9\.]/,!1)){var h=RegExp(/^im\b/),m=!1;if(e.match(/^\d*\.(?!\.)\d*([Eef][\+\-]?\d+)?/i)&&(m=!0),e.match(/^\d+\.(?!\.)\d*/)&&(m=!0),e.match(/^\.\d+/)&&(m=!0),e.match(/^0x\.[0-9a-f]+p[\+\-]?\d+/i)&&(m=!0),e.match(/^0x[0-9a-f]+/i)&&(m=!0),e.match(/^0b[01]+/i)&&(m=!0),e.match(/^0o[0-7]+/i)&&(m=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(m=!0),e.match(/^0(?![\dx])/i)&&(m=!0),m)return e.match(h),t.leavingExpr=!0,"number"}if(e.match(/^<:/))return"operator";if(e.match(F))return"builtin";if(!n&&e.match(N)||e.match(/:\./))return"builtin";if(e.match(/^{[^}]*}(?=\()/))return"builtin";if(e.match(f))return"operator";if(e.match(/^'/))return t.tokenize=l,t.tokenize(e,t);if(e.match(_))return t.tokenize=c(e.current()),t.tokenize(e,t);if(e.match(A))return"meta";if(e.match(g))return null;if(e.match(C))return"keyword";if(e.match(S))return"builtin";var b=t.isDefinition||"function"==t.lastToken||"macro"==t.lastToken||"type"==t.lastToken||"immutable"==t.lastToken;return e.match(v)?b?"."===e.peek()?(t.isDefinition=!0,"variable"):(t.isDefinition=!1,"def"):e.match(/^({[^}]*})*\(/,!1)?o(e,t):(t.leavingExpr=!0,"variable"):(e.next(),u)}function o(e,t){var n=e.match(/^(\(\s*)/);if(n&&(t.firstParenPos<0&&(t.firstParenPos=t.scopes.length),t.scopes.push("("),t.charsAdvanced+=n[1].length),"("==i(t)&&e.match(/^\)/)&&(t.scopes.pop(),t.charsAdvanced+=1,t.scopes.length<=t.firstParenPos)){var r=e.match(/^\s*?=(?!=)/,!1);return e.backUp(t.charsAdvanced),t.firstParenPos=-1,t.charsAdvanced=0,r?"def":"builtin"}if(e.match(/^$/g,!1)){for(e.backUp(t.charsAdvanced);t.scopes.length>t.firstParenPos;)t.scopes.pop();return t.firstParenPos=-1,t.charsAdvanced=0,"builtin"}return t.charsAdvanced+=e.match(/^([^()]*)/)[1].length,o(e,t)}function s(e,t){return e.match(/^#=/)&&t.weakScopes++,e.match(/.*?(?=(#=|=#))/)||e.skipToEnd(),e.match(/^=#/)&&(t.weakScopes--,0==t.weakScopes&&(t.tokenize=a)),"comment"}function l(e,t){var n,r=!1;if(e.match(x))r=!0;else if(n=e.match(/\\u([a-f0-9]{1,4})(?=')/i)){var i=parseInt(n[1],16);(55295>=i||i>=57344)&&(r=!0,e.next())}else if(n=e.match(/\\U([A-Fa-f0-9]{5,8})(?=')/)){var i=parseInt(n[1],16);1114111>=i&&(r=!0,e.next())}return r?(t.leavingExpr=!0,t.tokenize=a,"string"):(e.match(/^[^']+(?=')/)||e.skipToEnd(),e.match(/^'/)&&(t.tokenize=a),u)}function c(e){function t(t,r){for(;!t.eol();)if(t.eatWhile(/[^"\\]/),t.eat("\\"))t.next();else{if(t.match(e))return r.tokenize=a,r.leavingExpr=!0,n;t.eat(/["]/)}return n}for(;"bruv".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n="string";return t.isString=!0,t}var u="error",d="\\\\[0-7]{1,3}",p="\\\\x[A-Fa-f0-9]{1,2}",h="\\\\[abfnrtv0%?'\"\\\\]",m="([^\\u0027\\u005C\\uD800-\\uDFFF]|[\\uD800-\\uDFFF][\\uDC00-\\uDFFF])",f=t.operators||/^\.?[|&^\\%*+\-<>!=\/]=?|\?|~|:|\$|\.[<>]|<<=?|>>>?=?|\.[<>=]=|->?|\/\/|\bin\b(?!\()|[\u2208\u2209](?!\()/,g=t.delimiters||/^[;,()[\]{}]/,v=t.identifiers||/^[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/,b=[d,p,h,m],y=["begin","function","type","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch","do"],w=["end","else","elseif","catch","finally"],k=["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","macro","module","baremodule","type","immutable","quote","typealias","abstract","bitstype"],E=["true","false","nothing","NaN","Inf"],_=/^(`|"{3}|([brv]?"))/,x=n(b,"'"),C=n(k),S=n(E),T=n(y),R=n(w),A=/^@[_A-Za-z][\w]*/,N=/^:[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/,F=/^::[^,;"{()=$\s]+({[^}]*}+)*/,M={startState:function(){return{tokenize:a,scopes:[],weakScopes:0,lastToken:null,leavingExpr:!1,isDefinition:!1,charsAdvanced:0,firstParenPos:-1}},token:function(e,t){var n=t.tokenize(e,t),r=e.current();return r&&n&&(t.lastToken=r),"."===r&&(n=e.match(v,!1)||e.match(A,!1)||e.match(/\(/,!1)?"operator":u),n},indent:function(t,n){var r=0;return("]"==n||")"==n||"end"==n||"else"==n||"elseif"==n||"catch"==n||"finally"==n)&&(r=-1),(t.scopes.length+r)*e.indentUnit},electricInput:/(end|else(if)?|catch|finally)$/,lineComment:"#",fold:"indent"};return M}),e.defineMIME("text/x-julia","julia")})},function(e,t,n){!function(e){e(n(157))}(function(e){"use strict";e.registerHelper("wordChars","r",/[\w.]/),e.defineMode("r",function(e){function t(e){for(var t=e.split(" "),n={},r=0;r<t.length;++r)n[t[r]]=!0;return n}function n(e,t){o=null;var n=e.next();if("#"==n)return e.skipToEnd(),"comment";if("0"==n&&e.eat("x"))return e.eatWhile(/[\da-f]/i),"number";if("."==n&&e.eat(/\d/))return e.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(n))return e.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if("'"==n||'"'==n)return t.tokenize=r(n),"string";if("."==n&&e.match(/.[.\d]+/))return"keyword";if(/[\w\.]/.test(n)&&"_"!=n){e.eatWhile(/[\w\.]/);var i=e.current();return s.propertyIsEnumerable(i)?"atom":c.propertyIsEnumerable(i)?(u.propertyIsEnumerable(i)&&!e.match(/\s*if(\s+|$)/,!1)&&(o="block"),"keyword"):l.propertyIsEnumerable(i)?"builtin":"variable"}return"%"==n?(e.skipTo("%")&&e.next(),"variable-2"):"<"==n&&e.eat("-")?"arrow":"="==n&&t.ctx.argList?"arg-is":d.test(n)?"$"==n?"dollar":(e.eatWhile(d),"operator"):/[\(\){}\[\];]/.test(n)?(o=n,";"==n?"semi":null):null}function r(e){return function(t,r){if(t.eat("\\")){var i=t.next();return"x"==i?t.match(/^[a-f0-9]{2}/i):("u"==i||"U"==i)&&t.eat("{")&&t.skipTo("}")?t.next():"u"==i?t.match(/^[a-f0-9]{4}/i):"U"==i?t.match(/^[a-f0-9]{8}/i):/[0-7]/.test(i)&&t.match(/^[0-7]{1,2}/),"string-2"}for(var a;null!=(a=t.next());){if(a==e){r.tokenize=n;break}if("\\"==a){t.backUp(1);break}}return"string"}}function i(e,t,n){e.ctx={type:t,indent:e.indent,align:null,column:n.column(),prev:e.ctx}}function a(e){e.indent=e.ctx.indent,e.ctx=e.ctx.prev}var o,s=t("NULL NA Inf NaN NA_integer_ NA_real_ NA_complex_ NA_character_"),l=t("list quote bquote eval return call parse deparse"),c=t("if else repeat while function for in next break"),u=t("if else repeat while function for"),d=/[+\-*\/^<>=!&|~$:]/;return{startState:function(){return{tokenize:n,ctx:{type:"top",indent:-e.indentUnit,align:!1},indent:0,afterIdent:!1}},token:function(e,t){if(e.sol()&&(null==t.ctx.align&&(t.ctx.align=!1),t.indent=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);"comment"!=n&&null==t.ctx.align&&(t.ctx.align=!0);var r=t.ctx.type;return";"!=o&&"{"!=o&&"}"!=o||"block"!=r||a(t),"{"==o?i(t,"}",e):"("==o?(i(t,")",e),t.afterIdent&&(t.ctx.argList=!0)):"["==o?i(t,"]",e):"block"==o?i(t,"block",e):o==r&&a(t),t.afterIdent="variable"==n||"keyword"==n,n},indent:function(t,r){if(t.tokenize!=n)return 0;var i=r&&r.charAt(0),a=t.ctx,o=i==a.type;return"block"==a.type?a.indent+("{"==i?0:e.indentUnit):a.align?a.column+(o?0:1):a.indent+(o?0:e.indentUnit)},lineComment:"#"}}),e.defineMIME("text/x-rsrc","r")})},function(e,t,n){var r,i,a;!function(n,o){i=[],r=o,a="function"==typeof r?r.apply(t,i):r,!(void 0!==a&&(e.exports=a))}(this,function(){"use strict";function e(e){return o(e)?e.toLowerCase():e}function t(e){if(null==e||l(e))return!1;var t=e.length;return e.nodeType===q&&t?!0:o(e)||b(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,n,r){var i,a;if(e)if(s(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||n.call(r,e[i],i,e);else if(b(e)||t(e)){var o="object"!=typeof e;for(i=0,a=e.length;a>i;i++)(o||i in e)&&n.call(r,e[i],i,e)}else if(e.forEach&&e.forEach!==forEach)e.forEach(n,r,e);else for(i in e)e.hasOwnProperty(i)&&n.call(r,e[i],i,e);return e}function r(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||jQuery.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],r=e[t],o!==r&&(c&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,a=n&&jQuery.isArray(n)?n:[]):a=n&&jQuery.isPlainObject(n)?n:{},o[t]=jQuery.extend(c,a,r)):void 0!==r&&(o[t]=r));return o}function i(e,t){var n=arguments.length>2?sliceArgs(arguments,2):[];return!s(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,concat(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function a(e){return"undefined"!=typeof e}function o(e){return"string"==typeof e}function s(e){return"function"==typeof e}function l(e){return e&&e.window===e}function c(){if("undefined"==typeof window)return!1;var e=window.navigator.userAgent,t=e.indexOf("MSIE ");return t>0?parseInt(e.substring(t+5,e.indexOf(".",t))):!1}function u(e){var t=e;return y&&(w.setAttribute("href",t),t=w.href),w.setAttribute("href",t),{href:w.href,protocol:w.protocol?w.protocol.replace(/:$/,""):"",host:w.host,search:w.search?w.search.replace(/^\?/,""):"",hash:w.hash?w.hash.replace(/^#/,""):"",hostname:w.hostname,port:w.port,pathname:"/"===w.pathname.charAt(0)?w.pathname:"/"+w.pathname}}function d(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return a(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return a(e)?(t=e,this):t},this.sanitizeUri=function(n,r){var i,a=r?t:e;return i=u(n).href,""===i||i.match(a)?n:"unsafe:"+i}}function p(){this.sanitizeHTML=function(e){var t=[];return m(e,v(t,function(e,t){return!/^unsafe/.test(k(e,t))})),t.join("")}}function h(t,n){var r,i={},a=t.split(",");for(r=0;r<a.length;r++)i[n?e(a[r]):a[r]]=!0;return i}function m(t,n){function r(t,r,a,o){if(r=e(r),I[r])for(;c.last()&&P[c.last()];)i("",c.last());O[r]&&c.last()==r&&i("",r),o=M[r]||!!o,o||c.push(r);var s={};a.replace(x,function(e,t,n,r,i){var a=n||r||i||"";s[t]=f(a)}),n.start&&n.start(r,s,o)}function i(t,r){var i,a=0;if(r=e(r))for(a=c.length-1;a>=0&&c[a]!=r;a--);if(a>=0){for(i=c.length-1;i>=a;i--)n.end&&n.end(c[i]);c.length=a}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var a,o,s,l,c=[],u=t;for(c.last=function(){return c[c.length-1]};t;){if(l="",o=!0,c.last()&&j[c.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+c.last()+"[^>]*>","i"),function(e,t){return t=t.replace(T,"$1").replace(A,"$1"),n.chars&&n.chars(f(t)),""}),i("",c.last())):(0===t.indexOf("<!--")?(a=t.indexOf("--",4),a>=0&&t.lastIndexOf("-->",a)===a&&(n.comment&&n.comment(t.substring(4,a)),t=t.substring(a+3),o=!1)):R.test(t)?(s=t.match(R),s&&(t=t.replace(s[0],""),o=!1)):S.test(t)?(s=t.match(_),s&&(t=t.substring(s[0].length),s[0].replace(_,i),o=!1)):C.test(t)&&(s=t.match(E),s?(s[4]&&(t=t.substring(s[0].length),s[0].replace(E,r)),o=!1):(l+="<",t=t.substring(1))),o&&(a=t.indexOf("<"),l+=0>a?t:t.substring(0,a),t=0>a?"":t.substring(a),n.chars&&n.chars(f(l)))),t==u)throw new Error("The sanitizer was unable to parse the following block of html: "+t);u=t}i()}function f(e){return e?(V.innerHTML=e.replace(/</g,"&lt;"),V.textContent):""}function g(e){return e.replace(/&/g,"&amp;").replace(N,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(F,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(t,r){var a=!1,o=i(t,t.push);return{start:function(t,i,s){t=e(t),!a&&j[t]&&(a=t),a||z[t]!==!0||(o("<"),o(t),n(i,function(n,i){var a=e(i),s="img"===t&&"src"===a||"background"===a;W[a]!==!0||U[a]===!0&&!r(n,s)||(o(" "),o(i),o('="'),o(g(n)),o('"'))}),o(s?"/>":">"))},end:function(t){t=e(t),a||z[t]!==!0||(o("</"),o(t),o(">")),t==a&&(a=!1)},chars:function(e){a||o(g(e))}}}var b=Array.isArray,y=c(),w=document.createElement("a"),k=(u(window.location.href),(new d).sanitizeUri),E=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,_=/^<\/\s*([\w:-]+)[^>]*>/,x=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,C=/^</,S=/^<\//,T=/<!--(.*?)-->/g,R=/<!DOCTYPE([^>]*?)>/i,A=/<!\[CDATA\[(.*?)]]>/g,N=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,F=/([^\#-~| |!])/g,M=h("area,br,col,hr,img,wbr"),L=h("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),D=h("rp,rt"),O=r({},D,L),I=r({},L,h("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),P=r({},D,h("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),B=h("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),j=h("script,style"),z=r({},M,I,P,O,B),U=h("background,cite,href,longdesc,src,usemap,xlink:href"),$=h("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),H=h("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),W=r({},U,H,$),V=document.createElement("pre"),q=1;return r({},new d,new p)})},function(e,t,n){var r,i,a=a||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},o=/constructor/i.test(e.HTMLElement),s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",u=4e4,d=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,u)},p=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(a){l(a)}}},h=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},m=function(t,l,u){u||(t=h(t));var m,f=this,g=t.type,v=g===c,b=function(){p(f,"writestart progress write writeend".split(" "))},y=function(){if((s||v&&o)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=e.open(t,"_blank");n||(e.location.href=t),t=void 0,f.readyState=f.DONE,b()},r.readAsDataURL(t),void(f.readyState=f.INIT)}if(m||(m=n().createObjectURL(t)),v)e.location.href=m;else{var i=e.open(m,"_blank");i||(e.location.href=m)}f.readyState=f.DONE,b(),d(m)};return f.readyState=f.INIT,i?(m=n().createObjectURL(t),void setTimeout(function(){r.href=m,r.download=l,a(r),b(),d(m),f.readyState=f.DONE})):void y()},f=m.prototype,g=function(e,t,n){return new m(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=h(e)),navigator.msSaveOrOpenBlob(e,t)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=a:null!==n(165)&&null!==n(166)&&(r=[],i=function(){return a}.apply(t,r),!(void 0!==i&&(e.exports=i)))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(6),o=n(168),s=function(e){function t(t){var n=this;e.call(this,t),this.mobileHeaderUpperBound=800,this.handleClick=function(e){i(e.target).closest(".site-header-react__user-nav").length||i(e.target).closest(".site-header-react__user").length||!n.state.shouldShowUserDropdown||n.setState({shouldShowUserDropdown:!1}),i(e.target).closest(".site-header-react__mobile-menu").length||i(e.target).closest(".site-header-react__mobile-menu-button").length||!n.state.shouldShowMobileMenu||n.setState({shouldShowMobileMenu:!1})},this.handleResize=function(){var e=window.innerWidth;n.setState({windowWidth:e,shouldShowMobileHeader:e<=n.mobileHeaderUpperBound})},this.updateSiteHeaderState=function(e,t){var r={};r[e]=t,n.setState(r)};var r=window.innerWidth;this.state=i.extend({},this.props,{shouldShowUserDropdown:!1,shouldShowMobileHeader:r<=this.mobileHeaderUpperBound,windowWidth:r})}return r(t,e),t.prototype.componentWillMount=function(){window.addEventListener("touchstart",this.handleClick,!1),window.addEventListener("mousedown",this.handleClick,!1),window.addEventListener("resize",this.handleResize,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("touchstart",this.handleClick,!1),window.removeEventListener("mousedown",this.handleClick,!1),window.removeEventListener("resize",this.handleResize,!1)},t.prototype.render=function(){var e=[{itemUrl:"/competitions",itemName:"Competitions"},{itemUrl:"/datasets",itemName:"Datasets"},{itemUrl:"/kernels",itemName:"Kernels"},{itemUrl:"/forums",itemName:"Forums"},{itemUrl:"/jobs",itemName:"Jobs"}],t=[{itemUrl:"/competitions",itemName:"Competitions"},{itemUrl:"/datasets",itemName:"Datasets"},{itemUrl:"/kernels",itemName:"Kernels"},{itemUrl:"/jobs",itemName:"Jobs"},{itemUrl:"/rankings",itemName:"Kaggle Rankings"},{itemUrl:"/forums",itemName:"Forums"},{itemUrl:"/blog",itemName:"Blog"},{itemUrl:"/wiki",itemName:"Wiki"},{itemUrl:"/host",itemName:"Host a Competition"}],n={mainNavItems:e,mobileNavItems:t,userURL:a.Current.userProfileUrl,userDisplayName:a.Current.userDisplayName,userAvatarURL:a.Current.userThumbnailUrl,userIsAnonymous:a.Current.isAnonymous,updateSiteHeaderState:this.updateSiteHeaderState};return React.createElement(o.SiteHeader,i.extend({},this.state,n))},t}(React.Component);t.SiteHeaderContainer=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(41),a=n(33),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.renderMainNav=function(){return this.props.mainNavItems.length?React.createElement("nav",{className:"site-header-react__nav"},this.props.mainNavItems.map(function(e,t){return React.createElement("li",{key:t,className:"site-header-react__nav-item"},React.createElement("a",{href:e.itemUrl},e.itemName))})):null},t.prototype.renderMobileNav=function(){return this.props.mobileNavItems.length?React.createElement("nav",{className:"site-header-react__mobile-nav"},this.props.mobileNavItems.map(function(e,t){return React.createElement("li",{key:t,className:"site-header-react__mobile-nav-item"},React.createElement("a",{href:e.itemUrl},e.itemName))}),this.props.userIsAnonymous?null:React.createElement("li",{className:"site-header-react__mobile-nav-item site-header-react__mobile-nav-item--log-off"},React.createElement("a",{href:"/account/logoff"},"Log Out"))):null},t.prototype.renderUserDropdown=function(){return React.createElement("div",{className:"site-header-react__user-nav-container"},React.createElement("nav",{className:"site-header-react__user-nav"},React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("span",{className:"site-header-react__user-name"},"Signed in as ",this.props.userDisplayName)),React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:this.props.userURL,className:"site-header-react__user-nav-link"},React.createElement("span",null,"My Profile"))),React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:"/rankings",className:"site-header-react__user-nav-link"},React.createElement("span",null,"Kaggle Rankings"))),React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:"/blog",className:"site-header-react__user-nav-link"},React.createElement("span",null,"Blog"))),React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:"/wiki",className:"site-header-react__user-nav-link"},React.createElement("span",null,"Wiki"))),React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:"/host",className:"site-header-react__user-nav-link"},React.createElement("span",null,"Host a Competition"))),React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:"/account/logoff",className:"site-header-react__user-nav-link"},React.createElement("span",null,"Sign Out")))))},t.prototype.toggleUserDropdown=function(){this.props.updateSiteHeaderState("shouldShowUserDropdown",!this.props.shouldShowUserDropdown)},t.prototype.toggleMobileMenu=function(){this.props.updateSiteHeaderState("shouldShowMobileMenu",!this.props.shouldShowMobileMenu)},t.prototype.renderMobileMenu=function(){var e=this;return React.createElement("div",{className:"site-header-react__mobile-menu"},this.props.userIsAnonymous?React.createElement("div",{className:"site-header-react__mobile-menu--anonymous"},React.createElement("a",{className:"site-header-react__mobile-sign-up",href:"/account/register"},"Sign Up"),React.createElement("a",{className:"site-header-react__mobile-sign-in",href:"/account/login"},"Log In")):React.createElement("a",{href:this.props.userURL,className:"site-header-react__mobile-user"},React.createElement("img",{src:this.props.userAvatarURL,alt:this.props.userDisplayName+" avatar image",className:"site-header-react__mobile-avatar"}),React.createElement("span",{className:"site-header-react__mobile-user-name"},this.props.userDisplayName)),this.renderMobileNav(),React.createElement("div",{className:"site-header-react__mobile-menu-close-wrapper"},React.createElement("span",{className:"site-header-react__mobile-menu-close",onClick:function(){return e.toggleMobileMenu()}},React.createElement("span",{className:"fa fa-times-circle-o"}),React.createElement("span",{className:"site-header-react__mobile-menu-close-text"},"Close"))))},t.prototype.renderMobileHeader=function(){var e=this;return React.createElement("div",{className:"site-header-react__mobile-content"},React.createElement("span",{className:"fa fa-bars site-header-react__mobile-menu-button",onClick:function(){return e.toggleMobileMenu()}}),React.createElement("div",{className:"site-header-react__mobile-logo"},React.createElement("a",{href:"/"},React.createElement("img",{alt:"Kaggle",src:"/static/images/site-logo.png"}))),this.props.shouldShowMobileMenu?this.renderMobileMenu():null)},t.prototype.renderDesktopHeader=function(){var e=this;return React.createElement("div",{className:"site-header-react__content"},React.createElement("div",{className:"site-header-react__logo"},React.createElement("a",{href:"/"},React.createElement("img",{alt:"Kaggle",src:"/static/images/site-logo.png"}))),this.renderMainNav(),React.createElement("div",{className:"site-header-react__user"},this.props.userIsAnonymous?React.createElement("ul",{className:"site-header-react__user--anonymous"},React.createElement("li",null,React.createElement(i.Button,{text:"Sign Up",isSmall:!0,href:"/account/register"})),React.createElement("li",null,React.createElement("a",{className:"site-header-react__sign-in-link",href:"/account/login"},"Log In"))):this.props.shouldShowUserDropdown?React.createElement("div",{className:"site-header-react__user--logged-in--active",onClick:function(){return e.toggleUserDropdown()}},React.createElement("ul",null,React.createElement("li",{className:"site-header-react__user-avatar"},React.createElement("span",{className:"fa fa-caret-down site-header-react__caret-down"}),React.createElement("img",{src:this.props.userAvatarURL}))),this.renderUserDropdown()):React.createElement(a.ToolTip,{tipText:"Profile & community"},React.createElement("div",{className:"site-header-react__user--logged-in",onClick:function(){return e.toggleUserDropdown()}},React.createElement("ul",null,React.createElement("li",{className:"site-header-react__user-avatar"},React.createElement("span",{className:"fa fa-caret-down site-header-react__caret-down"}),React.createElement("img",{src:this.props.userAvatarURL})))))))},t.prototype.render=function(){return React.createElement("div",{className:"site-header-react"},this.props.shouldShowMobileHeader?this.renderMobileHeader():this.renderDesktopHeader())},t}(React.Component);t.SiteHeader=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(48),o=n(170),s=n(42),l=n(40),c=/^(https?):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,u=function(e){function t(t){var n=this;e.call(this,t),this.resizeListener=function(){return n.setState(n.getMenuLinks(n.state.isEditingHeader))},this.validationRules=[{isValid:function(){return!(!n.state.displayName||!n.state.displayName.trim())},id:"profile-no-display-name",message:function(){return"Please enter a display name."}},{isValid:function(){return!(n.state.displayName&&(n.state.displayName.trim().length<2||n.state.displayName.trim().length>50))},id:"profile-display-name-length",message:function(){return"Your display name must be between 2 and 50 characters in length."}},{isValid:function(){
return!n.state.websiteUrl||c.test(n.state.websiteUrl)},id:"profile-website-format",message:function(){return"Please enter a valid website URL."}},{isValid:function(){return!n.state.linkedInUrl||c.test(n.state.linkedInUrl)},id:"profile-linkedin-format",message:function(){return"Please enter a valid LinkedIn URL."}}],this.onWindowPopState=function(e){e.state.profileTabState&&n.setState(e.state.profileTabState)},this.onProfileTabChanged=function(e){s.PageMessages.clear(),n.checkHiddenTabMessage(e),n.setState({activePane:e,activeTab:e},function(){return n.updateUrlForTab(e)})},this.replaceUrlForTab=function(e){var t=window.history.state||{},r=n.props.userUrl;"home"!=e.toLowerCase()&&(r+="/"+e.toLowerCase()),history.replaceState(t,"",r)},this.updateUrlForTab=function(e){var t={};t.profileTabState={activePane:e,activeTab:e};var r=n.props.userUrl;"home"!=e.toLowerCase()&&(r+="/"+e.toLowerCase()),history.pushState(t,"",r)},this.onProfilePropChanged=function(e,t){var r={};r[e]=t,n.setState(r)},this.onProfileEditingStateCancelled=function(e,t){var r={},a={};r["isEditing"+e]=!1;for(var o=0,l=t;o<l.length;o++){var c=l[o];a[c]=n.props[c]}n.setState(i.extend({},r,a,n.getMenuLinks(!1)),function(){s.PageMessages.clear()})},this.onProfileEditingStateChanged=function(e){var t=n.state["isEditing"+e],r=n.getMenuLinks(!t);if(r["isEditing"+e]=!t,!t)return void n.setState(r);var a=n.getValidationPageMessages();s.PageMessages.clear(),s.PageMessages.add(a),a.length>0||n.setState(r,function(){var e={displayName:n.state.displayName,country:n.state.country,region:n.state.region,city:n.state.city,gitHubUserName:n.state.gitHubUserName,linkedInUrl:n.state.linkedInUrl,twitterUserName:n.state.twitterUserName,userAvatarUrl:n.state.userAvatarUrl,occupation:n.state.occupation,organization:n.state.organization,websiteUrl:n.state.websiteUrl};i.ajax({url:n.props.userUrl+".json",type:"PUT",contentType:"application/json",data:JSON.stringify(e),success:function(e){s.PageMessages.success("Changes to your profile have been saved.")},error:function(e){s.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'})}})})},this.onUpdateProfileImage=function(e,t){return e.append("userId",n.props.userId),e.append("imageLeft",t[0].left),e.append("imageTop",t[0].top),e.append("imageWidth",t[0].width),e.append("imageHeight",t[0].height),i.ajax({url:n.props.userUrl+"/image.json",type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){i("body").css({overflow:"visible"}),i("html").css("overflow","visible"),n.setState({isEditingHeader:!1,userAvatarUrl:n.props.userAvatarUrl+"?r="+(new Date).getMilliseconds()}),s.PageMessages.success("Your profile image has been updated.")}})};var r,a=this.props.canEdit,o=this.props.competitionsSummary.totalResults,l=this.props.scriptsSummary.totalResults,u=this.props.discussionsSummary.totalResults,d=this.props.totalDatasets,p=this.props.totalOrganizations;switch(this.props.activePane.toLowerCase()){case"competitions":r=a||o>0?"competitions":"home";break;case"kernels":r=a||l>0?"kernels":"home";break;case"discussion":r=a||u>0?"discussion":"home";break;case"datasets":r=a||d>0?"datasets":"home";break;case"organizations":r=a||p>0?"organizations":"home";break;case"account":r=a?"account":"home";break;default:r="home"}this.state=i.extend({},this.props,{activePane:r,activeTab:r,isEditingHeader:!1},this.getMenuLinks(!1)),this.replaceUrlForTab(r)}return r(t,e),t.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1),window.addEventListener("resize",this.resizeListener)},t.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1),window.removeEventListener("resize",this.resizeListener)},t.prototype.componentDidMount=function(){if(this.checkHiddenTabMessage(this.state.activePane),24266===this.props.userId){var e='In memory of Lucas, <a href="/forums/f/15/kaggle-forum/t/20388/data-scientist-hero/116473#post116473">a data scientist hero</a>';this.setState({pageMessages:[{type:"info",id:"tribute",htmlMessage:e}]})}},t.prototype.buildLink=function(e,t){return void 0===t&&(t=null),{count:null==t?null:a.numberWithCommas(t),href:"Home"==e?this.props.userUrl:this.props.userUrl+"/"+e.toLowerCase(),title:e,text:e,tab:e}},t.prototype.getMenuLinks=function(e){for(var t=document.body.clientWidth,n=this.props.canEdit,r=this.props.competitionsSummary.totalResults,i=this.props.scriptsSummary.totalResults,a=this.props.discussionsSummary.totalResults,o=this.props.totalDatasets,s=this.props.totalOrganizations,c=n?e?190:this.props.isAdmin&&this.props.userId!==l.Current.userId?230:121:136,u=Math.min(t,950)-c,d=67,p=[{link:this.buildLink("Home"),shouldShow:!0,width:72},{link:this.buildLink("Competitions",r),shouldShow:n||r>0,width:148},{link:this.buildLink("Kernels",i),shouldShow:n||i>0,width:106},{link:this.buildLink("Discussion",a),shouldShow:n||a>0,width:129},{link:this.buildLink("Datasets",o),shouldShow:(n||o>0)&&this.props.canCreateDatasets,width:114},{link:this.buildLink("Organizations",s),shouldShow:n||s>0,width:150},{link:this.buildLink("Account"),shouldShow:n||e,width:90}],h=[],m=[],f=0,g=p;f<g.length;f++){var v=g[f];v.shouldShow&&(v.width<u?(h.push(v.link),u-=v.width):(d>u&&m.push(h.pop()),m.push(v.link),u=d))}return{menuLinks:h,overflowMenuLinks:m}},t.prototype.getValidationPageMessages=function(e){var t=[];return this.validationRules.forEach(function(n){var r=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&r||!n.isValid()&&r&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},t.prototype.checkHiddenTabMessage=function(e){switch(e.toLowerCase()){case"competitions":this.showHiddenTabMessageIfNeeded("participate in a competition",this.props.competitionsSummary.totalResults);break;case"kernels":this.showHiddenTabMessageIfNeeded("create a kernel",this.props.scriptsSummary.totalResults);break;case"discussion":this.showHiddenTabMessageIfNeeded("participate in a discussion",this.props.discussionsSummary.totalResults);break;case"datasets":this.showHiddenTabMessageIfNeeded("create a dataset",this.props.totalDatasets);break;case"organizations":this.showHiddenTabMessageIfNeeded("join an organization",this.props.totalOrganizations)}},t.prototype.showHiddenTabMessageIfNeeded=function(e,t){this.props.canEdit&&0===t&&s.PageMessages.info("This tab is hidden from other users until you "+e+".")},t.prototype.render=function(){var e={onProfilePropChanged:this.onProfilePropChanged,onProfileEditingStateChanged:this.onProfileEditingStateChanged,onProfileEditingStateCancelled:this.onProfileEditingStateCancelled,onProfileTabChanged:this.onProfileTabChanged,onUpdateProfileImage:this.onUpdateProfileImage,userAvatarUrl:this.state.userAvatarUrl||this.props.userAvatarUrl};return React.createElement(o.Profile,i.extend({},this.state,e))},t}(React.Component);t.ProfileContainer=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(51),o=n(171),s=n(175),l=n(176),c=n(177),u=n(178),d=n(179),p=n(143),h=n(182),m=n(40),f=n(187),g=n(188),v=n(79),b=n(55),y=n(41),w=n(5),k=function(e){function t(t){var n=this;e.call(this,t),this.onCityChanged=function(e,t,r){n.props.onProfilePropChanged("city",e),n.props.onProfilePropChanged("region",t),n.props.onProfilePropChanged("country",r)},this.onUpdateImages=function(e,t){return n.props.onUpdateProfileImage(e,t).then(function(e){return n.setState({isEditingImage:!1})})},this.onOpenImageUploader=function(){n.setState({isEditingImage:!0})},this.onCloseImageUploader=function(){n.setState({isEditingImage:!1})},this.state={isEditingImage:!1}}return r(t,e),t.prototype.getOverallTierName=function(){return"staff"===this.props.performanceTier?"Kaggle Team":this.props.performanceTierCategory+" "+this.props.performanceTier},t.prototype.getCityDescription=function(){var e=g.getCountryNameByCode(this.props.country)||this.props.country;return[this.props.city,this.props.region,e].filter(Boolean).join(", ")},t.prototype.renderDisplayName=function(){var e=this;return this.props.isEditingHeader&&this.props.canEdit?React.createElement(m.InlineTextEditor,{className:"profile__display-name--input",value:this.props.displayName,placeholder:"Enter your display name",onChangeCallback:function(t){return e.props.onProfilePropChanged("displayName",t)}}):React.createElement("span",null,this.props.displayName," ",this.props.genieUrl?React.createElement("a",{href:this.props.genieUrl,className:"profile__genie-link"},"Genie!"):null)},t.prototype.renderAdminCallToAction=function(){var e=this;return this.props.isEditingHeader?React.createElement("div",{className:"profile__cta-area"},React.createElement("a",{className:"profile__editing-cancel",onClick:function(){return e.props.onProfileEditingStateCancelled("Header",["displayName","gitHubUserName","linkedInUrl","twitterUserName","userAvatarUrl","country","region","city","occupation","organization","websiteUrl"])}},"cancel"),React.createElement("a",{className:"pageheader__calltoaction--active",onClick:function(){return e.props.onProfileEditingStateChanged("Header")},title:"Save Profile"},"Save Profile")):React.createElement("div",{className:"profile__cta-area"},this.props.userId!==m.Current.userId?React.createElement("a",{className:"profile__contact-user-link",onClick:function(){return e.props.onProfileTabChanged("contact")}},"Contact User"):null,React.createElement("a",{className:"pageheader__calltoaction",onClick:function(){return e.props.onProfileEditingStateChanged("Header")},title:"Edit Profile"},"Edit Profile"))},t.prototype.renderContactCallToAction=function(){var e=this;return React.createElement("a",{className:"pageheader__calltoaction",onClick:function(){return e.props.onProfileTabChanged("contact")},title:"Contact User"},"Contact User")},t.prototype.renderAvatarOverlay=function(){var e=React.createElement(v.ImageUploader,{title:"Upload Your Profile Image",imageSettings:[new v.ImageSetting("profile image","Select an area of the image to use for your profile",new v.Size(200,200),new v.Rectangle(new v.Point(0,0),new v.Size(0,0)))],originalImageUrl:null,containerSize:new v.Size(500,300),selectorBorderWidth:1,onCancel:this.onCloseImageUploader,onUpdateImages:this.onUpdateImages,hiResScale:2}),t=React.createElement(b.Modal,{buttonClassName:"pageheader__imageuploaderbutton",modalClassName:"pageheader__imageuploadermodal",modalContent:e,modalIsShown:this.state.isEditingImage,onShow:this.onOpenImageUploader,onClose:this.onCloseImageUploader});return React.createElement("div",{className:"profile__avatar-overlay"},t,React.createElement("p",{className:"profile__avatar-text",onClick:this.onOpenImageUploader},"Change Your Profile Photo"))},t.prototype.renderUserSocialLinks=function(){var e=this;return this.props.isEditingHeader?React.createElement("ul",{className:"profile__social-links--editing"},React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-github"}),React.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.gitHubUserName,placeholder:"GitHub Username",onChangeCallback:function(t){return e.props.onProfilePropChanged("gitHubUserName",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-twitter"}),React.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.twitterUserName,placeholder:"Twitter Username",onChangeCallback:function(t){return e.props.onProfilePropChanged("twitterUserName",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-linkedin"}),React.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.linkedInUrl,placeholder:"LinkedIn URL",onChangeCallback:function(t){return e.props.onProfilePropChanged("linkedInUrl",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-globe"}),React.createElement(m.InlineTextEditor,{className:"profile__social-link--input",value:this.props.websiteUrl,placeholder:"Website URL",onChangeCallback:function(t){return e.props.onProfilePropChanged("websiteUrl",t)}}))):React.createElement("ul",{className:"profile__social-links"},this.props.gitHubUserName&&this.props.gitHubUserName.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:"https://github.com/"+this.props.gitHubUserName,rel:"nofollow"},React.createElement("span",{className:"fa fa-github"}))):null,this.props.twitterUserName&&this.props.twitterUserName.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:"https://twitter.com/"+this.props.twitterUserName,rel:"nofollow"},React.createElement("span",{className:"fa fa-twitter"}))):null,this.props.linkedInUrl&&this.props.linkedInUrl.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:this.props.linkedInUrl,rel:"nofollow"},React.createElement("span",{className:"fa fa-linkedin"}))):null,this.props.websiteUrl&&this.props.websiteUrl.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:this.props.websiteUrl,className:"profile__social-link--url",rel:"nofollow"},this.props.websiteUrl)):null)},t.prototype.renderDatasetsPane=function(){var e=React.createElement(p.DatasetListReact,{banner:!1,canCreateNewDataset:!1,userId:this.props.userId});return this.props.totalDatasets>0||!this.props.canSeeCallToAction||this.props.userId!==m.Current.userId?e:React.createElement("div",null,React.createElement(w.ContentBox,null,React.createElement("div",{className:"profile__user-action-callout"},React.createElement("h4",null,"A data scientist with no data? No such thing!"),React.createElement("p",null,"Publish any dataset on Kaggle’s ",React.createElement("a",{href:"https://www.kaggle.com/datasets"},"open data platform"),", and your collection will grow here."),React.createElement("p",null,"Find other data enthusiasts with shared interests to discuss and collaborate for work or play."),React.createElement("div",{className:"profile__user-action-callout-button"},React.createElement(y.Button,{text:"New Dataset",href:"https://www.kaggle.com/datasets/new"})))),e)},t.prototype.renderActivePane=function(){switch(this.props.activePane.toLowerCase()){case"home":return React.createElement(h.HomeContainer,i({},this.props));case"competitions":return React.createElement(o.Competition,i({},this.props));case"kernels":return React.createElement(c.Scripts,i({},this.props));case"discussion":return React.createElement(s.Discussion,i({},this.props));case"contact":return React.createElement(l.Contact,i({},this.props));case"datasets":return this.renderDatasetsPane();case"organizations":return React.createElement(u.Organizations,i({},this.props));case"account":return this.props.canEdit?React.createElement(d.AccountContainer,{userName:this.props.userName}):React.createElement(h.HomeContainer,i({},this.props));default:return null}},t.prototype.renderNav=function(){var e=this;return React.createElement(a.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"profile",menuLinks:this.props.menuLinks,overflowMenuLinks:this.props.overflowMenuLinks,changeActiveTab:function(t){return e.props.onProfileTabChanged(t)}})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"profile"},React.createElement("div",{className:"profile__header--"+this.props.performanceTier},React.createElement(a.PageHeader,null,React.createElement(a.PageHeaderTopRow,{modifier:"profile",title:this.renderDisplayName(),subtitle:"",isEditingHeaderInfo:!1,titleUrl:null},React.createElement(a.PageHeaderThumbnail,{classNameElement:"avatar",classNameModifier:"profile",imageUrl:this.props.userAvatarUrl,thumbnailOverlay:this.props.isEditingHeader?this.renderAvatarOverlay():null,targetUrl:""}),this.props.isEditingHeader?null:React.createElement("div",null,React.createElement(m.MediaQuery,{minWidth:0,maxWidth:m.Breakpoints.mobileMax},React.createElement("p",{className:"profile__user-metadata"},"Joined ",React.createElement(m.TimeAgo,{time:this.props.userJoinDate}),React.createElement("br",null),"last seen ",React.createElement(m.TimeAgo,{time:this.props.userLastActive,maxGranularity:"day"}))),React.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMin},React.createElement("p",{className:"profile__user-metadata"},"Joined ",React.createElement(m.TimeAgo,{time:this.props.userJoinDate})," · last seen ",React.createElement(m.TimeAgo,{time:this.props.userLastActive,maxGranularity:"day"})))),React.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMax},React.createElement("div",{className:"profile__user-tier profile__user-tier--"+this.props.performanceTier},React.createElement("a",{href:"/progression",title:"Progression"},React.createElement("p",null,React.createElement("img",{src:"/static/images/tiers/"+this.props.performanceTier+"@192.png",height:"92px",width:"92px"})),React.createElement("p",null,this.getOverallTierName())))),this.props.isEditingHeader&&this.props.canEdit?React.createElement("div",null,React.createElement("div",{className:"profile__user-occupation-edit"},React.createElement(m.InlineTextEditor,{className:"profile__user-occupation--input",value:this.props.occupation,placeholder:"Occupation",onChangeCallback:function(t){return e.props.onProfilePropChanged("occupation",t)}})," at ",React.createElement(m.InlineTextEditor,{className:"profile__user-occupation--input",value:this.props.organization,placeholder:"Organization",onChangeCallback:function(t){return e.props.onProfilePropChanged("organization",t)}})),React.createElement("div",{className:"profile__country-select"},React.createElement(f.CityLookup,{city:this.props.city,region:this.props.region,country:this.props.country,onChange:this.onCityChanged}))):React.createElement("div",null,React.createElement(m.MediaQuery,{minWidth:m.Breakpoints.tabletMax},React.createElement("div",null,React.createElement("p",{className:"profile__user-occupation"},(this.props.occupation||"")+" "+(this.props.occupation&&this.props.organization?"at":"")+" "+(this.props.organization||"")),React.createElement("p",{className:"profile__user-location"},this.getCityDescription()))),React.createElement(m.MediaQuery,{minWidth:m.Breakpoints.mobileMax,maxWidth:m.Breakpoints.tabletMax},React.createElement("div",null,React.createElement("p",{className:"profile__user-location"},(this.props.occupation||"")+" "+(this.props.occupation&&this.props.organization?"at":"")+" "+(this.props.organization||""),""+(this.props.occupation||this.props.organization?" · ":""),this.getCityDescription())))),this.renderUserSocialLinks()))),React.createElement("div",{className:"profile__wrapper"},React.createElement(a.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},React.createElement(m.MediaQuery,{minWidth:0,maxWidth:m.Breakpoints.tabletMax},React.createElement(m.OverflowX,null,this.renderNav())),React.createElement(m.MediaQuery,{minWidth:m.Breakpoints.desktopMin},this.renderNav()),React.createElement(m.MediaQuery,{minWidth:m.Breakpoints.desktopMin},this.props.canEdit?this.renderAdminCallToAction():this.renderContactCallToAction()))),React.createElement("div",{className:"profile__wrapper"},this.renderActivePane()))},t}(React.Component);t.Profile=k},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(2),o=n(44),s=n(7),l=n(32),c=n(34),u=n(29),d=n(172),p=n(173),h=n(174),m=n(48),f=[{value:"best",label:"Best Results"},{value:"recent",label:"Most Recent"}],g=[{value:"completed",label:"Completed"},{value:"active",label:"Active"},{value:"tutorial",label:"Tutorial"}],v=function(e){function t(t){e.call(this,t),this.state={competesWith:[]}}return r(t,e),t.prototype.componentDidMount=function(){var e=this;a.get("/"+this.props.userName+"/competitions.json?includeStats=true").done(function(t){return e.setState(t)})},t.prototype.isTeamCompetition=function(e){return e.teamMembers.length>1},t.prototype.hasCompetitionEnded=function(e){return new Date(e.endDate)<new Date},t.prototype.getListTitle=function(){return this.state.totalCompetitions?React.createElement("span",null,React.createElement(m.FormatNumber,{number:this.state.totalCompetitions})," competitions entered"):" "},t.prototype.renderTimeAgo=function(e){return this.hasCompetitionEnded(e)?React.createElement(s.TimeAgo,{time:e.endDate}):"In progress"},t.prototype.renderRankingDescription=function(e){var t=e.ranking;return 1===t?this.hasCompetitionEnded(e)?React.createElement("span",{className:"profile-competitions__list-item-ranking-desc-winner"},"Winner"):React.createElement("span",null,"1st place"):10>=t?React.createElement("span",null,"Top 10"):React.createElement("span",null,"Top ",Math.round(100*t/e.totalCompetitors),"%")},t.prototype.renderTeamDescription=function(e){return this.isTeamCompetition(e)?React.createElement("span",null,e.totalEntries," submissions with team ",React.createElement("a",{href:e.teamUrl,className:"profile-competitions__team-link"},e.teamName)):React.createElement("span",null,e.totalEntries," entries as a solo competitor")},t.prototype.renderCompetitionListItem=function(e,t){return React.createElement(l.BlockLink,{key:t,href:e.competitionUrl},React.createElement("div",{className:"profile-competitions__list-item profile-competitions__list-item--"+(e.canQualifyTalent?"qualify":"no-qualify")},React.createElement("div",{className:"profile-competitions__list-item-thumbnail"},React.createElement("img",{src:e.thumbnailImageUrl,alt:e.competitionTitle})),React.createElement("div",{className:"profile-competitions__list-item-meta"},React.createElement("h2",{className:"profile-competitions__list-item-name"},React.createElement("a",{href:e.competitionUrl},e.competitionTitle)),React.createElement("div",{className:"profile-competitions__list-item-entries"},React.createElement("span",{className:"profile-competitions__list-item-entries--bold"},this.renderTimeAgo(e)," · Top ",Math.min(Math.ceil(e.ranking/e.totalCompetitors*100),100),"% ",e.canQualifyTalent?"":" · Competition Ineligible for Medals"),React.createElement("br",null),this.renderTeamDescription(e)),React.createElement("div",null,this.isTeamCompetition(e)?e.teamMembers.map(function(e,t){return React.createElement(c.Avatar,i({key:t},e,{width:30}))}):null)),React.createElement("div",{className:"profile-competitions__list-item-medal"},null!=e.medal?React.createElement("img",{src:"/static/images/medals/competitions/"+e.medal+"L@2x.png",title:e.medal}):React.createElement("div",{className:"profile-competitions__list-item-medal-spacer"}),React.createElement("div",{className:"profile-competitions__list-item-medal-rank-box"},React.createElement("div",{className:"profile-competitions__list-item-medal-rank"},React.createElement(h.FormatPlace,{number:e.ranking,superscript:!0})),React.createElement("div",{className:"profile-competitions__list-item-medal-teams"},"of ",e.totalCompetitors)))))},t.prototype.render=function(){return React.createElement("div",{className:"profile-competitions"},React.createElement(p.AchievementSummary,i({},this.props.competitionsSummary),React.createElement("div",{className:"achievement-summary__stats-wrapper"},React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Competitions: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalCompetitions)),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Solo: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalSoloCompetitions," ",React.createElement("span",{className:"achievement-summary__stats-text--small"},this.state.totalSoloCompetitions?"("+Math.round(this.state.totalSoloCompetitions/this.state.totalCompetitions*100)+"%)":null," "))),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Team: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalTeamCompetitions," ",React.createElement("span",{className:"achievement-summary__stats-text--small"},this.state.totalTeamCompetitions?"("+Math.round(this.state.totalTeamCompetitions/this.state.totalCompetitions*100)+"%)":null," "))))),React.createElement(d.NextTier,{currentTier:this.props.competitionsSummary.tier,area:"competitions",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),React.createElement(o.SmartListContainer,{titleResolver:this.getListTitle.bind(this),pluralItemDescription:"competitions",sortOptions:f,groups:g,data:this.state,dataUrl:"/"+this.props.userName+"/competitions.json",dataPathToList:"competitions",itemRenderer:this.renderCompetitionListItem.bind(this),mobileSortUpperBound:u.Breakpoints.tabletMax}))},t}(React.Component);t.Competition=v},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(24),a=n(6),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.getNextTier=function(){var e=this,t=i.findIndex(this.props.tierRequirements,function(t){return t.tier===e.props.currentTier});return this.props.tierRequirements[t+1]},t.prototype.getRequirements=function(){var e=this;return this.getNextTier().requirements.filter(function(t){return!(t.isComplete||t.group&&t.group.toLowerCase()!==e.props.area)}).map(function(e){return e.label}).join(", ")},t.prototype.render=function(){return this.props.userId===a.Current.userId&&"grandmaster"!=this.props.currentTier?React.createElement("div",{className:"profile-next-tier profile-next-tier--"+this.getNextTier().tier},React.createElement("div",{className:"profile-next-tier__next-icon-box"},React.createElement("div",null,React.createElement("img",{src:"/static/images/tiers/"+this.getNextTier().tier+"@192.png",title:this.getNextTier().tier,height:"60",width:"60"}))),React.createElement("div",{className:"profile-next-tier__text"},React.createElement("div",{className:"profile-next-tier__title"},"Level up to ",React.createElement("span",{className:"profile-next-tier__capitalize"},this.props.area)," ",React.createElement("span",{className:"profile-next-tier__capitalize"},this.getNextTier().tier)),React.createElement("div",{className:"profile-next-tier__content"},this.getRequirements()))):null},t}(React.Component);t.NextTier=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(3),a=n(5),o=n(83),s=n(7),l=n(32),c=n(48),u=n(174),d=function(e){function t(t){e.call(this,t),this.mode=t.children?"stats":"highlights"}return r(t,e),t.prototype.formatNumber=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.prototype.getRank=function(){return"Top "+Math.min(Math.ceil(100*this.props.rankPercentage),100)+"%"},t.prototype.getTitle=function(){var e=this;return React.createElement("span",{className:"achievement-summary__title achievement-summary__title--"+(this.props.onProfileTabChanged?"link":"no-link"),onClick:this.props.onProfileTabChanged?function(){return e.props.onProfileTabChanged(e.props.summaryType)}:null},this.props.summaryType," ","stats"===this.mode?"Summary":this.props.tier)},t.prototype.getNoResultsMessage=function(){var e=this.props.summaryType.replace(/s$/,"");return"No "+e+" results"},t.prototype.shouldRenderComponent=function(){var e=!!this.props.children,t=!!this.props.highlights.length;return!e||t},t.prototype.renderScoreDescription=function(e){switch(this.props.summaryType){case"competitions":return React.createElement("div",null,React.createElement("p",null,React.createElement(u.FormatPlace,{number:e.score,superscript:!0})));default:return React.createElement("div",null,React.createElement("p",null,e.score),React.createElement("p",null,i("vote",e.score)))}},t.prototype.renderCompetitorCount=function(e){switch(this.props.summaryType){case"competitions":return React.createElement("div",{className:"achievement-summary__highlight__score-subtitle"},"of ",e.scoreOutOf);default:return React.createElement("div",null)}},t.prototype.renderRank=function(e){switch(this.props.summaryType){case"competitions":return React.createElement("span",null," · ","Top "+Math.min(Math.ceil(e.score/e.scoreOutOf*100),100)+"%");default:return React.createElement("span",null)}},t.prototype.renderMedal=function(e,t){return React.createElement("div",{className:"achievement-summary__medal achievement-summary__medal--"+t+" achievement-summary__medal--"+this.mode},React.createElement("p",null,React.createElement("img",{src:"/static/images/medals/"+this.props.summaryType+"/"+t+"L@1x.png",title:t})),React.createElement("p",null,e))},t.prototype.renderSmallMedal=function(e){return e?React.createElement("span",null,React.createElement("img",{src:"/static/images/medals/"+this.props.summaryType+"/"+e+"L@1x.png",title:e,height:"12px",width:"12 px",className:"achievement-summary__medal-small"})," · "):null},t.prototype.renderTeaserItem=function(e,t){return React.createElement(l.BlockLink,{href:e.url,key:t},React.createElement("div",{className:"achievement-summary__highlight"},React.createElement("div",{className:"achievement-summary__highlight__title"},React.createElement("p",null,React.createElement("a",{href:e.url,title:e.title},e.title)),React.createElement("p",{className:"achievement-summary__highlight__subtitle"},this.renderSmallMedal(e.medal),React.createElement(s.TimeAgo,{time:e.date}),this.renderRank(e))),React.createElement("div",{className:"achievement-summary__highlight__score"},this.renderScoreDescription(e)," ",this.renderCompetitorCount(e))))},t.prototype.renderTierIcon=function(){return React.createElement("img",{src:"/static/images/tiers/"+this.props.tier+"@48.png",title:this.props.tier,height:"30",width:"30"})},t.prototype.renderLargeTierIcon=function(){return React.createElement("img",{src:"/static/images/tiers/"+this.props.tier+"@192.png",title:this.props.tier,height:"70",width:"70"})},t.prototype.renderSummary=function(){return null!=this.props.rankCurrent&&this.props.highlights.length>0?this.props.rankCurrent>this.props.rankHighest?React.createElement("div",{className:"achievement-summary__rank-box-wrapper"},React.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},React.createElement("div",{className:"achievement-summary__rank-box achievement-summary__rank-box--current"},React.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Current Rank"),React.createElement("div",{
className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankCurrent),React.createElement("div",{className:"achievement-summary__rank-label--bottom"}," of ",React.createElement(c.FormatNumber,{number:this.props.rankOutOf})))),React.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},React.createElement("div",{className:"achievement-summary__rank-box achievement-summary__rank-box--highest"},React.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Highest Rank"),React.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankHighest),React.createElement("div",{className:"achievement-summary__rank-label--bottom--empty"})))):React.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},React.createElement("div",{className:"achievement-summary__rank-box"},React.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Rank"),React.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankCurrent),React.createElement("div",{className:"achievement-summary__rank-label--bottom"}," of ",React.createElement(c.FormatNumber,{number:this.props.rankOutOf})))):React.createElement("div",{className:"achievement-summary__rank-box"},React.createElement("a",{href:"/progression/",className:"achievement-summary__rank-link"},React.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--smaller achievement-summary__rank-text--"+this.props.tier},"Unranked")))},t.prototype.render=function(){return this.shouldRenderComponent()?React.createElement(a.ContentBox,{title:this.getTitle(),titleBarRightSide:"highlights"===this.mode?this.renderTierIcon():null,contentClassName:"achievement-summary__content-box"},React.createElement("div",{className:"achievement-summary achievement-summary--"+this.mode},"stats"===this.mode?React.createElement("div",{className:"achievement-summary__tier"},React.createElement("div",null,this.renderLargeTierIcon()),React.createElement("div",null,this.props.summaryType,React.createElement("br",null),this.props.tier)):null,React.createElement("div",{className:"achievement-summary__wrapper achievement-summary__wrapper--"+this.props.summaryType},React.createElement("div",{className:"achievement-summary__rank"},this.renderSummary()),React.createElement("div",{className:"achievement-summary__medals"},this.renderMedal(this.props.totalGoldMedals,"gold"),this.renderMedal(this.props.totalSilverMedals,"silver"),this.renderMedal(this.props.totalBronzeMedals,"bronze")),"highlights"===this.mode?React.createElement("div",{className:"achievement-summary__items"},React.createElement(o.TeaserList,{listItems:this.props.highlights,listItemRenderer:this.renderTeaserItem.bind(this),emptyListMessage:this.getNoResultsMessage()})):null),"stats"===this.mode?React.createElement("div",{className:"achievement-summary__stats"},this.props.children):null)):null},t}(React.Component);t.AchievementSummary=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(48),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.getSuffix=function(){var e=this.props.number%100;if(e>10&&20>e)return"th";switch(this.props.number%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},t.prototype.render=function(){var e=this.props.superscript?{verticalAlign:"super",fontSize:"0.5em"}:{},t=React.createElement("span",{style:e},this.getSuffix());return React.createElement("span",null,React.createElement(i.FormatNumber,{number:this.props.number}),t)},t}(React.Component);t.FormatPlace=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(7),o=n(23),s=n(44),l=n(29),c=n(172),u=n(173),d=[{value:"mostVotes",label:"Most Votes"},{value:"latestPost",label:"Latest Post"}],p=[{value:"commentsAndTopics",label:"Comments and topics"},{value:"comments",label:"Comments"},{value:"topics",label:"Topics"},{separator:!0},{value:"upvoted",label:"Upvoted"}],h=398,m=function(e){function t(t){e.call(this,t),this.state={}}return r(t,e),t.prototype.componentDidMount=function(){var e=this;$.get("/"+this.props.userName+"/discussion.json").done(function(t){return e.setState(t)})},t.prototype.onDidUpdate=function(){$(".profile-discussion__list-item").each(function(e,t){var n=$(t),r=n.outerHeight();r>h&&n.find(".profile-discussion__show-more").show()})},t.prototype.onShowMoreClicked=function(e){var t=$(e.target);t.parents(".profile-discussion__list-item").css("max-height","none"),t.parents(".profile-discussion__show-more").remove()},t.prototype.getTitle=function(e,t){return null!=this.state.totalTopics&&t.data&&!t.isLoadingMoreData?(t.data.totalDiscussions||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+t.values.group.replace(/([A-Z])/g," $1").toLowerCase():" "},t.prototype.renderTaglineLink=function(e){return React.createElement("a",{href:e.url},e.name)},t.prototype.renderTaglineLinkPost=function(e,t){return React.createElement("a",{href:e.url+"/"+t+"#post"+t},e.name)},t.prototype.renderTagline=function(e){switch(e.type){case"forumMessage":return React.createElement("div",null,React.createElement("div",{className:"profile-discussion__list-item-tagline-title"},"Comment in: ",this.renderTaglineLinkPost(e.forumTopic,e.id)),React.createElement("p",null,React.createElement(a.TimeAgo,{time:e.postDate})," in forum: ",this.renderTaglineLink(e.forum)));case"scriptComment":return React.createElement("div",null,React.createElement("div",{className:"profile-discussion__list-item-tagline-title"},"Comment on: ",this.renderTaglineLink(e.script)),React.createElement("p",null,React.createElement(a.TimeAgo,{time:e.postDate})," (kernel comment) "));case"forumTopic":return React.createElement("div",null,React.createElement("div",{className:"profile-discussion__list-item-tagline-title"},"Topic: ",this.renderTaglineLink(e.forumTopic)),React.createElement("p",null,React.createElement(a.TimeAgo,{time:e.postDate})," in forum: ",this.renderTaglineLink(e.forum)));default:return null}},t.prototype.renderDiscussionListItem=function(e,t){return React.createElement("div",{key:t,className:"profile-discussion__list-item"},React.createElement("div",{className:"profile-discussion__list-item-vote"},React.createElement(o.VoteButton,{totalVotes:e.totalScore,hasAlreadyVotedUp:e.vote.hasAlreadyVotedUp,hasAlreadyVotedDown:e.vote.hasAlreadyVotedDown,canUpvote:e.vote.canUpvote,canDownvote:e.vote.canDownvote,voteUpUrl:e.vote.voteUpUrl,voteDownUrl:e.vote.voteDownUrl,large:!0,useDarkTheme:!0}),e.medal?React.createElement("img",{src:"/static/images/medals/discussion/"+e.medal+"L@1x.png",title:e.medal,height:"25px",width:"25px"}):null),React.createElement("div",{className:"profile-discussion__list-item-section"},React.createElement("div",{className:"profile-discussion__list-item-tagline"},this.renderTagline(e),e.attachments.map(function(e){return React.createElement("div",null,React.createElement("a",{href:e.downloadUrl},e.fileName)," (",e.fileSizeDescription,")")}),React.createElement("p",null,"---")),React.createElement("div",{className:"profile-discussion__list-item-body"},React.createElement("div",{className:"profile-discussion__show-more",onClick:this.onShowMoreClicked},React.createElement("div",null," "),React.createElement("p",null,"Read full comment ",React.createElement("i",{className:"fa fa-chevron-down","aria-hidden":"true"}))),React.createElement("div",{className:"markdown-converter__text--rendered",dangerouslySetInnerHTML:{__html:e.message}}))))},t.prototype.render=function(){return React.createElement("div",{className:"profile-discussion"},React.createElement(u.AchievementSummary,i({},this.props.discussionsSummary),React.createElement("div",{className:"achievement-summary__stats-wrapper"},React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Total Posts: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalDiscussions)),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Comments: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalReplies)),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Topics: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalDiscussions?this.state.totalDiscussions-this.state.totalReplies:null)),React.createElement("div",{className:"achievement-summary__stats-divider"}),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Net Votes: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes)),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Votes/Post: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes?Math.round(this.state.totalUpvotes/this.state.totalDiscussions*100)/100:null)))),React.createElement(c.NextTier,{currentTier:this.props.discussionsSummary.tier,area:"discussion",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),React.createElement(s.SmartListContainer,{titleResolver:this.getTitle.bind(this),pluralItemDescription:"discussions",sortOptions:d,groups:p,data:this.state,dataUrl:"/"+this.props.userName+"/discussion.json",dataPathToList:"discussions",itemRenderer:this.renderDiscussionListItem.bind(this),onDidUpdate:this.onDidUpdate,mobileSortUpperBound:l.Breakpoints.tabletMax}))},t}(React.Component);t.Discussion=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(40),a=function(e){function t(t){var n=this;e.call(this,t),this.onSendEmail=function(){var e=$(n.refs.form).serializeArray();$.post(n.endpointUrl,e).then(function(e){i.PageMessages.clear(),e?(i.PageMessages.success("Your message has been sent"),n.setState({canSend:!1})):i.PageMessages.error("There was a problem sending your message")})},this.endpointUrl=this.props.userUrl+"/contact.json",this.state={hasLoaded:!1}}return r(t,e),t.prototype.componentDidMount=function(){var e=this;$.get(this.endpointUrl).then(function(t){t.errorMessage&&i.PageMessages.error(t.errorMessage),t.infoMessage&&i.PageMessages.info(t.infoMessage),e.setState({hasLoaded:!0,canSend:t.canSend})})},t.prototype.render=function(){var e=this;return this.state.hasLoaded?React.createElement("div",{className:"profile-contact"},React.createElement(i.ContentBox,{title:"Contact User"},React.createElement("div",{className:"profile-contact__wrapper"},React.createElement("form",{ref:"form",disabled:!this.state.canSend},React.createElement("div",{className:"profile-contact__row"},React.createElement("label",{className:"profile-contact__row-label"},"To"),React.createElement("div",{className:"profile-contact__row-value"},this.props.displayName," ",React.createElement("span",{className:"profile-contact__confidential"},"<confidential> "))),React.createElement("div",{className:"profile-contact__row"},React.createElement("label",{className:"profile-contact__row-label"},"From"),React.createElement("div",{className:"profile-contact__row-value"},i.Current.userDisplayName," <",i.Current.userEmail,"> ")),React.createElement("div",{className:"profile-contact__row"},React.createElement("label",{className:"profile-contact__row-label"},"Subject"),React.createElement("div",{className:"profile-contact__row-value"},React.createElement("input",{type:"text",className:"profile-contact__subject",name:"subject",disabled:!this.state.canSend,autoFocus:!0}))),React.createElement("div",{className:"profile-contact__row"},React.createElement("textarea",{className:"profile-contact__body",name:"body",disabled:!this.state.canSend})),React.createElement("div",{className:"profile-contact__row"},React.createElement(i.Button,{text:"Send Email",onClick:this.onSendEmail,isDisabled:!this.state.canSend}),this.state.canSend?React.createElement("a",{className:"profile-contact__discard-link",onClick:function(){return e.props.onProfileTabChanged("home")}},"Discard"):null))))):null},t}(React.Component);t.Contact=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(2),o=n(5),s=n(173),l=n(1),c=n(172),u=n(6),d=function(e){function t(t){e.call(this,t),this.state={}}return r(t,e),t.prototype.componentDidMount=function(){var e=this;a.get("/"+this.props.userName+"/code.json").done(function(t){return e.setState(t)})},t.prototype.render=function(){var e=null;return this.props.canSeeCallToAction&&0===this.props.totalScripts&&this.props.userId===u.Current.userId&&(e=React.createElement(o.ContentBox,null,React.createElement("div",{className:"profile__user-action-callout"},React.createElement("h4",null,"In the words of your first math teacher, “Show your work”. "),React.createElement("p",null,"Any code you write and execute in ",React.createElement("a",{href:"https://www.kaggle.com/kernels"},"Kernels")," will be published here."),React.createElement("p",null,"A portfolio of models and dazzling visuals will attract collaborators, recruiters, and upvotes!")))),React.createElement("div",{className:"profile___scripts"},React.createElement(s.AchievementSummary,i({},this.props.scriptsSummary),React.createElement("div",{className:"achievement-summary__stats-wrapper"},React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.scriptsSummary.tier},"Upvotes: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes)),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.scriptsSummary.tier},"Forks: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalForks)))),React.createElement(c.NextTier,{currentTier:this.props.scriptsSummary.tier,area:"kernels",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),e,React.createElement(l.ScriptList,{listTitle:"Kernels",banner:!1,showFilters:!0,sourceBaseUrl:"/kernels/all/",userId:this.props.userId,languagesMetadataUrl:"/kernels/alllang",outputTypesMetadataUrl:"/kernels/allouttypes",loginAndReturnUrl:null,newNotebookUrl:null,newScriptUrl:null,showScriptProjectName:!0,showHiddenSelectionGroup:this.props.canEdit}))},t}(React.Component);t.Scripts=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(40),o=function(e){function t(){var t=this;e.apply(this,arguments),this.renderTitle=function(e){var n=t.props.totalOrganizations;return React.createElement("span",null,React.createElement(a.Pluralize,{count:n,word:"organization",formatNumber:!0})," joined")},this.renderOrganization=function(e){return React.createElement(a.OrganizationCard,i({},e,{key:e.url}))},this.renderFooter=function(e){return React.createElement("div",{className:"organization-card"},React.createElement(a.Button,{href:"/organizations/new",text:"Create an organization"}))}}return r(t,e),t.prototype.render=function(){return React.createElement(a.SmartListContainer,{titleResolver:this.renderTitle,dataUrl:this.props.userUrl+"/organizations.json",itemRenderer:this.renderOrganization,listFooterRenderer:this.props.isAdmin?this.renderFooter:null,pluralItemDescription:"organizations",hasSearch:!1})},t}(React.Component);t.Organizations=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(180),o=n(42),s=function(e){function t(t){e.call(this,t),this.state=this.getDefaultState()}return r(t,e),t.prototype.getDefaultState=function(){var e=this;return{onEditClick:this.onEditClick.bind(this),onSaveClick:this.onSaveClick.bind(this),onCancelClick:this.onCancelClick.bind(this),onUnlinkClick:this.onUnlinkClick.bind(this),onChangePasswordClick:this.onChangePasswordClick.bind(this),onCancelPasswordClick:this.onCancelPasswordClick.bind(this),onSavePasswordClick:this.onSavePasswordClick.bind(this),attributesForm:function(t){return e.attributesForm=t},changePasswordForm:function(t){return e.changePasswordForm=t},isEditing:!1,logins:[]}},t.prototype.getFormData=function(e){var t={};return i.each(i(e).serializeArray(),function(e,n){t[n.name]=n.value}),t},t.prototype.onChangePasswordClick=function(){this.setState({isShowingChangePassword:!0})},t.prototype.onCancelPasswordClick=function(){this.setState({isShowingChangePassword:!1})},t.prototype.onSavePasswordClick=function(){var e=this;i.ajax({url:"/"+this.props.userName+"/password.json",type:"PUT",data:this.getFormData(this.changePasswordForm)}).done(function(t){t.success?(e.setState({isShowingChangePassword:!1}),o.PageMessages.success("Your password has been changed.")):o.PageMessages.error("The current password is incorrect or the new password is invalid.")})},t.prototype.onEditClick=function(){this.setState({isEditing:!0,validation:[]})},t.prototype.onSaveClick=function(){var e=this;o.PageMessages.clear(),i.ajax({url:"/"+this.props.userName+"/account.json",type:"PUT",data:this.getFormData(this.attributesForm)}).done(function(t){e.setState(i.extend({isEditing:!1},t)),o.PageMessages.success("Your account settings have been changed.")}).fail(function(t){403===t.status?e.setState({validation:JSON.parse(t.responseText)}):o.PageMessages.error("An error has occurred. Please try again.")})},t.prototype.onCancelClick=function(){this.setState({isEditing:!1})},t.prototype.onUnlinkClick=function(e){var t=this;i.ajax({url:"/"+this.props.userName+"/account/link/"+e.loginProviderName.toLowerCase()+"/"+e.loginId+".json",type:"delete"}).done(function(e){t.setState(e),o.PageMessages.add(e.pageMessages)})},t.prototype.componentDidMount=function(){var e=this;i.get("/"+this.props.userName+"/account.json").done(function(t){return e.setState(t)})},t.prototype.render=function(){return React.createElement(a.Account,i.extend({},this.state,this.props))},t}(React.Component);t.AccountContainer=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=n(86),o=n(181),s=["Facebook","Google","Yahoo"],l=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.getFormattedDateOfBirth=function(){if(this.props.dateOfBirth){var e=this.props.dateOfBirth;return e.substring(0,4)+"/"+e.substring(5,7)+"/"+e.substring(8,10)}return null},t.prototype.getValidationMessage=function(e){return this.props.validation?(this.props.validation.filter(function(t){return t.key===e})[0]||{}).error:null},t.prototype.getIdentityProviders=function(){var e=this.props.logins.map(function(e){return e.loginProviderName});return s.filter(function(t){return e.indexOf(t)<0})},t.prototype.renderTitleBarRightSide=function(){return this.props.isEditing?React.createElement("div",{className:"account__multiple-button-container"},React.createElement("a",{className:"account__edit--cancel",onClick:this.props.onCancelClick},"cancel"),React.createElement("div",{className:"account__edit",onClick:this.props.onSaveClick},"Save")):React.createElement("div",{className:"account__edit",onClick:this.props.onEditClick},"Edit")},t.prototype.renderPhoneVerificationContent=function(){return this.props.isSmsVerified?"Verified":React.createElement("a",{href:this.props.verifyAccountUrl,className:"account__verify-account",title:"Verify you account"},"Not verified »")},t.prototype.renderAccountInfo=function(){var e=this;return React.createElement("form",{ref:function(t){return e.props.attributesForm(t)}},React.createElement(i.ContentBox,{title:this.props.userId?"Account (User ID "+this.props.userId+")":" ",titleBarRightSide:this.renderTitleBarRightSide()},React.createElement(o.AccountAttribute,{label:"User Name",value:this.props.userName,description:"Your username cannot be changed."}),React.createElement(o.AccountAttribute,{label:"Display Name",value:this.props.displayName,isEditing:this.props.isEditing,fieldName:"displayName",validationMessage:this.getValidationMessage("DisplayName"),description:"The name users will see publicly. We recommend using your full name."}),React.createElement(o.AccountAttribute,{label:"Date of Birth",isEditing:this.props.isEditing,fieldName:"dateOfBirth",validationMessage:this.getValidationMessage("DateOfBirth"),value:this.getFormattedDateOfBirth()}),React.createElement(o.AccountAttribute,{label:"Email Address",value:this.props.emailAddress,validationMessage:this.getValidationMessage("EmailAddress"),isEditing:this.props.isEditing,fieldName:"emailAddress"}),React.createElement(o.AccountAttribute,{label:"Phone Verification",value:this.renderPhoneVerificationContent()}),React.createElement("div",{className:"account__item"},React.createElement("label",null,"Email Preferences"),React.createElement("div",null,React.createElement(a.Checkbox,{isChecked:this.props.isSubscribedToMailingList,text:"Subscribe to mailing list for competition updates",isEditable:this.props.isEditing,textIsClickable:!0,formInputName:"isSubscribedToMailingList"}))),React.createElement("div",{className:"account__item"},React.createElement("a",{className:"account__close-account",href:"/account/delete"},"Close account..."))))},t.prototype.renderChangePassword=function(){var e=this;return this.props.isShowingChangePassword?React.createElement("form",{ref:function(t){return e.props.changePasswordForm(t)},className:"account__change-password"},React.createElement("div",null,React.createElement("label",null,"Current password"),React.createElement("p",null,React.createElement("input",{type:"password",name:"currentPassword"}))),React.createElement("div",null,React.createElement("label",null,"New password"),React.createElement("p",null,React.createElement("input",{type:"password",name:"newPassword"}))),React.createElement("div",null,React.createElement("label",null,"Confirm new password"),React.createElement("p",null,React.createElement("input",{type:"password",name:"confirmPassword"}))),React.createElement("span",{className:"account__change-password-buttons"},React.createElement("a",{onClick:this.props.onCancelPasswordClick},"Cancel"),React.createElement("a",{onClick:this.props.onSavePasswordClick},"Save"))):null},t.prototype.renderKaggleLogin=function(e,t){return React.createElement("div",{className:"account__login account__login--active",key:t},React.createElement("div",{className:"account__login-image--kaggle"}),React.createElement("div",null,React.createElement("div",null,React.createElement("h3",null,"Kaggle username"),React.createElement("p",null,this.props.userName||this.props.displayName," ",this.props.isShowingChangePassword?null:React.createElement("a",{onClick:this.props.onChangePasswordClick},"Change password »")),this.renderChangePassword())))},t.prototype.renderSocialLogin=function(e,t){var n=this;return React.createElement("div",{className:"account__login account__login--active",key:t},React.createElement("div",{className:"account__login-image--"+e.loginProviderName.toLowerCase()}),React.createElement("div",null,React.createElement("div",null,React.createElement("h3",null,e.loginProviderName," ",e.emailFromProvider?"email":"username"),React.createElement("p",null,e.emailFromProvider||e.loginIdentifier," ",React.createElement("a",{onClick:function(){return n.props.onUnlinkClick(e)}},"Unlink »")))))},t.prototype.renderLogins=function(){var e=this;return React.createElement(i.ContentBox,{title:"My logins"},React.createElement("div",{className:"account__item"},React.createElement("h2",null,"Active logins"),this.props.logins.map(function(t,n){return"Kaggle"===t.loginProviderName?e.renderKaggleLogin(t,n):e.renderSocialLogin(t,n)})),React.createElement("div",{className:"account__item"},React.createElement("h2",null,"Add additional logins"),React.createElement("p",null,"Link your profile to one or more of the services below for faster login and automatic bio information. We'll never share anything to your networks without your permission."),this.getIdentityProviders().map(function(t,n){return React.createElement("div",{className:"account__login",key:n},React.createElement("div",{className:"account__login-image--"+t.toLowerCase()}),React.createElement("a",{href:"/"+e.props.userName+"/account/link/"+t,className:"account__login-link--"+t.toLowerCase()},"Link to your ",t," account"))})))},t.prototype.render=function(){return React.createElement("div",{className:"account"},this.renderAccountInfo(),this.renderLogins())},t}(React.Component);t.Account=l},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.getStringValue=function(){var e=this.props.value;return e},t.prototype.render=function(){return React.createElement("div",{className:"account__item"},React.createElement("label",null,this.props.label),this.props.isEditing&&this.props.fieldName?React.createElement("p",null,React.createElement("input",{type:"text",name:this.props.fieldName,defaultValue:this.getStringValue()})):React.createElement("p",{className:"account__attribute-value"},this.props.value," "),this.props.children,this.props.validationMessage&&this.props.isEditing?React.createElement("p",{className:"account__attribute-description account__attribute-description--error"},this.props.validationMessage):React.createElement("p",{className:"account__attribute-description"},this.props.description))},t}(React.Component);t.AccountAttribute=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(183),o=function(e){function t(t){e.call(this,t),this.state={onBioMarkdownChanged:this.onBioMarkdownChanged.bind(this),onBioEditToggled:this.onBioEditToggled.bind(this),onBioEditCancelled:this.onBioEditCancelled.bind(this)}}return r(t,e),t.prototype.onBioMarkdownChanged=function(e){this.bio=e},t.prototype.onBioEditCancelled=function(){this.setState({isEditingBio:!1})},t.prototype.onBioEditToggled=function(e){var t=this;this.state.isEditingBio&&"undefined"!=typeof this.bio?i.ajax({url:this.props.userUrl+"/bio.json",type:"PUT",contentType:"application/json",data:JSON.stringify({bio:this.bio}),success:function(e){t.setState({isEditingBio:!1,bio:t.bio})}}):this.setState({isEditingBio:!this.state.isEditingBio})},t.prototype.render=function(){return React.createElement(a.Home,i.extend({},this.props,this.state))},t}(React.Component);t.HomeContainer=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(5),o=n(184),s=n(173),l=n(29),c=n(61),u=n(78),d=n(137),p=(n(151)(),function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.renderSummary=function(e){var t=!0;return t?React.createElement("div",{className:"profile__home__medal-summary"},React.createElement(s.AchievementSummary,i({},e,{onProfileTabChanged:this.props.onProfileTabChanged}))):null},t.prototype.renderEditToggleButton=function(){return this.props.canEdit?React.createElement(u.EditStateToggleButton,{isEditing:this.props.isEditingBio,sectionName:"Bio",cancelPropName:"cancel",cancelCallback:this.props.onBioEditCancelled,toggleCallback:this.props.onBioEditToggled}):null},t.prototype.render=function(){return React.createElement("div",{className:"profile__home"},React.createElement(l.MediaQuery,{minWidth:l.Breakpoints.desktopMin},React.createElement("div",{className:"profile__home__medals"},this.renderSummary(this.props.competitionsSummary),this.renderSummary(this.props.scriptsSummary),this.renderSummary(this.props.discussionsSummary))),this.props.canEdit||this.props.bio?React.createElement(a.ContentBox,{title:"Bio",titleBarRightSide:this.renderEditToggleButton()},React.createElement("div",{className:"profile__home__bio"},this.props.isEditingBio?React.createElement("div",{className:"profile__home__bio-editor"},React.createElement(c.MarkdownEditor,{defaultValue:this.props.bio,alwaysShowToolbar:!0,hidePreview:!0,shouldSanitizeHtml:!0,minRows:3,onChangeCallback:this.props.onBioMarkdownChanged})):React.createElement("div",{className:"profile__home__bio-text"},React.createElement(d.MarkdownConverter,{content:this.props.bio,insertNofollow:!0})))):null,React.createElement(l.MediaQuery,{minWidth:0,maxWidth:l.Breakpoints.tabletMax},React.createElement("div",{className:"profile__home__medals"},this.renderSummary(this.props.competitionsSummary),this.renderSummary(this.props.scriptsSummary),this.renderSummary(this.props.discussionsSummary))),React.createElement(l.MediaQuery,{minWidth:l.Breakpoints.desktopMin},React.createElement(a.ContentBox,{title:"Activity"},React.createElement(o.ActivityCalendar,{dataUrl:this.props.activityUrl,tier:this.props.performanceTier}))))},t}(React.Component));t.Home=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(185),a=n(3),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=function(e){function t(t){e.call(this,t);var n=new Date;n.setFullYear((new Date).getFullYear()-1),n.setDate(n.getDate()+1),this.start=n,this.labels=o.map(function(e,t){
return o[(t+n.getMonth()+1)%12]})}return r(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){var t=new i;t.init({itemSelector:e.container,domain:"week",subDomain:"day",weekStartOnMonday:!1,tooltip:!0,animationDuration:0,range:53,domainGutter:0,domainMargin:1,itemName:["",""],cellSize:13,legendCellSize:13,legendCellPadding:4,start:e.start,data:e.props.dataUrl,afterLoadData:e.parseData.bind(e),subDomainDateFormat:e.formatTooltip.bind(e),domainLabelFormat:"",legend:[5,10,15,20]})})},t.prototype.formatTooltip=function(e){var t=this.formatDate(e),n=this.activityLookup[this.formatDate(e)];return n&&(n.totalSubmissions&&(t+="<br />"+n.totalSubmissions+" "+a("submission",n.totalSubmissions)),n.totalScripts&&(t+="<br />"+n.totalScripts+" script "+a("run",n.totalScripts)),n.totalDatasets&&(t+="<br />"+n.totalDatasets+" dataset "+a("version",n.totalDatasets)),n.totalDiscussions&&(t+="<br />"+n.totalDiscussions+"  "+a("comment",n.totalDiscussions))),t},t.prototype.parseData=function(e){var t={};this.activityLookup={};for(var n=0,r=e;n<r.length;n++){var i=r[n],a=i.totalDatasets+i.totalDiscussions+i.totalScripts+i.totalSubmissions,o=new Date(i.date.toString()),s=o.getTime()/1e3;this.activityLookup[this.formatDate(o)]=i,t[s.toString().split(".")[0]]=a}return t},t.prototype.formatDate=function(e){return o[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},t.prototype.renderLabels=function(){return this.labels.map(function(e,t){return React.createElement("li",{key:t},e)})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"activity-calendar activity-calendar--"+this.props.tier},React.createElement("ul",{className:"activity-calendar__labels"},this.renderLabels()),React.createElement("div",{className:"activity-calendar__container",ref:function(t){return e.container=t}}))},t}(React.Component);t.ActivityCalendar=s},function(e,t,n){/*! cal-heatmap v3.6.0 (Sun Apr 24 2016 19:19:51)
	 *  ---------------------------------------------
	 *  Cal-Heatmap is a javascript module to create calendar heatmap to visualize time series data
	 *  https://github.com/wa0x6e/cal-heatmap
	 *  Licensed under the MIT license
	 *  Copyright 2014 Wan Qi Chen
	 */
function r(e,t){"use strict";for(var n in t)try{e[n]=t[n].constructor===Object?r(e[n],t[n]):t[n]}catch(i){e[n]=t[n]}return e}function i(e,t){"use strict";if(!t||!e)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!i(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}var a,o,s=n(186),l=function(){"use strict";function e(){r.verticalDomainLabel="top"===r.options.label.position||"bottom"===r.options.label.position,r.domainVerticalLabelHeight=null===r.options.label.height?Math.max(25,2*r.options.cellSize):r.options.label.height,r.domainHorizontalLabelWidth=0,""===r.options.domainLabelFormat&&null===r.options.label.height&&(r.domainVerticalLabelHeight=0),r.verticalDomainLabel||(r.domainVerticalLabelHeight=0,r.domainHorizontalLabelWidth=r.options.label.width),r.paint(),r.options.nextSelector!==!1&&s.select(r.options.nextSelector).on("click."+r.options.itemNamespace,function(){return s.event.preventDefault(),r.loadNextDomain(1)}),r.options.previousSelector!==!1&&s.select(r.options.previousSelector).on("click."+r.options.itemNamespace,function(){return s.event.preventDefault(),r.loadPreviousDomain(1)}),r.Legend.redraw(r.graphDim.width-r.options.domainGutter-r.options.cellPadding),r.afterLoad();var e=r.getDomainKeys();r.options.loadOnInit?r.getDatas(r.options.data,new Date(e[0]),r.getSubDomain(e[e.length-1]).pop(),function(){r.fill(),r.onComplete()}):r.onComplete(),r.checkIfMinDomainIsReached(e[0]),r.checkIfMaxDomainIsReached(r.getNextDomain().getTime())}function t(e,t){var n=r.options.cellSize*r._domainType[r.options.subDomain].column(e)+r.options.cellPadding*r._domainType[r.options.subDomain].column(e);return 2===arguments.length&&t===!0?n+=r.domainHorizontalLabelWidth+r.options.domainGutter+r.options.domainMargin[1]+r.options.domainMargin[3]:n}function n(e,t){var n=r.options.cellSize*r._domainType[r.options.subDomain].row(e)+r.options.cellPadding*r._domainType[r.options.subDomain].row(e);return 2===arguments.length&&t===!0&&(n+=r.options.domainGutter+r.domainVerticalLabelHeight+r.options.domainMargin[0]+r.options.domainMargin[2]),n}var r=this;this.allowedDataType=["json","csv","tsv","txt"],this.options={itemSelector:"#cal-heatmap",paintOnLoad:!0,range:12,cellSize:10,cellPadding:2,cellRadius:0,domainGutter:2,domainMargin:[0,0,0,0],domain:"hour",subDomain:"min",colLimit:null,rowLimit:null,weekStartOnMonday:!0,start:new Date,minDate:null,maxDate:null,data:"",dataType:this.allowedDataType[0],dataPostPayload:null,considerMissingDataAsZero:!1,loadOnInit:!0,verticalOrientation:!1,domainDynamicDimension:!0,label:{position:"bottom",align:"center",offset:{x:0,y:0},rotate:null,width:100,height:null},legend:[10,20,30,40],displayLegend:!0,legendCellSize:10,legendCellPadding:2,legendMargin:[0,0,0,0],legendVerticalPosition:"bottom",legendHorizontalPosition:"left",legendOrientation:"horizontal",legendColors:null,highlight:[],itemName:["item","items"],domainLabelFormat:null,subDomainTitleFormat:{empty:"{date}",filled:"{count} {name} {connector} {date}"},subDomainDateFormat:null,subDomainTextFormat:null,legendTitleFormat:{lower:"less than {min} {name}",inner:"between {down} and {up} {name}",upper:"more than {max} {name}"},animationDuration:500,nextSelector:!1,previousSelector:!1,itemNamespace:"cal-heatmap",tooltip:!1,onClick:null,afterLoad:null,afterLoadNextDomain:null,afterLoadPreviousDomain:null,onComplete:null,afterLoadData:function(e){return e},onMaxDomainReached:null,onMinDomainReached:null},this._domainType={min:{name:"minute",level:10,maxItemNumber:60,defaultRowNumber:10,defaultColumnNumber:6,row:function(e){return r.getSubDomainRowNumber(e)},column:function(e){return r.getSubDomainColumnNumber(e)},position:{x:function(e){return Math.floor(e.getMinutes()/r._domainType.min.row(e))},y:function(e){return e.getMinutes()%r._domainType.min.row(e)}},format:{date:"%H:%M, %A %B %-e, %Y",legend:"",connector:"at"},extractUnit:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()).getTime()}},hour:{name:"hour",level:20,maxItemNumber:function(e){switch(r.options.domain){case"day":return 24;case"week":return 168;case"month":return 24*(r.options.domainDynamicDimension?r.getDayCountInMonth(e):31)}},defaultRowNumber:6,defaultColumnNumber:function(e){switch(r.options.domain){case"day":return 4;case"week":return 28;case"month":return r.options.domainDynamicDimension?r.getDayCountInMonth(e):31}},row:function(e){return r.getSubDomainRowNumber(e)},column:function(e){return r.getSubDomainColumnNumber(e)},position:{x:function(e){return"month"===r.options.domain?r.options.colLimit>0||r.options.rowLimit>0?Math.floor((e.getHours()+24*(e.getDate()-1))/r._domainType.hour.row(e)):Math.floor(e.getHours()/r._domainType.hour.row(e))+4*(e.getDate()-1):"week"===r.options.domain?r.options.colLimit>0||r.options.rowLimit>0?Math.floor((e.getHours()+24*r.getWeekDay(e))/r._domainType.hour.row(e)):Math.floor(e.getHours()/r._domainType.hour.row(e))+4*r.getWeekDay(e):Math.floor(e.getHours()/r._domainType.hour.row(e))},y:function(e){var t=e.getHours();if(r.options.colLimit>0||r.options.rowLimit>0)switch(r.options.domain){case"month":t+=24*(e.getDate()-1);break;case"week":t+=24*r.getWeekDay(e)}return Math.floor(t%r._domainType.hour.row(e))}},format:{date:"%Hh, %A %B %-e, %Y",legend:"%H:00",connector:"at"},extractUnit:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()).getTime()}},day:{name:"day",level:30,maxItemNumber:function(e){switch(r.options.domain){case"week":return 7;case"month":return r.options.domainDynamicDimension?r.getDayCountInMonth(e):31;case"year":return r.options.domainDynamicDimension?r.getDayCountInYear(e):366}},defaultColumnNumber:function(e){switch(e=new Date(e),r.options.domain){case"week":return 1;case"month":return r.options.domainDynamicDimension&&!r.options.verticalOrientation?r.getWeekNumber(new Date(e.getFullYear(),e.getMonth()+1,0))-r.getWeekNumber(e)+1:6;case"year":return r.options.domainDynamicDimension?r.getWeekNumber(new Date(e.getFullYear(),11,31))-r.getWeekNumber(new Date(e.getFullYear(),0))+1:54}},defaultRowNumber:7,row:function(e){return r.getSubDomainRowNumber(e)},column:function(e){return r.getSubDomainColumnNumber(e)},position:{x:function(e){switch(r.options.domain){case"week":return Math.floor(r.getWeekDay(e)/r._domainType.day.row(e));case"month":return r.options.colLimit>0||r.options.rowLimit>0?Math.floor((e.getDate()-1)/r._domainType.day.row(e)):r.getWeekNumber(e)-r.getWeekNumber(new Date(e.getFullYear(),e.getMonth()));case"year":return r.options.colLimit>0||r.options.rowLimit>0?Math.floor((r.getDayOfYear(e)-1)/r._domainType.day.row(e)):r.getWeekNumber(e)}},y:function(e){var t=r.getWeekDay(e);if(r.options.colLimit>0||r.options.rowLimit>0)switch(r.options.domain){case"year":t=r.getDayOfYear(e)-1;break;case"week":t=r.getWeekDay(e);break;case"month":t=e.getDate()-1}return Math.floor(t%r._domainType.day.row(e))}},format:{date:"%A %B %-e, %Y",legend:"%e %b",connector:"on"},extractUnit:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()}},week:{name:"week",level:40,maxItemNumber:54,defaultColumnNumber:function(e){switch(e=new Date(e),r.options.domain){case"year":return r._domainType.week.maxItemNumber;case"month":return r.options.domainDynamicDimension?r.getWeekNumber(new Date(e.getFullYear(),e.getMonth()+1,0))-r.getWeekNumber(e):5}},defaultRowNumber:1,row:function(e){return r.getSubDomainRowNumber(e)},column:function(e){return r.getSubDomainColumnNumber(e)},position:{x:function(e){switch(r.options.domain){case"year":return Math.floor(r.getWeekNumber(e)/r._domainType.week.row(e));case"month":return Math.floor(r.getMonthWeekNumber(e)/r._domainType.week.row(e))}},y:function(e){return r.getWeekNumber(e)%r._domainType.week.row(e)}},format:{date:"%B Week #%W",legend:"%B Week #%W",connector:"in"},extractUnit:function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getDay()-1;return 0>n&&(n=6),t.setDate(t.getDate()-n),t.getTime()}},month:{name:"month",level:50,maxItemNumber:12,defaultColumnNumber:12,defaultRowNumber:1,row:function(){return r.getSubDomainRowNumber()},column:function(){return r.getSubDomainColumnNumber()},position:{x:function(e){return Math.floor(e.getMonth()/r._domainType.month.row(e))},y:function(e){return e.getMonth()%r._domainType.month.row(e)}},format:{date:"%B %Y",legend:"%B",connector:"in"},extractUnit:function(e){return new Date(e.getFullYear(),e.getMonth()).getTime()}},year:{name:"year",level:60,row:function(){return r.options.rowLimit||1},column:function(){return r.options.colLimit||1},position:{x:function(){return 1},y:function(){return 1}},format:{date:"%Y",legend:"%Y",connector:"in"},extractUnit:function(e){return new Date(e.getFullYear()).getTime()}}};for(var i in this._domainType)if(this._domainType.hasOwnProperty(i)){var a=this._domainType[i];this._domainType["x_"+i]={name:"x_"+i,level:a.type,maxItemNumber:a.maxItemNumber,defaultRowNumber:a.defaultRowNumber,defaultColumnNumber:a.defaultColumnNumber,row:a.column,column:a.row,position:{x:a.position.y,y:a.position.x},format:a.format,extractUnit:a.extractUnit}}this.lastInsertedSvg=null,this._completed=!1,this._domains=s.map(),this.graphDim={width:0,height:0},this.legendDim={width:0,height:0},this.NAVIGATE_LEFT=1,this.NAVIGATE_RIGHT=2,this.RESET_ALL_ON_UPDATE=0,this.RESET_SINGLE_ON_UPDATE=1,this.APPEND_ON_UPDATE=2,this.DEFAULT_LEGEND_MARGIN=10,this.root=null,this.tooltip=null,this._maxDomainReached=!1,this._minDomainReached=!1,this.domainPosition=new c,this.Legend=null,this.legendScale=null,this.DSTDomain=[],this._init=function(){return r.getDomain(r.options.start).map(function(e){return e.getTime()}).map(function(e){r._domains.set(e,r.getSubDomain(e).map(function(e){return{t:r._domainType[r.options.subDomain].extractUnit(e),v:null}}))}),r.root=s.select(r.options.itemSelector).append("svg").attr("class","cal-heatmap-container"),r.tooltip=s.select(r.options.itemSelector).attr("style",function(){var e=s.select(r.options.itemSelector).attr("style");return(null!==e?e:"")+"position:relative;"}).append("div").attr("class","ch-tooltip"),r.root.attr("x",0).attr("y",0).append("svg").attr("class","graph"),r.Legend=new u(r),r.options.paintOnLoad&&e(),!0},this.paint=function(e){function i(t,n,i,a){var o=0;switch(e){case!1:return o=n[i],n[i]+=a,r.domainPosition.setPosition(t,o),o;case r.NAVIGATE_RIGHT:return r.domainPosition.setPosition(t,n[i]),l=a,c=r.domainPosition.getPositionFromIndex(1),r.domainPosition.shiftRightBy(c),n[i];case r.NAVIGATE_LEFT:return o=-a,l=-o,c=n[i]-r.domainPosition.getLast(),r.domainPosition.setPosition(t,o),r.domainPosition.shiftLeftBy(l),o}}function a(e){switch(o.label.rotate){case"right":e.attr("transform",function(e){var n="rotate(90), ";switch(o.label.position){case"right":n+="translate(-"+t(e)+" , -"+t(e)+")";break;case"left":n+="translate(0, -"+r.domainHorizontalLabelWidth+")"}return n});break;case"left":e.attr("transform",function(e){var n="rotate(270), ";switch(o.label.position){case"right":n+="translate(-"+(t(e)+r.domainHorizontalLabelWidth)+" , "+t(e)+")";break;case"left":n+="translate(-"+r.domainHorizontalLabelWidth+" , "+r.domainHorizontalLabelWidth+")"}return n})}}var o=r.options;0===arguments.length&&(e=!1);var s=r.root.select(".graph").selectAll(".graph-domain").data(function(){var t=r.getDomainKeys();return e===r.NAVIGATE_LEFT?t.reverse():t},function(e){return e}),l=0,c=0,u=s.enter().append("svg").attr("width",function(e){return t(e,!0)}).attr("height",function(e){return n(e,!0)}).attr("x",function(e){return o.verticalOrientation?(r.graphDim.width=Math.max(r.graphDim.width,t(e,!0)),0):i(e,r.graphDim,"width",t(e,!0))}).attr("y",function(e){return o.verticalOrientation?i(e,r.graphDim,"height",n(e,!0)):(r.graphDim.height=Math.max(r.graphDim.height,n(e,!0)),0)}).attr("class",function(e){var t="graph-domain",n=new Date(e);switch(o.domain){case"hour":t+=" h_"+n.getHours();case"day":t+=" d_"+n.getDate()+" dy_"+n.getDay();case"week":t+=" w_"+r.getWeekNumber(n);case"month":t+=" m_"+(n.getMonth()+1);case"year":t+=" y_"+n.getFullYear()}return t});r.lastInsertedSvg=u,u.append("rect").attr("width",function(e){return t(e,!0)-o.domainGutter-o.cellPadding}).attr("height",function(e){return n(e,!0)-o.domainGutter-o.cellPadding}).attr("class","domain-background");var d=u.append("svg").attr("x",function(){return"left"===o.label.position?r.domainHorizontalLabelWidth+o.domainMargin[3]:o.domainMargin[3]}).attr("y",function(){return"top"===o.label.position?r.domainVerticalLabelHeight+o.domainMargin[0]:o.domainMargin[0]}).attr("class","graph-subdomain-group"),p=d.selectAll("g").data(function(e){return r._domains.get(e)}).enter().append("g");p.append("rect").attr("class",function(e){return"graph-rect"+r.getHighlightClassName(e.t)+(null!==o.onClick?" hover_cursor":"")}).attr("width",o.cellSize).attr("height",o.cellSize).attr("x",function(e){return r.positionSubDomainX(e.t)}).attr("y",function(e){return r.positionSubDomainY(e.t)}).on("click",function(e){return null!==o.onClick?r.onClick(new Date(e.t),e.v):void 0}).call(function(e){o.cellRadius>0&&e.attr("rx",o.cellRadius).attr("ry",o.cellRadius),null!==r.legendScale&&null!==o.legendColors&&o.legendColors.hasOwnProperty("base")&&e.attr("fill",o.legendColors.base),o.tooltip&&(e.on("mouseover",function(e){var t=this.parentNode.parentNode;r.tooltip.html(r.getSubDomainTitle(e)).attr("style","display: block;");var n=r.positionSubDomainX(e.t)-r.tooltip[0][0].offsetWidth/2+o.cellSize/2,i=r.positionSubDomainY(e.t)-r.tooltip[0][0].offsetHeight-o.cellSize/2;n+=parseInt(t.getAttribute("x"),10),i+=parseInt(t.getAttribute("y"),10),n+=parseInt(r.root.select(".graph").attr("x"),10),i+=parseInt(r.root.select(".graph").attr("y"),10),n+=parseInt(t.parentNode.getAttribute("x"),10),i+=parseInt(t.parentNode.getAttribute("y"),10),r.tooltip.attr("style","display: block; left: "+n+"px; top: "+i+"px;")}),e.on("mouseout",function(){r.tooltip.attr("style","display:none").html("")}))}),o.tooltip||p.append("title").text(function(e){return r.formatDate(new Date(e.t),o.subDomainDateFormat)}),""!==o.domainLabelFormat&&u.append("text").attr("class","graph-label").attr("y",function(e){var t=o.domainMargin[0];switch(o.label.position){case"top":t+=r.domainVerticalLabelHeight/2;break;case"bottom":t+=n(e)+r.domainVerticalLabelHeight/2}return t+o.label.offset.y*("right"===o.label.rotate&&"right"===o.label.position||"left"===o.label.rotate&&"left"===o.label.position?-1:1)}).attr("x",function(e){var n=o.domainMargin[3];switch(o.label.position){case"right":n+=t(e);break;case"bottom":case"top":n+=t(e)/2}return"right"===o.label.align?n+r.domainHorizontalLabelWidth-o.label.offset.x*("right"===o.label.rotate?-1:1):n+o.label.offset.x}).attr("text-anchor",function(){switch(o.label.align){case"start":case"left":return"start";case"end":case"right":return"end";default:return"middle"}}).attr("dominant-baseline",function(){return r.verticalDomainLabel?"middle":"top"}).text(function(e){return r.formatDate(new Date(e),o.domainLabelFormat)}).call(a),null!==o.subDomainTextFormat&&p.append("text").attr("class",function(e){return"subdomain-text"+r.getHighlightClassName(e.t)}).attr("x",function(e){return r.positionSubDomainX(e.t)+o.cellSize/2}).attr("y",function(e){return r.positionSubDomainY(e.t)+o.cellSize/2}).attr("text-anchor","middle").attr("dominant-baseline","central").text(function(e){return r.formatDate(new Date(e.t),o.subDomainTextFormat)}),e!==!1&&s.transition().duration(o.animationDuration).attr("x",function(e){return o.verticalOrientation?0:r.domainPosition.getPosition(e)}).attr("y",function(e){return o.verticalOrientation?r.domainPosition.getPosition(e):0});var h=r.graphDim.width,m=r.graphDim.height;o.verticalOrientation?r.graphDim.height+=l-c:r.graphDim.width+=l-c,s.exit().transition().duration(o.animationDuration).attr("x",function(n){if(o.verticalOrientation)return 0;switch(e){case r.NAVIGATE_LEFT:return Math.min(r.graphDim.width,h);case r.NAVIGATE_RIGHT:return-t(n,!0)}}).attr("y",function(t){if(!o.verticalOrientation)return 0;switch(e){case r.NAVIGATE_LEFT:return Math.min(r.graphDim.height,m);case r.NAVIGATE_RIGHT:return-n(t,!0)}}).remove(),r.resize()}};l.prototype={init:function(e){"use strict";function t(e,t,n){if((t&&e===!1||e instanceof Element||"string"==typeof e)&&""!==e)return!0;throw new Error("The "+n+" is not valid")}function n(e){switch(e){case"year":return"month";case"month":return"day";case"week":return"day";case"day":return"hour";default:return"min"}}function i(){if(!p._domainType.hasOwnProperty(h.domain)||"min"===h.domain||"x_"===h.domain.substring(0,2))throw new Error("The domain '"+h.domain+"' is not valid");if(!p._domainType.hasOwnProperty(h.subDomain)||"year"===h.subDomain)throw new Error("The subDomain '"+h.subDomain+"' is not valid");if(p._domainType[h.domain].level<=p._domainType[h.subDomain].level)throw new Error("'"+h.subDomain+"' is not a valid subDomain to '"+h.domain+"'");return!0}function a(){if(!e.hasOwnProperty("label")||e.hasOwnProperty("label")&&!e.label.hasOwnProperty("align")){switch(h.label.position){case"left":h.label.align="right";break;case"right":h.label.align="left";break;default:h.label.align="center"}"left"===h.label.rotate?h.label.align="right":"right"===h.label.rotate&&(h.label.align="left")}(!e.hasOwnProperty("label")||e.hasOwnProperty("label")&&!e.label.hasOwnProperty("offset"))&&("left"===h.label.position||"right"===h.label.position)&&(h.label.offset={x:10,y:15})}function o(){switch(h.legendVerticalPosition){case"top":h.legendMargin[2]=p.DEFAULT_LEGEND_MARGIN;break;case"bottom":h.legendMargin[0]=p.DEFAULT_LEGEND_MARGIN;break;case"middle":case"center":h.legendMargin["right"===h.legendHorizontalPosition?3:1]=p.DEFAULT_LEGEND_MARGIN}}function l(e){switch("number"==typeof e&&(e=[e]),Array.isArray(e)||(console.log("Margin only takes an integer or an array of integers"),e=[0]),e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return e.slice(0,4)}}function c(e){return"string"==typeof e?[e,e+(""!==e?"s":"")]:Array.isArray(e)?1===e.length?[e[0],e[0]+"s"]:e.length>2?e.slice(0,2):e:["item","items"]}function u(e){return e>0?e:null}function d(e){return e>0&&h.colLimit>0?(console.log("colLimit and rowLimit are mutually exclusive, rowLimit will be ignored"),null):e>0?e:null}var p=this,h=p.options=r(p.options,e);if(i(),t(h.itemSelector,!1,"itemSelector"),-1===p.allowedDataType.indexOf(h.dataType))throw new Error("The data type '"+h.dataType+"' is not valid data type");if(null===s.select(h.itemSelector)[0][0])throw new Error("The node '"+h.itemSelector+"' specified in itemSelector does not exists");try{t(h.nextSelector,!0,"nextSelector"),t(h.previousSelector,!0,"previousSelector")}catch(m){return console.log(m.message),!1}e.hasOwnProperty("subDomain")||(this.options.subDomain=n(e.domain)),("string"!=typeof h.itemNamespace||""===h.itemNamespace)&&(console.log("itemNamespace can not be empty, falling back to cal-heatmap"),h.itemNamespace="cal-heatmap");var f=["data","onComplete","onClick","afterLoad","afterLoadData","afterLoadPreviousDomain","afterLoadNextDomain"];for(var g in f)e.hasOwnProperty(f[g])&&(h[f[g]]=e[f[g]]);return h.subDomainDateFormat="string"==typeof h.subDomainDateFormat||"function"==typeof h.subDomainDateFormat?h.subDomainDateFormat:this._domainType[h.subDomain].format.date,h.domainLabelFormat="string"==typeof h.domainLabelFormat||"function"==typeof h.domainLabelFormat?h.domainLabelFormat:this._domainType[h.domain].format.legend,h.subDomainTextFormat="string"==typeof h.subDomainTextFormat&&""!==h.subDomainTextFormat||"function"==typeof h.subDomainTextFormat?h.subDomainTextFormat:null,h.domainMargin=l(h.domainMargin),h.legendMargin=l(h.legendMargin),h.highlight=p.expandDateSetting(h.highlight),h.itemName=c(h.itemName),h.colLimit=u(h.colLimit),h.rowLimit=d(h.rowLimit),e.hasOwnProperty("legendMargin")||o(),a(),this._init()},expandDateSetting:function(e){"use strict";return Array.isArray(e)||(e=[e]),e.map(function(e){return"now"===e?new Date:e instanceof Date?e:!1}).filter(function(e){return e!==!1})},fill:function(e){"use strict";function t(e){return null===r.legendScale?!1:void e.attr("fill",function(e){return null===e.v&&i.hasOwnProperty("considerMissingDataAsZero")&&!i.considerMissingDataAsZero&&i.legendColors.hasOwnProperty("base")?i.legendColors.base:null!==i.legendColors&&i.legendColors.hasOwnProperty("empty")&&(0===e.v||null===e.v&&i.hasOwnProperty("considerMissingDataAsZero")&&i.considerMissingDataAsZero)?i.legendColors.empty:e.v<0&&i.legend[0]>0&&null!==i.legendColors&&i.legendColors.hasOwnProperty("overflow")?i.legendColors.overflow:r.legendScale(Math.min(e.v,i.legend[i.legend.length-1]))})}function n(e){"function"==typeof i.subDomainTextFormat&&e.text(function(e){return i.subDomainTextFormat(e.t,e.v)})}var r=this,i=r.options;0===arguments.length&&(e=r.root.selectAll(".graph-domain"));var a=e.selectAll("svg").selectAll("g").data(function(e){return r._domains.get(e)});a.transition().duration(i.animationDuration).select("rect").attr("class",function(e){var t=r.getHighlightClassName(e.t).trim().split(" "),n=r.dateIsLessThan(e.t,new Date),a=r.dateIsEqual(e.t,new Date);return(null===r.legendScale||null===e.v&&i.hasOwnProperty("considerMissingDataAsZero")&&!i.considerMissingDataAsZero&&!i.legendColors.hasOwnProperty("base"))&&t.push("graph-rect"),a?t.push("now"):n||t.push("future"),null!==e.v?t.push(r.Legend.getClass(e.v,null===r.legendScale)):i.considerMissingDataAsZero&&n&&t.push(r.Legend.getClass(0,null===r.legendScale)),null!==i.onClick&&t.push("hover_cursor"),t.join(" ")}).call(t),a.transition().duration(i.animationDuration).select("title").text(function(e){return r.getSubDomainTitle(e)}),a.transition().duration(i.animationDuration).select("text").attr("class",function(e){return"subdomain-text"+r.getHighlightClassName(e.t)}).call(n)},triggerEvent:function(e,t,n){"use strict";return 3===arguments.length&&n||null===this.options[e]?!0:"function"==typeof this.options[e]?("function"==typeof t&&(t=t()),this.options[e].apply(this,t)):(console.log("Provided callback for "+e+" is not a function."),!1)},onClick:function(e,t){"use strict";return this.triggerEvent("onClick",[e,t])},afterLoad:function(){"use strict";return this.triggerEvent("afterLoad")},onComplete:function(){"use strict";var e=this.triggerEvent("onComplete",[],this._completed);return this._completed=!0,e},afterLoadPreviousDomain:function(e){"use strict";var t=this;return this.triggerEvent("afterLoadPreviousDomain",function(){var n=t.getSubDomain(e);return[n.shift(),n.pop()]})},afterLoadNextDomain:function(e){"use strict";var t=this;return this.triggerEvent("afterLoadNextDomain",function(){var n=t.getSubDomain(e);return[n.shift(),n.pop()]})},onMinDomainReached:function(e){"use strict";return this._minDomainReached=e,this.triggerEvent("onMinDomainReached",[e])},onMaxDomainReached:function(e){"use strict";return this._maxDomainReached=e,this.triggerEvent("onMaxDomainReached",[e])},checkIfMinDomainIsReached:function(e,t){"use strict";this.minDomainIsReached(e)&&this.onMinDomainReached(!0),2===arguments.length&&this._maxDomainReached&&!this.maxDomainIsReached(t)&&this.onMaxDomainReached(!1)},checkIfMaxDomainIsReached:function(e,t){"use strict";this.maxDomainIsReached(e)&&this.onMaxDomainReached(!0),2===arguments.length&&this._minDomainReached&&!this.minDomainIsReached(t)&&this.onMinDomainReached(!1)},formatNumber:s.format(",g"),formatDate:function(e,t){"use strict";if(arguments.length<2&&(t="title"),"function"==typeof t)return t(e);var n=s.time.format(t);return n(e)},getSubDomainTitle:function(e){"use strict";if(null!==e.v||this.options.considerMissingDataAsZero){var t=e.v;return null===t&&this.options.considerMissingDataAsZero&&(t=0),this.options.subDomainTitleFormat.filled.format({count:this.formatNumber(t),name:this.options.itemName[1!==t?1:0],connector:this._domainType[this.options.subDomain].format.connector,date:this.formatDate(new Date(e.t),this.options.subDomainDateFormat)})}return this.options.subDomainTitleFormat.empty.format({date:this.formatDate(new Date(e.t),this.options.subDomainDateFormat)})},loadNextDomain:function(e){"use strict";if(this._maxDomainReached||0===e)return!1;var t=this.loadNewDomains(this.NAVIGATE_RIGHT,this.getDomain(this.getNextDomain(),e));return this.afterLoadNextDomain(t.end),this.checkIfMaxDomainIsReached(this.getNextDomain().getTime(),t.start),!0},loadPreviousDomain:function(e){"use strict";if(this._minDomainReached||0===e)return!1;var t=this.loadNewDomains(this.NAVIGATE_LEFT,this.getDomain(this.getDomainKeys()[0],-e).reverse());return this.afterLoadPreviousDomain(t.start),this.checkIfMinDomainIsReached(t.start,t.end),!0},loadNewDomains:function(e,t){"use strict";function n(e){return{t:r._domainType[r.options.subDomain].extractUnit(e),v:null}}for(var r=this,i=e===this.NAVIGATE_LEFT,a=-1,o=t.length,s=this.getDomainKeys();++a<o;){if(i&&this.minDomainIsReached(t[a])){t=t.slice(0,a+1);break}if(!i&&this.maxDomainIsReached(t[a])){t=t.slice(0,a);break}}for(t=t.slice(-this.options.range),a=0,o=t.length;o>a;a++)this._domains.set(t[a].getTime(),this.getSubDomain(t[a]).map(n)),this._domains.remove(i?s.pop():s.shift());return s=this.getDomainKeys(),i&&(t=t.reverse()),this.paint(e),this.getDatas(this.options.data,t[0],this.getSubDomain(t[t.length-1]).pop(),function(){r.fill(r.lastInsertedSvg)}),{start:t[i?0:1],end:s[s.length-1]}},maxDomainIsReached:function(e){"use strict";return null!==this.options.maxDate&&this.options.maxDate.getTime()<e},minDomainIsReached:function(e){"use strict";return null!==this.options.minDate&&this.options.minDate.getTime()>=e},getDomainKeys:function(){"use strict";return this._domains.keys().map(function(e){return parseInt(e,10)}).sort(function(e,t){return e-t})},positionSubDomainX:function(e){"use strict";var t=this._domainType[this.options.subDomain].position.x(new Date(e));return t*this.options.cellSize+t*this.options.cellPadding},positionSubDomainY:function(e){"use strict";var t=this._domainType[this.options.subDomain].position.y(new Date(e));return t*this.options.cellSize+t*this.options.cellPadding},getSubDomainColumnNumber:function(e){"use strict";if(this.options.rowLimit>0){var t=this._domainType[this.options.subDomain].maxItemNumber;return"function"==typeof t&&(t=t(e)),Math.ceil(t/this.options.rowLimit)}var n=this._domainType[this.options.subDomain].defaultColumnNumber;return"function"==typeof n&&(n=n(e)),this.options.colLimit||n},getSubDomainRowNumber:function(e){"use strict";if(this.options.colLimit>0){var t=this._domainType[this.options.subDomain].maxItemNumber;return"function"==typeof t&&(t=t(e)),Math.ceil(t/this.options.colLimit)}var n=this._domainType[this.options.subDomain].defaultRowNumber;return"function"==typeof n&&(n=n(e)),this.options.rowLimit||n},getHighlightClassName:function(e){"use strict";if(e=new Date(e),this.options.highlight.length>0)for(var t in this.options.highlight)if(this.dateIsEqual(this.options.highlight[t],e))return this.isNow(this.options.highlight[t])?" highlight-now":" highlight";return""},isNow:function(e){"use strict";return this.dateIsEqual(e,new Date)},dateIsEqual:function(e,t){"use strict";switch(e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t)),this.options.subDomain){case"x_min":case"min":return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes();case"x_hour":case"hour":return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()&&e.getHours()===t.getHours();case"x_day":case"day":return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate();case"x_week":case"week":return e.getFullYear()===t.getFullYear()&&this.getWeekNumber(e)===this.getWeekNumber(t);case"x_month":case"month":return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth();default:return!1}},dateIsLessThan:function(e,t){"use strict";function n(e,t){switch(t){case"x_min":case"min":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()).getTime();case"x_hour":case"hour":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()).getTime();case"x_day":case"day":return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();case"x_week":case"week":case"x_month":case"month":return new Date(e.getFullYear(),e.getMonth()).getTime();default:return e.getTime()}}return e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t)),n(e,this.options.subDomain)<n(t,this.options.subDomain)},getDayOfYear:s.time.format("%j"),getWeekNumber:function(e){"use strict";var t=s.time.format(this.options.weekStartOnMonday===!0?"%W":"%U");return t(e)},getMonthWeekNumber:function(e){"use strict";"number"==typeof e&&(e=new Date(e));var t=this.getWeekNumber(new Date(e.getFullYear(),e.getMonth()));return this.getWeekNumber(e)-t-1},getWeekNumberInYear:function(e){"use strict";"number"==typeof e&&(e=new Date(e))},getDayCountInMonth:function(e){"use strict";return this.getEndOfMonth(e).getDate()},getDayCountInYear:function(e){"use strict";return"number"==typeof e&&(e=new Date(e)),1===new Date(e.getFullYear(),1,29).getMonth()?366:365},getWeekDay:function(e){"use strict";return this.options.weekStartOnMonday===!1?e.getDay():0===e.getDay()?6:e.getDay()-1},getEndOfMonth:function(e){"use strict";return"number"==typeof e&&(e=new Date(e)),new Date(e.getFullYear(),e.getMonth()+1,0)},jumpDate:function(e,t,n){"use strict";var r=new Date(e);switch(n){case"hour":r.setHours(r.getHours()+t);break;case"day":r.setHours(r.getHours()+24*t);break;case"week":r.setHours(r.getHours()+24*t*7);break;case"month":r.setMonth(r.getMonth()+t);break;case"year":r.setFullYear(r.getFullYear()+t)}return new Date(r)},getMinuteDomain:function(e,t){"use strict";var n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()),r=null;return r=t instanceof Date?new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()):new Date(+n+1e3*t*60),s.time.minutes(Math.min(n,r),Math.max(n,r))},getHourDomain:function(e,t){"use strict";var n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()),r=null;t instanceof Date?r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()):(r=new Date(n),r.setHours(r.getHours()+t));var i=s.time.hours(Math.min(n,r),Math.max(n,r)),a=0,o=i.length;for(a=0;o>a;a++)if(a>0&&i[a].getHours()===i[a-1].getHours()){this.DSTDomain.push(i[a].getTime()),i.splice(a,1);break}return"number"==typeof t&&i.length>Math.abs(t)&&i.splice(i.length-1,1),i},getDayDomain:function(e,t){"use strict";var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=null;return t instanceof Date?r=new Date(t.getFullYear(),t.getMonth(),t.getDate()):(r=new Date(n),r=new Date(r.setDate(r.getDate()+parseInt(t,10)))),s.time.days(Math.min(n,r),Math.max(n,r))},getWeekDomain:function(e,t){"use strict";var n;this.options.weekStartOnMonday===!1?n=new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()):1===e.getDay()?n=new Date(e.getFullYear(),e.getMonth(),e.getDate()):0===e.getDay()?(n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n.setDate(n.getDate()-6)):n=new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()+1);var r=new Date(n),i=t;return"object"!=typeof t&&(i=new Date(r.setDate(r.getDate()+7*t))),this.options.weekStartOnMonday===!0?s.time.mondays(Math.min(n,i),Math.max(n,i)):s.time.sundays(Math.min(n,i),Math.max(n,i))},getMonthDomain:function(e,t){"use strict";var n=new Date(e.getFullYear(),e.getMonth()),r=null;return t instanceof Date?r=new Date(t.getFullYear(),t.getMonth()):(r=new Date(n),r=r.setMonth(r.getMonth()+t)),s.time.months(Math.min(n,r),Math.max(n,r))},getYearDomain:function(e,t){"use strict";var n=new Date(e.getFullYear(),0),r=null;return r=t instanceof Date?new Date(t.getFullYear(),0):new Date(e.getFullYear()+t,0),s.time.years(Math.min(n,r),Math.max(n,r))},getDomain:function(e,t){
"use strict";switch("number"==typeof e&&(e=new Date(e)),arguments.length<2&&(t=this.options.range),this.options.domain){case"hour":var n=this.getHourDomain(e,t);return"number"==typeof t&&n.length<t&&(t>0?n.push(this.getHourDomain(n[n.length-1],2)[1]):n.shift(this.getHourDomain(n[0],-2)[0])),n;case"day":return this.getDayDomain(e,t);case"week":return this.getWeekDomain(e,t);case"month":return this.getMonthDomain(e,t);case"year":return this.getYearDomain(e,t)}},getSubDomain:function(e){"use strict";"number"==typeof e&&(e=new Date(e));var t=this,n=function(e,n){switch(n){case"year":return t.getDayCountInYear(e);case"month":return t.getDayCountInMonth(e);case"week":return 7}},r=function(e,t){switch(t){case"hour":return 60;case"day":return 1440;case"week":return 10080}},i=function(e,n){switch(n){case"day":return 24;case"week":return 168;case"month":return 24*t.getDayCountInMonth(e)}},a=function(e,n){if("month"===n){var r=new Date(e.getFullYear(),e.getMonth()+1,0),i=t.getWeekNumber(r),a=t.getWeekNumber(new Date(e.getFullYear(),e.getMonth()));return a>i&&(a=0,i++),i-a+1}return"year"===n?t.getWeekNumber(new Date(e.getFullYear(),11,31)):void 0};switch(this.options.subDomain){case"x_min":case"min":return this.getMinuteDomain(e,r(e,this.options.domain));case"x_hour":case"hour":return this.getHourDomain(e,i(e,this.options.domain));case"x_day":case"day":return this.getDayDomain(e,n(e,this.options.domain));case"x_week":case"week":return this.getWeekDomain(e,a(e,this.options.domain));case"x_month":case"month":return this.getMonthDomain(e,12)}},getNextDomain:function(e){"use strict";return 0===arguments.length&&(e=1),this.getDomain(this.jumpDate(this.getDomainKeys().pop(),e,this.options.domain),1)[0]},getPreviousDomain:function(e){"use strict";return 0===arguments.length&&(e=1),this.getDomain(this.jumpDate(this.getDomainKeys().shift(),-e,this.options.domain),1)[0]},getDatas:function(e,t,n,r,i,a){"use strict";var o=this;arguments.length<5&&(i=!0),arguments.length<6&&(a=this.APPEND_ON_UPDATE);var l=function(e){i!==!1?"function"==typeof i?e=i(e):"function"==typeof o.options.afterLoadData?e=o.options.afterLoadData(e):console.log("Provided callback for afterLoadData is not a function."):("csv"===o.options.dataType||"tsv"===o.options.dataType)&&(e=this.interpretCSV(e)),o.parseDatas(e,a,t,n),"function"==typeof r&&r()};switch(typeof e){case"string":if(""===e)return l({}),!0;var c=this.parseURI(e,t,n),u="GET";null!==o.options.dataPostPayload&&(u="POST");var d=null;switch(null!==o.options.dataPostPayload&&(d=this.parseURI(o.options.dataPostPayload,t,n)),this.options.dataType){case"json":s.json(c,l).send(u,d);break;case"csv":s.csv(c,l).send(u,d);break;case"tsv":s.tsv(c,l).send(u,d);break;case"txt":s.text(c,"text/plain",l).send(u,d)}return!1;case"object":if(e===Object(e))return l(e),!1;default:return l({}),!0}},parseDatas:function(e,t,n,r){"use strict";t===this.RESET_ALL_ON_UPDATE&&this._domains.forEach(function(e,t){t.forEach(function(e,t,n){n[t].v=null})});var i={},a=function(e){return e.t};for(var o in e){var s=new Date(1e3*o),l=this.getDomain(s)[0].getTime();if(this.DSTDomain.indexOf(l)>=0&&this._domains.has(l-36e5)&&(l-=36e5),!isNaN(o)&&e.hasOwnProperty(o)&&this._domains.has(l)&&l>=+n&&+r>l){var c=this._domains.get(l);i.hasOwnProperty(l)||(i[l]=c.map(a));var u=i[l].indexOf(this._domainType[this.options.subDomain].extractUnit(s));t===this.RESET_SINGLE_ON_UPDATE?c[u].v=e[o]:isNaN(c[u].v)?c[u].v=e[o]:c[u].v+=e[o]}}},parseURI:function(e,t,n){"use strict";return e=e.replace(/\{\{t:start\}\}/g,t.getTime()/1e3),e=e.replace(/\{\{t:end\}\}/g,n.getTime()/1e3),e=e.replace(/\{\{d:start\}\}/g,t.toISOString()),e=e.replace(/\{\{d:end\}\}/g,n.toISOString())},interpretCSV:function(e){"use strict";var t,n,r={},i=Object.keys(e[0]);for(t=0,n=e.length;n>t;t++)r[e[t][i[0]]]=+e[t][i[1]];return r},resize:function(){"use strict";var e=this,t=e.options,n=t.displayLegend?e.Legend.getDim("width")+t.legendMargin[1]+t.legendMargin[3]:0,r=t.displayLegend?e.Legend.getDim("height")+t.legendMargin[0]+t.legendMargin[2]:0,i=e.graphDim.width-t.domainGutter-t.cellPadding,a=e.graphDim.height-t.domainGutter-t.cellPadding;this.root.transition().duration(t.animationDuration).attr("width",function(){return"middle"===t.legendVerticalPosition||"center"===t.legendVerticalPosition?i+n:Math.max(i,n)}).attr("height",function(){return"middle"===t.legendVerticalPosition||"center"===t.legendVerticalPosition?Math.max(a,r):a+r}),this.root.select(".graph").transition().duration(t.animationDuration).attr("y",function(){return"top"===t.legendVerticalPosition?r:0}).attr("x",function(){return"middle"!==t.legendVerticalPosition&&"center"!==t.legendVerticalPosition||"left"!==t.legendHorizontalPosition?0:n})},next:function(e){"use strict";return 0===arguments.length&&(e=1),this.loadNextDomain(e)},previous:function(e){"use strict";return 0===arguments.length&&(e=1),this.loadPreviousDomain(e)},jumpTo:function(e,t){"use strict";arguments.length<2&&(t=!1);var n=this.getDomainKeys(),r=n[0],i=n[n.length-1];return r>e?this.loadPreviousDomain(this.getDomain(r,e).length):t?this.loadNextDomain(this.getDomain(r,e).length):e>i?this.loadNextDomain(this.getDomain(i,e).length):!1},rewind:function(){"use strict";this.jumpTo(this.options.start,!0)},update:function(e,t,n){"use strict";arguments.length<2&&(t=!0),arguments.length<3&&(n=this.RESET_ALL_ON_UPDATE);var r=this.getDomainKeys(),i=this;this.getDatas(e,new Date(r[0]),this.getSubDomain(r[r.length-1]).pop(),function(){i.fill()},t,n)},setLegend:function(){"use strict";var e=this.options.legend.slice(0);arguments.length>=1&&Array.isArray(arguments[0])&&(this.options.legend=arguments[0]),arguments.length>=2&&(this.options.legendColors=Array.isArray(arguments[1])&&arguments[1].length>=2?[arguments[1][0],arguments[1][1]]:arguments[1]),(arguments.length>0&&!i(e,this.options.legend)||arguments.length>=2)&&(this.Legend.buildColors(),this.fill()),this.Legend.redraw(this.graphDim.width-this.options.domainGutter-this.options.cellPadding)},removeLegend:function(){"use strict";return this.options.displayLegend?(this.options.displayLegend=!1,this.Legend.remove(),!0):!1},showLegend:function(){"use strict";return this.options.displayLegend?!1:(this.options.displayLegend=!0,this.Legend.redraw(this.graphDim.width-this.options.domainGutter-this.options.cellPadding),!0)},highlight:function(e){"use strict";return(this.options.highlight=this.expandDateSetting(e)).length>0?(this.fill(),!0):!1},destroy:function(e){"use strict";return this.root.transition().duration(this.options.animationDuration).attr("width",0).attr("height",0).remove().each("end",function(){"function"==typeof e?e():"undefined"!=typeof e&&console.log("Provided callback for destroy() is not a function.")}),null},getSVG:function(){"use strict";for(var e={".cal-heatmap-container":{},".graph":{},".graph-rect":{},"rect.highlight":{},"rect.now":{},"rect.highlight-now":{},"text.highlight":{},"text.now":{},"text.highlight-now":{},".domain-background":{},".graph-label":{},".subdomain-text":{},".q0":{},".qi":{}},t=1,n=this.options.legend.length+1;n>=t;t++)e[".q"+t]={};var r=this.root,i=["stroke","stroke-width","stroke-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-miterlimit","fill","fill-opacity","fill-rule","marker","marker-start","marker-mid","marker-end","alignement-baseline","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","kerning","text-anchor","shape-rendering","text-transform","font-family","font","font-size","font-weight"],a=function(t,n,r){-1!==i.indexOf(n)&&(e[t][n]=r)},o=function(e){return r.select(e)[0][0]};for(var s in e)if(e.hasOwnProperty(s)){var l=o(s);if(null!==l)if("getComputedStyle"in window){var c=getComputedStyle(l,null);if(0!==c.length)for(var u=0;u<c.length;u++)a(s,c.item(u),c.getPropertyValue(c.item(u)));else for(var d in c)c.hasOwnProperty(d)&&a(s,d,c[d])}else if("currentStyle"in l){var p=l.currentStyle;for(var h in p)a(s,h,p[h])}}var m='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css"><![CDATA[ ';for(var f in e){m+=f+" {\n";for(var g in e[f])m+="	"+g+":"+e[f][g]+";\n";m+="}\n"}return m+="]]></style>",m+=(new XMLSerializer).serializeToString(this.root[0][0]),m+="</svg>"}};var c=function(){"use strict";this.positions=s.map()};c.prototype.getPosition=function(e){"use strict";return this.positions.get(e)},c.prototype.getPositionFromIndex=function(e){"use strict";var t=this.getKeys();return this.positions.get(t[e])},c.prototype.getLast=function(){"use strict";var e=this.getKeys();return this.positions.get(e[e.length-1])},c.prototype.setPosition=function(e,t){"use strict";this.positions.set(e,t)},c.prototype.shiftRightBy=function(e){"use strict";this.positions.forEach(function(t,n){this.set(t,n-e)});var t=this.getKeys();this.positions.remove(t[0])},c.prototype.shiftLeftBy=function(e){"use strict";this.positions.forEach(function(t,n){this.set(t,n+e)});var t=this.getKeys();this.positions.remove(t[t.length-1])},c.prototype.getKeys=function(){"use strict";return this.positions.keys().sort(function(e,t){return parseInt(e,10)-parseInt(t,10)})};var u=function(e){"use strict";this.calendar=e,this.computeDim(),null!==e.options.legendColors&&this.buildColors()};u.prototype.computeDim=function(){"use strict";var e=this.calendar.options;this.dim={width:e.legendCellSize*(e.legend.length+1)+e.legendCellPadding*e.legend.length,height:e.legendCellSize}},u.prototype.remove=function(){"use strict";this.calendar.root.select(".graph-legend").remove(),this.calendar.resize()},u.prototype.redraw=function(e){"use strict";function t(e){e.attr("width",l.legendCellSize).attr("height",l.legendCellSize).attr("x",function(e,t){return t*(l.legendCellSize+l.legendCellPadding)})}function n(){switch(l.legendHorizontalPosition){case"right":return"center"===l.legendVerticalPosition||"middle"===l.legendVerticalPosition?e+l.legendMargin[3]:e-a.getDim("width")-l.legendMargin[1];case"middle":case"center":return Math.round(e/2-a.getDim("width")/2);default:return l.legendMargin[3]}}function r(){return"bottom"===l.legendVerticalPosition?o.graphDim.height+l.legendMargin[0]-l.domainGutter-l.cellPadding:l.legendMargin[0]}if(!this.calendar.options.displayLegend)return!1;var i,a=this,o=this.calendar,s=o.root,l=o.options;this.computeDim();var c=l.legend.slice(0);c.push(c[c.length-1]+1);var u=o.root.select(".graph-legend");null!==u[0][0]?(s=u,i=s.select("g").selectAll("rect").data(c)):(s="top"===l.legendVerticalPosition?s.insert("svg",".graph"):s.append("svg"),s.attr("x",n()).attr("y",r()),i=s.attr("class","graph-legend").attr("height",a.getDim("height")).attr("width",a.getDim("width")).append("g").selectAll().data(c)),i.enter().append("rect").call(t).attr("class",function(e){return o.Legend.getClass(e,null===o.legendScale)}).attr("fill-opacity",0).call(function(e){null!==o.legendScale&&null!==l.legendColors&&l.legendColors.hasOwnProperty("base")&&e.attr("fill",l.legendColors.base)}).append("title"),i.exit().transition().duration(l.animationDuration).attr("fill-opacity",0).remove(),i.transition().delay(function(e,t){return l.animationDuration*t/10}).call(t).attr("fill-opacity",1).call(function(e){e.attr("fill",function(e,t){return null===o.legendScale?"":o.legendScale(0===t?e-1:l.legend[t-1])}),e.attr("class",function(e){return o.Legend.getClass(e,null===o.legendScale)})}),i.select("title").text(function(e,t){return 0===t?l.legendTitleFormat.lower.format({min:l.legend[t],name:l.itemName[1]}):t===c.length-1?l.legendTitleFormat.upper.format({max:l.legend[t-1],name:l.itemName[1]}):l.legendTitleFormat.inner.format({down:l.legend[t-1],up:l.legend[t],name:l.itemName[1]})}),s.transition().duration(l.animationDuration).attr("x",n()).attr("y",r()).attr("width",a.getDim("width")).attr("height",a.getDim("height")),s.select("g").transition().duration(l.animationDuration).attr("transform",function(){return"vertical"===l.legendOrientation?"rotate(90 "+l.legendCellSize/2+" "+l.legendCellSize/2+")":""}),o.resize()},u.prototype.getDim=function(e){"use strict";var t="horizontal"===this.calendar.options.legendOrientation;switch(e){case"width":return this.dim[t?"width":"height"];case"height":return this.dim[t?"height":"width"]}},u.prototype.buildColors=function(){"use strict";var e=this.calendar.options;if(null===e.legendColors)return this.calendar.legendScale=null,!1;var t=[];if(Array.isArray(e.legendColors))t=e.legendColors;else{if(!e.legendColors.hasOwnProperty("min")||!e.legendColors.hasOwnProperty("max"))return e.legendColors=null,!1;t=[e.legendColors.min,e.legendColors.max]}var n=e.legend.slice(0);n[0]>0?n.unshift(0):n[0]<0&&n.unshift(n[0]-(n[n.length-1]-n[0])/n.length);var r=s.scale.linear().range(t).interpolate(s.interpolateHcl).domain([s.min(n),s.max(n)]),i=n.map(function(e){return r(e)});return this.calendar.legendScale=s.scale.threshold().domain(e.legend).range(i),!0},u.prototype.getClass=function(e,t){"use strict";if(null===e||isNaN(e))return"";for(var n=[this.calendar.options.legend.length+1],r=0,i=this.calendar.options.legend.length-1;i>=r;r++){if(this.calendar.options.legend[0]>0&&0>e){n=["1","i"];break}if(e<=this.calendar.options.legend[r]){n=[r+1];break}}return 0===e&&n.push(0),n.unshift(""),(n.join(" r")+(t?n.join(" q"):"")).trim()},String.prototype.format=function(){"use strict";var e=this;for(var t in arguments[0])if(arguments[0].hasOwnProperty(t)){var n=new RegExp("\\{"+t+"\\}","gi");e=e.replace(n,arguments[0][t])}return e},a=[n(186)],o=function(){"use strict";return l}.apply(t,a),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,i;!function(){function a(e){return e&&(e.ownerDocument||e.document||e).documentElement}function o(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function s(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function l(e){return null===e?NaN:+e}function c(e){return!isNaN(e)}function u(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function d(e){return e.length}function p(e){for(var t=1;e*t%1;)t*=10;return t}function h(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function m(){this._=Object.create(null)}function f(e){return(e+="")===So||e[0]===To?To+e:e}function g(e){return(e+="")[0]===To?e.slice(1):e}function v(e){return f(e)in this._}function b(e){return(e=f(e))in this._&&delete this._[e]}function y(){var e=[];for(var t in this._)e.push(g(t));return e}function w(){var e=0;for(var t in this._)++e;return e}function k(){for(var e in this._)return!1;return!0}function E(){this._=Object.create(null)}function _(e){return e}function x(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function C(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=Ro.length;r>n;++n){var i=Ro[n]+t;if(i in e)return i}}function S(){}function T(){}function R(e){function t(){for(var t,r=n,i=-1,a=r.length;++i<a;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new m;return t.on=function(t,i){var a,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function A(){ho.event.preventDefault()}function N(){for(var e,t=ho.event;e=t.sourceEvent;)t=e;return t}function F(e){for(var t=new T,n=0,r=arguments.length;++n<r;)t[arguments[n]]=R(t);return t.of=function(n,r){return function(i){try{var a=i.sourceEvent=ho.event;i.target=e,ho.event=i,t[i.type].apply(n,r)}finally{ho.event=a}}},t}function M(e){return No(e,Do),e}function L(e){return"function"==typeof e?e:function(){return Fo(e,this)}}function D(e){return"function"==typeof e?e:function(){return Mo(e,this)}}function O(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function a(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=ho.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:o:e.local?a:i}function I(e){return e.trim().replace(/\s+/g," ")}function P(e){return new RegExp("(?:^|\\s+)"+ho.requote(e)+"(?:\\s+|$)","g")}function B(e){return(e+"").trim().split(/^|\s+/)}function j(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=B(e).map(z);var i=e.length;return"function"==typeof t?r:n}function z(e){var t=P(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",I(i+" "+e))):n.setAttribute("class",I(i.replace(t," ")))}}function U(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function a(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?a:i}function $(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function H(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n===Oo&&t.documentElement.namespaceURI===Oo?t.createElement(e):t.createElementNS(n,e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=ho.ns.qualify(e)).local?n:t}function W(){var e=this.parentNode;e&&e.removeChild(this)}function V(e){return{__data__:e}}function q(e){return function(){return Lo(this,e)}}function G(e){return arguments.length||(e=s),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function K(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,a=e[n],o=0,s=a.length;s>o;o++)(i=a[o])&&t(i,o,n);return e}function Y(e){return No(e,Po),e}function X(e){var t,n;return function(r,i,a){var o,s=e[a].update,l=s.length;for(a!=n&&(n=a,t=0),i>=t&&(t=i+1);!(o=s[t])&&++t<l;);return o}}function Z(e,t,n){function r(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}function i(){var i=l(t,fo(arguments));r.call(this),this.addEventListener(e,this[o]=i,i.$=n),i._=t}function a(){var t,n=new RegExp("^__on([^.]+)"+ho.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+e,s=e.indexOf("."),l=J;s>0&&(e=e.slice(0,s));var c=Bo.get(e);return c&&(e=c,l=Q),s?t?i:r:t?S:a}function J(e,t){return function(n){var r=ho.event;ho.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{ho.event=r}}}function Q(e,t){var n=J(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function ee(e){var t=".dragsuppress-"+ ++zo,n="click"+t,r=ho.select(o(e)).on("touchmove"+t,A).on("dragstart"+t,A).on("selectstart"+t,A);if(null==jo&&(jo="onselectstart"in e?!1:C(e.style,"userSelect")),jo){var i=a(e).style,s=i[jo];i[jo]="none"}return function(e){if(r.on(t,null),jo&&(i[jo]=s),e){var a=function(){r.on(n,null)};r.on(n,function(){A(),a()},!0),setTimeout(a,0)}}}function te(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Uo){var i=o(e);if(i.scrollX||i.scrollY){n=ho.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();Uo=!(a.f||a.e),n.remove()}}return Uo?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function ne(){return ho.event.changedTouches[0].identifier}function re(e){return e>0?1:0>e?-1:0}function ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function ae(e){return e>1?0:-1>e?Wo:Math.acos(e)}function oe(e){return e>1?Go:-1>e?-Go:Math.asin(e)}function se(e){return((e=Math.exp(e))-1/e)/2}function le(e){return((e=Math.exp(e))+1/e)/2}function ce(e){return((e=Math.exp(2*e))-1)/(e+1)}function ue(e){return(e=Math.sin(e/2))*e}function de(){}function pe(e,t,n){return this instanceof pe?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof pe?new pe(e.h,e.s,e.l):Se(""+e,Te,pe):new pe(e,t,n)}function he(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?a+(o-a)*e/60:180>e?o:240>e?a+(o-a)*(240-e)/60:a}function i(e){return Math.round(255*r(e))}var a,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+t):n+t-n*t,a=2*n-o,new Ee(i(e+120),i(e),i(e-120))}function me(e,t,n){return this instanceof me?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof me?new me(e.h,e.c,e.l):e instanceof ge?be(e.l,e.a,e.b):be((e=Re((e=ho.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new me(e,t,n)}function fe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ge(n,Math.cos(e*=Ko)*t,Math.sin(e)*t)}function ge(e,t,n){return this instanceof ge?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof ge?new ge(e.l,e.a,e.b):e instanceof me?fe(e.h,e.c,e.l):Re((e=Ee(e)).r,e.g,e.b):new ge(e,t,n)}function ve(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;return i=ye(i)*as,r=ye(r)*os,a=ye(a)*ss,new Ee(ke(3.2404542*i-1.5371385*r-.4985314*a),ke(-.969266*i+1.8760108*r+.041556*a),ke(.0556434*i-.2040259*r+1.0572252*a))}function be(e,t,n){return e>0?new me(Math.atan2(n,t)*Yo,Math.sqrt(t*t+n*n),e):new me(NaN,NaN,e)}function ye(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function we(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ke(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function Ee(e,t,n){return this instanceof Ee?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof Ee?new Ee(e.r,e.g,e.b):Se(""+e,Ee,he):new Ee(e,t,n)}function _e(e){return new Ee(e>>16,e>>8&255,255&e)}function xe(e){return _e(e)+""}function Ce(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Se(e,t,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Ne(i[0]),Ne(i[1]),Ne(i[2]))}return(a=us.get(e))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,l=15&a,l=l<<4|l):7===e.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),t(o,s,l))}function Te(e,t,n){var r,i,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-a,l=(o+a)/2;return s?(i=.5>l?s/(o+a):s/(2-o-a),r=e==o?(t-n)/s+(n>t?6:0):t==o?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=l>0&&1>l?0:r),new pe(r,i,l)}function Re(e,t,n){e=Ae(e),t=Ae(t),n=Ae(n);var r=we((.4124564*e+.3575761*t+.1804375*n)/as),i=we((.2126729*e+.7151522*t+.072175*n)/os),a=we((.0193339*e+.119192*t+.9503041*n)/ss);return ge(116*i-16,500*(r-i),200*(i-a))}function Ae(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ne(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Fe(e){return"function"==typeof e?e:function(){return e}}function Me(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Le(t,n,e,r)}}function Le(e,t,n,r){function i(){var e,t=l.status;if(!t&&Oe(l)||t>=200&&300>t||304===t){try{e=n.call(a,l)}catch(r){return void o.error.call(a,r)}o.load.call(a,e)}else o.error.call(a,l)}var a={},o=ho.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(e){var t=ho.event;ho.event=e;try{o.progress.call(a,l)}finally{ho.event=t}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",a):t},a.responseType=function(e){return arguments.length?(c=e,a):c},a.response=function(e){return n=e,a},["get","post"].forEach(function(e){a[e]=function(){return a.send.apply(a,[e].concat(fo(arguments)))}}),a.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),l.setRequestHeader)for(var u in s)l.setRequestHeader(u,s[u]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=i&&a.on("error",i).on("load",function(e){i(null,e)}),o.beforesend.call(a,l),l.send(null==r?null:r),a},a.abort=function(){return l.abort(),a},ho.rebind(a,o,"on"),null==r?a:a.get(De(r))}function De(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Oe(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Ie(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,a={c:e,t:i,n:null};return ps?ps.n=a:ds=a,ps=a,hs||(ms=clearTimeout(ms),hs=1,fs(Pe)),a}function Pe(){var e=Be(),t=je()-e;t>24?(isFinite(t)&&(clearTimeout(ms),ms=setTimeout(Pe,t)),hs=0):(hs=1,fs(Pe))}function Be(){for(var e=Date.now(),t=ds;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function je(){for(var e,t=ds,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:ds=t.n;return ps=e,n}function ze(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ue(e,t){var n=Math.pow(10,3*Co(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function $e(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,a=r&&n?function(e,t){for(var i=e.length,a=[],o=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>t));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:_;return function(e){var n=vs.exec(e),r=n[1]||" ",o=n[2]||">",s=n[3]||"-",l=n[4]||"",c=n[5],u=+n[6],d=n[7],p=n[8],h=n[9],m=1,f="",g="",v=!1,b=!0;switch(p&&(p=+p.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),h){case"n":d=!0,h="g";break;case"%":m=100,g="%",h="f";break;case"p":m=100,g="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(f="0"+h.toLowerCase());case"c":b=!1;case"d":v=!0,p=0;break;case"s":m=-1,h="r"}"$"===l&&(f=i[0],g=i[1]),"r"!=h||p||(h="g"),null!=p&&("g"==h?p=Math.max(1,Math.min(21,p)):("e"==h||"f"==h)&&(p=Math.max(0,Math.min(20,p)))),h=bs.get(h)||He;var y=c&&d;return function(e){var n=g;if(v&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===s?"":s;if(0>m){var l=ho.formatPrefix(e,p);e=l.scale(e),n=l.symbol+g}else e*=m;e=h(e,p);var w,k,E=e.lastIndexOf(".");if(0>E){var _=b?e.lastIndexOf("e"):-1;0>_?(w=e,k=""):(w=e.substring(0,_),k=e.substring(_))}else w=e.substring(0,E),k=t+e.substring(E+1);!c&&d&&(w=a(w,1/0));var x=f.length+w.length+k.length+(y?0:i.length),C=u>x?new Array(x=u-x+1).join(r):"";return y&&(w=a(C+w,C.length?u-k.length:1/0)),i+=f,e=w+k,("<"===o?i+e+C:">"===o?C+i+e:"^"===o?C.substring(0,x>>=1)+i+e+C.substring(x):i+(y?e:C+e))+n}}}function He(e){return e+""}function We(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ve(e,t,n){function r(t){var n=e(t),r=a(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new ws(n-1)),1),n}function a(e,n){return t(e=new ws(+e),n),e}function o(e,r,a){var o=i(e),s=[];if(a>1)for(;r>o;)n(o)%a||s.push(new Date(+o)),t(o,1);else for(;r>o;)s.push(new Date(+o)),t(o,1);return s}function s(e,t,n){try{ws=We;var r=new We;return r._=e,o(r,t,n)}finally{ws=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=a,e.range=o;var l=e.utc=qe(e);return l.floor=l,l.round=qe(r),l.ceil=qe(i),l.offset=qe(a),l.range=s,e}function qe(e){return function(t,n){try{ws=We;var r=new We;return r._=t,e(r,n)._}finally{ws=Date}}}function Ge(e){function t(e){function t(t){for(var n,i,a,o=[],s=-1,l=0;++s<r;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=Es[n=e.charAt(++s)])&&(n=e.charAt(++s)),(a=R[n])&&(n=a(t,null==i?"e"===n?" ":"0":i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var a=null!=r.Z&&ws!==We,o=new(a?We:ws);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),a?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,a,o,s=0,l=t.length,c=n.length;l>s;){if(r>=c)return-1;if(i=t.charCodeAt(s++),37===i){if(o=t.charAt(s++),a=A[o in Es?t.charAt(s++):o],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){E.lastIndex=0;var r=E.exec(t.slice(n));return r?(e.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){w.lastIndex=0;var r=w.exec(t.slice(n));return r?(e.w=k.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){S.lastIndex=0;var r=S.exec(t.slice(n));return r?(e.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,R.c.toString(),t,r)}function l(e,t,r){return n(e,R.x.toString(),t,r)}function c(e,t,r){return n(e,R.X.toString(),t,r)}function u(e,t,n){var r=y.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var d=e.dateTime,p=e.date,h=e.time,m=e.periods,f=e.days,g=e.shortDays,v=e.months,b=e.shortMonths;t.utc=function(e){function n(e){try{ws=We;var t=new ws;return t._=e,r(t)}finally{ws=Date}}var r=t(e);return n.parse=function(e){try{ws=We;var t=r.parse(e);return t&&t._}finally{ws=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=ht;var y=ho.map(),w=Ye(f),k=Xe(f),E=Ye(g),_=Xe(g),x=Ye(v),C=Xe(v),S=Ye(b),T=Xe(b);m.forEach(function(e,t){y.set(e.toLowerCase(),t)});var R={a:function(e){return g[e.getDay()]},A:function(e){return f[e.getDay()]},b:function(e){return b[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:t(d),d:function(e,t){return Ke(e.getDate(),t,2)},e:function(e,t){return Ke(e.getDate(),t,2)},H:function(e,t){return Ke(e.getHours(),t,2)},I:function(e,t){return Ke(e.getHours()%12||12,t,2)},j:function(e,t){return Ke(1+ys.dayOfYear(e),t,3)},L:function(e,t){return Ke(e.getMilliseconds(),t,3)},m:function(e,t){return Ke(e.getMonth()+1,t,2)},M:function(e,t){return Ke(e.getMinutes(),t,2)},p:function(e){return m[+(e.getHours()>=12)]},S:function(e,t){return Ke(e.getSeconds(),t,2)},U:function(e,t){return Ke(ys.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ke(ys.mondayOfYear(e),t,2)},x:t(p),X:t(h),y:function(e,t){return Ke(e.getFullYear()%100,t,2)},Y:function(e,t){return Ke(e.getFullYear()%1e4,t,4)},Z:dt,"%":function(){return"%"}},A={a:r,A:i,b:a,B:o,c:s,d:at,e:at,H:st,I:st,j:ot,L:ut,m:it,M:lt,p:u,S:ct,U:Je,w:Ze,W:Qe,x:l,X:c,y:tt,Y:et,Z:nt,"%":pt};return t}function Ke(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",a=i.length;return r+(n>a?new Array(n-a+1).join(t)+i:i)}function Ye(e){return new RegExp("^(?:"+e.map(ho.requote).join("|")+")","i")}function Xe(e){for(var t=new m,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Ze(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Je(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Qe(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function et(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tt(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n,n+2));return r?(e.y=rt(+r[0]),n+r[0].length):-1;
}function nt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function rt(e){return e+(e>68?1900:2e3)}function it(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function at(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ot(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function st(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function lt(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ct(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ut(e,t,n){_s.lastIndex=0;var r=_s.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function dt(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=Co(t)/60|0,i=Co(t)%60;return n+Ke(r,"0",2)+Ke(i,"0",2)}function pt(e,t,n){xs.lastIndex=0;var r=xs.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ht(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function mt(){}function ft(e,t,n){var r=n.s=e+t,i=r-e,a=r-i;n.t=e-a+(t-i)}function gt(e,t){e&&Rs.hasOwnProperty(e.type)&&Rs[e.type](e,t)}function vt(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function bt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)vt(e[n],t,1);t.polygonEnd()}function yt(){function e(e,t){e*=Ko,t=t*Ko/2+Wo/4;var n=e-r,o=n>=0?1:-1,s=o*n,l=Math.cos(t),c=Math.sin(t),u=a*c,d=i*l+u*Math.cos(s),p=u*o*Math.sin(s);Ns.add(Math.atan2(p,d)),r=e,i=l,a=c}var t,n,r,i,a;Fs.point=function(o,s){Fs.point=e,r=(t=o)*Ko,i=Math.cos(s=(n=s)*Ko/2+Wo/4),a=Math.sin(s)},Fs.lineEnd=function(){e(t,n)}}function wt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function kt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Et(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function _t(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function xt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ct(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function St(e){return[Math.atan2(e[1],e[0]),oe(e[2])]}function Tt(e,t){return Co(e[0]-t[0])<$o&&Co(e[1]-t[1])<$o}function Rt(e,t){e*=Ko;var n=Math.cos(t*=Ko);At(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function At(e,t,n){++Ms,Ds+=(e-Ds)/Ms,Os+=(t-Os)/Ms,Is+=(n-Is)/Ms}function Nt(){function e(e,i){e*=Ko;var a=Math.cos(i*=Ko),o=a*Math.cos(e),s=a*Math.sin(e),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=n*l-r*s)*c+(c=r*o-t*l)*c+(c=t*s-n*o)*c),t*o+n*s+r*l);Ls+=c,Ps+=c*(t+(t=o)),Bs+=c*(n+(n=s)),js+=c*(r+(r=l)),At(t,n,r)}var t,n,r;Hs.point=function(i,a){i*=Ko;var o=Math.cos(a*=Ko);t=o*Math.cos(i),n=o*Math.sin(i),r=Math.sin(a),Hs.point=e,At(t,n,r)}}function Ft(){Hs.point=Rt}function Mt(){function e(e,t){e*=Ko;var n=Math.cos(t*=Ko),o=n*Math.cos(e),s=n*Math.sin(e),l=Math.sin(t),c=i*l-a*s,u=a*o-r*l,d=r*s-i*o,p=Math.sqrt(c*c+u*u+d*d),h=r*o+i*s+a*l,m=p&&-ae(h)/p,f=Math.atan2(p,h);zs+=m*c,Us+=m*u,$s+=m*d,Ls+=f,Ps+=f*(r+(r=o)),Bs+=f*(i+(i=s)),js+=f*(a+(a=l)),At(r,i,a)}var t,n,r,i,a;Hs.point=function(o,s){t=o,n=s,Hs.point=e,o*=Ko;var l=Math.cos(s*=Ko);r=l*Math.cos(o),i=l*Math.sin(o),a=Math.sin(s),At(r,i,a)},Hs.lineEnd=function(){e(t,n),Hs.lineEnd=Ft,Hs.point=Rt}}function Lt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Dt(){return!0}function Ot(e,t,n,r,i){var a=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Tt(n,r)){i.lineStart();for(var s=0;t>s;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var l=new Pt(n,e,null,!0),c=new Pt(n,null,l,!1);l.o=c,a.push(l),o.push(c),l=new Pt(r,e,null,!1),c=new Pt(r,null,l,!0),l.o=c,a.push(l),o.push(c)}}),o.sort(t),It(a),It(o),a.length){for(var s=0,l=n,c=o.length;c>s;++s)o[s].e=l=!l;for(var u,d,p=a[0];;){for(var h=p,m=!0;h.v;)if((h=h.n)===p)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(m)for(var s=0,c=u.length;c>s;++s)i.point((d=u[s])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(m){u=h.p.z;for(var s=u.length-1;s>=0;--s)i.point((d=u[s])[0],d[1])}else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,m=!m}while(!h.v);i.lineEnd()}}}function It(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Pt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Bt(e,t,n,r){return function(i,a){function o(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&a.point(t,n)}function s(e,t){var n=i(e,t);g.point(n[0],n[1])}function l(){b.point=s,g.lineStart()}function c(){b.point=o,g.lineEnd()}function u(e,t){f.push([e,t]);var n=i(e,t);w.point(n[0],n[1])}function d(){w.lineStart(),f=[]}function p(){u(f[0][0],f[0][1]),w.lineEnd();var e,t=w.clean(),n=y.buffer(),r=n.length;if(f.pop(),m.push(f),f=null,r)if(1&t){e=n[0];var i,r=e.length-1,o=-1;if(r>0){for(k||(a.polygonStart(),k=!0),a.lineStart();++o<r;)a.point((i=e[o])[0],i[1]);a.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),h.push(n.filter(jt))}var h,m,f,g=t(a),v=i.invert(r[0],r[1]),b={point:o,lineStart:l,lineEnd:c,polygonStart:function(){b.point=u,b.lineStart=d,b.lineEnd=p,h=[],m=[]},polygonEnd:function(){b.point=o,b.lineStart=l,b.lineEnd=c,h=ho.merge(h);var e=Vt(v,m);h.length?(k||(a.polygonStart(),k=!0),Ot(h,Ut,e,n,a)):e&&(k||(a.polygonStart(),k=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),k&&(a.polygonEnd(),k=!1),h=m=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},y=zt(),w=t(y),k=!1;return b}}function jt(e){return e.length>1}function zt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:S,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Ut(e,t){return((e=e.x)[0]<0?e[1]-Go-$o:Go-e[1])-((t=t.x)[0]<0?t[1]-Go-$o:Go-t[1])}function $t(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?Wo:-Wo,l=Co(a-n);Co(l-Wo)<$o?(e.point(n,r=(r+o)/2>0?Go:-Go),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&l>=Wo&&(Co(n-i)<$o&&(n-=i*$o),Co(a-s)<$o&&(a-=s*$o),r=Ht(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function Ht(e,t,n,r){var i,a,o=Math.sin(e-n);return Co(o)>$o?Math.atan((Math.sin(t)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*a*o)):(t+r)/2}function Wt(e,t,n,r){var i;if(null==e)i=n*Go,r.point(-Wo,i),r.point(0,i),r.point(Wo,i),r.point(Wo,0),r.point(Wo,-i),r.point(0,-i),r.point(-Wo,-i),r.point(-Wo,0),r.point(-Wo,i);else if(Co(e[0]-t[0])>$o){var a=e[0]<t[0]?Wo:-Wo;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function Vt(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Ns.reset();for(var s=0,l=t.length;l>s;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],p=d[0],h=d[1]/2+Wo/4,m=Math.sin(h),f=Math.cos(h),g=1;;){g===u&&(g=0),e=c[g];var v=e[0],b=e[1]/2+Wo/4,y=Math.sin(b),w=Math.cos(b),k=v-p,E=k>=0?1:-1,_=E*k,x=_>Wo,C=m*y;if(Ns.add(Math.atan2(C*E*Math.sin(_),f*w+C*Math.cos(_))),a+=x?k+E*Vo:k,x^p>=n^v>=n){var S=Et(wt(d),wt(e));Ct(S);var T=Et(i,S);Ct(T);var R=(x^k>=0?-1:1)*oe(T[2]);(r>R||r===R&&(S[0]||S[1]))&&(o+=x^k>=0?1:-1)}if(!g++)break;p=v,m=y,f=w,d=e}}return(-$o>a||$o>a&&-$o>Ns)^1&o}function qt(e){function t(e,t){return Math.cos(e)*Math.cos(t)>a}function n(e){var n,a,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,p){var h,m=[d,p],f=t(d,p),g=o?f?0:i(d,p):f?i(d+(0>d?Wo:-Wo),p):0;if(!n&&(c=l=f)&&e.lineStart(),f!==l&&(h=r(n,m),(Tt(n,h)||Tt(m,h))&&(m[0]+=$o,m[1]+=$o,f=t(m[0],m[1]))),f!==l)u=0,f?(e.lineStart(),h=r(m,n),e.point(h[0],h[1])):(h=r(n,m),e.point(h[0],h[1]),e.lineEnd()),n=h;else if(s&&n&&o^f){var v;g&a||!(v=r(m,n,!0))||(u=0,o?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!f||n&&Tt(n,m)||e.point(m[0],m[1]),n=m,l=f,a=g},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return u|(c&&l)<<1}}}function r(e,t,n){var r=wt(e),i=wt(t),o=[1,0,0],s=Et(r,i),l=kt(s,s),c=s[0],u=l-c*c;if(!u)return!n&&e;var d=a*l/u,p=-a*c/u,h=Et(o,s),m=xt(o,d),f=xt(s,p);_t(m,f);var g=h,v=kt(m,g),b=kt(g,g),y=v*v-b*(kt(m,m)-1);if(!(0>y)){var w=Math.sqrt(y),k=xt(g,(-v-w)/b);if(_t(k,m),k=St(k),!n)return k;var E,_=e[0],x=t[0],C=e[1],S=t[1];_>x&&(E=_,_=x,x=E);var T=x-_,R=Co(T-Wo)<$o,A=R||$o>T;if(!R&&C>S&&(E=C,C=S,S=E),A?R?C+S>0^k[1]<(Co(k[0]-_)<$o?C:S):C<=k[1]&&k[1]<=S:T>Wo^(_<=k[0]&&k[0]<=x)){var N=xt(g,(-v+w)/b);return _t(N,m),[k,St(N)]}}}function i(t,n){var r=o?e:Wo-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var a=Math.cos(e),o=a>0,s=Co(a)>$o,l=wn(e,6*Ko);return Bt(t,n,l,o?[0,-e]:[-Wo,e-Wo])}function Gt(e,t,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,c=o.y,u=s.x,d=s.y,p=0,h=1,m=u-l,f=d-c;if(a=e-l,m||!(a>0)){if(a/=m,0>m){if(p>a)return;h>a&&(h=a)}else if(m>0){if(a>h)return;a>p&&(p=a)}if(a=n-l,m||!(0>a)){if(a/=m,0>m){if(a>h)return;a>p&&(p=a)}else if(m>0){if(p>a)return;h>a&&(h=a)}if(a=t-c,f||!(a>0)){if(a/=f,0>f){if(p>a)return;h>a&&(h=a)}else if(f>0){if(a>h)return;a>p&&(p=a)}if(a=r-c,f||!(0>a)){if(a/=f,0>f){if(a>h)return;a>p&&(p=a)}else if(f>0){if(p>a)return;h>a&&(h=a)}return p>0&&(i.a={x:l+p*m,y:c+p*f}),1>h&&(i.b={x:l+h*m,y:c+h*f}),i}}}}}}function Kt(e,t,n,r){function i(r,i){return Co(r[0]-e)<$o?i>0?0:3:Co(r[0]-n)<$o?i>0?2:1:Co(r[1]-t)<$o?i>0?1:0:i>0?3:2}function a(e,t){return o(e.x,t.x)}function o(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function l(e){for(var t=0,n=g.length,r=e[1],i=0;n>i;++i)for(var a,o=1,s=g[i],l=s.length,c=s[0];l>o;++o)a=s[o],c[1]<=r?a[1]>r&&ie(c,a,e)>0&&++t:a[1]<=r&&ie(c,a,e)<0&&--t,c=a;return 0!==t}function c(a,s,l,c){var u=0,d=0;if(null==a||(u=i(a,l))!==(d=i(s,l))||o(a,s)<0^l>0){do c.point(0===u||3===u?e:n,u>1?r:t);while((u=(u+l+4)%4)!==d)}else c.point(s[0],s[1])}function u(i,a){return i>=e&&n>=i&&a>=t&&r>=a}function d(e,t){u(e,t)&&s.point(e,t)}function p(){A.point=m,g&&g.push(v=[]),x=!0,_=!1,k=E=NaN}function h(){f&&(m(b,y),w&&_&&T.rejoin(),f.push(T.buffer())),A.point=d,_&&s.lineEnd()}function m(e,t){e=Math.max(-Vs,Math.min(Vs,e)),t=Math.max(-Vs,Math.min(Vs,t));var n=u(e,t);if(g&&v.push([e,t]),x)b=e,y=t,w=n,x=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&_)s.point(e,t);else{var r={a:{x:k,y:E},b:{x:e,y:t}};R(r)?(_||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),C=!1):n&&(s.lineStart(),s.point(e,t),C=!1)}k=e,E=t,_=n}var f,g,v,b,y,w,k,E,_,x,C,S=s,T=zt(),R=Gt(e,t,n,r),A={point:d,lineStart:p,lineEnd:h,polygonStart:function(){s=T,f=[],g=[],C=!0},polygonEnd:function(){s=S,f=ho.merge(f);var t=l([e,r]),n=C&&t,i=f.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),i&&Ot(f,a,t,c,s),s.polygonEnd()),f=g=v=null}};return A}}function Yt(e){var t=0,n=Wo/3,r=pn(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Wo/180,n=e[1]*Wo/180):[t/Wo*180,n/Wo*180]},i}function Xt(e,t){function n(e,t){var n=Math.sqrt(a-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,a=1+r*(2*i-r),o=Math.sqrt(a)/i;return n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,oe((a-(e*e+n*n)*i*i)/(2*i))]},n}function Zt(){function e(e,t){Gs+=i*e-r*t,r=e,i=t}var t,n,r,i;Js.point=function(a,o){Js.point=e,t=r=a,n=i=o},Js.lineEnd=function(){e(t,n)}}function Jt(e,t){Ks>e&&(Ks=e),e>Xs&&(Xs=e),Ys>t&&(Ys=t),t>Zs&&(Zs=t)}function Qt(){function e(e,t){o.push("M",e,",",t,a)}function t(e,t){o.push("M",e,",",t),s.point=n}function n(e,t){o.push("L",e,",",t)}function r(){s.point=e}function i(){o.push("Z")}var a=en(4.5),o=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return a=en(e),s},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return s}function en(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function tn(e,t){Ds+=e,Os+=t,++Is}function nn(){function e(e,r){var i=e-t,a=r-n,o=Math.sqrt(i*i+a*a);Ps+=o*(t+e)/2,Bs+=o*(n+r)/2,js+=o,tn(t=e,n=r)}var t,n;el.point=function(r,i){el.point=e,tn(t=r,n=i)}}function rn(){el.point=tn}function an(){function e(e,t){var n=e-r,a=t-i,o=Math.sqrt(n*n+a*a);Ps+=o*(r+e)/2,Bs+=o*(i+t)/2,js+=o,o=i*e-r*t,zs+=o*(r+e),Us+=o*(i+t),$s+=3*o,tn(r=e,i=t)}var t,n,r,i;el.point=function(a,o){el.point=e,tn(t=r=a,n=i=o)},el.lineEnd=function(){e(t,n)}}function on(e){function t(t,n){e.moveTo(t+o,n),e.arc(t,n,o,0,Vo)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function i(){s.point=t}function a(){e.closePath()}var o=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return o=e,s},result:S};return s}function sn(e){function t(e){return(s?r:n)(e)}function n(t){return un(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){y=NaN,x.point=a,t.lineStart()}function a(n,r){var a=wt([n,r]),o=e(n,r);i(y,w,b,k,E,_,y=o[0],w=o[1],b=n,k=a[0],E=a[1],_=a[2],s,t),t.point(y,w)}function o(){x.point=n,t.lineEnd()}function l(){r(),x.point=c,x.lineEnd=u}function c(e,t){a(d=e,p=t),h=y,m=w,f=k,g=E,v=_,x.point=a}function u(){i(y,w,b,k,E,_,h,m,d,f,g,v,s,t),x.lineEnd=o,o()}var d,p,h,m,f,g,v,b,y,w,k,E,_,x={point:n,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),x.lineStart=l},polygonEnd:function(){t.polygonEnd(),x.lineStart=r}};return x}function i(t,n,r,s,l,c,u,d,p,h,m,f,g,v){var b=u-t,y=d-n,w=b*b+y*y;if(w>4*a&&g--){var k=s+h,E=l+m,_=c+f,x=Math.sqrt(k*k+E*E+_*_),C=Math.asin(_/=x),S=Co(Co(_)-1)<$o||Co(r-p)<$o?(r+p)/2:Math.atan2(E,k),T=e(S,C),R=T[0],A=T[1],N=R-t,F=A-n,M=y*N-b*F;(M*M/w>a||Co((b*N+y*F)/w-.5)>.3||o>s*h+l*m+c*f)&&(i(t,n,r,s,l,c,R,A,S,k/=x,E/=x,_,g,v),v.point(R,A),i(R,A,S,k,E,_,u,d,p,h,m,f,g,v))}}var a=.5,o=Math.cos(30*Ko),s=16;return t.precision=function(e){return arguments.length?(s=(a=e*e)>0&&16,t):Math.sqrt(a)},t}function ln(e){var t=sn(function(t,n){return e([t*Yo,n*Yo])});return function(e){return hn(t(e))}}function cn(e){this.stream=e}function un(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function dn(e){return pn(function(){return e})()}function pn(e){function t(e){return e=s(e[0]*Ko,e[1]*Ko),[e[0]*p+l,c-e[1]*p]}function n(e){return e=s.invert((e[0]-l)/p,(c-e[1])/p),e&&[e[0]*Yo,e[1]*Yo]}function r(){s=Lt(o=gn(v,b,y),a);var e=a(f,g);return l=h-e[0]*p,c=m+e[1]*p,i()}function i(){return u&&(u.valid=!1,u=null),t}var a,o,s,l,c,u,d=sn(function(e,t){return e=a(e,t),[e[0]*p+l,c-e[1]*p]}),p=150,h=480,m=250,f=0,g=0,v=0,b=0,y=0,w=Ws,k=_,E=null,x=null;return t.stream=function(e){return u&&(u.valid=!1),u=hn(w(o,d(k(e)))),u.valid=!0,u},t.clipAngle=function(e){return arguments.length?(w=null==e?(E=e,Ws):qt((E=+e)*Ko),i()):E},t.clipExtent=function(e){return arguments.length?(x=e,k=e?Kt(e[0][0],e[0][1],e[1][0],e[1][1]):_,i()):x},t.scale=function(e){return arguments.length?(p=+e,r()):p},t.translate=function(e){return arguments.length?(h=+e[0],m=+e[1],r()):[h,m]},t.center=function(e){return arguments.length?(f=e[0]%360*Ko,g=e[1]%360*Ko,r()):[f*Yo,g*Yo]},t.rotate=function(e){return arguments.length?(v=e[0]%360*Ko,b=e[1]%360*Ko,y=e.length>2?e[2]%360*Ko:0,r()):[v*Yo,b*Yo,y*Yo]},ho.rebind(t,d,"precision"),function(){return a=e.apply(this,arguments),t.invert=a.invert&&n,r()}}function hn(e){return un(e,function(t,n){e.point(t*Ko,n*Ko)})}function mn(e,t){return[e,t]}function fn(e,t){return[e>Wo?e-Vo:-Wo>e?e+Vo:e,t]}function gn(e,t,n){return e?t||n?Lt(bn(e),yn(t,n)):bn(e):t||n?yn(t,n):fn}function vn(e){return function(t,n){return t+=e,[t>Wo?t-Vo:-Wo>t?t+Vo:t,n]}}function bn(e){var t=vn(e);return t.invert=vn(-e),t}function yn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*r+s*i;return[Math.atan2(l*a-u*o,s*r-c*i),oe(u*a+l*o)]}var r=Math.cos(e),i=Math.sin(e),a=Math.cos(t),o=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*a-l*o;return[Math.atan2(l*a+c*o,s*r+u*i),oe(u*r-s*i)]},n}function wn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,a,o,s){var l=o*t;null!=i?(i=kn(n,i),a=kn(n,a),(o>0?a>i:i>a)&&(i+=o*Vo)):(i=e+o*Vo,a=e-.5*l);for(var c,u=i;o>0?u>a:a>u;u-=l)s.point((c=St([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function kn(e,t){var n=wt(t);n[0]-=e,Ct(n);var r=ae(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-$o)%(2*Math.PI)}function En(e,t,n){var r=ho.range(e,t-$o,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function _n(e,t,n){var r=ho.range(e,t-$o,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function xn(e){return e.source}function Cn(e){return e.target}function Sn(e,t,n,r){var i=Math.cos(t),a=Math.sin(t),o=Math.cos(r),s=Math.sin(r),l=i*Math.cos(e),c=i*Math.sin(e),u=o*Math.cos(n),d=o*Math.sin(n),p=2*Math.asin(Math.sqrt(ue(r-t)+i*o*ue(n-e))),h=1/Math.sin(p),m=p?function(e){var t=Math.sin(e*=p)*h,n=Math.sin(p-e)*h,r=n*l+t*u,i=n*c+t*d,o=n*a+t*s;return[Math.atan2(i,r)*Yo,Math.atan2(o,Math.sqrt(r*r+i*i))*Yo]}:function(){return[e*Yo,t*Yo]};return m.distance=p,m}function Tn(){function e(e,i){var a=Math.sin(i*=Ko),o=Math.cos(i),s=Co((e*=Ko)-t),l=Math.cos(s);tl+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=r*a-n*o*l)*s),n*a+r*o*l),t=e,n=a,r=o}var t,n,r;nl.point=function(i,a){t=i*Ko,n=Math.sin(a*=Ko),r=Math.cos(a),nl.point=e},nl.lineEnd=function(){nl.point=nl.lineEnd=S}}function Rn(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),a=e(r*i);return[a*i*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*a,r*o),Math.asin(r&&n*a/r)]},n}function An(e,t){function n(e,t){o>0?-Go+$o>t&&(t=-Go+$o):t>Go-$o&&(t=Go-$o);var n=o/Math.pow(i(t),a);return[n*Math.sin(a*e),o-n*Math.cos(a*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Wo/4+e/2)},a=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),o=r*Math.pow(i(e),a)/a;return a?(n.invert=function(e,t){var n=o-t,r=re(a)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/a,2*Math.atan(Math.pow(o/r,1/a))-Go]},n):Fn}function Nn(e,t){function n(e,t){var n=a-t;return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),a=r/i+e;return Co(i)<$o?mn:(n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,a-re(i)*Math.sqrt(e*e+n*n)]},n)}function Fn(e,t){return[e,Math.log(Math.tan(Wo/4+t/2))]}function Mn(e){var t,n=dn(e),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=a.apply(n,arguments);if(o===n){if(t=null==e){var s=Wo*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(o=null);return o},n.clipExtent(null)}function Ln(e,t){return[Math.log(Math.tan(Wo/4+t/2)),-e]}function Dn(e){return e[0]}function On(e){return e[1]}function In(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&ie(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Pn(e,t){return e[0]-t[0]||e[1]-t[1]}function Bn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function jn(e,t,n,r){var i=e[0],a=n[0],o=t[0]-i,s=r[0]-a,l=e[1],c=n[1],u=t[1]-l,d=r[1]-c,p=(s*(l-c)-d*(i-a))/(d*o-s*u);return[i+p*o,l+p*u]}function zn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Un(){lr(this),this.edge=this.site=this.circle=null}function $n(e){var t=ml.pop()||new Un;return t.site=e,t}function Hn(e){Qn(e),dl.remove(e),ml.push(e),lr(e)}function Wn(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},a=e.P,o=e.N,s=[e];Hn(e);for(var l=a;l.circle&&Co(n-l.circle.x)<$o&&Co(r-l.circle.cy)<$o;)a=l.P,s.unshift(l),Hn(l),l=a;s.unshift(l),Qn(l);for(var c=o;c.circle&&Co(n-c.circle.x)<$o&&Co(r-c.circle.cy)<$o;)o=c.N,s.push(c),Hn(c),c=o;s.push(c),Qn(c);var u,d=s.length;for(u=1;d>u;++u)c=s[u],l=s[u-1],ar(c.edge,l.site,c.site,i);l=s[0],c=s[d-1],c.edge=rr(l.site,c.site,null,i),Jn(l),Jn(c)}function Vn(e){for(var t,n,r,i,a=e.x,o=e.y,s=dl._;s;)if(r=qn(s,o)-a,r>$o)s=s.L;else{if(i=a-Gn(s,o),!(i>$o)){r>-$o?(t=s.P,n=s):i>-$o?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=$n(e);if(dl.insert(t,l),t||n){if(t===n)return Qn(t),n=$n(t.site),dl.insert(l,n),l.edge=n.edge=rr(t.site,l.site),Jn(t),void Jn(n);if(!n)return void(l.edge=rr(t.site,l.site));Qn(t),Qn(n);var c=t.site,u=c.x,d=c.y,p=e.x-u,h=e.y-d,m=n.site,f=m.x-u,g=m.y-d,v=2*(p*g-h*f),b=p*p+h*h,y=f*f+g*g,w={x:(g*b-h*y)/v+u,y:(p*y-f*b)/v+d};ar(n.edge,c,m,w),l.edge=rr(c,e,null,w),n.edge=rr(e,m,null,w),Jn(t),Jn(n)}}function qn(e,t){var n=e.site,r=n.x,i=n.y,a=i-t;if(!a)return r;var o=e.P;if(!o)return-(1/0);n=o.site;var s=n.x,l=n.y,c=l-t;if(!c)return s;var u=s-r,d=1/a-1/c,p=u/c;return d?(-p+Math.sqrt(p*p-2*d*(u*u/(-2*c)-l+c/2+i-a/2)))/d+r:(r+s)/2}function Gn(e,t){var n=e.N;if(n)return qn(n,t);var r=e.site;return r.y===t?r.x:1/0}function Kn(e){this.site=e,this.edges=[]}function Yn(e){for(var t,n,r,i,a,o,s,l,c,u,d=e[0][0],p=e[1][0],h=e[0][1],m=e[1][1],f=ul,g=f.length;g--;)if(a=f[g],a&&a.prepare())for(s=a.edges,l=s.length,o=0;l>o;)u=s[o].end(),r=u.x,i=u.y,c=s[++o%l].start(),t=c.x,n=c.y,(Co(r-t)>$o||Co(i-n)>$o)&&(s.splice(o,0,new or(ir(a.site,u,Co(r-d)<$o&&m-i>$o?{x:d,y:Co(t-d)<$o?n:m}:Co(i-m)<$o&&p-r>$o?{x:Co(n-m)<$o?t:p,y:m}:Co(r-p)<$o&&i-h>$o?{x:p,y:Co(t-p)<$o?n:h}:Co(i-h)<$o&&r-d>$o?{x:Co(n-h)<$o?t:d,y:h}:null),a.site,null)),++l)}function Xn(e,t){return t.angle-e.angle}function Zn(){lr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Jn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,c=r.y-s,u=a.x-o,d=a.y-s,p=2*(l*d-c*u);if(!(p>=-Ho)){var h=l*l+c*c,m=u*u+d*d,f=(d*h-c*m)/p,g=(l*m-u*h)/p,d=g+s,v=fl.pop()||new Zn;v.arc=e,v.site=i,v.x=f+o,v.y=d+Math.sqrt(f*f+g*g),v.cy=d,e.circle=v;for(var b=null,y=hl._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}hl.insert(b,v),b||(pl=v)}}}}function Qn(e){var t=e.circle;t&&(t.P||(pl=t.N),hl.remove(t),fl.push(t),lr(t),e.circle=null)}function er(e){for(var t,n=cl,r=Gt(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!tr(t,e)||!r(t)||Co(t.a.x-t.b.x)<$o&&Co(t.a.y-t.b.y)<$o)&&(t.a=t.b=null,n.splice(i,1))}function tr(e,t){var n=e.b;if(n)return!0;var r,i,a=e.a,o=t[0][0],s=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,p=u.x,h=u.y,m=d.x,f=d.y,g=(p+m)/2,v=(h+f)/2;if(f===h){if(o>g||g>=s)return;if(p>m){if(a){if(a.y>=c)return}else a={x:g,y:l};n={x:g,y:c}}else{if(a){if(a.y<l)return}else a={x:g,y:c};n={x:g,y:l}}}else if(r=(p-m)/(f-h),i=v-r*g,-1>r||r>1)if(p>m){if(a){if(a.y>=c)return}else a={x:(l-i)/r,y:l};n={x:(c-i)/r,y:c}}else{if(a){if(a.y<l)return}else a={x:(c-i)/r,y:c};n={x:(l-i)/r,y:l}}else if(f>h){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return e.a=a,e.b=n,!0}function nr(e,t){this.l=e,this.r=t,this.a=this.b=null}function rr(e,t,n,r){var i=new nr(e,t);return cl.push(i),n&&ar(i,e,t,n),r&&ar(i,t,e,r),ul[e.i].edges.push(new or(i,e,t)),ul[t.i].edges.push(new or(i,t,e)),i}function ir(e,t,n){var r=new nr(e,null);return r.a=t,r.b=n,cl.push(r),r}function ar(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function or(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function sr(){this._=null}function lr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function cr(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ur(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function dr(e){for(;e.L;)e=e.L;return e}function pr(e,t){var n,r,i,a=e.sort(hr).pop();for(cl=[],ul=new Array(e.length),dl=new sr,hl=new sr;;)if(i=pl,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))(a.x!==n||a.y!==r)&&(ul[a.i]=new Kn(a),Vn(a),n=a.x,r=a.y),a=e.pop();else{if(!i)break;Wn(i.arc)}t&&(er(t),Yn(t));var o={cells:ul,edges:cl};return dl=hl=cl=ul=null,o}function hr(e,t){return t.y-e.y||t.x-e.x}function mr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function fr(e){return e.x}function gr(e){return e.y}function vr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function br(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=t.nodes;l[0]&&br(e,l[0],n,r,o,s),l[1]&&br(e,l[1],o,r,i,s),l[2]&&br(e,l[2],n,s,o,a),l[3]&&br(e,l[3],o,s,i,a)}}function yr(e,t,n,r,i,a,o){var s,l=1/0;return function c(e,u,d,p,h){if(!(u>a||d>o||r>p||i>h)){if(m=e.point){var m,f=t-e.x,g=n-e.y,v=f*f+g*g;if(l>v){var b=Math.sqrt(l=v);r=t-b,i=n-b,a=t+b,o=n+b,s=m}}for(var y=e.nodes,w=.5*(u+p),k=.5*(d+h),E=t>=w,_=n>=k,x=_<<1|E,C=x+4;C>x;++x)if(e=y[3&x])switch(3&x){case 0:c(e,u,d,w,k);break;case 1:c(e,w,d,p,k);break;case 2:c(e,u,k,w,h);break;case 3:c(e,w,k,p,h)}}}(e,r,i,a,o),s}function wr(e,t){e=ho.rgb(e),t=ho.rgb(t);var n=e.r,r=e.g,i=e.b,a=t.r-n,o=t.g-r,s=t.b-i;return function(e){return"#"+Ce(Math.round(n+a*e))+Ce(Math.round(r+o*e))+Ce(Math.round(i+s*e))}}function kr(e,t){var n,r={},i={};for(n in e)n in t?r[n]=xr(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function Er(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _r(e,t){var n,r,i,a=vl.lastIndex=bl.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=vl.exec(e))&&(r=bl.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Er(n,r)})),a=bl.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;t>r;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function xr(e,t){for(var n,r=ho.interpolators.length;--r>=0&&!(n=ho.interpolators[r](e,t)););return n}function Cr(e,t){var n,r=[],i=[],a=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(xr(e[n],t[n]));for(;a>n;++n)i[n]=e[n];for(;o>n;++n)i[n]=t[n];return function(e){for(n=0;s>n;++n)i[n]=r[n](e);return i}}function Sr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function Tr(e){return function(t){return 1-e(1-t)}}function Rr(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Ar(e){return e*e}function Nr(e){return e*e*e}function Fr(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Mr(e){return function(t){return Math.pow(t,e)}}function Lr(e){return 1-Math.cos(e*Go)}function Dr(e){return Math.pow(2,10*(e-1))}function Or(e){return 1-Math.sqrt(1-e*e)}function Ir(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Vo*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Vo/t)}}function Pr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Br(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function jr(e,t){e=ho.hcl(e),t=ho.hcl(t);var n=e.h,r=e.c,i=e.l,a=t.h-n,o=t.c-r,s=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return fe(n+a*e,r+o*e,i+s*e)+""}}function zr(e,t){e=ho.hsl(e),t=ho.hsl(t);var n=e.h,r=e.s,i=e.l,a=t.h-n,o=t.s-r,s=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return he(n+a*e,r+o*e,i+s*e)+""}}function Ur(e,t){e=ho.lab(e),t=ho.lab(t);var n=e.l,r=e.a,i=e.b,a=t.l-n,o=t.a-r,s=t.b-i;return function(e){return ve(n+a*e,r+o*e,i+s*e)+""}}function $r(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Hr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Vr(t),i=Wr(t,n),a=Vr(qr(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Yo,this.translate=[e.e,e.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*Yo:0}function Wr(e,t){return e[0]*t[0]+e[1]*t[1]}function Vr(e){var t=Math.sqrt(Wr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function qr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Gr(e){return e.length?e.pop()+",":""}function Kr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:Er(e[0],t[0])},{i:i-2,x:Er(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function Yr(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Gr(n)+"rotate(",null,")")-2,x:Er(e,t)})):t&&n.push(Gr(n)+"rotate("+t+")")}function Xr(e,t,n,r){e!==t?r.push({i:n.push(Gr(n)+"skewX(",null,")")-2,x:Er(e,t)}):t&&n.push(Gr(n)+"skewX("+t+")")}function Zr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(Gr(n)+"scale(",null,",",null,")");r.push({i:i-4,x:Er(e[0],t[0])},{i:i-2,x:Er(e[1],t[1])})}else(1!==t[0]||1!==t[1])&&n.push(Gr(n)+"scale("+t+")")}function Jr(e,t){var n=[],r=[];return e=ho.transform(e),t=ho.transform(t),Kr(e.translate,t.translate,n,r),Yr(e.rotate,t.rotate,n,r),Xr(e.skew,t.skew,n,r),Zr(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,i=-1,a=r.length;++i<a;)n[(t=r[i]).i]=t.x(e);return n.join("")}}function Qr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function ei(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function ti(e){for(var t=e.source,n=e.target,r=ri(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function ni(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function ri(e,t){if(e===t)return e;for(var n=ni(e),r=ni(t),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function ii(e){e.fixed|=2}function ai(e){e.fixed&=-7}function oi(e){e.fixed|=4,e.px=e.x,e.py=e.y}function si(e){e.fixed&=-5}function li(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var a,o=e.nodes,s=o.length,l=-1;++l<s;)a=o[l],null!=a&&(li(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,i+=c*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function ci(e,t){return ho.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=fi,e}function ui(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function di(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(a=e.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(e=r.pop());)t(e)}function pi(e){return e.children}function hi(e){return e.value}function mi(e,t){return t.value-e.value}function fi(e){return ho.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function gi(e){return e.x}function vi(e){return e.y}function bi(e,t,n){e.y0=t,e.y=n}function yi(e){return ho.range(e.length)}function wi(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function ki(e){for(var t,n=1,r=0,i=e[0][1],a=e.length;a>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function Ei(e){return e.reduce(_i,0)}function _i(e,t){return e+t[1]}function xi(e,t){return Ci(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Ci(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];++n<=t;)a[n]=i*n+r;return a}function Si(e){return[ho.min(e),ho.max(e)]}function Ti(e,t){return e.value-t.value}function Ri(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t;
}function Ai(e,t){e._pack_next=t,t._pack_prev=e}function Ni(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Fi(e){function t(e){u=Math.min(e.x-e.r,u),d=Math.max(e.x+e.r,d),p=Math.min(e.y-e.r,p),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(c=n.length)){var n,r,i,a,o,s,l,c,u=1/0,d=-(1/0),p=1/0,h=-(1/0);if(n.forEach(Mi),r=n[0],r.x=-r.r,r.y=0,t(r),c>1&&(i=n[1],i.x=i.r,i.y=0,t(i),c>2))for(a=n[2],Oi(r,i,a),t(a),Ri(r,a),r._pack_prev=a,Ri(a,i),i=r._pack_next,o=3;c>o;o++){Oi(r,i,a=n[o]);var m=0,f=1,g=1;for(s=i._pack_next;s!==i;s=s._pack_next,f++)if(Ni(s,a)){m=1;break}if(1==m)for(l=r._pack_prev;l!==s._pack_prev&&!Ni(l,a);l=l._pack_prev,g++);m?(g>f||f==g&&i.r<r.r?Ai(r,i=s):Ai(r=l,i),o--):(Ri(r,a),i=a,t(a))}var v=(u+d)/2,b=(p+h)/2,y=0;for(o=0;c>o;o++)a=n[o],a.x-=v,a.y-=b,y=Math.max(y,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=y,n.forEach(Li)}}function Mi(e){e._pack_next=e._pack_prev=e}function Li(e){delete e._pack_next,delete e._pack_prev}function Di(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var a=-1,o=i.length;++a<o;)Di(i[a],t,n,r)}function Oi(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,s=i*i+a*a;o*=o,r*=r;var l=.5+(r-o)/(2*s),c=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+l*i+c*a,n.y=e.y+l*a-c*i}else n.x=e.x+r,n.y=e.y}function Ii(e,t){return e.parent==t.parent?1:2}function Pi(e){var t=e.children;return t.length?t[0]:e.t}function Bi(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ji(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function zi(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)t=i[a],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Ui(e,t,n){return e.a.parent===t.parent?e.a:n}function $i(e){return 1+ho.max(e,function(e){return e.y})}function Hi(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Wi(e){var t=e.children;return t&&t.length?Wi(t[0]):e}function Vi(e){var t,n=e.children;return n&&(t=n.length)?Vi(n[t-1]):e}function qi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Gi(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>a&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function Ki(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Yi(e){return e.rangeExtent?e.rangeExtent():Ki(e.range())}function Xi(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}}function Zi(e,t){var n,r=0,i=e.length-1,a=e[r],o=e[i];return a>o&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function Ji(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Al}function Qi(e,t,n,r){var i=[],a=[],o=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=s;)i.push(n(e[o-1],e[o])),a.push(r(t[o-1],t[o]));return function(t){var n=ho.bisect(e,t,1,s)-1;return a[n](i[n](t))}}function ea(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Qi:Xi,l=r?ei:Qr;return o=i(e,t,l,n),s=i(t,e,l,xr),a}function a(e){return o(e)}var o,s;return a.invert=function(e){return s(e)},a.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},a.range=function(e){return arguments.length?(t=e,i()):t},a.rangeRound=function(e){return a.range(e).interpolate($r)},a.clamp=function(e){return arguments.length?(r=e,i()):r},a.interpolate=function(e){return arguments.length?(n=e,i()):n},a.ticks=function(t){return ia(e,t)},a.tickFormat=function(t,n){return aa(e,t,n)},a.nice=function(t){return na(e,t),i()},a.copy=function(){return ea(e,t,n,r)},i()}function ta(e,t){return ho.rebind(e,t,"range","rangeRound","interpolate","clamp")}function na(e,t){return Zi(e,Ji(ra(e,t)[2])),Zi(e,Ji(ra(e,t)[2])),e}function ra(e,t){null==t&&(t=10);var n=Ki(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*i;return.15>=a?i*=10:.35>=a?i*=5:.75>=a&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function ia(e,t){return ho.range.apply(ho,ra(e,t))}function aa(e,t,n){var r=ra(e,t);if(n){var i=vs.exec(n);if(i.shift(),"s"===i[8]){var a=ho.formatPrefix(Math.max(Co(r[0]),Co(r[1])));return i[7]||(i[7]="."+oa(a.scale(r[2]))),i[8]="f",n=ho.format(i.join("")),function(e){return n(a.scale(e))+a.symbol}}i[7]||(i[7]="."+sa(i[8],r)),n=i.join("")}else n=",."+oa(r[2])+"f";return ho.format(n)}function oa(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function sa(e,t){var n=oa(t[2]);return e in Nl?Math.abs(n-oa(Math.max(Co(t[0]),Co(t[1]))))+ +("e"!==e):n-2*("%"===e)}function la(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function a(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function o(t){return e(i(t))}return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),o):t},o.nice=function(){var t=Zi(r.map(i),n?Math:Ml);return e.domain(t),r=t.map(a),o},o.ticks=function(){var e=Ki(r),o=[],s=e[0],l=e[1],c=Math.floor(i(s)),u=Math.ceil(i(l)),d=t%1?2:t;if(isFinite(u-c)){if(n){for(;u>c;c++)for(var p=1;d>p;p++)o.push(a(c)*p);o.push(a(c))}else for(o.push(a(c));c++<u;)for(var p=d-1;p>0;p--)o.push(a(c)*p);for(c=0;o[c]<s;c++);for(u=o.length;o[u-1]>l;u--);o=o.slice(c,u)}return o},o.tickFormat=function(e,n){if(!arguments.length)return Fl;arguments.length<2?n=Fl:"function"!=typeof n&&(n=ho.format(n));var r=Math.max(1,t*e/o.ticks().length);return function(e){var o=e/a(Math.round(i(e)));return t-.5>o*t&&(o*=t),r>=o?n(e):""}},o.copy=function(){return la(e.copy(),t,n,r)},ta(o,e)}function ca(e,t,n){function r(t){return e(i(t))}var i=ua(t),a=ua(1/t);return r.invert=function(t){return a(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return ia(n,e)},r.tickFormat=function(e,t){return aa(n,e,t)},r.nice=function(e){return r.domain(na(n,e))},r.exponent=function(o){return arguments.length?(i=ua(t=o),a=ua(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return ca(e.copy(),t,n)},ta(r,e)}function ua(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function da(e,t){function n(n){return a[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):NaN))-1)%a.length]}function r(t,n){return ho.range(e.length).map(function(e){return t+n*e})}var i,a,o;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new m;for(var a,o=-1,s=r.length;++o<s;)i.has(a=r[o])||i.set(a,e.push(a));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(a=e,o=0,t={t:"range",a:arguments},n):a},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],c=i[1],u=e.length<2?(l=(l+c)/2,0):(c-l)/(e.length-1+s);return a=r(l+u*s/2,u),o=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],c=i[1],u=e.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(e.length-1+s)|0;return a=r(l+Math.round(u*s/2+(c-l-(e.length-1+s)*u)/2),u),o=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var c=i[1]<i[0],u=i[c-0],d=i[1-c],p=(d-u)/(e.length-s+2*l);return a=r(u+p*l,p),c&&a.reverse(),o=p*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var c=i[1]<i[0],u=i[c-0],d=i[1-c],p=Math.floor((d-u)/(e.length-s+2*l));return a=r(u+Math.round((d-u-(e.length-s)*p)/2),p),c&&a.reverse(),o=Math.round(p*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Ki(t.a[0])},n.copy=function(){return da(e,t)},n.domain(e)}function pa(e,t){function n(){var n=0,a=t.length;for(i=[];++n<a;)i[n-1]=ho.quantile(e,n/a);return r}function r(e){return isNaN(e=+e)?void 0:t[ho.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.map(l).filter(c).sort(s),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.invertExtent=function(n){return n=t.indexOf(n),0>n?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},r.copy=function(){return pa(e,t)},n()}function ha(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(a*(t-e))))]}function i(){return a=n.length/(t-e),o=n.length-1,r}var a,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?NaN:t/a+e,[t,t+1/a]},r.copy=function(){return ha(e,t,n)},i()}function ma(e,t){function n(n){return n>=n?t[ho.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return ma(e,t)},n}function fa(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return ia(e,t)},t.tickFormat=function(t,n){return aa(e,t,n)},t.copy=function(){return fa(e)},t}function ga(){return 0}function va(e){return e.innerRadius}function ba(e){return e.outerRadius}function ya(e){return e.startAngle}function wa(e){return e.endAngle}function ka(e){return e&&e.padAngle}function Ea(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function _a(e,t,n,r,i){var a=e[0]-t[0],o=e[1]-t[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,c=-s*a,u=e[0]+l,d=e[1]+c,p=t[0]+l,h=t[1]+c,m=(u+p)/2,f=(d+h)/2,g=p-u,v=h-d,b=g*g+v*v,y=n-r,w=u*h-p*d,k=(0>v?-1:1)*Math.sqrt(Math.max(0,y*y*b-w*w)),E=(w*v-g*k)/b,_=(-w*g-v*k)/b,x=(w*v+g*k)/b,C=(-w*g+v*k)/b,S=E-m,T=_-f,R=x-m,A=C-f;return S*S+T*T>R*R+A*A&&(E=x,_=C),[[E-l,_-c],[E*n/y,_*n/y]]}function xa(e){function t(t){function o(){c.push("M",a(e(u),s))}for(var l,c=[],u=[],d=-1,p=t.length,h=Fe(n),m=Fe(r);++d<p;)i.call(this,l=t[d],d)?u.push([+h.call(this,l,d),+m.call(this,l,d)]):u.length&&(o(),u=[]);return u.length&&o(),c.length?c.join(""):null}var n=Dn,r=On,i=Dt,a=Ca,o=a.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?a=e:(a=Bl.get(e)||Ca).key,t):o},t.tension=function(e){return arguments.length?(s=e,t):s},t}function Ca(e){return e.length>1?e.join("L"):e+"Z"}function Sa(e){return e.join("L")+"Z"}function Ta(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Ra(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Aa(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Na(e,t){return e.length<4?Ca(e):e[1]+La(e.slice(1,-1),Da(e,t))}function Fa(e,t){return e.length<3?Sa(e):e[0]+La((e.push(e[0]),e),Da([e[e.length-2]].concat(e,[e[1]]),t))}function Ma(e,t){return e.length<3?Ca(e):e[0]+La(e,Da(e,t))}function La(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Ca(e);var n=e.length!=t.length,r="",i=e[0],a=e[1],o=t[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=e[1],l=2),t.length>1){s=t[1],a=e[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<t.length;c++,l++)a=e[l],s=t[c],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=e[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function Da(e,t){for(var n,r=[],i=(1-t)/2,a=e[0],o=e[1],s=1,l=e.length;++s<l;)n=a,a=o,o=e[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function Oa(e){if(e.length<3)return Ca(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",ja(Ul,o),",",ja(Ul,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),za(l,o,s);return e.pop(),l.push("L",r),l.join("")}function Ia(e){if(e.length<4)return Ca(e);for(var t,n=[],r=-1,i=e.length,a=[0],o=[0];++r<3;)t=e[r],a.push(t[0]),o.push(t[1]);for(n.push(ja(Ul,a)+","+ja(Ul,o)),--r;++r<i;)t=e[r],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),za(n,a,o);return n.join("")}function Pa(e){for(var t,n,r=-1,i=e.length,a=i+4,o=[],s=[];++r<4;)n=e[r%i],o.push(n[0]),s.push(n[1]);for(t=[ja(Ul,o),",",ja(Ul,s)],--r;++r<a;)n=e[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),za(t,o,s);return t.join("")}function Ba(e,t){var n=e.length-1;if(n)for(var r,i,a=e[0][0],o=e[0][1],s=e[n][0]-a,l=e[n][1]-o,c=-1;++c<=n;)r=e[c],i=c/n,r[0]=t*r[0]+(1-t)*(a+i*s),r[1]=t*r[1]+(1-t)*(o+i*l);return Oa(e)}function ja(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function za(e,t,n){e.push("C",ja(jl,t),",",ja(jl,n),",",ja(zl,t),",",ja(zl,n),",",ja(Ul,t),",",ja(Ul,n))}function Ua(e,t){return(t[1]-e[1])/(t[0]-e[0])}function $a(e){for(var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=Ua(i,a);++t<n;)r[t]=(o+(o=Ua(i=a,a=e[t+1])))/2;return r[t]=o,r}function Ha(e){for(var t,n,r,i,a=[],o=$a(e),s=-1,l=e.length-1;++s<l;)t=Ua(e[s],e[s+1]),Co(t)<$o?o[s]=o[s+1]=0:(n=o[s]/t,r=o[s+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r));for(s=-1;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function Wa(e){return e.length<3?Ca(e):e[0]+La(e,Ha(e))}function Va(e){for(var t,n,r,i=-1,a=e.length;++i<a;)t=e[i],n=t[0],r=t[1]-Go,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function qa(e){function t(t){function l(){f.push("M",s(e(v),d),u,c(e(g.reverse()),d),"Z")}for(var p,h,m,f=[],g=[],v=[],b=-1,y=t.length,w=Fe(n),k=Fe(i),E=n===r?function(){return h}:Fe(r),_=i===a?function(){return m}:Fe(a);++b<y;)o.call(this,p=t[b],b)?(g.push([h=+w.call(this,p,b),m=+k.call(this,p,b)]),v.push([+E.call(this,p,b),+_.call(this,p,b)])):g.length&&(l(),g=[],v=[]);return g.length&&l(),f.length?f.join(""):null}var n=Dn,r=Dn,i=0,a=On,o=Dt,s=Ca,l=s.key,c=s,u="L",d=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=a=e,t):a},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(a=e,t):a},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?s=e:(s=Bl.get(e)||Ca).key,c=s.reverse||s,u=s.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(d=e,t):d},t}function Ga(e){return e.radius}function Ka(e){return[e.x,e.y]}function Ya(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Go;return[n*Math.cos(r),n*Math.sin(r)]}}function Xa(){return 64}function Za(){return"circle"}function Ja(e){var t=Math.sqrt(e/Wo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Qa(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function eo(e,t,n){return No(e,Kl),e.namespace=t,e.id=n,e}function to(e,t,n,r){var i=e.id,a=e.namespace;return K(e,"function"==typeof n?function(e,o,s){e[a][i].tween.set(t,r(n.call(e,e.__data__,o,s)))}:(n=r(n),function(e){e[a][i].tween.set(t,n)}))}function no(e){return null==e&&(e=""),function(){this.textContent=e}}function ro(e){return null==e?"__transition__":"__transition_"+e+"__"}function io(e,t,n,r,i){function a(e){var t=f.delay;return c.t=t+l,e>=t?o(e-t):void(c.c=o)}function o(n){var i=h.active,a=h[i];a&&(a.timer.c=null,a.timer.t=NaN,--h.count,delete h[i],a.event&&a.event.interrupt.call(e,e.__data__,a.index));for(var o in h)if(r>+o){var m=h[o];m.timer.c=null,m.timer.t=NaN,--h.count,delete h[o]}c.c=s,Ie(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,l),h.active=r,f.event&&f.event.start.call(e,e.__data__,t),p=[],f.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&p.push(r)}),d=f.ease,u=f.duration}function s(i){for(var a=i/u,o=d(a),s=p.length;s>0;)p[--s].call(e,o);return a>=1?(f.event&&f.event.end.call(e,e.__data__,t),--h.count?delete h[r]:delete e[n],1):void 0}var l,c,u,d,p,h=e[n]||(e[n]={active:0,count:0}),f=h[r];f||(l=i.time,c=Ie(a,0,l),f=h[r]={tween:new m,time:l,timer:c,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++h.count)}function ao(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function oo(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function so(e){return e.toISOString()}function lo(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,a=ho.bisect(rc,i);return a==rc.length?[t.year,ra(e.map(function(e){return e/31536e6}),n)[2]]:a?t[i/rc[a-1]<rc[a]/i?a-1:a]:[oc,ra(e,n)[2]]}return r.invert=function(t){return co(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(co)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,co(+n+1),t).length}var a=r.domain(),o=Ki(a),s=null==e?i(o,10):"number"==typeof e&&i(o,e);return s&&(e=s[0],t=s[1]),r.domain(Zi(a,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=co(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=co(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Ki(r.domain()),a=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return a&&(e=a[0],t=a[1]),e.range(n[0],co(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return lo(e.copy(),t,n)},ta(r,e)}function co(e){return new Date(e)}function uo(e){return JSON.parse(e.responseText)}function po(e){var t=go.createRange();return t.selectNode(go.body),t.createContextualFragment(e.responseText)}var ho={version:"3.5.17"},mo=[].slice,fo=function(e){return mo.call(e)},go=this.document;if(go)try{fo(go.documentElement.childNodes)[0].nodeType}catch(vo){fo=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),go)try{go.createElement("DIV").style.setProperty("opacity",0,"")}catch(bo){var yo=this.Element.prototype,wo=yo.setAttribute,ko=yo.setAttributeNS,Eo=this.CSSStyleDeclaration.prototype,_o=Eo.setProperty;yo.setAttribute=function(e,t){wo.call(this,e,t+"")},yo.setAttributeNS=function(e,t,n){ko.call(this,e,t,n+"")},Eo.setProperty=function(e,t,n){_o.call(this,e,t+"",n)}}ho.ascending=s,ho.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:NaN},ho.min=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},ho.max=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},ho.extent=function(e,t){var n,r,i,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=e[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e[a])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++a<o;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t.call(e,e[a],a))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},ho.sum=function(e,t){var n,r=0,i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)c(n=+e[a])&&(r+=n);else for(;++a<i;)c(n=+t.call(e,e[a],a))&&(r+=n);return r},ho.mean=function(e,t){var n,r=0,i=e.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)c(n=l(e[a]))?r+=n:--o;else for(;++a<i;)c(n=l(t.call(e,e[a],a)))?r+=n:--o;return o?r/o:void 0},ho.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i},ho.median=function(e,t){var n,r=[],i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)c(n=l(e[a]))&&r.push(n);else for(;++a<i;)c(n=l(t.call(e,e[a],a)))&&r.push(n);return r.length?ho.quantile(r.sort(s),.5):void 0},ho.variance=function(e,t){var n,r,i=e.length,a=0,o=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)c(n=l(e[s]))&&(r=n-a,a+=r/++u,o+=r*(n-a));else for(;++s<i;)c(n=l(t.call(e,e[s],s)))&&(r=n-a,a+=r/++u,o+=r*(n-a));return u>1?o/(u-1):void 0},ho.deviation=function(){var e=ho.variance.apply(this,arguments);return e?Math.sqrt(e):e};var xo=u(s);ho.bisectLeft=xo.left,ho.bisect=ho.bisectRight=xo.right,ho.bisector=function(e){return u(1===e.length?function(t,n){return s(e(t),n)}:e)},ho.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,2>a&&(t=0));for(var r,i,a=n-t;a;)i=Math.random()*a--|0,r=e[a+t],e[a+t]=e[i+t],e[i+t]=r;return e},ho.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},ho.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],a=new Array(0>r?0:r);r>n;)a[n]=[t=i,i=e[++n]];return a},ho.transpose=function(e){if(!(i=e.length))return[];for(var t=-1,n=ho.min(e,d),r=new Array(n);++t<n;)for(var i,a=-1,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r},ho.zip=function(){return ho.transpose(arguments)},ho.keys=function(e){var t=[];for(var n in e)t.push(n);return t},ho.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},ho.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},ho.merge=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--o]=r[t];return n};var Co=Math.abs;ho.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],a=p(Co(n)),o=-1;if(e*=a,t*=a,n*=a,0>n)for(;(r=e+n*++o)>t;)i.push(r/a);else for(;(r=e+n*++o)<t;)i.push(r/a);return i},ho.map=function(e,t){var n=new m;if(e instanceof m)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,a=e.length;if(1===arguments.length)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t.call(e,r=e[i],i),r)}else for(var o in e)n.set(o,e[o]);return n};var So="__proto__",To="\x00";h(m,{has:v,get:function(e){return this._[f(e)]},set:function(e,t){return this._[f(e)]=t},remove:b,keys:y,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:g(t),value:this._[t]});return e},size:w,empty:k,forEach:function(e){for(var t in this._)e.call(this,g(t),this._[t])}}),ho.nest=function(){function e(t,o,s){if(s>=a.length)return r?r.call(i,o):n?o.sort(n):o;for(var l,c,u,d,p=-1,h=o.length,f=a[s++],g=new m;++p<h;)(d=g.get(l=f(c=o[p])))?d.push(c):g.set(l,[c]);return t?(c=t(),u=function(n,r){c.set(n,e(t,r,s))}):(c={},u=function(n,r){c[n]=e(t,r,s)}),g.forEach(u),c}function t(e,n){if(n>=a.length)return e;var r=[],i=o[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},a=[],o=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(ho.map,n,0),0)},i.key=function(e){return a.push(e),i},i.sortKeys=function(e){return o[a.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},ho.set=function(e){var t=new E;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},h(E,{has:v,add:function(e){return this._[f(e+="")]=!0,e},remove:b,values:y,size:w,empty:k,forEach:function(e){for(var t in this._)e.call(this,g(t))}}),ho.behavior={},ho.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=x(e,t,t[n]);return e};var Ro=["webkit","ms","moz","Moz","o","O"];ho.dispatch=function(){for(var e=new T,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=R(e);return e},T.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},ho.event=null,ho.requote=function(e){return e.replace(Ao,"\\$&")};var Ao=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,No={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Fo=function(e,t){return t.querySelector(e)},Mo=function(e,t){return t.querySelectorAll(e)},Lo=function(e,t){var n=e.matches||e[C(e,"matchesSelector")];return(Lo=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(Fo=function(e,t){return Sizzle(e,t)[0]||null},Mo=Sizzle,Lo=Sizzle.matchesSelector),ho.selection=function(){return ho.select(go.documentElement)};var Do=ho.selection.prototype=[];Do.select=function(e){var t,n,r,i,a=[];e=L(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return M(a)},Do.selectAll=function(e){var t,n,r=[];e=D(e);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],s=-1,l=o.length;++s<l;)(n=o[s])&&(r.push(t=fo(e.call(n,n.__data__,s,i))),t.parentNode=n);return M(r)};var Oo="http://www.w3.org/1999/xhtml",Io={svg:"http://www.w3.org/2000/svg",xhtml:Oo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ho.ns={prefix:Io,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Io.hasOwnProperty(n)?{space:Io[n],local:e}:e}},Do.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=ho.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(O(t,e[t]));return this}return this.each(O(e,t))},Do.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=B(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!P(e[i]).test(t))return!1;return!0}for(t in e)this.each(j(t,e[t]));return this}return this.each(j(e,t))},Do.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.each(U(n,e[n],t));return this}if(2>r){var i=this.node();return o(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(U(e,t,n))},Do.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each($(t,e[t]));return this}return this.each($(e,t))},Do.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Do.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Do.append=function(e){return e=H(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Do.insert=function(e,t){return e=H(e),t=L(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Do.remove=function(){return this.each(W)},Do.data=function(e,t){function n(e,n){var r,i,a,o=e.length,u=n.length,d=Math.min(o,u),p=new Array(u),h=new Array(u),f=new Array(o);if(t){var g,v=new m,b=new Array(o);for(r=-1;++r<o;)(i=e[r])&&(v.has(g=t.call(i,i.__data__,r))?f[r]=i:v.set(g,i),b[r]=g);for(r=-1;++r<u;)(i=v.get(g=t.call(n,a=n[r],r)))?i!==!0&&(p[r]=i,i.__data__=a):h[r]=V(a),v.set(g,!0);for(r=-1;++r<o;)r in b&&v.get(b[r])!==!0&&(f[r]=e[r])}else{for(r=-1;++r<d;)i=e[r],a=n[r],i?(i.__data__=a,p[r]=i):h[r]=V(a);for(;u>r;++r)h[r]=V(n[r]);for(;o>r;++r)f[r]=e[r]}h.update=p,h.parentNode=p.parentNode=f.parentNode=e.parentNode,s.push(h),l.push(p),c.push(f)}var r,i,a=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(r=this[0]).length);++a<o;)(i=r[a])&&(e[a]=i.__data__);return e}var s=Y([]),l=M([]),c=M([]);if("function"==typeof e)for(;++a<o;)n(r=this[a],e.call(r,r.parentNode.__data__,a));else for(;++a<o;)n(r=this[a],e);return l.enter=function(){return s},l.exit=function(){return c},l},Do.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Do.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=q(e));for(var a=0,o=this.length;o>a;a++){i.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;l>s;s++)(r=n[s])&&e.call(r,r.__data__,s,a)&&t.push(r)}return M(i)},Do.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},Do.sort=function(e){e=G.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Do.each=function(e){return K(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Do.call=function(e){var t=fo(arguments);return e.apply(t[0]=this,t),this},Do.empty=function(){return!this.node()},Do.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var a=n[r];if(a)return a}return null},Do.size=function(){var e=0;return K(this,function(){++e}),e};var Po=[];ho.selection.enter=Y,ho.selection.enter.prototype=Po,Po.append=Do.append,Po.empty=Do.empty,Po.node=Do.node,Po.call=Do.call,Po.size=Do.size,Po.select=function(e){for(var t,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(a=i[c])?(t.push(r[c]=n=e.call(i.parentNode,a.__data__,c,s)),n.__data__=a.__data__):t.push(null)}return M(o)},Po.insert=function(e,t){return arguments.length<2&&(t=X(this)),Do.insert.call(this,e,t)},ho.select=function(e){var t;return"string"==typeof e?(t=[Fo(e,go)],t.parentNode=go.documentElement):(t=[e],t.parentNode=a(e)),M([t])},ho.selectAll=function(e){var t;return"string"==typeof e?(t=fo(Mo(e,go)),t.parentNode=go.documentElement):(t=fo(e),t.parentNode=null),M([t])},Do.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(Z(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(Z(e,t,n))};var Bo=ho.map({mouseenter:"mouseover",mouseleave:"mouseout"});go&&Bo.forEach(function(e){"on"+e in go&&Bo.remove(e)});var jo,zo=0;ho.mouse=function(e){return te(e,N())};var Uo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ho.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=N().changedTouches),t)for(var r,i=0,a=t.length;a>i;++i)if((r=t[i]).identifier===n)return te(e,r)},ho.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function t(e,t,i,a,o){return function(){function s(){var e,n,r=t(p,f);r&&(e=r[0]-y[0],n=r[1]-y[1],m|=e|n,y=r,h({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:e,dy:n}))}function l(){t(p,f)&&(v.on(a+g,null).on(o+g,null),b(m),h({type:"dragend"}))}var c,u=this,d=ho.event.target.correspondingElement||ho.event.target,p=u.parentNode,h=n.of(u,arguments),m=0,f=e(),g=".drag"+(null==f?"":"-"+f),v=ho.select(i(d)).on(a+g,s).on(o+g,l),b=ee(d),y=t(p,f);r?(c=r.apply(u,arguments),c=[c.x-y[0],c.y-y[1]]):c=[0,0],h({type:"dragstart"})}}var n=F(e,"drag","dragstart","dragend"),r=null,i=t(S,ho.mouse,o,"mousemove","mouseup"),a=t(ne,ho.touch,_,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},ho.rebind(e,n,"on")},ho.touches=function(e,t){return arguments.length<2&&(t=N().touches),t?fo(t).map(function(t){var n=te(e,t);return n.identifier=t.identifier,n}):[]};var $o=1e-6,Ho=$o*$o,Wo=Math.PI,Vo=2*Wo,qo=Vo-$o,Go=Wo/2,Ko=Wo/180,Yo=180/Wo,Xo=Math.SQRT2,Zo=2,Jo=4;ho.interpolateZoom=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],l=t[1],c=t[2],u=s-i,d=l-a,p=u*u+d*d;if(Ho>p)r=Math.log(c/o)/Xo,n=function(e){return[i+e*u,a+e*d,o*Math.exp(Xo*e*r)]};else{var h=Math.sqrt(p),m=(c*c-o*o+Jo*p)/(2*o*Zo*h),f=(c*c-o*o-Jo*p)/(2*c*Zo*h),g=Math.log(Math.sqrt(m*m+1)-m),v=Math.log(Math.sqrt(f*f+1)-f);r=(v-g)/Xo,n=function(e){var t=e*r,n=le(g),s=o/(Zo*h)*(n*ce(Xo*t+g)-se(g));return[i+s*u,a+s*d,o*n/le(Xo*t+g)]}}return n.duration=1e3*r,n},ho.behavior.zoom=function(){
function e(e){e.on(N,d).on(es+".zoom",h).on("dblclick.zoom",m).on(D,p)}function t(e){return[(e[0]-x.x)/x.k,(e[1]-x.y)/x.k]}function n(e){return[e[0]*x.k+x.x,e[1]*x.k+x.y]}function r(e){x.k=Math.max(S[0],Math.min(S[1],e))}function i(e,t){t=n(t),x.x+=e[0]-t[0],x.y+=e[1]-t[1]}function a(t,n,a,o){t.__chart__={x:x.x,y:x.y,k:x.k},r(Math.pow(2,o)),i(g=n,a),t=ho.select(t),T>0&&(t=t.transition().duration(T)),t.call(e.event)}function s(){k&&k.domain(w.range().map(function(e){return(e-x.x)/x.k}).map(w.invert)),_&&_.domain(E.range().map(function(e){return(e-x.y)/x.k}).map(E.invert))}function l(e){R++||e({type:"zoomstart"})}function c(e){s(),e({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function u(e){--R||(e({type:"zoomend"}),g=null)}function d(){function e(){s=1,i(ho.mouse(r),p),c(a)}function n(){d.on(M,null).on(L,null),h(s),u(a)}var r=this,a=O.of(r,arguments),s=0,d=ho.select(o(r)).on(M,e).on(L,n),p=t(ho.mouse(r)),h=ee(r);Gl.call(r),l(a)}function p(){function e(){var e=ho.touches(m);return h=x.k,e.forEach(function(e){e.identifier in g&&(g[e.identifier]=t(e))}),e}function n(){var t=ho.event.target;ho.select(t).on(w,o).on(k,s),E.push(t);for(var n=ho.event.changedTouches,r=0,i=n.length;i>r;++r)g[n[r].identifier]=null;var l=e(),c=Date.now();if(1===l.length){if(500>c-y){var u=l[0];a(m,u,g[u.identifier],Math.floor(Math.log(x.k)/Math.LN2)+1),A()}y=c}else if(l.length>1){var u=l[0],d=l[1],p=u[0]-d[0],h=u[1]-d[1];v=p*p+h*h}}function o(){var e,t,n,a,o=ho.touches(m);Gl.call(m);for(var s=0,l=o.length;l>s;++s,a=null)if(n=o[s],a=g[n.identifier]){if(t)break;e=n,t=a}if(a){var u=(u=n[0]-e[0])*u+(u=n[1]-e[1])*u,d=v&&Math.sqrt(u/v);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+a[0])/2,(t[1]+a[1])/2],r(d*h)}y=null,i(e,t),c(f)}function s(){if(ho.event.touches.length){for(var t=ho.event.changedTouches,n=0,r=t.length;r>n;++n)delete g[t[n].identifier];for(var i in g)return void e()}ho.selectAll(E).on(b,null),_.on(N,d).on(D,p),C(),u(f)}var h,m=this,f=O.of(m,arguments),g={},v=0,b=".zoom-"+ho.event.changedTouches[0].identifier,w="touchmove"+b,k="touchend"+b,E=[],_=ho.select(m),C=ee(m);n(),l(f),_.on(N,null).on(D,n)}function h(){var e=O.of(this,arguments);b?clearTimeout(b):(Gl.call(this),f=t(g=v||ho.mouse(this)),l(e)),b=setTimeout(function(){b=null,u(e)},50),A(),r(Math.pow(2,.002*Qo())*x.k),i(g,f),c(e)}function m(){var e=ho.mouse(this),n=Math.log(x.k)/Math.LN2;a(this,e,t(e),ho.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var f,g,v,b,y,w,k,E,_,x={x:0,y:0,k:1},C=[960,500],S=ts,T=250,R=0,N="mousedown.zoom",M="mousemove.zoom",L="mouseup.zoom",D="touchstart.zoom",O=F(e,"zoomstart","zoom","zoomend");return es||(es="onwheel"in go?(Qo=function(){return-ho.event.deltaY*(ho.event.deltaMode?120:1)},"wheel"):"onmousewheel"in go?(Qo=function(){return ho.event.wheelDelta},"mousewheel"):(Qo=function(){return-ho.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=O.of(this,arguments),t=x;Vl?ho.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},l(e)}).tween("zoom:zoom",function(){var n=C[0],r=C[1],i=g?g[0]:n/2,a=g?g[1]:r/2,o=ho.interpolateZoom([(i-x.x)/x.k,(a-x.y)/x.k,n/x.k],[(i-t.x)/t.k,(a-t.y)/t.k,n/t.k]);return function(t){var r=o(t),s=n/r[2];this.__chart__=x={x:i-r[0]*s,y:a-r[1]*s,k:s},c(e)}}).each("interrupt.zoom",function(){u(e)}).each("end.zoom",function(){u(e)}):(this.__chart__=x,l(e),c(e),u(e))})},e.translate=function(t){return arguments.length?(x={x:+t[0],y:+t[1],k:x.k},s(),e):[x.x,x.y]},e.scale=function(t){return arguments.length?(x={x:x.x,y:x.y,k:null},r(+t),s(),e):x.k},e.scaleExtent=function(t){return arguments.length?(S=null==t?ts:[+t[0],+t[1]],e):S},e.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.size=function(t){return arguments.length?(C=t&&[+t[0],+t[1]],e):C},e.duration=function(t){return arguments.length?(T=+t,e):T},e.x=function(t){return arguments.length?(k=t,w=t.copy(),x={x:0,y:0,k:1},e):k},e.y=function(t){return arguments.length?(_=t,E=t.copy(),x={x:0,y:0,k:1},e):_},ho.rebind(e,O,"on")};var Qo,es,ts=[0,1/0];ho.color=de,de.prototype.toString=function(){return this.rgb()+""},ho.hsl=pe;var ns=pe.prototype=new de;ns.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new pe(this.h,this.s,this.l/e)},ns.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new pe(this.h,this.s,e*this.l)},ns.rgb=function(){return he(this.h,this.s,this.l)},ho.hcl=me;var rs=me.prototype=new de;rs.brighter=function(e){return new me(this.h,this.c,Math.min(100,this.l+is*(arguments.length?e:1)))},rs.darker=function(e){return new me(this.h,this.c,Math.max(0,this.l-is*(arguments.length?e:1)))},rs.rgb=function(){return fe(this.h,this.c,this.l).rgb()},ho.lab=ge;var is=18,as=.95047,os=1,ss=1.08883,ls=ge.prototype=new de;ls.brighter=function(e){return new ge(Math.min(100,this.l+is*(arguments.length?e:1)),this.a,this.b)},ls.darker=function(e){return new ge(Math.max(0,this.l-is*(arguments.length?e:1)),this.a,this.b)},ls.rgb=function(){return ve(this.l,this.a,this.b)},ho.rgb=Ee;var cs=Ee.prototype=new de;cs.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new Ee(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new Ee(i,i,i)},cs.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ee(e*this.r,e*this.g,e*this.b)},cs.hsl=function(){return Te(this.r,this.g,this.b)},cs.toString=function(){return"#"+Ce(this.r)+Ce(this.g)+Ce(this.b)};var us=ho.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});us.forEach(function(e,t){us.set(e,_e(t))}),ho.functor=Fe,ho.xhr=Me(_),ho.dsv=function(e,t){function n(e,n,a){arguments.length<3&&(a=n,n=null);var o=Le(e,t,null==n?r:i(n),a);return o.row=function(e){return arguments.length?o.response(null==(n=e)?r:i(e)):n},o}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function a(t){return t.map(o).join(e)}function o(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(u>=c)return o;if(i)return i=!1,a;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<c;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}u=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++u):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c>u;){var r=e.charCodeAt(u++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(u)&&(++u,++s);else if(r!==l)continue;return e.slice(t,u-s)}return e.slice(t)}for(var r,i,a={},o={},s=[],c=e.length,u=0,d=0;(r=n())!==o;){for(var p=[];r!==a&&r!==o;)p.push(r),r=n();t&&null==(p=t(p,d++))||s.push(p)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new E,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(o).join(e)].concat(t.map(function(t){return i.map(function(e){return o(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(a).join("\n")},n},ho.csv=ho.dsv(",","text/csv"),ho.tsv=ho.dsv("	","text/tab-separated-values");var ds,ps,hs,ms,fs=this[C(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};ho.timer=function(){Ie.apply(this,arguments)},ho.timer.flush=function(){Be(),je()},ho.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var gs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ue);ho.formatPrefix=function(e,t){var n=0;return(e=+e)&&(0>e&&(e*=-1),t&&(e=ho.round(e,ze(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),gs[8+n/3]};var vs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,bs=ho.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=ho.round(e,ze(e,t))).toFixed(Math.max(0,Math.min(20,ze(e*(1+1e-15),t))))}}),ys=ho.time={},ws=Date;We.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ks.setUTCDate.apply(this._,arguments)},setDay:function(){ks.setUTCDay.apply(this._,arguments)},setFullYear:function(){ks.setUTCFullYear.apply(this._,arguments)},setHours:function(){ks.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ks.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ks.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ks.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ks.setUTCSeconds.apply(this._,arguments)},setTime:function(){ks.setTime.apply(this._,arguments)}};var ks=Date.prototype;ys.year=Ve(function(e){return e=ys.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),ys.years=ys.year.range,ys.years.utc=ys.year.utc.range,ys.day=Ve(function(e){var t=new ws(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),ys.days=ys.day.range,ys.days.utc=ys.day.utc.range,ys.dayOfYear=function(e){var t=ys.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=ys[e]=Ve(function(e){return(e=ys.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=ys.year(e).getDay();return Math.floor((ys.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});ys[e+"s"]=n.range,ys[e+"s"].utc=n.utc.range,ys[e+"OfYear"]=function(e){var n=ys.year(e).getDay();return Math.floor((ys.dayOfYear(e)+(n+t)%7)/7)}}),ys.week=ys.sunday,ys.weeks=ys.sunday.range,ys.weeks.utc=ys.sunday.utc.range,ys.weekOfYear=ys.sundayOfYear;var Es={"-":"",_:" ",0:"0"},_s=/^\s*\d+/,xs=/^%/;ho.locale=function(e){return{numberFormat:$e(e),timeFormat:Ge(e)}};var Cs=ho.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ho.format=Cs.numberFormat,ho.geo={},mt.prototype={s:0,t:0,add:function(e){ft(e,this.t,Ss),ft(Ss.s,this.s,this),this.s?this.t+=Ss.t:this.s=Ss.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ss=new mt;ho.geo.stream=function(e,t){e&&Ts.hasOwnProperty(e.type)?Ts[e.type](e,t):gt(e,t)};var Ts={Feature:function(e,t){gt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)gt(n[r].geometry,t)}},Rs={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){vt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)vt(n[r],t,0)},Polygon:function(e,t){bt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)bt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)gt(n[r],t)}};ho.geo.area=function(e){return As=0,ho.geo.stream(e,Fs),As};var As,Ns=new mt,Fs={sphere:function(){As+=4*Wo},point:S,lineStart:S,lineEnd:S,polygonStart:function(){Ns.reset(),Fs.lineStart=yt},polygonEnd:function(){var e=2*Ns;As+=0>e?4*Wo+e:e,Fs.lineStart=Fs.lineEnd=Fs.point=S}};ho.geo.bounds=function(){function e(e,t){y.push(w=[u=e,p=e]),d>t&&(d=t),t>h&&(h=t)}function t(t,n){var r=wt([t*Ko,n*Ko]);if(v){var i=Et(v,r),a=[i[1],-i[0],0],o=Et(a,i);Ct(o),o=St(o);var l=t-m,c=l>0?1:-1,f=o[0]*Yo*c,g=Co(l)>180;if(g^(f>c*m&&c*t>f)){var b=o[1]*Yo;b>h&&(h=b)}else if(f=(f+360)%360-180,g^(f>c*m&&c*t>f)){var b=-o[1]*Yo;d>b&&(d=b)}else d>n&&(d=n),n>h&&(h=n);g?m>t?s(u,t)>s(u,p)&&(p=t):s(t,p)>s(u,p)&&(u=t):p>=u?(u>t&&(u=t),t>p&&(p=t)):t>m?s(u,t)>s(u,p)&&(p=t):s(t,p)>s(u,p)&&(u=t)}else e(t,n);v=r,m=t}function n(){k.point=t}function r(){w[0]=u,w[1]=p,k.point=e,v=null}function i(e,n){if(v){var r=e-m;b+=Co(r)>180?r+(r>0?360:-360):r}else f=e,g=n;Fs.point(e,n),t(e,n)}function a(){Fs.lineStart()}function o(){i(f,g),Fs.lineEnd(),Co(b)>$o&&(u=-(p=180)),w[0]=u,w[1]=p,v=null}function s(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var u,d,p,h,m,f,g,v,b,y,w,k={point:e,lineStart:n,lineEnd:r,polygonStart:function(){k.point=i,k.lineStart=a,k.lineEnd=o,b=0,Fs.polygonStart()},polygonEnd:function(){Fs.polygonEnd(),k.point=e,k.lineStart=n,k.lineEnd=r,0>Ns?(u=-(p=180),d=-(h=90)):b>$o?h=90:-$o>b&&(d=-90),w[0]=u,w[1]=p}};return function(e){h=p=-(u=d=1/0),y=[],ho.geo.stream(e,k);var t=y.length;if(t){y.sort(l);for(var n,r=1,i=y[0],a=[i];t>r;++r)n=y[r],c(n[0],i)||c(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):a.push(i=n);for(var o,n,m=-(1/0),t=a.length-1,r=0,i=a[t];t>=r;i=n,++r)n=a[r],(o=s(i[1],n[0]))>m&&(m=o,u=n[0],p=i[1])}return y=w=null,u===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,d],[p,h]]}}(),ho.geo.centroid=function(e){Ms=Ls=Ds=Os=Is=Ps=Bs=js=zs=Us=$s=0,ho.geo.stream(e,Hs);var t=zs,n=Us,r=$s,i=t*t+n*n+r*r;return Ho>i&&(t=Ps,n=Bs,r=js,$o>Ls&&(t=Ds,n=Os,r=Is),i=t*t+n*n+r*r,Ho>i)?[NaN,NaN]:[Math.atan2(n,t)*Yo,oe(r/Math.sqrt(i))*Yo]};var Ms,Ls,Ds,Os,Is,Ps,Bs,js,zs,Us,$s,Hs={sphere:S,point:Rt,lineStart:Nt,lineEnd:Ft,polygonStart:function(){Hs.lineStart=Mt},polygonEnd:function(){Hs.lineStart=Nt}},Ws=Bt(Dt,$t,Wt,[-Wo,-Wo/2]),Vs=1e9;ho.geo.clipExtent=function(){var e,t,n,r,i,a,o={stream:function(e){return i&&(i.valid=!1),i=a(e),i.valid=!0,i},extent:function(s){return arguments.length?(a=Kt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(ho.geo.conicEqualArea=function(){return Yt(Xt)}).raw=Xt,ho.geo.albers=function(){return ho.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ho.geo.albersUsa=function(){function e(e){var a=e[0],o=e[1];return t=null,n(a,o),t||(r(a,o),t)||i(a,o),t}var t,n,r,i,a=ho.geo.albers(),o=ho.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ho.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?o:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:a).invert(e)},e.stream=function(e){var t=a.stream(e),n=o.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(a.precision(t),o.precision(t),s.precision(t),e):a.precision()},e.scale=function(t){return arguments.length?(a.scale(t),o.scale(.35*t),s.scale(t),e.translate(a.translate())):a.scale()},e.translate=function(t){if(!arguments.length)return a.translate();var c=a.scale(),u=+t[0],d=+t[1];return n=a.translate(t).clipExtent([[u-.455*c,d-.238*c],[u+.455*c,d+.238*c]]).stream(l).point,r=o.translate([u-.307*c,d+.201*c]).clipExtent([[u-.425*c+$o,d+.12*c+$o],[u-.214*c-$o,d+.234*c-$o]]).stream(l).point,i=s.translate([u-.205*c,d+.212*c]).clipExtent([[u-.214*c+$o,d+.166*c+$o],[u-.115*c-$o,d+.234*c-$o]]).stream(l).point,e},e.scale(1070)};var qs,Gs,Ks,Ys,Xs,Zs,Js={point:S,lineStart:S,lineEnd:S,polygonStart:function(){Gs=0,Js.lineStart=Zt},polygonEnd:function(){Js.lineStart=Js.lineEnd=Js.point=S,qs+=Co(Gs/2)}},Qs={point:Jt,lineStart:S,lineEnd:S,polygonStart:S,polygonEnd:S},el={point:tn,lineStart:nn,lineEnd:rn,polygonStart:function(){el.lineStart=an},polygonEnd:function(){el.point=tn,el.lineStart=nn,el.lineEnd=rn}};ho.geo.path=function(){function e(e){return e&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=i(a)),ho.geo.stream(e,o)),a.result()}function t(){return o=null,e}var n,r,i,a,o,s=4.5;return e.area=function(e){return qs=0,ho.geo.stream(e,i(Js)),qs},e.centroid=function(e){return Ds=Os=Is=Ps=Bs=js=zs=Us=$s=0,ho.geo.stream(e,i(el)),$s?[zs/$s,Us/$s]:js?[Ps/js,Bs/js]:Is?[Ds/Is,Os/Is]:[NaN,NaN]},e.bounds=function(e){return Xs=Zs=-(Ks=Ys=1/0),ho.geo.stream(e,i(Qs)),[[Ks,Ys],[Xs,Zs]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||ln(e):_,t()):n},e.context=function(e){return arguments.length?(a=null==(r=e)?new Qt:new on(e),"function"!=typeof s&&a.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(a.pointRadius(+t),+t),e):s},e.projection(ho.geo.albersUsa()).context(null)},ho.geo.transform=function(e){return{stream:function(t){var n=new cn(t);for(var r in e)n[r]=e[r];return n}}},cn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ho.geo.projection=dn,ho.geo.projectionMutator=pn,(ho.geo.equirectangular=function(){return dn(mn)}).raw=mn.invert=mn,ho.geo.rotation=function(e){function t(t){return t=e(t[0]*Ko,t[1]*Ko),t[0]*=Yo,t[1]*=Yo,t}return e=gn(e[0]%360*Ko,e[1]*Ko,e.length>2?e[2]*Ko:0),t.invert=function(t){return t=e.invert(t[0]*Ko,t[1]*Ko),t[0]*=Yo,t[1]*=Yo,t},t},fn.invert=mn,ho.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=gn(-e[0]*Ko,-e[1]*Ko,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Yo,e[1]*=Yo}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=wn((t=+r)*Ko,i*Ko),e):t},e.precision=function(r){return arguments.length?(n=wn(t*Ko,(i=+r)*Ko),e):i},e.angle(90)},ho.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Ko,i=e[1]*Ko,a=t[1]*Ko,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),c=Math.cos(i),u=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},ho.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ho.range(Math.ceil(a/g)*g,i,g).map(p).concat(ho.range(Math.ceil(c/v)*v,l,v).map(h)).concat(ho.range(Math.ceil(r/m)*m,n,m).filter(function(e){return Co(e%g)>$o}).map(u)).concat(ho.range(Math.ceil(s/f)*f,o,f).filter(function(e){return Co(e%v)>$o}).map(d))}var n,r,i,a,o,s,l,c,u,d,p,h,m=10,f=m,g=90,v=360,b=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[p(a).concat(h(l).slice(1),p(i).reverse().slice(1),h(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(a=+t[0][0],i=+t[1][0],c=+t[0][1],l=+t[1][1],a>i&&(t=a,a=i,i=t),c>l&&(t=c,c=l,l=t),e.precision(b)):[[a,c],[i,l]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),e.precision(b)):[[r,s],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],e):[g,v]},e.minorStep=function(t){return arguments.length?(m=+t[0],f=+t[1],e):[m,f]},e.precision=function(t){return arguments.length?(b=+t,u=En(s,o,90),d=_n(r,n,b),p=En(c,l,90),h=_n(a,i,b),e):b},e.majorExtent([[-180,-90+$o],[180,90-$o]]).minorExtent([[-180,-80-$o],[180,80+$o]])},ho.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=xn,i=Cn;return e.distance=function(){return ho.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},ho.geo.interpolate=function(e,t){return Sn(e[0]*Ko,e[1]*Ko,t[0]*Ko,t[1]*Ko)},ho.geo.length=function(e){return tl=0,ho.geo.stream(e,nl),tl};var tl,nl={sphere:S,point:S,lineStart:Tn,lineEnd:S,polygonStart:S,polygonEnd:S},rl=Rn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(ho.geo.azimuthalEqualArea=function(){return dn(rl)}).raw=rl;var il=Rn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},_);(ho.geo.azimuthalEquidistant=function(){return dn(il)}).raw=il,(ho.geo.conicConformal=function(){return Yt(An)}).raw=An,(ho.geo.conicEquidistant=function(){return Yt(Nn)}).raw=Nn;var al=Rn(function(e){return 1/e},Math.atan);(ho.geo.gnomonic=function(){return dn(al)}).raw=al,Fn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Go]},(ho.geo.mercator=function(){return Mn(Fn)}).raw=Fn;var ol=Rn(function(){return 1},Math.asin);(ho.geo.orthographic=function(){return dn(ol)}).raw=ol;var sl=Rn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(ho.geo.stereographic=function(){return dn(sl)}).raw=sl,Ln.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Go]},(ho.geo.transverseMercator=function(){var e=Mn(Ln),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Ln,ho.geom={},ho.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Fe(n),a=Fe(r),o=e.length,s=[],l=[];for(t=0;o>t;t++)s.push([+i.call(this,e[t],t),+a.call(this,e[t],t),t]);for(s.sort(Pn),t=0;o>t;t++)l.push([s[t][0],-s[t][1]]);var c=In(s),u=In(l),d=u[0]===c[0],p=u[u.length-1]===c[c.length-1],h=[];for(t=c.length-1;t>=0;--t)h.push(e[s[c[t]][2]]);for(t=+d;t<u.length-p;++t)h.push(e[s[u[t]][2]]);return h}var n=Dn,r=On;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},ho.geom.polygon=function(e){return No(e,ll),e};var ll=ho.geom.polygon.prototype=[];ll.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},ll.centroid=function(e){var t,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a*e,o*e]},ll.clip=function(e){for(var t,n,r,i,a,o,s=zn(e),l=-1,c=this.length-zn(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,i=this[l],a=t[(r=t.length-s)-1],n=-1;++n<r;)o=t[n],Bn(o,u,i)?(Bn(a,u,i)||e.push(jn(a,o,u,i)),e.push(o)):Bn(a,u,i)&&e.push(jn(a,o,u,i)),a=o;s&&e.push(e[0]),u=i}return e};var cl,ul,dl,pl,hl,ml=[],fl=[];Kn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Xn),t.length},or.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},sr.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=dr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(cr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ur(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ur(this,n),e=n,n=e.U),n.C=!1,r.C=!0,cr(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?dr(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,cr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ur(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,cr(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ur(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,cr(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ur(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},ho.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],i=s[0][1],a=s[1][0],o=s[1][1];return pr(n(e),s).cells.forEach(function(n,s){var l=n.edges,c=n.site,u=t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=r&&c.x<=a&&c.y>=i&&c.y<=o?[[r,o],[a,o],[a,i],[r,i]]:[];u.point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(a(e,t)/$o)*$o,y:Math.round(o(e,t)/$o)*$o,i:t}})}var r=Dn,i=On,a=r,o=i,s=gl;return e?t(e):(t.links=function(e){return pr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return pr(n(e)).cells.forEach(function(n,r){for(var i,a,o=n.site,s=n.edges.sort(Xn),l=-1,c=s.length,u=s[c-1].edge,d=u.l===o?u.r:u.l;++l<c;)i=u,a=d,u=s[l].edge,d=u.l===o?u.r:u.l,r<a.i&&r<d.i&&mr(o,a,d)<0&&t.push([e[r],e[a.i],e[d.i]])}),t},t.x=function(e){return arguments.length?(a=Fe(r=e),t):r},t.y=function(e){return arguments.length?(o=Fe(i=e),t):i},t.clipExtent=function(e){return arguments.length?(s=null==e?gl:e,t):s===gl?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===gl?null:s&&s[1]},t)};var gl=[[-1e6,-1e6],[1e6,1e6]];ho.geom.delaunay=function(e){return ho.geom.voronoi().triangles(e)},ho.geom.quadtree=function(e,t,n,r,i){function a(e){function a(e,t,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(Co(l-n)+Co(u-r)<.01)c(e,t,n,r,i,a,o,s);else{var d=e.point;e.x=e.y=e.point=null,c(e,d,l,u,i,a,o,s),c(e,t,n,r,i,a,o,s)}else e.x=n,e.y=r,e.point=t}else c(e,t,n,r,i,a,o,s)}function c(e,t,n,r,i,o,s,l){var c=.5*(i+s),u=.5*(o+l),d=n>=c,p=r>=u,h=p<<1|d;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=vr()),d?i=c:s=c,p?o=u:l=u,a(e,t,n,r,i,o,s,l)}var u,d,p,h,m,f,g,v,b,y=Fe(s),w=Fe(l);if(null!=t)f=t,g=n,v=r,b=i;else if(v=b=-(f=g=1/0),d=[],p=[],m=e.length,o)for(h=0;m>h;++h)u=e[h],u.x<f&&(f=u.x),u.y<g&&(g=u.y),u.x>v&&(v=u.x),u.y>b&&(b=u.y),d.push(u.x),p.push(u.y);else for(h=0;m>h;++h){var k=+y(u=e[h],h),E=+w(u,h);f>k&&(f=k),g>E&&(g=E),k>v&&(v=k),E>b&&(b=E),d.push(k),p.push(E)}var _=v-f,x=b-g;_>x?b=g+_:v=f+x;var C=vr();if(C.add=function(e){a(C,e,+y(e,++h),+w(e,h),f,g,v,b)},C.visit=function(e){br(e,C,f,g,v,b)},C.find=function(e){return yr(C,e[0],e[1],f,g,v,b)},h=-1,null==t){for(;++h<m;)a(C,e[h],d[h],p[h],f,g,v,b);--h}else e.forEach(C.add);return d=p=e=u=null,C}var o,s=Dn,l=On;return(o=arguments.length)?(s=fr,l=gr,3===o&&(i=n,r=t,n=t=0),a(e)):(a.x=function(e){return arguments.length?(s=e,a):s},a.y=function(e){return arguments.length?(l=e,a):l},a.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),a):null==t?null:[[t,n],[r,i]]},a.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),a):null==t?null:[r-t,i-n]},a)},ho.interpolateRgb=wr,ho.interpolateObject=kr,ho.interpolateNumber=Er,ho.interpolateString=_r;var vl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bl=new RegExp(vl.source,"g");ho.interpolate=xr,ho.interpolators=[function(e,t){var n=typeof t;return("string"===n?us.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?wr:_r:t instanceof de?wr:Array.isArray(t)?Cr:"object"===n&&isNaN(t)?kr:Er)(e,t)}],ho.interpolateArray=Cr;var yl=function(){return _},wl=ho.map({linear:yl,poly:Mr,quad:function(){return Ar},cubic:function(){return Nr},sin:function(){return Lr},exp:function(){return Dr},circle:function(){return Or},elastic:Ir,back:Pr,bounce:function(){return Br}}),kl=ho.map({"in":_,out:Tr,"in-out":Rr,"out-in":function(e){return Rr(Tr(e))}});ho.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=wl.get(n)||yl,r=kl.get(r)||_,Sr(r(n.apply(null,mo.call(arguments,1))));
},ho.interpolateHcl=jr,ho.interpolateHsl=zr,ho.interpolateLab=Ur,ho.interpolateRound=$r,ho.transform=function(e){var t=go.createElementNS(ho.ns.prefix.svg,"g");return(ho.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Hr(n?n.matrix:El)})(e)},Hr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var El={a:1,b:0,c:0,d:1,e:0,f:0};ho.interpolateTransform=Jr,ho.layout={},ho.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(ti(e[n]));return t}},ho.layout.chord=function(){function e(){var e,c,d,p,h,m={},f=[],g=ho.range(a),v=[];for(n=[],r=[],e=0,p=-1;++p<a;){for(c=0,h=-1;++h<a;)c+=i[p][h];f.push(c),v.push(ho.range(a)),e+=c}for(o&&g.sort(function(e,t){return o(f[e],f[t])}),s&&v.forEach(function(e,t){e.sort(function(e,n){return s(i[t][e],i[t][n])})}),e=(Vo-u*a)/e,c=0,p=-1;++p<a;){for(d=c,h=-1;++h<a;){var b=g[p],y=v[b][h],w=i[b][y],k=c,E=c+=w*e;m[b+"-"+y]={index:b,subindex:y,startAngle:k,endAngle:E,value:w}}r[b]={index:b,startAngle:d,endAngle:c,value:f[b]},c+=u}for(p=-1;++p<a;)for(h=p-1;++h<a;){var _=m[p+"-"+h],x=m[h+"-"+p];(_.value||x.value)&&n.push(_.value<x.value?{source:x,target:_}:{source:_,target:x})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,a,o,s,l,c={},u=0;return c.matrix=function(e){return arguments.length?(a=(i=e)&&i.length,n=r=null,c):i},c.padding=function(e){return arguments.length?(u=e,n=r=null,c):u},c.sortGroups=function(e){return arguments.length?(o=e,n=r=null,c):o},c.sortSubgroups=function(e){return arguments.length?(s=e,n=null,c):s},c.sortChords=function(e){return arguments.length?(l=e,n&&t(),c):l},c.chords=function(){return n||e(),n},c.groups=function(){return r||e(),r},c},ho.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=i-n,l=a*a+o*o;if(l>s*s/v){if(f>l){var c=t.charge/l;e.px-=a*c,e.py-=o*c}return!0}if(t.point&&l&&f>l){var c=t.pointCharge/l;e.px-=a*c,e.py-=o*c}}return!t.charge}}function t(e){e.px=ho.event.x,e.py=ho.event.y,l.resume()}var n,r,i,a,o,s,l={},c=ho.dispatch("start","tick","end"),u=[1,1],d=.9,p=_l,h=xl,m=-30,f=Cl,g=.1,v=.64,b=[],y=[];return l.tick=function(){if((i*=.99)<.005)return n=null,c.end({type:"end",alpha:i=0}),!0;var t,r,l,p,h,f,v,w,k,E=b.length,_=y.length;for(r=0;_>r;++r)l=y[r],p=l.source,h=l.target,w=h.x-p.x,k=h.y-p.y,(f=w*w+k*k)&&(f=i*o[r]*((f=Math.sqrt(f))-a[r])/f,w*=f,k*=f,h.x-=w*(v=p.weight+h.weight?p.weight/(p.weight+h.weight):.5),h.y-=k*v,p.x+=w*(v=1-v),p.y+=k*v);if((v=i*g)&&(w=u[0]/2,k=u[1]/2,r=-1,v))for(;++r<E;)l=b[r],l.x+=(w-l.x)*v,l.y+=(k-l.y)*v;if(m)for(li(t=ho.geom.quadtree(b),i,s),r=-1;++r<E;)(l=b[r]).fixed||t.visit(e(l));for(r=-1;++r<E;)l=b[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*d,l.y-=(l.py-(l.py=l.y))*d);c.tick({type:"tick",alpha:i})},l.nodes=function(e){return arguments.length?(b=e,l):b},l.links=function(e){return arguments.length?(y=e,l):y},l.size=function(e){return arguments.length?(u=e,l):u},l.linkDistance=function(e){return arguments.length?(p="function"==typeof e?e:+e,l):p},l.distance=l.linkDistance,l.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,l):h},l.friction=function(e){return arguments.length?(d=+e,l):d},l.charge=function(e){return arguments.length?(m="function"==typeof e?e:+e,l):m},l.chargeDistance=function(e){return arguments.length?(f=e*e,l):Math.sqrt(f)},l.gravity=function(e){return arguments.length?(g=+e,l):g},l.theta=function(e){return arguments.length?(v=e*e,l):Math.sqrt(v)},l.alpha=function(e){return arguments.length?(e=+e,i?e>0?i=e:(n.c=null,n.t=NaN,n=null,c.end({type:"end",alpha:i=0})):e>0&&(c.start({type:"start",alpha:i=e}),n=Ie(l.tick)),l):i},l.start=function(){function e(e,r){if(!n){for(n=new Array(i),l=0;i>l;++l)n[l]=[];for(l=0;c>l;++l){var a=y[l];n[a.source.index].push(a.target),n[a.target.index].push(a.source)}}for(var o,s=n[t],l=-1,u=s.length;++l<u;)if(!isNaN(o=s[l][e]))return o;return Math.random()*r}var t,n,r,i=b.length,c=y.length,d=u[0],f=u[1];for(t=0;i>t;++t)(r=b[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=y[t],"number"==typeof r.source&&(r.source=b[r.source]),"number"==typeof r.target&&(r.target=b[r.target]),++r.source.weight,++r.target.weight;for(t=0;i>t;++t)r=b[t],isNaN(r.x)&&(r.x=e("x",d)),isNaN(r.y)&&(r.y=e("y",f)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(a=[],"function"==typeof p)for(t=0;c>t;++t)a[t]=+p.call(this,y[t],t);else for(t=0;c>t;++t)a[t]=p;if(o=[],"function"==typeof h)for(t=0;c>t;++t)o[t]=+h.call(this,y[t],t);else for(t=0;c>t;++t)o[t]=h;if(s=[],"function"==typeof m)for(t=0;i>t;++t)s[t]=+m.call(this,b[t],t);else for(t=0;i>t;++t)s[t]=m;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=ho.behavior.drag().origin(_).on("dragstart.force",ii).on("drag.force",t).on("dragend.force",ai)),arguments.length?void this.on("mouseover.force",oi).on("mouseout.force",si).call(r):r},ho.rebind(l,c,"on")};var _l=20,xl=1,Cl=1/0;ho.layout.hierarchy=function(){function e(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(c=n.call(e,a,a.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)o.push(u=c[l]),u.parent=a,u.depth=a.depth+1;r&&(a.value=0),a.children=c}else r&&(a.value=+r.call(e,a,a.depth)||0),delete a.children;return di(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}var t=mi,n=pi,r=hi;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(ui(t,function(e){e.children&&(e.value=0)}),di(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},ho.layout.partition=function(){function e(t,n,r,i){var a=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,a&&(o=a.length)){var o,s,l,c=-1;for(r=t.value?r/t.value:0;++c<o;)e(s=a[c],n,l=s.value*r,i),n+=l}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,a=-1;++a<i;)r=Math.max(r,t(n[a]));return 1+r}function n(n,a){var o=r.call(this,n,a);return e(o[0],0,i[0],i[1]/t(o[0])),o}var r=ho.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},ci(n,r)},ho.layout.pie=function(){function e(o){var s,l=o.length,c=o.map(function(n,r){return+t.call(e,n,r)}),u=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-u,p=Math.min(Math.abs(d)/l,+("function"==typeof a?a.apply(this,arguments):a)),h=p*(0>d?-1:1),m=ho.sum(c),f=m?(d-l*h)/m:0,g=ho.range(l),v=[];return null!=n&&g.sort(n===Sl?function(e,t){return c[t]-c[e]}:function(e,t){return n(o[e],o[t])}),g.forEach(function(e){v[e]={data:o[e],value:s=c[e],startAngle:u,endAngle:u+=s*f+h,padAngle:p}}),v}var t=Number,n=Sl,r=0,i=Vo,a=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(a=t,e):a},e};var Sl={};ho.layout.stack=function(){function e(s,l){if(!(p=s.length))return s;var c=s.map(function(n,r){return t.call(e,n,r)}),u=c.map(function(t){return t.map(function(t,n){return[a.call(e,t,n),o.call(e,t,n)]})}),d=n.call(e,u,l);c=ho.permute(c,d),u=ho.permute(u,d);var p,h,m,f,g=r.call(e,u,l),v=c[0].length;for(m=0;v>m;++m)for(i.call(e,c[0][m],f=g[m],u[0][m][1]),h=1;p>h;++h)i.call(e,c[h][m],f+=u[h-1][m][1],u[h][m][1]);return s}var t=_,n=yi,r=wi,i=bi,a=gi,o=vi;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:Tl.get(t)||yi,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Rl.get(t)||wi,e):r},e.x=function(t){return arguments.length?(a=t,e):a},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(i=t,e):i},e};var Tl=ho.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(ki),a=e.map(Ei),o=ho.range(r).sort(function(e,t){return i[e]-i[t]}),s=0,l=0,c=[],u=[];for(t=0;r>t;++t)n=o[t],l>s?(s+=a[n],c.push(n)):(l+=a[n],u.push(n));return u.reverse().concat(c)},reverse:function(e){return ho.range(e.length).reverse()},"default":yi}),Rl=ho.map({silhouette:function(e){var t,n,r,i=e.length,a=e[0].length,o=[],s=0,l=[];for(n=0;a>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>s&&(s=r),o.push(r)}for(n=0;a>n;++n)l[n]=(s-o[n])/2;return l},wiggle:function(e){var t,n,r,i,a,o,s,l,c,u=e.length,d=e[0],p=d.length,h=[];for(h[0]=l=c=0,n=1;p>n;++n){for(t=0,i=0;u>t;++t)i+=e[t][n][1];for(t=0,a=0,s=d[n][0]-d[n-1][0];u>t;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)o+=(e[r][n][1]-e[r][n-1][1])/s;a+=o*e[t][n][1]}h[n]=l-=i?a/i*s:0,c>l&&(c=l)}for(n=0;p>n;++n)h[n]-=c;return h},expand:function(e){var t,n,r,i=e.length,a=e[0].length,o=1/i,s=[];for(n=0;a>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=o}for(n=0;a>n;++n)s[n]=0;return s},zero:wi});ho.layout.histogram=function(){function e(e,a){for(var o,s,l=[],c=e.map(n,this),u=r.call(this,c,a),d=i.call(this,u,c,a),a=-1,p=c.length,h=d.length-1,m=t?1:1/p;++a<h;)o=l[a]=[],o.dx=d[a+1]-(o.x=d[a]),o.y=0;if(h>0)for(a=-1;++a<p;)s=c[a],s>=u[0]&&s<=u[1]&&(o=l[ho.bisect(d,s,1,h)-1],o.y+=m,o.push(e[a]));return l}var t=!0,n=Number,r=Si,i=xi;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Fe(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return Ci(e,t)}:Fe(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},ho.layout.pack=function(){function e(e,a){var o=n.call(this,e,a),s=o[0],l=i[0],c=i[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,di(s,function(e){e.r=+u(e.value)}),di(s,Fi),r){var d=r*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;di(s,function(e){e.r+=d}),di(s,Fi),di(s,function(e){e.r-=d})}return Di(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),o}var t,n=ho.layout.hierarchy().sort(Ti),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},ci(e,n)},ho.layout.tree=function(){function e(e,i){var u=o.call(this,e,i),d=u[0],p=t(d);if(di(p,n),p.parent.m=-p.z,ui(p,r),c)ui(d,a);else{var h=d,m=d,f=d;ui(d,function(e){e.x<h.x&&(h=e),e.x>m.x&&(m=e),e.depth>f.depth&&(f=e)});var g=s(h,m)/2-h.x,v=l[0]/(m.x+s(m,h)/2+g),b=l[1]/(f.depth||1);ui(d,function(e){e.x=(e.x+g)*v,e.y=e.depth*b})}return u}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,a=t.children,o=0,s=a.length;s>o;++o)r.push((a[o]=i={_:a[o],parent:t,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){zi(e);var a=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-a):e.z=a}else r&&(e.z=r.z+s(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,a=e,o=t,l=i.parent.children[0],c=i.m,u=a.m,d=o.m,p=l.m;o=Bi(o),i=Pi(i),o&&i;)l=Pi(l),a=Bi(a),a.a=e,r=o.z+d-i.z-c+s(o._,i._),r>0&&(ji(Ui(o,e,n),e,r),c+=r,u+=r),d+=o.m,c+=i.m,p+=l.m,u+=a.m;o&&!Bi(a)&&(a.t=o,a.m+=d-u),i&&!Pi(l)&&(l.t=i,l.m+=c-p,n=e)}return n}function a(e){e.x*=l[0],e.y=e.depth*l[1]}var o=ho.layout.hierarchy().sort(null).value(null),s=Ii,l=[1,1],c=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(c=null==(l=t)?a:null,e):c?null:l},e.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:a,e):c?l:null},ci(e,o)},ho.layout.cluster=function(){function e(e,a){var o,s=t.call(this,e,a),l=s[0],c=0;di(l,function(e){var t=e.children;t&&t.length?(e.x=Hi(t),e.y=$i(t)):(e.x=o?c+=n(e,o):0,e.y=0,o=e)});var u=Wi(l),d=Vi(l),p=u.x-n(u,d)/2,h=d.x+n(d,u)/2;return di(l,i?function(e){e.x=(e.x-l.x)*r[0],e.y=(l.y-e.y)*r[1]}:function(e){e.x=(e.x-p)/(h-p)*r[0],e.y=(1-(l.y?e.y/l.y:1))*r[1]}),s}var t=ho.layout.hierarchy().sort(null).value(null),n=Ii,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},ci(e,t)},ho.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,a=e.length;++i<a;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var a=n.children;if(a&&a.length){var o,s,l,c=d(n),u=[],p=a.slice(),m=1/0,f="slice"===h?c.dx:"dice"===h?c.dy:"slice-dice"===h?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(p,c.dx*c.dy/n.value),u.area=0;(l=p.length)>0;)u.push(o=p[l-1]),u.area+=o.area,"squarify"!==h||(s=r(u,f))<=m?(p.pop(),m=s):(u.area-=u.pop().area,i(u,f,c,!1),f=Math.min(c.dx,c.dy),u.length=u.area=0,m=1/0);u.length&&(i(u,f,c,!0),u.length=u.area=0),a.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var a,o=d(t),s=r.slice(),l=[];for(e(s,o.dx*o.dy/t.value),l.area=0;a=s.pop();)l.push(a),l.area+=a.area,null!=a.z&&(i(l,a.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,a=1/0,o=-1,s=e.length;++o<s;)(n=e[o].area)&&(a>n&&(a=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*m/r,r/(t*a*m)):1/0}function i(e,t,n,r){var i,a=-1,o=e.length,s=n.x,c=n.y,u=t?l(e.area/t):0;if(t==n.dx){for((r||u>n.dy)&&(u=n.dy);++a<o;)i=e[a],i.x=s,i.y=c,i.dy=u,s+=i.dx=Math.min(n.x+n.dx-s,u?l(i.area/u):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++a<o;)i=e[a],i.x=s,i.y=c,i.dx=u,c+=i.dy=Math.min(n.y+n.dy-c,u?l(i.area/u):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function a(r){var i=o||s(r),a=i[0];return a.x=a.y=0,a.value?(a.dx=c[0],a.dy=c[1]):a.dx=a.dy=0,o&&s.revalue(a),e([a],a.dx*a.dy/a.value),(o?n:t)(a),p&&(o=i),i}var o,s=ho.layout.hierarchy(),l=Math.round,c=[1,1],u=null,d=qi,p=!1,h="squarify",m=.5*(1+Math.sqrt(5));return a.size=function(e){return arguments.length?(c=e,a):c},a.padding=function(e){function t(t){var n=e.call(a,t,t.depth);return null==n?qi(t):Gi(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Gi(t,e)}if(!arguments.length)return u;var r;return d=null==(u=e)?qi:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,a},a.round=function(e){return arguments.length?(l=e?Math.round:Number,a):l!=Number},a.sticky=function(e){return arguments.length?(p=e,o=null,a):p},a.ratio=function(e){return arguments.length?(m=e,a):m},a.mode=function(e){return arguments.length?(h=e+"",a):h},ci(a,s)},ho.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=ho.random.normal.apply(ho,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=ho.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},ho.scale={};var Al={floor:_,ceil:_};ho.scale.linear=function(){return ea([0,1],[0,1],xr,!1)};var Nl={s:1,g:1,p:1,r:1,e:1};ho.scale.log=function(){return la(ho.scale.linear().domain([0,1]),10,!0,[1,10])};var Fl=ho.format(".0e"),Ml={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};ho.scale.pow=function(){return ca(ho.scale.linear(),1,[0,1])},ho.scale.sqrt=function(){return ho.scale.pow().exponent(.5)},ho.scale.ordinal=function(){return da([],{t:"range",a:[[]]})},ho.scale.category10=function(){return ho.scale.ordinal().range(Ll)},ho.scale.category20=function(){return ho.scale.ordinal().range(Dl)},ho.scale.category20b=function(){return ho.scale.ordinal().range(Ol)},ho.scale.category20c=function(){return ho.scale.ordinal().range(Il)};var Ll=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xe),Dl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xe),Ol=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xe),Il=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xe);ho.scale.quantile=function(){return pa([],[])},ho.scale.quantize=function(){return ha(0,1,[0,1])},ho.scale.threshold=function(){return ma([.5],[0,1])},ho.scale.identity=function(){return fa([0,1])},ho.svg={},ho.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),u=o.apply(this,arguments)-Go,d=s.apply(this,arguments)-Go,p=Math.abs(d-u),h=u>d?0:1;if(e>c&&(m=c,c=e,e=m),p>=qo)return t(c,h)+(e?t(e,1-h):"")+"Z";var m,f,g,v,b,y,w,k,E,_,x,C,S=0,T=0,R=[];if((v=(+l.apply(this,arguments)||0)/2)&&(g=a===Pl?Math.sqrt(e*e+c*c):+a.apply(this,arguments),h||(T*=-1),c&&(T=oe(g/c*Math.sin(v))),e&&(S=oe(g/e*Math.sin(v)))),c){b=c*Math.cos(u+T),y=c*Math.sin(u+T),w=c*Math.cos(d-T),k=c*Math.sin(d-T);var A=Math.abs(d-u-2*T)<=Wo?0:1;if(T&&Ea(b,y,w,k)===h^A){var N=(u+d)/2;b=c*Math.cos(N),y=c*Math.sin(N),w=k=null}}else b=y=0;if(e){E=e*Math.cos(d-S),_=e*Math.sin(d-S),x=e*Math.cos(u+S),C=e*Math.sin(u+S);var F=Math.abs(u-d+2*S)<=Wo?0:1;if(S&&Ea(E,_,x,C)===1-h^F){var M=(u+d)/2;E=e*Math.cos(M),_=e*Math.sin(M),x=C=null}}else E=_=0;if(p>$o&&(m=Math.min(Math.abs(c-e)/2,+i.apply(this,arguments)))>.001){f=c>e^h?0:1;var L=m,D=m;if(Wo>p){var O=null==x?[E,_]:null==w?[b,y]:jn([b,y],[x,C],[w,k],[E,_]),I=b-O[0],P=y-O[1],B=w-O[0],j=k-O[1],z=1/Math.sin(Math.acos((I*B+P*j)/(Math.sqrt(I*I+P*P)*Math.sqrt(B*B+j*j)))/2),U=Math.sqrt(O[0]*O[0]+O[1]*O[1]);D=Math.min(m,(e-U)/(z-1)),L=Math.min(m,(c-U)/(z+1))}if(null!=w){var $=_a(null==x?[E,_]:[x,C],[b,y],c,L,h),H=_a([w,k],[E,_],c,L,h);m===L?R.push("M",$[0],"A",L,",",L," 0 0,",f," ",$[1],"A",c,",",c," 0 ",1-h^Ea($[1][0],$[1][1],H[1][0],H[1][1]),",",h," ",H[1],"A",L,",",L," 0 0,",f," ",H[0]):R.push("M",$[0],"A",L,",",L," 0 1,",f," ",H[0])}else R.push("M",b,",",y);if(null!=x){var W=_a([b,y],[x,C],e,-D,h),V=_a([E,_],null==w?[b,y]:[w,k],e,-D,h);m===D?R.push("L",V[0],"A",D,",",D," 0 0,",f," ",V[1],"A",e,",",e," 0 ",h^Ea(V[1][0],V[1][1],W[1][0],W[1][1]),",",1-h," ",W[1],"A",D,",",D," 0 0,",f," ",W[0]):R.push("L",V[0],"A",D,",",D," 0 0,",f," ",W[0])}else R.push("L",E,",",_)}else R.push("M",b,",",y),null!=w&&R.push("A",c,",",c," 0 ",A,",",h," ",w,",",k),R.push("L",E,",",_),null!=x&&R.push("A",e,",",e," 0 ",F,",",1-h," ",x,",",C);return R.push("Z"),R.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=va,r=ba,i=ga,a=Pl,o=ya,s=wa,l=ka;return e.innerRadius=function(t){return arguments.length?(n=Fe(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Fe(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=Fe(t),e):i},e.padRadius=function(t){return arguments.length?(a=t==Pl?Pl:Fe(t),e):a},e.startAngle=function(t){return arguments.length?(o=Fe(t),e):o},e.endAngle=function(t){return arguments.length?(s=Fe(t),e):s},e.padAngle=function(t){return arguments.length?(l=Fe(t),e):l},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Go;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Pl="auto";ho.svg.line=function(){return xa(_)};var Bl=ho.map({linear:Ca,"linear-closed":Sa,step:Ta,"step-before":Ra,"step-after":Aa,basis:Oa,"basis-open":Ia,"basis-closed":Pa,bundle:Ba,cardinal:Ma,"cardinal-open":Na,"cardinal-closed":Fa,monotone:Wa});Bl.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var jl=[0,2/3,1/3,0],zl=[0,1/3,2/3,0],Ul=[0,1/6,2/3,1/6];ho.svg.line.radial=function(){var e=xa(Va);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ra.reverse=Aa,Aa.reverse=Ra,ho.svg.area=function(){return qa(_)},ho.svg.area.radial=function(){var e=qa(Va);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},ho.svg.chord=function(){function e(e,s){var l=t(this,a,e,s),c=t(this,o,e,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,c)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,l.r,l.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),a=s.call(e,i,r),o=l.call(e,i,r)-Go,u=c.call(e,i,r)-Go;return{r:a,a0:o,a1:u,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(u),a*Math.sin(u)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Wo)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var a=xn,o=Cn,s=Ga,l=ya,c=wa;return e.radius=function(t){return arguments.length?(s=Fe(t),e):s},e.source=function(t){return arguments.length?(a=Fe(t),e):a},e.target=function(t){return arguments.length?(o=Fe(t),e):o},e.startAngle=function(t){return arguments.length?(l=Fe(t),e):l},e.endAngle=function(t){return arguments.length?(c=Fe(t),e):c},e},ho.svg.diagonal=function(){function e(e,i){var a=t.call(this,e,i),o=n.call(this,e,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=xn,n=Cn,r=Ka;return e.source=function(n){return arguments.length?(t=Fe(n),e):t},e.target=function(t){return arguments.length?(n=Fe(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},ho.svg.diagonal.radial=function(){var e=ho.svg.diagonal(),t=Ka,n=e.projection;return e.projection=function(e){return arguments.length?n(Ya(t=e)):t},e},ho.svg.symbol=function(){function e(e,r){return($l.get(t.call(this,e,r))||Ja)(n.call(this,e,r))}var t=Za,n=Xa;return e.type=function(n){return arguments.length?(t=Fe(n),e):t},e.size=function(t){return arguments.length?(n=Fe(t),e):n},e};var $l=ho.map({circle:Ja,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Wl)),n=t*Wl;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Hl),n=t*Hl/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Hl),n=t*Hl/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});ho.svg.symbolTypes=$l.keys();var Hl=Math.sqrt(3),Wl=Math.tan(30*Ko);Do.transition=function(e){for(var t,n,r=Vl||++Yl,i=ro(e),a=[],o=ql||{time:Date.now(),ease:Fr,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&io(n,u,i,r,o),t.push(n)}return eo(a,i,r)},Do.interrupt=function(e){return this.each(null==e?Gl:Qa(ro(e)))};var Vl,ql,Gl=Qa(ro()),Kl=[],Yl=0;Kl.call=Do.call,Kl.empty=Do.empty,Kl.node=Do.node,Kl.size=Do.size,ho.transition=function(e,t){return e&&e.transition?Vl?e.transition(t):e:ho.selection().transition(e)},ho.transition.prototype=Kl,Kl.select=function(e){var t,n,r,i=this.id,a=this.namespace,o=[];e=L(e);for(var s=-1,l=this.length;++s<l;){o.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=e.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),io(n,u,a,i,r[a][i]),t.push(n)):t.push(null)}return eo(o,a,i)},Kl.selectAll=function(e){var t,n,r,i,a,o=this.id,s=this.namespace,l=[];e=D(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],p=-1,h=d.length;++p<h;)if(r=d[p]){a=r[s][o],n=e.call(r,r.__data__,p,c),l.push(t=[]);for(var m=-1,f=n.length;++m<f;)(i=n[m])&&io(i,m,s,o,a),t.push(i)}return eo(l,s,o)},Kl.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=q(e));for(var a=0,o=this.length;o>a;a++){i.push(t=[]);for(var n=this[a],s=0,l=n.length;l>s;s++)(r=n[s])&&e.call(r,r.__data__,s,a)&&t.push(r)}return eo(i,this.namespace,this.id)},Kl.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):K(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Kl.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=o(n,e),function(e){this.setAttribute(s,t(e))})})}function a(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=o(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var o="transform"==e?Jr:xr,s=ho.ns.qualify(e);return to(this,"attr."+e,t,s.local?a:i)},Kl.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=ho.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Kl.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=o(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=xr(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var a=arguments.length;if(3>a){if("string"!=typeof e){2>a&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return to(this,"style."+e,t,i)},Kl.styleTween=function(e,t,n){function r(r,i){var a=t.call(this,r,i,o(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Kl.text=function(e){return to(this,"text",e,no)},Kl.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Kl.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=ho.ease.apply(ho,arguments)),K(this,function(r){r[n][t].ease=e}))},Kl.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:K(this,"function"==typeof e?function(r,i,a){r[n][t].delay=+e.call(r,r.__data__,i,a)}:(e=+e,function(r){r[n][t].delay=e}))},Kl.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:K(this,"function"==typeof e?function(r,i,a){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,a))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Kl.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=ql,a=Vl;try{Vl=n,K(this,function(t,i,a){ql=t[r][n],e.call(t,t.__data__,i,a)})}finally{ql=i,Vl=a}}else K(this,function(i){var a=i[r][n];(a.event||(a.event=ho.dispatch("start","end","interrupt"))).on(e,t)});return this},Kl.transition=function(){for(var e,t,n,r,i=this.id,a=++Yl,o=this.namespace,s=[],l=0,c=this.length;c>l;l++){s.push(e=[]);for(var t=this[l],u=0,d=t.length;d>u;u++)(n=t[u])&&(r=n[o][i],io(n,u,o,a,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return eo(s,o,a)},ho.svg.axis=function(){function e(e){e.each(function(){var e,c=ho.select(this),u=this.__chart__||n,d=this.__chart__=n.copy(),p=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,h=null==t?d.tickFormat?d.tickFormat.apply(d,s):_:t,m=c.selectAll(".tick").data(p,d),f=m.enter().insert("g",".domain").attr("class","tick").style("opacity",$o),g=ho.transition(m.exit()).style("opacity",$o).remove(),v=ho.transition(m.order()).style("opacity",1),b=Math.max(i,0)+o,y=Yi(d),w=c.selectAll(".domain").data([0]),k=(w.enter().append("path").attr("class","domain"),ho.transition(w));f.append("line"),f.append("text");var E,x,C,S,T=f.select("line"),R=v.select("line"),A=m.select("text").text(h),N=f.select("text"),F=v.select("text"),M="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=ao,E="x",C="y",x="x2",S="y2",A.attr("dy",0>M?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+y[0]+","+M*a+"V0H"+y[1]+"V"+M*a)):(e=oo,E="y",C="x",x="y2",S="x2",A.attr("dy",".32em").style("text-anchor",0>M?"end":"start"),k.attr("d","M"+M*a+","+y[0]+"H0V"+y[1]+"H"+M*a)),T.attr(S,M*i),N.attr(C,M*b),R.attr(x,0).attr(S,M*i),F.attr(E,0).attr(C,M*b),d.rangeBand){var L=d,D=L.rangeBand()/2;u=d=function(e){return L(e)+D}}else u.rangeBand?u=d:g.call(e,d,u);f.call(e,u,d),v.call(e,d,d)})}var t,n=ho.scale.linear(),r=Xl,i=6,a=6,o=3,s=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Zl?t+"":Xl,e):r},e.ticks=function(){return arguments.length?(s=fo(arguments),e):s},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,a=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(){return arguments.length&&e},e};var Xl="bottom",Zl={top:1,right:1,bottom:1,left:1};ho.svg.brush=function(){function e(a){a.each(function(){var a=ho.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=a.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=a.selectAll(".resize").data(f,_);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Jl[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var l,d=ho.transition(a),p=ho.transition(o);c&&(l=Yi(c),p.attr("x",l[0]).attr("width",l[1]-l[0]),n(d)),u&&(l=Yi(u),p.attr("y",l[0]).attr("height",l[1]-l[0]),r(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+d[+/e$/.test(e)]+","+p[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",d[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function r(e){e.select(".extent").attr("y",p[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function i(){function i(){32==ho.event.keyCode&&(R||(y=null,F[0]-=d[1],F[1]-=p[1],R=2),A())}function f(){32==ho.event.keyCode&&2==R&&(F[0]+=d[1],F[1]+=p[1],R=0,A())}function g(){var e=ho.mouse(k),i=!1;w&&(e[0]+=w[0],e[1]+=w[1]),R||(ho.event.altKey?(y||(y=[(d[0]+d[1])/2,(p[0]+p[1])/2]),F[0]=d[+(e[0]<y[0])],F[1]=p[+(e[1]<y[1])]):y=null),S&&v(e,c,0)&&(n(x),i=!0),T&&v(e,u,1)&&(r(x),i=!0),i&&(t(x),_({type:"brush",mode:R?"move":"resize"}))}function v(e,t,n){var r,i,o=Yi(t),l=o[0],c=o[1],u=F[n],f=n?p:d,g=f[1]-f[0];return R&&(l-=u,c-=g+u),r=(n?m:h)?Math.max(l,Math.min(c,e[n])):e[n],R?i=(r+=u)+g:(y&&(u=Math.max(l,Math.min(c,2*y[n]-r))),r>u?(i=r,r=u):i=u),f[0]!=r||f[1]!=i?(n?s=null:a=null,f[0]=r,f[1]=i,!0):void 0}function b(){g(),x.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),ho.select("body").style("cursor",null),M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),N(),_({type:"brushend"})}var y,w,k=this,E=ho.select(ho.event.target),_=l.of(k,arguments),x=ho.select(k),C=E.datum(),S=!/^(n|s)$/.test(C)&&c,T=!/^(e|w)$/.test(C)&&u,R=E.classed("extent"),N=ee(k),F=ho.mouse(k),M=ho.select(o(k)).on("keydown.brush",i).on("keyup.brush",f);
if(ho.event.changedTouches?M.on("touchmove.brush",g).on("touchend.brush",b):M.on("mousemove.brush",g).on("mouseup.brush",b),x.interrupt().selectAll("*").interrupt(),R)F[0]=d[0]-F[0],F[1]=p[0]-F[1];else if(C){var L=+/w$/.test(C),D=+/^n/.test(C);w=[d[1-L]-F[0],p[1-D]-F[1]],F[0]=d[L],F[1]=p[D]}else ho.event.altKey&&(y=F.slice());x.style("pointer-events","none").selectAll(".resize").style("display",null),ho.select("body").style("cursor",E.style("cursor")),_({type:"brushstart"}),g()}var a,s,l=F(e,"brushstart","brush","brushend"),c=null,u=null,d=[0,0],p=[0,0],h=!0,m=!0,f=Ql[0];return e.event=function(e){e.each(function(){var e=l.of(this,arguments),t={x:d,y:p,i:a,j:s},n=this.__chart__||t;this.__chart__=t,Vl?ho.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,d=n.x,p=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=Cr(d,t.x),r=Cr(p,t.y);return a=s=null,function(i){d=t.x=n(i),p=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(c=t,f=Ql[!c<<1|!u],e):c},e.y=function(t){return arguments.length?(u=t,f=Ql[!c<<1|!u],e):u},e.clamp=function(t){return arguments.length?(c&&u?(h=!!t[0],m=!!t[1]):c?h=!!t:u&&(m=!!t),e):c&&u?[h,m]:c?h:u?m:null},e.extent=function(t){var n,r,i,o,l;return arguments.length?(c&&(n=t[0],r=t[1],u&&(n=n[0],r=r[0]),a=[n,r],c.invert&&(n=c(n),r=c(r)),n>r&&(l=n,n=r,r=l),(n!=d[0]||r!=d[1])&&(d=[n,r])),u&&(i=t[0],o=t[1],c&&(i=i[1],o=o[1]),s=[i,o],u.invert&&(i=u(i),o=u(o)),i>o&&(l=i,i=o,o=l),(i!=p[0]||o!=p[1])&&(p=[i,o])),e):(c&&(a?(n=a[0],r=a[1]):(n=d[0],r=d[1],c.invert&&(n=c.invert(n),r=c.invert(r)),n>r&&(l=n,n=r,r=l))),u&&(s?(i=s[0],o=s[1]):(i=p[0],o=p[1],u.invert&&(i=u.invert(i),o=u.invert(o)),i>o&&(l=i,i=o,o=l))),c&&u?[[n,i],[r,o]]:c?[n,r]:u&&[i,o])},e.clear=function(){return e.empty()||(d=[0,0],p=[0,0],a=s=null),e},e.empty=function(){return!!c&&d[0]==d[1]||!!u&&p[0]==p[1]},ho.rebind(e,l,"on")};var Jl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ql=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],ec=ys.format=Cs.timeFormat,tc=ec.utc,nc=tc("%Y-%m-%dT%H:%M:%S.%LZ");ec.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?so:nc,so.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},so.toString=nc.toString,ys.second=Ve(function(e){return new ws(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),ys.seconds=ys.second.range,ys.seconds.utc=ys.second.utc.range,ys.minute=Ve(function(e){return new ws(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),ys.minutes=ys.minute.range,ys.minutes.utc=ys.minute.utc.range,ys.hour=Ve(function(e){var t=e.getTimezoneOffset()/60;return new ws(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),ys.hours=ys.hour.range,ys.hours.utc=ys.hour.utc.range,ys.month=Ve(function(e){return e=ys.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),ys.months=ys.month.range,ys.months.utc=ys.month.utc.range;var rc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ic=[[ys.second,1],[ys.second,5],[ys.second,15],[ys.second,30],[ys.minute,1],[ys.minute,5],[ys.minute,15],[ys.minute,30],[ys.hour,1],[ys.hour,3],[ys.hour,6],[ys.hour,12],[ys.day,1],[ys.day,2],[ys.week,1],[ys.month,1],[ys.month,3],[ys.year,1]],ac=ec.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Dt]]),oc={range:function(e,t,n){return ho.range(Math.ceil(e/n)*n,+t,n).map(co)},floor:_,ceil:_};ic.year=ys.year,ys.scale=function(){return lo(ho.scale.linear(),ic,ac)};var sc=ic.map(function(e){return[e[0].utc,e[1]]}),lc=tc.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Dt]]);sc.year=ys.year.utc,ys.scale.utc=function(){return lo(ho.scale.linear(),sc,lc)},ho.text=Me(function(e){return e.responseText}),ho.json=function(e,t){return Le(e,"application/json",uo,t)},ho.html=function(e,t){return Le(e,"text/html",po,t)},ho.xml=Me(function(e){return e.responseXML}),this.d3=ho,r=ho,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(24),o=n(14),s=function(e){function t(t){var n=this;e.call(this,t),this.getOptions=function(e,t){var r=encodeURIComponent(e.trim());i.get("https://maps.googleapis.com/maps/api/geocode/json?address="+r+"&sensor=false").then(function(e){var r=a.chain(e.results).map(function(e){var t=a.bind(n.getAddressComponent,null,e.address_components),r=["locality","neighborhood","administrative_area_level_1","country"].map(t),i=r[0],o=r[1],s=r[2],l=r[3];return[o||i,s,l]}).filter(function(e){return e[0]&&e[2]}).map(function(e){var t=e.filter(Boolean).join(", ");return{value:t,label:t}}).value();t(null,{options:r,complete:!1})})},this.onChange=function(e){if(n.setState({value:e}),e&&e.value){var t=e.value.split(", "),r=2===t.length;r?n.props.onChange(t[0],null,t[1]):n.props.onChange(t[0],t[1],t[2])}else n.props.onChange(null,null,null)},this.state={value:[this.props.city,this.props.region,this.props.country].filter(Boolean).join(", ")}}return r(t,e),t.prototype.getAddressComponent=function(e,t){return(a.find(e,function(e){return a.some(e.types,function(e){return e===t})})||{}).long_name},t.prototype.render=function(){return React.createElement(o.Async,{placeholder:this.props.city?this.state.value:"City",name:"city",value:this.state.value,minimumInput:3,loadOptions:a.debounce(this.getOptions,250),onChange:this.onChange,filterOption:function(e,t){return e}})},t}(React.Component);t.CityLookup=s},function(e,t){"use strict";function n(e){for(var n=0,r=t.CountryList;n<r.length;n++){var i=r[n];if(e==i.value)return i.label}return null}t.getCountryNameByCode=n,t.CountryList=[{label:"Afghanistan",value:"AF"},{label:"Albania",value:"AL"},{label:"Algeria",value:"DZ"},{label:"American Samoa",value:"AS"},{label:"Andorra",value:"AD"},{label:"Angola",value:"AO"},{label:"Anguilla",value:"AI"},{label:"Antarctica",value:"AQ"},{label:"Antigua & Barbuda",value:"AG"},{label:"Argentina",value:"AR"},{label:"Armenia",value:"AM"},{label:"Aruba",value:"AW"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Azerbaijan",value:"AZ"},{label:"Bahamas",value:"BS"},{label:"Bahrain",value:"BH"},{label:"Bangladesh",value:"BD"},{label:"Barbados",value:"BB"},{label:"Belarus",value:"BY"},{label:"Belgium",value:"BE"},{label:"Belize",value:"BZ"},{label:"Benin",value:"BJ"},{label:"Bermuda",value:"BM"},{label:"Bhutan",value:"BT"},{label:"Bolivia",value:"BO"},{label:"Bosnia",value:"BA"},{label:"Botswana",value:"BW"},{label:"Bouvet Island",value:"BV"},{label:"Brazil",value:"BR"},{label:"British Indian Ocean Territory",value:"IO"},{label:"British Virgin Islands",value:"VG"},{label:"Brunei",value:"BN"},{label:"Bulgaria",value:"BG"},{label:"Burkina Faso",value:"BF"},{label:"Burundi",value:"BI"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Cape Verde",value:"CV"},{label:"Caribbean Netherlands",value:"BQ"},{label:"Cayman Islands",value:"KY"},{label:"Central African Republic",value:"CF"},{label:"Chad",value:"TD"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Christmas Island",value:"CX"},{label:"Cocos (Keeling) Islands",value:"CC"},{label:"Colombia",value:"CO"},{label:"Comoros",value:"KM"},{label:"Congo - Brazzaville",value:"CG"},{label:"Congo - Kinshasa",value:"CD"},{label:"Cook Islands",value:"CK"},{label:"Costa Rica",value:"CR"},{label:"Croatia",value:"HR"},{label:"Cuba",value:"CU"},{label:"Curaçao",value:"CW"},{label:"Cyprus",value:"CY"},{label:"Czech Republic",value:"CZ"},{label:"Côte d’Ivoire",value:"CI"},{label:"Denmark",value:"DK"},{label:"Djibouti",value:"DJ"},{label:"Dominica",value:"DM"},{label:"Dominican Republic",value:"DO"},{label:"Ecuador",value:"EC"},{label:"Egypt",value:"EG"},{label:"El Salvador",value:"SV"},{label:"Equatorial Guinea",value:"GQ"},{label:"Eritrea",value:"ER"},{label:"Estonia",value:"EE"},{label:"Ethiopia",value:"ET"},{label:"Falkland Islands",value:"FK"},{label:"Faroe Islands",value:"FO"},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"French Guiana",value:"GF"},{label:"French Polynesia",value:"PF"},{label:"French Southern Territories",value:"TF"},{label:"Gabon",value:"GA"},{label:"Gambia",value:"GM"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Gibraltar",value:"GI"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Grenada",value:"GD"},{label:"Guadeloupe",value:"GP"},{label:"Guam",value:"GU"},{label:"Guatemala",value:"GT"},{label:"Guernsey",value:"GG"},{label:"Guinea",value:"GN"},{label:"Guinea-Bissau",value:"GW"},{label:"Guyana",value:"GY"},{label:"Haiti",value:"HT"},{label:"Heard & McDonald Islands",value:"HM"},{label:"Honduras",value:"HN"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Ireland",value:"IE"},{label:"Isle of Man",value:"IM"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Jersey",value:"JE"},{label:"Jordan",value:"JO"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Kiribati",value:"KI"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Laos",value:"LA"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libya",value:"LY"},{label:"Liechtenstein",value:"LI"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Macau",value:"MO"},{label:"Macedonia",value:"MK"},{label:"Madagascar",value:"MG"},{label:"Malawi",value:"MW"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands",value:"MH"},{label:"Martinique",value:"MQ"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mayotte",value:"YT"},{label:"Mexico",value:"MX"},{label:"Micronesia",value:"FM"},{label:"Moldova",value:"MD"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montenegro",value:"ME"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:""},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands",value:"NL"},{label:"New Caledonia",value:"NC"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"Norfolk Island",value:"NF"},{label:"North Korea",value:"KP"},{label:"Northern Mariana Islands",value:"MP"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Palestine",value:"PS"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines",value:"PH"},{label:"Pitcairn Islands",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Qatar",value:"QA"},{label:"Romania",value:"RO"},{label:"Russia",value:"RU"},{label:"Rwanda",value:"RW"},{label:"Réunion",value:"RE"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Serbia",value:"RS"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Sint Maarten",value:"SX"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"South Georgia & South Sandwich Islands",value:"GS"},{label:"South Korea",value:"KR"},{label:"South Sudan",value:"SS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"St. Barthélemy",value:"BL"},{label:"St. Helena",value:"SH"},{label:"St. Kitts & Nevis",value:"KN"},{label:"St. Lucia",value:"LC"},{label:"St. Martin",value:"MF"},{label:"St. Pierre & Miquelon",value:"PM"},{label:"St. Vincent & Grenadines",value:"VC"},{label:"Sudan",value:"SD"},{label:"Suriname",value:"SR"},{label:"Svalbard & Jan Mayen",value:"SJ"},{label:"Swaziland",value:"SZ"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syria",value:"SY"},{label:"São Tomé & Príncipe",value:"ST"},{label:"Taiwan",value:"TW"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania",value:"TZ"},{label:"Thailand",value:"TH"},{label:"Timor-Leste",value:"TL"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad & Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks & Caicos Islands",value:"TC"},{label:"Tuvalu",value:"TV"},{label:"U.S. Outlying Islands",value:"UM"},{label:"U.S. Virgin Islands",value:"VI"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United States",value:"US"},{label:"United Kingdom",value:"GB"},{label:"United Arab Emirates",value:"AE"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Vatican City",value:"VA"},{label:"Venezuela",value:"VE"},{label:"Vietnam",value:"VN"},{label:"Wallis & Futuna",value:"WF"},{label:"Western Sahara",value:"EH"},{label:"Yemen",value:"YE"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"}]},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(3),a=n(48),o=n(44),s=n(32),l=n(7),c=n(6),u=n(12),d=function(e){function t(){e.apply(this,arguments),this.selectionGroups=[{label:"Competitions",value:"competitions"},{label:"Kernels",value:"kernels"},{label:"Discussion",value:"discussion"}]}return r(t,e),t.prototype.getRankText=function(e){return e.currentRanking?e.currentRanking:React.createElement("span",{className:"leaderboards__rank-text"},"unranked")},t.prototype.getCurrentCategory=function(){return this.category||this.props.group||this.selectionGroups[0].value},t.prototype.onSelectionsChanged=function(e,t){this.category=t},t.prototype.renderListHeaderCount=function(e,t){return React.createElement("div",{key:t,className:"leaderboards__list-header-count leaderboards__list-header-count--"+e.tier},React.createElement("img",{src:"/static/images/tiers/"+e.tier+"@96.png"}),React.createElement("div",null,React.createElement("div",null,a.numberWithCommas(e.count)),React.createElement("div",null,i(e.tier,e.count))))},t.prototype.renderListHeader=function(e,t){var n=t.data;return React.createElement("div",null,React.createElement("div",{className:"leaderboards__list-header"},n.counts.map(this.renderListHeaderCount)),React.createElement("div",{className:"leaderboards__item-wrapper leaderboards__item-wrapper--header"},React.createElement("div",{className:"leaderboards__rank"},"Rank"),React.createElement("div",{className:"leaderboards__tier"},"Tier"),React.createElement("div",{className:"leaderboards__avatar"},React.createElement("div",{className:"leaderboards__user-label"},"User")),React.createElement("div",{className:"leaderboards__name"}),React.createElement("div",{className:"leaderboards__medals"},React.createElement("div",{className:"leaderboards__medals-label"},"Medals")),React.createElement("div",{className:"leaderboards__points"},"Points")),n.userRanking&&(n.userRanking.currentRanking>5||!n.userRanking.currentRanking)?this.renderItem(n.userRanking,-1):null)},t.prototype.renderListFooter=function(e,t){var n=t.data,r=n.counts.filter(function(e){return["contributor","novice"].indexOf(e.tier)>=0}).reduce(function(e,t){return e.count+t.count});return React.createElement("div",null,React.createElement("div",{className:"leaderboards__list-footer"},a.numberWithCommas(r)," unranked Contributors and Novices"))},t.prototype.renderItem=function(e,t){return React.createElement(s.BlockLink,{key:t,href:e.userUrl},React.createElement("div",{className:"leaderboards__item-wrapper "+(e.userId===c.Current.userId?"leaderboards__item-wrapper--you":null)},React.createElement("div",{className:"leaderboards__rank"},this.getRankText(e)),React.createElement("div",{className:"leaderboards__tier"},React.createElement("img",{src:"/static/images/tiers/"+e.tier+"@96.png",title:e.tier})),React.createElement("div",{className:"leaderboards__avatar"},React.createElement("a",{href:e.userUrl},React.createElement("img",{src:e.thumbnailUrl}))),React.createElement("div",{className:"leaderboards__name"},React.createElement("p",null,React.createElement("a",{href:e.userUrl},e.displayName)),React.createElement("p",{className:"leaderboards__name-joined"},"joined ",React.createElement(l.TimeAgo,{time:e.joined}))),React.createElement("div",{className:"leaderboards__medals"},React.createElement("div",{className:"leaderboards__medal--gold"},React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/GoldL@1x.png"})),React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("span",null,e.totalGoldMedals))),React.createElement("div",{className:"leaderboards__medal--silver"},React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/SilverL@1x.png"})),React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("span",null,e.totalSilverMedals))),React.createElement("div",{className:"leaderboards__medal--bronze"},React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/BronzeL@1x.png"})),React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("span",null,e.totalBronzeMedals)))),React.createElement("div",{className:"leaderboards__points"},a.numberWithCommas(Math.round(e.points)))))},t.prototype.renderProgressionLink=function(){return React.createElement("a",{className:"leaderboards__learn-more-link",href:"/progression"},"Learn more about rankings ›")},t.prototype.render=function(){return React.createElement("div",{className:"leaderboards"},React.createElement(u.Banner,{isVisible:!0},"Kaggle Rankings"),React.createElement("div",{className:"leaderboards__wrapper"},React.createElement(o.SmartListContainer,{titleResolver:function(e,t){return a.numberWithCommas(t.data.totalUsers)+" users"},pluralItemDescription:"users",groups:this.selectionGroups,dataUrl:"/rankings.json",dataPathToList:"list",data:this.props,itemRenderer:this.renderItem.bind(this),listHeaderRenderer:this.renderListHeader.bind(this),listFooterRenderer:this.renderListFooter.bind(this),onSelectionsChanged:this.onSelectionsChanged.bind(this),titleBarRightSide:this.renderProgressionLink(),selectionGroupInTitle:!0,values:{group:this.props.group}})))},t}(React.Component);t.Leaderboards=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(191),o=n(42),s=/^(https?):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,l=function(e){function t(t){var n=this;e.call(this,t),this.onProfileEditingStateChanged=function(e){if(!n.state.isSaving){var t={isSaving:!1},r=!n.state["isEditing"+e];if(t["isEditing"+e]=r,r)return void n.setState(t);var a=n.getValidationPageMessages();if(o.PageMessages.clear(),o.PageMessages.add(a),!(a.length>0)){var s={city:n.state.city,country:n.state.country,displayName:n.state.displayName,gitHubUserName:n.state.gitHubUserName,linkedInUrl:n.state.linkedInUrl,region:n.state.region,slug:n.state.slug,thumbnailImageUrl:n.state.thumbnailImageUrl,twitterUserName:n.state.twitterUserName,websiteUrl:n.state.websiteUrl};n.setState({isSaving:!0},function(){n.props.isNew?(s.overview=n.state.overview,i.ajax({url:"/organizations",type:"POST",contentType:"application/json",data:JSON.stringify(s),success:function(e){n.setState({isSaving:!1}),window.location.replace("/"+n.state.slug)},error:function(e){n.setState({isSaving:!1}),o.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.',type:"error"});for(var t=0,r=JSON.parse(e.responseText);t<r.length;t++){var i=r[t];o.PageMessages.error(i.error)}}})):i.ajax({url:n.props.slug+".json",type:"PUT",contentType:"application/json",data:JSON.stringify(s),success:function(e){n.setState(t);var r="/"+n.state.slug;r!=window.location.pathname&&window.location.replace(r),o.PageMessages.success("Changes to your profile have been saved.")},error:function(e){n.setState(t),o.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.',type:"error"});for(var r=0,i=JSON.parse(e.responseText);r<i.length;r++){var a=i[r];o.PageMessages.error(a.error)}}})})}}},this.onProfileEditingStateCancelled=function(e,t){var r={},a={};r["isEditing"+e]=!1;for(var s=0,l=t;s<l.length;s++){var c=l[s];a[c]=n.props[c]}n.setState(i.extend({},r,a),function(){o.PageMessages.clear()})},this.onProfilePropChanged=function(e,t){var r={};r[e]=t,n.setState(r)},this.onTabClicked=function(e){n.setState({activeTab:e},function(){return n.updateUrlForTab(e)})},this.onOverviewSaveClicked=function(e){return i.ajax({type:"PUT",url:n.props.slug+"/overview",contentType:"application/json",processData:!1,data:JSON.stringify({overview:e})})},this.onUserAddClicked=function(){i.post("/"+n.props.slug+"/users",{userName:n.state.userInput.value}).done(function(e){n.setState({users:e.users}),n.state.userInput.value=""})},this.onUserInputElementMounted=function(e){n.setState({userInput:e})},this.onUserRemoveClicked=function(e){i.ajax({url:"/"+n.props.slug+"/users/"+e,type:"DELETE"}).done(function(e){n.setState({activeTab:e.activeTab,canEdit:e.canEdit,users:e.users}),n.setState({menuLinks:n.getMenuLinks()})})},this.getMenuLinks=function(){var e=[],t=function(e){return{href:"/"+("Home"==e?n.props.slug:n.props.slug)+"/"+e.toLowerCase(),title:e,text:e,tab:e.toLowerCase()}};if(e.push(t("Home")),!n.props.isNew){var r=n.state.canEdit;(r||n.props.competitions.length>0)&&e.push(t("Competitions")),(r||n.props.datasets.length>0)&&e.push(t("Datasets")),(r||n.state.users.length>0)&&e.push(t("People"))}return e},this.replaceUrlForTab=function(e){if(!n.props.isNew){var t=window.history.state||{},r="/"+n.props.slug;"home"!=e.toLowerCase()&&(r+="/"+e.toLowerCase()),history.replaceState(t,"",r)}},this.updateUrlForTab=function(e){if(!n.props.isNew){var t={};t.profileTabState={activeTab:e};var r="/"+n.props.slug;"home"!=e.toLowerCase()&&(r+="/"+e.toLowerCase()),history.pushState(t,"",r)}},this.onWindowPopState=function(e){e.state.profileTabState&&n.setState(e.state.profileTabState)},this.validationRules=[{isValid:function(){return n.state.displayName&&n.state.displayName.trim()},id:"organization-profile-no-name",message:function(){return"Please enter a display name."}},{isValid:function(){return n.state.displayName&&n.state.displayName.trim().length>=2&&n.state.displayName.trim().length<=50},id:"organization-profile-display-name-length",message:function(){return"Your display name must be between 2 and 50 characters in length."}},{isValid:function(){return!n.state.websiteUrl||s.test(n.state.websiteUrl)},id:"organization-profile-website-format",message:function(){return"Please enter a valid website URL."}},{isValid:function(){return!n.state.linkedInUrl||s.test(n.state.linkedInUrl)},id:"organization-profile-linkedin-format",message:function(){return"Please enter a valid LinkedIn URL."}},{isValid:function(){return n.state.thumbnailImageUrl&&n.state.thumbnailImageUrl.trim()},id:"organization-profile-no-thumbnail",message:function(){return"Please select a profile photo."}},{isValid:function(){return n.state.slug===n.props.slug||n.state.slug&&n.state.slug.trim()&&(n.props.isAdmin||n.state.slug.length>=6&&n.state.slug.length<=20)},id:"organization-profile-no-slug",message:function(){return"Please enter a permanent URL between 6 and 20 characters."}}],this.onOpenImageUploader=function(){n.setState({isEditingImage:!0})},this.onCloseImageUploader=function(){n.setState({isEditingImage:!1})},this.onUpdateImages=function(e,t){e.append("imageLeft",t[0].left),e.append("imageTop",t[0].top),e.append("imageWidth",t[0].width),e.append("imageHeight",t[0].height);var r=n.props.isNew?"/organizations/images":n.props.slug+"/image";return i.ajax({url:r,type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){i("body").css({overflow:"visible"}),i("html").css("overflow","visible"),n.setState({isEditingImage:!1,thumbnailImageUrl:e.thumbnailImageUrl+"?r="+(new Date).getMilliseconds()}),o.PageMessages.success("The organization's profile image has been updated.")}})};var r,a=t.canEdit;switch(null==t.activeTab?"home":t.activeTab.toLowerCase()){case"competitions":r=a||t.competitions.length>0?"competitions":"home";break;case"datasets":r=a||t.datasets.length>0?"datasets":"home";break;case"people":r=a||t.users.length>0?"people":"home";break;default:r="home"}this.replaceUrlForTab(r),this.state=i.extend({},this.props,{activeTab:r,canEdit:this.props.canEdit,isSaving:!1,users:this.props.users}),this.state.menuLinks=this.getMenuLinks(),this.helpers={onCloseImageUploader:this.onCloseImageUploader,onOpenImageUploader:this.onOpenImageUploader,onOverviewSaveClicked:this.onOverviewSaveClicked,onProfileEditingStateCancelled:this.onProfileEditingStateCancelled,onProfileEditingStateChanged:this.onProfileEditingStateChanged,onProfilePropChanged:this.onProfilePropChanged,onTabClicked:this.onTabClicked,onUpdateImages:this.onUpdateImages,onUserAddClicked:this.onUserAddClicked,onUserInputElementMounted:this.onUserInputElementMounted,onUserRemoveClicked:this.onUserRemoveClicked}}return r(t,e),t.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},t.prototype.render=function(){return React.createElement(a.OrganizationProfile,i.extend({},this.props,this.state,this.helpers))},t.prototype.getValidationPageMessages=function(e){var t=[];return this.validationRules.forEach(function(n){var r=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&r||!n.isValid()&&r&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},t}(React.Component);t.OrganizationProfileContainer=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(32),o=n(41),s=n(187),l=n(46),c=n(5),u=n(145),d=n(43),p=n(192),h=n(47),m=n(193),f=n(83),g=n(7),v=n(194),b=function(e){function t(t){var n=this;e.call(this,t),this.renderCompetitionTeaserItem=function(e,t){return n.renderTeaserItem(e.competitionUrl,e.thumbnailImageUrl,e.competitionTitle,e.deadline,t)},this.renderDatasetTeaserItem=function(e,t){return n.renderTeaserItem(e.datasetUrl,e.cardImageUrl,e.title,e.dateUpdated,t)},this.renderPersonTeaserItem=function(e,t){return n.renderTeaserItem("."+e.slug,e.imageUrl,e.name,e.joinDate,t)}}return r(t,e),t.prototype.renderActiveTab=function(){switch(this.props.activeTab.toLowerCase()){case"home":return this.renderHome();case"competitions":return this.renderCompetitions();case"datasets":return this.renderDatasets();case"people":return this.renderPeople();default:return null}},t.prototype.renderTeaserItem=function(e,t,n,r,i){return React.createElement(a.BlockLink,{href:e,key:i},React.createElement("div",{className:"organization-profile__home-teaser-item"},React.createElement("div",null,React.createElement("img",{src:t,title:n,className:"organization-profile__home-teaser-thumbnail"})),React.createElement("div",{className:"organization-profile__home-teaser-title"},React.createElement("div",null,React.createElement("a",{href:e},n)),React.createElement("div",{className:"organization-profile__home-teaser-time"},React.createElement(g.TimeAgo,{time:r,futureDateMessage:"In progress"})))))},t.prototype.renderHome=function(){var e=this;return React.createElement("div",{className:"organization-profile__profile-wrapper"},React.createElement("div",{className:"organization-profile__profile-row"},this.props.canEditSlug?React.createElement("div",{className:"organization-profile__power-settings"},React.createElement(c.ContentBox,{title:this.props.isNew?"Choose a Permanent URL":"Power settings"},React.createElement("section",{className:"organization-profile__section"},"https://www.kaggle.com/",this.props.isEditingHeader?React.createElement(d.InlineTextEditor,{className:"organization-profile__inline-slug-editor",value:this.props.slug,rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(t){return e.props.onProfilePropChanged("slug",t)}}):this.props.slug))):null,React.createElement("div",{className:"organization-profile__description"},React.createElement(p.MarkdownContentBox,{
content:this.props.overview,canEdit:this.props.canEdit&&!this.props.isNew,contentBoxTitle:"About "+(this.props.isNew?"your organization":this.props.displayName),contentClassName:"organization-profile__description-content",isEditing:this.props.isNew,onChangeCallback:this.props.isNew?function(t){return e.props.onProfilePropChanged("overview",t)}:null,onSaveClicked:this.props.isNew?null:this.props.onOverviewSaveClicked})),this.props.users&&this.props.users.length>0?React.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--people"},React.createElement(c.ContentBox,{title:React.createElement(h.Pluralize,{count:this.props.users.length,word:"people"}),onTitleClick:function(){return e.props.onTabClicked("people")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement("div",{className:"organization-profile__home-teaser-wrapper"},React.createElement(f.TeaserList,{minItemHeight:1,listItems:this.props.users.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderPersonTeaserItem})))):null),React.createElement("div",{className:"organization-profile__profile-row"},this.props.competitions&&this.props.competitions.length>0?React.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--competitions"},React.createElement(c.ContentBox,{title:React.createElement(h.Pluralize,{count:this.props.competitions.length,word:"competition"}),onTitleClick:function(){return e.props.onTabClicked("competitions")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement("div",{className:"organization-profile__home-teaser-wrapper"},React.createElement(f.TeaserList,{minItemHeight:1,listItems:this.props.competitions.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderCompetitionTeaserItem})))):null,this.props.datasets&&this.props.datasets.length>0?React.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--datasets"},React.createElement(c.ContentBox,{title:React.createElement(h.Pluralize,{count:this.props.datasets.length,word:"dataset"}),onTitleClick:function(){return e.props.onTabClicked("datasets")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement("div",{className:"organization-profile__home-teaser-wrapper"},React.createElement(f.TeaserList,{minItemHeight:1,listItems:this.props.datasets.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderDatasetTeaserItem})))):null))},t.prototype.renderCompetitions=function(){return React.createElement(c.ContentBox,{title:React.createElement(h.Pluralize,{count:this.props.competitions.length,word:"competition"})},this.props.competitions.map(function(e,t){return React.createElement(l.CompetitionCard,{key:t,competition:e})}))},t.prototype.renderDatasets=function(){return React.createElement(c.ContentBox,{title:React.createElement(h.Pluralize,{count:this.props.datasets.length,word:"dataset"})},this.props.datasets.map(function(e,t){return React.createElement(u.DatasetListItem,{key:t,dataset:e,hideOwnerAvatar:!0})}),this.props.canEdit?React.createElement("div",{className:"dataset-list-item organization-profile__new-dataset-container"},React.createElement(o.Button,{href:"/datasets/new?owner="+this.props.slug,text:"Create new dataset"})):null)},t.prototype.renderPeople=function(){var e=this;return React.createElement(c.ContentBox,{title:React.createElement(h.Pluralize,{count:this.props.users.length,word:"person"})},React.createElement("div",{className:"organization-profile__user-cards"},this.props.users.map(function(t){return React.createElement(v.UserCard,i({},t,{canEdit:e.props.canEdit,onRemoveClicked:e.props.onUserRemoveClicked,key:t.slug}))}),this.props.canEdit?React.createElement("div",{className:"organization-profile__user-editor"},React.createElement("i",{className:"organization-profile__user-editor-image fa fa-user"}),React.createElement("div",{className:"organization-profile__user-editor-info"},React.createElement("span",{className:"organization-profile__user-editor-header"},"Add a person to this organization"),React.createElement("input",{className:"organization-profile__user-editor-input",placeholder:"Enter username",ref:this.props.onUserInputElementMounted,type:"text"}),React.createElement("span",{className:"organization-profile__user-editor-button"},React.createElement(o.Button,{isSmall:!0,onClick:this.props.onUserAddClicked,text:"Add person"})))):null))},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"organization-profile"},React.createElement(m.ProfileHeader,{modifier:"organization",displayName:this.props.displayName,avatarUrl:this.props.thumbnailImageUrl?this.props.thumbnailImageUrl:"https://i0.wp.com/kaggle2.blob.core.windows.net/avatars/thumbnails/default-thumb.png?ssl=1",twitterUserName:this.props.twitterUserName,gitHubUserName:this.props.gitHubUserName,linkedInUrl:this.props.linkedInUrl,websiteUrl:this.props.websiteUrl,activeTab:this.props.activeTab,menuLinks:this.props.menuLinks,onProfilePropChanged:this.props.onProfilePropChanged,onProfileTabChanged:function(t){return e.props.onTabClicked(t)},rightThumbnailUrl:"/static/images/profile-organization.svg",rightThumbnailLabel:"Organization",hideWebsiteUrl:!0,canEdit:this.props.canEdit,isEditingHeader:this.props.isEditingHeader,isEditingImage:this.props.isEditingImage,onOpenImageUploader:this.props.onOpenImageUploader,onCloseImageUploader:this.props.onCloseImageUploader,onUpdateImages:this.props.onUpdateImages,renderAdminCallToAction:function(){return e.props.isEditingHeader?React.createElement("div",{className:"organization-profile__cta-area"},e.props.isNew||e.props.isSaving?null:React.createElement("a",{className:"organization-profile__editing-cancel",onClick:function(){return e.props.onProfileEditingStateCancelled("Header",["city","country","displayName","gitHubUserName","linkedInUrl","region","thumbnailImageUrl","twitterUserName","websiteUrl"])}},"cancel"),React.createElement("a",{className:e.props.isSaving?"organization-profile__save-button pageheader__calltoaction--muted":"pageheader__calltoaction--active",onClick:function(){return e.props.onProfileEditingStateChanged("Header")},title:"Save Profile"},"Save Profile")):React.createElement("div",{className:"organization-profile__cta-area"},React.createElement("a",{className:"pageheader__calltoaction",onClick:function(){return e.props.onProfileEditingStateChanged("Header")},title:"Edit Profile"},"Edit Profile"))}},this.props.canEdit&&this.props.isEditingHeader?React.createElement("div",null,React.createElement("div",{className:"organization-profile__country-select"},React.createElement(s.CityLookup,{city:this.props.city,region:this.props.region,country:this.props.country,onChange:function(t,n,r){e.props.onProfilePropChanged("city",t),e.props.onProfilePropChanged("region",n),e.props.onProfilePropChanged("country",r)}}))):React.createElement("div",null,this.props.city?React.createElement("span",{className:"organization-profile__info"},this.props.city):null,React.createElement("span",{className:"organization-profile__info"},"Joined ",React.createElement(g.TimeAgo,{time:this.props.joinDate})),React.createElement("span",{className:"organization-profile__info"},React.createElement("a",{href:this.props.websiteUrl,rel:"nofollow",className:"organization-profile__website-url"},this.props.websiteUrl)))),React.createElement("div",{className:"organization-profile__wrapper"},this.renderActiveTab()))},t}(React.Component);t.OrganizationProfile=b},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=n(78),o=n(61),s=n(137),l=function(e){function t(t){var n=this;e.call(this,t),this.onContentChanged=function(e){n.editingContent=e,n.props.onChangeCallback&&n.props.onChangeCallback(e)},this.onToggleClicked=function(){var e=n.state.isEditing;e&&n.props.onSaveClicked?n.props.onSaveClicked(n.editingContent).then(function(){n.setState({isEditing:!1,content:n.editingContent})}):n.setState({isEditing:!0})},this.onCancelClicked=function(){n.setState({isEditing:!1})},this.renderEditButton=function(){return n.props.canEdit?React.createElement(a.EditStateToggleButton,{sectionName:"Description",cancelPropName:"description",isEditing:n.state.isEditing,toggleCallback:n.onToggleClicked,cancelCallback:n.onCancelClicked}):null},this.renderMarkdownEditor=function(){return React.createElement("div",{className:"markdown-content-box__editor"},React.createElement(o.MarkdownEditor,{defaultValue:n.state.content,alwaysShowToolbar:!0,hidePreview:!0,shouldSanitizeHtml:!0,minRows:3,onChangeCallback:n.onContentChanged}))},this.renderMarkdownConverter=function(){return React.createElement("div",{className:"markdown-content-box__converter"},React.createElement(s.MarkdownConverter,{content:n.state.content,mimeType:n.props.mimeType,insertNofollow:!0,contentClassName:n.props.contentClassName}))},this.renderContentBody=function(){return n.state.isEditing?n.renderMarkdownEditor():n.renderMarkdownConverter()},this.state={isEditing:this.props.isEditing,content:this.props.content}}return r(t,e),t.prototype.render=function(){return React.createElement(i.ContentBox,{title:this.props.contentBoxTitle,titleBarRightSide:this.renderEditButton()},this.renderContentBody())},t}(React.Component);t.MarkdownContentBox=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(51),a=n(43),o=n(28),s=n(29),l=n(79),c=n(55),u=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.renderDisplayName=function(){var e=this;return this.props.isEditingHeader&&this.props.canEdit?React.createElement(a.InlineTextEditor,{className:"profile-header__display-name--input",value:this.props.displayName,placeholder:"Enter display name",onChangeCallback:function(t){return e.props.onProfilePropChanged("displayName",t)}}):React.createElement("span",null,this.props.displayName," ",this.props.genieUrl?React.createElement("a",{href:this.props.genieUrl,className:"profile__genie-link"},"Genie!"):null)},t.prototype.renderSocialLinks=function(){var e=this;return this.props.isEditingHeader?React.createElement("ul",{className:"profile__social-links--editing"},React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-github"}),React.createElement(a.InlineTextEditor,{className:"profile__social-link--input",value:this.props.gitHubUserName,placeholder:"GitHub Username",onChangeCallback:function(t){return e.props.onProfilePropChanged("gitHubUserName",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-twitter"}),React.createElement(a.InlineTextEditor,{className:"profile__social-link--input",value:this.props.twitterUserName,placeholder:"Twitter Username",onChangeCallback:function(t){return e.props.onProfilePropChanged("twitterUserName",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-linkedin"}),React.createElement(a.InlineTextEditor,{className:"profile__social-link--input",value:this.props.linkedInUrl,placeholder:"LinkedIn URL",onChangeCallback:function(t){return e.props.onProfilePropChanged("linkedInUrl",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-globe"}),React.createElement(a.InlineTextEditor,{className:"profile__social-link--input",value:this.props.websiteUrl,placeholder:"Website URL",onChangeCallback:function(t){return e.props.onProfilePropChanged("websiteUrl",t)}}))):React.createElement("ul",{className:"profile__social-links"},this.props.gitHubUserName&&this.props.gitHubUserName.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:"https://github.com/"+this.props.gitHubUserName,rel:"nofollow"},React.createElement("span",{className:"fa fa-github"}))):null,this.props.twitterUserName&&this.props.twitterUserName.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:"https://twitter.com/"+this.props.twitterUserName,rel:"nofollow"},React.createElement("span",{className:"fa fa-twitter"}))):null,this.props.linkedInUrl&&this.props.linkedInUrl.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:this.props.linkedInUrl,rel:"nofollow"},React.createElement("span",{className:"fa fa-linkedin"}))):null,this.props.websiteUrl&&this.props.websiteUrl.length&&!this.props.hideWebsiteUrl?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:this.props.websiteUrl,className:"profile__social-link--url",rel:"nofollow"},this.props.websiteUrl)):null)},t.prototype.renderAvatarOverlay=function(){var e=React.createElement(l.ImageUploader,{title:"Upload Organization Profile Image",imageSettings:[new l.ImageSetting("profile image","Select an area of the image to use for this organization's profile",new l.Size(200,200),new l.Rectangle(new l.Point(0,0),new l.Size(0,0)))],originalImageUrl:null,containerSize:new l.Size(500,300),selectorBorderWidth:1,onCancel:this.props.onCloseImageUploader,onUpdateImages:this.props.onUpdateImages,hiResScale:2}),t=React.createElement(c.Modal,{buttonClassName:"pageheader__imageuploaderbutton",modalClassName:"pageheader__imageuploadermodal",modalContent:e,modalIsShown:this.props.isEditingImage,onShow:this.props.onOpenImageUploader,onClose:this.props.onCloseImageUploader});return React.createElement("div",{className:"profile__avatar-overlay"},t,React.createElement("p",{className:"profile__avatar-text",onClick:this.props.onOpenImageUploader},"Change Organization Profile Photo"))},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"profile-header"},React.createElement("div",{className:"profile-header__header--"+this.props.modifier},React.createElement(i.PageHeader,null,React.createElement(i.PageHeaderTopRow,{modifier:"profile",title:this.renderDisplayName(),subtitle:"",isEditingHeaderInfo:this.props.isEditingHeader,canEdit:this.props.canEdit,titleUrl:null},React.createElement(i.PageHeaderThumbnail,{classNameElement:"avatar",classNameModifier:"profile",imageUrl:this.props.avatarUrl,targetUrl:"",thumbnailOverlay:this.props.isEditingHeader?this.renderAvatarOverlay():null}),React.createElement(s.MediaQuery,{minWidth:s.Breakpoints.tabletMax},React.createElement("div",{className:"profile-header__right-thumbnail profile-header__right-thumbnail--"+this.props.modifier},React.createElement("a",{href:this.props.rightThumbnailLinkUrl},React.createElement("p",null,React.createElement("img",{src:this.props.rightThumbnailUrl,height:"92px",width:"92px"})),React.createElement("p",null,this.props.rightThumbnailLabel)))),React.createElement("div",{className:"profile-header__metadata"},this.props.children),this.renderSocialLinks()))),React.createElement("div",{className:"profile__wrapper"},React.createElement(i.PageHeaderBottomRow,null,React.createElement(o.OverflowX,null,React.createElement(i.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"profile",menuLinks:this.props.menuLinks,changeActiveTab:function(t){return e.props.onProfileTabChanged(t)}}),React.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},this.props.canEdit?this.props.renderAdminCallToAction():null)))))},t}(React.Component);t.ProfileHeader=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(32),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this;return React.createElement(i.BlockLink,{className:"organization-user-card",href:this.props.slug},React.createElement("img",{className:"organization-user-card__image",src:this.props.imageUrl,alt:this.props.name}),React.createElement("div",{className:"organization-user-card__info"},React.createElement("span",{className:"organization-user-card__name"},this.props.name,this.props.canEdit?React.createElement("a",{className:"organization-user-card__remove-link",onClick:function(){return e.props.onRemoveClicked(e.props.id)}},React.createElement("i",{className:"fa fa-remove"}),"  Remove"):null),React.createElement("span",{className:"organization-user-card__title"},this.props.occupation?this.props.organization?this.props.occupation+" at "+this.props.organization:this.props.occupation:""),React.createElement("span",{className:"organization-user-card__location"},this.props.location?this.props.location:"")))},t}(React.Component);t.UserCard=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(196),a=function(e){function t(t){e.call(this,t),this.state=this.props}return r(t,e),t.prototype.render=function(){return React.createElement(i.Newsfeed,this.state)},t}(React.Component);t.NewsfeedContainer=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(44),o=n(5),s=n(197),l=n(32),c=n(7),u=n(34),d=n(198),p=n(199),h=n(200),m=n(201),f=n(202),g=n(203),v=n(204),b=n(205),y=n(206),w=n(207),k=n(208),E=n(209),_=(n(4),function(e){function t(){var t=this;e.apply(this,arguments),this.renderStoryContent=function(e){switch(e.storyType){case"blogPost":return React.createElement(p.NewsfeedBlog,i({},e));case"forumMessage":case"datasetMessage":case"competitionMessage":case"kernelMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return React.createElement(g.NewsfeedMessage,i({},e));case"kernel":case"kernelRun":return React.createElement(f.NewsfeedKernel,i({},e));case"competitionStarted":case"competitionEnded":case"competitionFinalized":return React.createElement(h.NewsfeedCompetition,i({},e));case"dataset":case"datasetVersion":return React.createElement(m.NewsfeedDataset,i({},e));case"blogPost":return React.createElement(p.NewsfeedBlog,i({},e));default:return null}},this.renderStory=function(e,n){return React.createElement("div",{className:"newsfeed__story-container",key:n},"kernel"!=e.storyType&&"kernelRun"!=e.storyType||e.kernel.kernelVisualizationUrl?React.createElement("div",{className:"newsfeed__story"},React.createElement(d.NewsfeedStoryHeader,i({},e)),React.createElement("div",{className:"newsfeed__story-content"},t.renderStoryContent(e))):React.createElement(d.NewsfeedStoryHeader,i({},e,{borderless:!0})))}}return r(t,e),t.prototype.getStoryLink=function(e){switch(e.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return e.discussion.topicUrl;case"kernelMessage":case"kernel":case"kernelRun":return e.kernel.kernelUrl;case"competitionStarted":case"competitionEnded":case"competitionFinalized":return e.competition.competitionUrl;case"dataset":case"datasetVersion":return e.dataset.datasetUrl;case"blogPost":return e.blog.blogUrl;default:return null}},t.prototype.render=function(){return React.createElement("div",{className:"newsfeed"},React.createElement("div",{className:"newsfeed__header"},React.createElement("div",{className:"newsfeed__header-title"},"Welcome to your new homepage"),React.createElement("div",{className:"newsfeed__header-content"},"We're beta testing a new homepage that's focused on a personalized newsfeed of activity on Kaggle."),React.createElement("div",{className:"newsfeed__header-content"},"Please let us know any feedback you have through the ",React.createElement("a",{href:"/forums/f/809/product-feedback"},"Product Feedback Forum")," or by emailing ",React.createElement("a",{href:"mailto:ben@kaggle.com"},"ben@kaggle.com"),".")),React.createElement("div",{className:"newsfeed__main-content"},React.createElement("div",{className:"newsfeed__story-list"},React.createElement(a.SmartListContainer,{dataUrl:"/newsfeed.json",data:this.props,dataPathToList:"stories",pluralItemDescription:"stories",itemRenderer:this.renderStory.bind(this),isUnstyled:!0,pageSize:10})),React.createElement("div",{className:"newsfeed__sidebar-list"},React.createElement(o.ContentBox,null,React.createElement(l.BlockLink,{href:this.props.userUrl,className:"newsfeed__profile"},React.createElement(u.Avatar,{tier:this.props.userTier,width:50,thumbnailUrl:this.props.avatarUrl,displayName:this.props.userName,userUrl:this.props.userUrl}),React.createElement("div",{className:"newsfeed__profile-info"},React.createElement("div",{className:"newsfeed__profile-name"},React.createElement("a",{href:this.props.userUrl},this.props.userName)),React.createElement("div",{className:"newsfeed__profile-label"},"Joined ",React.createElement(c.TimeAgo,{time:this.props.userJoinDate})))),React.createElement("div",{className:"newsfeed__progression"},React.createElement(v.NewsfeedProgression,i({},this.props.progression)))),null!=this.props.banneredJob?React.createElement(o.ContentBox,null,React.createElement(l.BlockLink,{href:this.props.banneredJob.postUrl,className:"newsfeed__bannered-job",borderless:!0},React.createElement("div",null,React.createElement("img",{src:this.props.banneredJob.imageUrl,className:"newsfeed__bannered-job-image"})),React.createElement("div",{className:"newsfeed__bannered-job-text"},React.createElement("div",{className:"newsfeed__bannered-job-company"},this.props.banneredJob.company," is hiring"),React.createElement("div",{className:"newsfeed__bannered-job-position"},this.props.banneredJob.position),React.createElement("div",{className:"newsfeed__bannered-job-location"},React.createElement("span",{className:"fa fa-map-marker"})," ",this.props.banneredJob.location)))):null,React.createElement(s.SidebarContent,{title:"my"==this.props.competitionSidebarType?"My Competitions":"Recommended Competitions"},React.createElement("div",{className:"newsfeed__competitions-sidebar"},this.props.competitionSidebarList.map(function(e,t){return React.createElement(b.NewsfeedCompetitionSidebar,i({},e,{key:t}))}))),React.createElement(s.SidebarContent,{title:"recent"==this.props.datasetSidebarType?"Recent Datasets":"Recommended Datasets"},React.createElement("div",{className:"newsfeed__datasets-sidebar"},this.props.datasetSidebarList.map(function(e,t){return React.createElement(y.NewsfeedDatasetSidebar,i({},e,{key:t}))}))),React.createElement(s.SidebarContent,{title:"my"==this.props.kernelSidebarType?"My Kernels":"Recommended Kernels"},React.createElement("div",{className:"newsfeed__datasets-sidebar"},this.props.kernelSidebarList.map(function(e,t){return React.createElement(w.NewsfeedKernelSidebar,i({},e,{key:t}))}))),React.createElement(s.SidebarContent,{title:"recent"==this.props.topicSidebarType?"Recent Topics":"Recommended Topics"},React.createElement("div",{className:"newsfeed__discuttions-sidebar"},this.props.topicSidebarList.map(function(e,t){return React.createElement(E.NewsfeedTopicSidebar,i({},e,{key:t}))}))),React.createElement(s.SidebarContent,{title:"Recent Jobs",titleRightText:"See all jobs",titleRightHref:"/jobs"},React.createElement("div",{className:"newsfeed__jobs-sidebar"},this.props.jobsBoardSidebarList.map(function(e,t){return React.createElement(k.NewsfeedJobSidebar,i({},e,{key:t}))}))))))},t}(React.Component));t.Newsfeed=_},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return React.createElement("div",{className:"sidebar-content"},this.props.title?React.createElement("div",{className:"sidebar-content__title-container"},React.createElement("div",{className:"sidebar-content__title"},this.props.title),this.props.titleRightText?React.createElement("div",{className:"sidebar-content__title-right"},this.props.titleRightHref?React.createElement("a",{href:this.props.titleRightHref},this.props.titleRightText):this.props.titleRightText):null):null,React.createElement("div",{className:"sidebar-content__content"},this.props.children),this.props.footerText?React.createElement("div",{className:"sidebar-content__footer"},this.props.footerHref?React.createElement("a",{href:this.props.footerHref},this.props.footerText):this.props.footerText):null)},t}(React.Component);t.SidebarContent=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(7),a=n(34),o=n(23),s=n(47),l=n(4),c=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.renderLink=function(e,t){return React.createElement("a",{href:e},t)},t.prototype.renderActionText=function(){switch(this.props.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":return React.createElement("span",null," replied to ",this.renderLink(this.props.discussion.messageUrl,this.props.discussion.topicName));case"forumTopic":case"datasetTopic":case"competitionTopic":return React.createElement("span",null," created topic ",this.renderLink(this.props.discussion.topicUrl,this.props.discussion.topicName));case"kernelMessage":return React.createElement("span",null," commented on kernel ",this.renderLink(this.props.discussion.messageUrl,this.props.kernel.kernelName));case"competitionStarted":return React.createElement("span",null," launched competition ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"competitionEnded":return React.createElement("span",null,"'s competition concluded ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"competitionFinalized":return React.createElement("span",null,"'s competition finalized ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"kernel":case"kernelRun":return React.createElement("span",null," ran kernel ",this.renderLink(this.props.kernel.kernelUrl,this.props.kernel.kernelName));case"dataset":return React.createElement("span",null," posted new dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle));case"datasetVersion":return React.createElement("span",null," updated dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle));case"blogPost":return React.createElement("span",null," posted blog ",this.renderLink(this.props.blog.blogUrl,this.props.blog.blogTitle));default:return null}},t.prototype.renderGrandParentText=function(){switch(this.props.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return React.createElement("span",null," in ",this.renderLink(this.props.discussion.forumUrl,this.props.discussion.forumName),React.createElement("span",null," ∙ "),this.renderLink(this.props.comments.commentsUrl,React.createElement(s.Pluralize,{count:this.props.comments.commentCount,word:"comments"})));case"kernel":case"kernelRun":return React.createElement("span",null," on ",this.props.competition.competitionName?React.createElement("span",null,"competition ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName)):React.createElement("span",null,"dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle)),React.createElement("span",null," ∙ "),this.renderLink(this.props.comments.commentsUrl,React.createElement(s.Pluralize,{count:this.props.comments.commentCount,word:"comments"})));default:return null}},t.prototype.render=function(){return React.createElement("div",{className:l("newsfeed-story-header",this.props.borderless?"newsfeed-story-header--borderless":"newsfeed-story-header--bordered")},this.props.vote?React.createElement("div",{className:"newsfeed-story-header__vote-button-container"},React.createElement(o.VoteButton,{voteUpUrl:this.props.vote.upvoteUrl,canDownvote:this.props.vote.canDownvote,canUpvote:this.props.vote.canUpvote,hasAlreadyVotedUp:this.props.vote.hasAlreadyUpvoted,hasAlreadyVotedDown:this.props.vote.hasAlreadyDownvoted,totalVotes:this.props.vote.voteCount,voteDownUrl:this.props.vote.downvoteUrl})):null,React.createElement("div",{className:l("newsfeed-story-header__avatar-container",this.props.vote?null:"newsfeed-story-header__avatar-container--no-voting")},React.createElement(a.Avatar,{tier:this.props.user.userTier,displayName:this.props.user.userDisplayName,thumbnailUrl:this.props.user.userAvatarUrl,userUrl:this.props.user.userUrl})),React.createElement("div",{className:"newsfeed-story-header__text-container"},React.createElement("div",{className:"newsfeed-story-header__label"},React.createElement("a",{href:this.props.user.userUrl},this.props.user.userDisplayName),this.renderActionText()),React.createElement("div",{className:"newsfeed-story-header__sublabel"},React.createElement(i.TimeAgo,{time:this.props.date}),this.renderGrandParentText())))},t}(React.Component);t.NewsfeedStoryHeader=c},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-blog"},React.createElement("img",{className:"newsfeed-blog__image",src:this.props.blog.blogImageUrl}),React.createElement("div",{className:"newsfeed-blog__summary",dangerouslySetInnerHTML:{__html:this.props.blog.blogSummary}}))},t}(React.Component);t.NewsfeedBlog=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(174),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-competition"},React.createElement("div",{className:"newsfeed-competition__content"},React.createElement("img",{src:this.props.competition.competitionImageUrl,className:"newsfeed-competition__image"}),React.createElement("div",{className:"newsfeed-competition__content-text-container"},React.createElement("a",{className:"newsfeed-competition__content-title",href:this.props.competition.competitionUrl},this.props.competition.competitionName),React.createElement("div",{className:"newsfeed-competition__content-overview"},this.props.competition.competitionOverview))),"competitionStarted"!=this.props.storyType?React.createElement("div",{className:"newsfeed-competition__results-container"},React.createElement("div",{className:"newsfeed-competition__results-label"},"competitionEnded"==this.props.storyType?"Perliminary Results":"Final Results"),this.props.competition.teams.map(function(e){return React.createElement("div",{className:"newsfeed-competition__results-team-container"},React.createElement("div",{className:"newsfeed-competition__results-team-rank"
},React.createElement(i.FormatPlace,{number:e.rank})),1==e.users.length?React.createElement("a",{className:"newsfeed-competition__results-team-link",href:e.users[0].url},e.users[0].name):React.createElement("div",{className:"newsfeed-competition__results-team-group"},e.name," ",React.createElement("span",{className:"newsfeed-competition__results-team-user-list"},"(",e.users.map(function(t,n){return React.createElement("span",null,React.createElement("a",{className:"newsfeed-competition__results-team-user",href:t.url},t.name),n<e.users.length-1?", ":"")}),")")))}),"competitionEnded"==this.props.storyType?React.createElement("div",{className:"newsfeed-competition__preliminary-label"},"This reflects the preliminary standings - results will become final after the competition organizers verify the results."):null):null)},t}(React.Component);t.NewsfeedCompetition=a},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-dataset"},React.createElement("div",{className:"newsfeed-dataset__content"},React.createElement("img",{src:this.props.dataset.datasetImageUrl,className:"newsfeed-dataset__image"}),React.createElement("div",{className:"newsfeed-dataset__content-text-container"},React.createElement("a",{className:"newsfeed-dataset__content-title",href:this.props.dataset.datasetUrl},this.props.dataset.datasetTitle),React.createElement("div",{className:"newsfeed-dataset__content-overview"},this.props.dataset.datasetOverview))),"datasetVersion"==this.props.storyType?React.createElement("div",{className:"newsfeed-dataset__version-notes-container"},React.createElement("div",{className:"newsfeed-dataset__version-notes-label"},"Version notes"),React.createElement("div",{className:"newsfeed-dataset__version-notes-text"},this.props.dataset.datasetVersionNotes)):null)},t}(React.Component);t.NewsfeedDataset=r},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-kernel"},this.props.kernel.kernelVisualizationUrl?React.createElement("div",{className:"newsfeed-kernel__image-container"},React.createElement("a",{href:this.props.kernel.kernelUrl},React.createElement("img",{className:"newsfeed-kernel__image",src:this.props.kernel.kernelVisualizationUrl}))):null)},t}(React.Component);t.NewsfeedKernel=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(70),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-message"},React.createElement("div",{className:"newsfeed-message__content"},React.createElement(i.ForumMessageContent,{rawMarkdown:this.props.discussion.messageRawMarkdown,rawHtml:this.props.discussion.messageRawHtml})))},t}(React.Component);t.NewsfeedMessage=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(174),a=n(4),o=function(e){function t(){e.apply(this,arguments),this.renderChecklistItem=function(e,t,n){return React.createElement("div",{className:a("newsfeed-progression__item","newsfeed-progression__item--"+(e.isComplete?"checked":"unchecked"),"newsfeed-progression__item--"+t),key:n},e.name)}}return r(t,e),t.prototype.toTitleCase=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},t.prototype.renderTierList=function(e,t,n,r,o,s){var l=this;return React.createElement("div",{className:"newsfeed-progression"},React.createElement("a",{href:"grandmaster"==t?"/rankings?group="+e.toLowerCase():"/progression#"+o,className:a("newsfeed-progression__header","newsfeed-progression__header--"+t)},e," ",this.toTitleCase(t)),React.createElement("div",{className:"newsfeed-progression__list-container"},"grandmaster"==t?React.createElement("div",{className:"newsfeed-progression__ranking"},r?React.createElement("span",null,"Ranked ",React.createElement(i.FormatPlace,{number:r})):"Unranked"):s.map(function(e,n){return l.renderChecklistItem(e,t,n)})))},t.prototype.render=function(){var e=this;return this.props.isContributorOrHigher?React.createElement("div",null,this.renderTierList("Competitions",this.props.currentCompetitionTier,"competition",this.props.currentCompetitionRanking,this.props.nextCompetitionTier,this.props.competitionChecklist),this.renderTierList("Kernels",this.props.currentKernelTier,"scripts",this.props.currentKernelRanking,this.props.nextKernelTier,this.props.kernelChecklist),this.renderTierList("Discussion",this.props.currentDiscussionTier,"discussions",this.props.currentDiscussionRanking,this.props.nextDiscussionTier,this.props.discussionChecklist)):React.createElement("div",{className:"newsfeed-progression"},React.createElement("div",{className:"newsfeed-progression__header newsfeed-progression__header--novice"},"Novice"),React.createElement("div",null,this.props.contributorChecklist.map(function(t,n){return e.renderChecklistItem(t,"novice",n)})))},t}(React.Component);t.NewsfeedProgression=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(7),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-competition-sidebar"},React.createElement("div",{className:"newsfeed-competition-sidebar__container"},React.createElement("img",{src:this.props.imageUrl,className:"newsfeed-competition-sidebar__image"}),React.createElement("div",{className:"newsfeed-competition-sidebar__text-container"},React.createElement("div",{className:"newsfeed-competition-sidebar__title"},React.createElement("a",{href:this.props.competitionUrl},this.props.title)),React.createElement("div",{className:"newsfeed-competition-sidebar__sub-content"},React.createElement("div",{className:"newsfeed-competition-sidebar__hover-links"},React.createElement("ul",null,React.createElement("li",null,React.createElement("a",{href:this.props.leaderboardUrl},"Leaderboard")),React.createElement("li",null,React.createElement("a",{href:this.props.forumUrl},"Forum")),React.createElement("li",null,React.createElement("a",{href:this.props.submissionsUrl},"Submissions")))),React.createElement("div",{className:"newsfeed-competition-sidebar__remaining"},React.createElement("ul",null,this.props.ranking?React.createElement("li",null,this.props.ranking," of ",this.props.totalTeams):null,React.createElement("li",null,React.createElement(i.TimeAgo,{time:this.props.deadline,toGoOverride:"remaining"}))))))))},t}(React.Component);t.NewsfeedCompetitionSidebar=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(47),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-dataset-sidebar"},React.createElement("div",{className:"newsfeed-dataset-sidebar__container"},React.createElement("img",{src:this.props.imageUrl,className:"newsfeed-dataset-sidebar__image"}),React.createElement("div",{className:"newsfeed-dataset-sidebar__text-container"},React.createElement("div",{className:"newsfeed-dataset-sidebar__title"},React.createElement("a",{href:this.props.datasetUrl},this.props.title)),React.createElement("div",{className:"newsfeed-dataset-sidebar__sub-content"},this.props.kernelCount>0?React.createElement("a",{href:this.props.kernelsUrl},React.createElement(i.Pluralize,{count:this.props.kernelCount,word:"kernels"})):null,this.props.kernelCount>0&&this.props.topicCount>0?React.createElement("span",null," ∙ "):null,this.props.topicCount>0?React.createElement("a",{href:this.props.forumUrl},React.createElement(i.Pluralize,{count:this.props.topicCount,word:"topics"})):null))))},t}(React.Component);t.NewsfeedDatasetSidebar=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(7),a=n(47),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-kernel-sidebar"},React.createElement("div",{className:"newsfeed-kernel-sidebar__container"},React.createElement("img",{src:this.props.imageUrl,className:"newsfeed-kernel-sidebar__image"}),React.createElement("div",{className:"newsfeed-kernel-sidebar__text-container"},React.createElement("div",{className:"newsfeed-kernel-sidebar__title"},React.createElement("a",{href:this.props.kernelUrl},this.props.title)),React.createElement("div",{className:"newsfeed-kernel-sidebar__sub-content"},React.createElement("ul",null,React.createElement("li",null,React.createElement(i.TimeAgo,{time:this.props.lastRunDate})),React.createElement("li",null,React.createElement(a.Pluralize,{count:this.props.voteCount,word:"votes"})),React.createElement("li",null,React.createElement("a",{href:this.props.commentsUrl},React.createElement(a.Pluralize,{count:this.props.commentCount,word:"comments"}))))))))},t}(React.Component);t.NewsfeedKernelSidebar=o},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-job-sidebar"},React.createElement("div",{className:"newsfeed-job-sidebar__container"},React.createElement("img",{src:this.props.imageUrl,className:"newsfeed-job-sidebar__image"}),React.createElement("div",{className:"newsfeed-job-sidebar__text-container"},React.createElement("div",{className:"newsfeed-job-sidebar__title"},React.createElement("a",{href:this.props.postUrl},this.props.position)),React.createElement("div",{className:"newsfeed-job-sidebar__sub-content"},this.props.company," ",React.createElement("span",null," ∙ "),React.createElement("span",{className:"fa fa-map-marker"})," ",this.props.location))))},t}(React.Component);t.NewsfeedJobSidebar=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(7),a=n(47),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-topic-sidebar"},React.createElement("div",{className:"newsfeed-topic-sidebar__container"},React.createElement("img",{src:this.props.avatarUrl,className:"newsfeed-topic-sidebar__image"}),React.createElement("div",{className:"newsfeed-topic-sidebar__text-container"},React.createElement("div",{className:"newsfeed-topic-sidebar__title"},React.createElement("a",{href:this.props.topicUrl},this.props.topicName)),React.createElement("div",{className:"newsfeed-topic-sidebar__sub-content"},React.createElement("ul",null,React.createElement("li",null,React.createElement(i.TimeAgo,{time:this.props.lastUserMessageDate})),React.createElement("li",null,React.createElement("a",{href:this.props.topicUrl},React.createElement(a.Pluralize,{count:this.props.totalPosts,word:"comments"}))))))))},t}(React.Component);t.NewsfeedTopicSidebar=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(40),o=function(e){function t(t){var n=this;e.call(this,t),this.renderTitle=function(e,t){if(t.isLoadingMoreData)return" ";var r="competition",i="";switch(t.values.group){case"active":r="active competition";break;case"entered":i="you've entered";break;case"hosted":i="you've hosted"}var o=t.data?t.data.totalCompetitions:n.props.totalCompetitions;return t.data?React.createElement("span",null,React.createElement(a.Pluralize,{count:o,word:r,formatNumber:!0})," ",i):" "},this.renderCompetition=function(e){return React.createElement(a.CompetitionCard,{key:e.competitionId,competition:e})},this.filters=[{placeholder:"Site",parameter:"site",options:[{value:"main",label:"Main Site"},{value:"inclass",label:"In Class"}]},{placeholder:"Eval Metric",parameter:"eval",options:[{value:"",label:"All Eval Metrics"}].concat(this.props.evaluationMetricOptions)}]}return r(t,e),t.prototype.render=function(){return React.createElement("div",{className:"view-competition-list"},React.createElement("div",{className:"listing-header__wrapper--competitions"},React.createElement("div",{className:"listing-header"},"Competitions")),React.createElement(a.Banner,i({},this.props.banner),React.createElement("h1",{className:"view-competition-list__banner_title"},"Welcome to Kaggle Competitions"),React.createElement("h2",{className:"view-competition-list__banner_subtitle"},"Challenge yourself with real-world machine learning problems"),React.createElement("hr",{className:"view-competition-list__banner_divider"}),React.createElement("ul",{className:"view-competition-list__banner_details"},React.createElement("li",{className:"view-competition-list__banner_detail"},React.createElement("img",{alt:"New to Data Science?",className:"view-competition-list__banner_detail-image",src:"/static/images/comps-1-new.png"}),React.createElement("h3",{className:"view-competition-list__banner_detail-title"},"New to Data Science?"),React.createElement("p",{className:"view-competition-list__banner_detail-text"},"Get started with a tutorial on our most popular competition for beginners,",React.createElement("a",{href:"/c/titanic",className:"view-competition-list__banner_link"},"Titanic: Machine Learning from Disaster"),".")),React.createElement("li",{className:"view-competition-list__banner_detail"},React.createElement("img",{alt:"Build a Model",className:"view-competition-list__banner_detail-image",src:"/static/images/comps-2-build.png"}),React.createElement("h3",{className:"view-competition-list__banner_detail-title"},"Build a Model"),React.createElement("p",{className:"view-competition-list__banner_detail-text"},"Get the data & use whatever tools or methods you prefer to make predictions.")),React.createElement("li",{className:"view-competition-list__banner_detail"},React.createElement("img",{alt:"Make a Submission",className:"view-competition-list__banner_detail-image",src:"/static/images/comps-3-submit.png"}),React.createElement("h3",{className:"view-competition-list__banner_detail-title"},"Make a Submission"),React.createElement("p",{className:"view-competition-list__banner_detail-text"},"Upload your prediction file for real-time scoring & a spot on the leaderboard.")))),React.createElement("div",{className:"view-competition-list__wrapper"},React.createElement(a.SmartListContainer,{titleResolver:this.renderTitle,data:this.props,dataUrl:"/competitions.json",dataPathToList:"competitions",groups:this.props.selectionGroupOptions,sortOptions:this.props.sortByOptions,itemRenderer:this.renderCompetition,pluralItemDescription:"competitions",mobileSortUpperBound:a.Breakpoints.tabletMax,filtersOptions:this.filters,hasSearch:!0,values:this.props.values})))},t}(React.Component);t.ViewCompetitionList=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(24),a=n(212),o=n(40),s=500,l=function(e){function t(t){var n=this;e.call(this,t),this.queuedTimer=new o.Timer,this.runningTimer=new o.Timer,this.onError=function(){n.runningTimer.setToZero(),n.queuedTimer.setToZero(),o.PageMessages.error("An error has occurred. Please try rerunning the script.",{clear:!0})},this.initState(),this.initTimerCallbacks()}return r(t,e),t.prototype.initState=function(){var e=this.props.scriptProject.allowPrivateKernels&&(this.props.script.id||this.props.script.scriptId)<=0;this.state={script:{projectId:this.props.scriptProject.projectId,forkParentScriptVersionId:this.props.script.forkParentScriptVersionId,newText:this.props.scriptVersion.text,newTitle:this.props.scriptVersion.title,scriptId:this.props.script.id,scriptLanguageName:this.props.scriptVersion.languageName.toLowerCase(),isLanguageTemplate:this.props.script.isLanguageTemplate,isPrivate:this.props.script.isPrivate||e},isUnsavedPrivateKernel:e,tab:null,scriptVersionId:null,status:null,outputLog:[],outputFiles:null,runInfo:{},isEditingTitle:!1,versionNumber:this.props.scriptVersion.thisScriptVersionNumber,onLanguageChange:this.onLanguageChange.bind(this),onRunStart:i.debounce(this.onRunStart.bind(this),500),onRunEnd:this.onRunEnd.bind(this),onRunCancel:this.onRunCancel.bind(this),onScriptChange:this.onScriptChange.bind(this),onTabChange:this.onTabChange.bind(this),onTitleFocus:this.onTitleFocus.bind(this),onTitleBlur:this.onTitleBlur.bind(this),onTitleChange:this.onTitleChange.bind(this),onToggleOutputPreview:this.onToggleOutputPreview.bind(this),onUploadScriptClick:this.onUploadScriptClick.bind(this),onDownloadScriptClick:this.onDownloadScriptClick.bind(this),onSubmitCode:this.onSubmitCode.bind(this)}},t.prototype.initTimerCallbacks=function(){this.queuedTimer.setDisplayCallback(function(e){o.PageMessages.info("Queued - Queue Time: "+e,{clear:!0,faIcon:"fa-cog fa-spin"})}),this.runningTimer.setDisplayCallback(function(e){o.PageMessages.info("Running - Run Time: "+e,{clear:!0,faIcon:"fa-refresh fa-spin"})})},t.prototype.setScriptState=function(e){this.setState({script:$.extend(this.state.script,e)})},t.prototype.fetchStatus=function(){var e=this;return $.get(this.props.urls.versionStatus+"?id="+this.state.scriptVersionId+"&existingStatus="+this.state.status).done(function(t){var n=t.status;switch(n){case"complete":case"error":e.onRunEnd(t);break;case"running":e.queuedTimer.stopTimer(),e.runningTimer.isRunning()||e.runningTimer.startTimer()}var r={status:n};t.thisScriptVersionNumber&&(r.versionNumber=t.thisScriptVersionNumber),e.setState(r)}).fail(this.onError)},t.prototype.fetchOutput=function(){var e=this,t={scriptRun:{id:this.state.scriptVersionId,status:this.subs.status,streams:{stdout:this.subs.stdout,stderr:this.subs.stderr}}};return $.ajax({url:"/redis/sub",type:"POST",data:JSON.stringify(t),processData:!1,contentType:"application/json",dataType:"json"}).done(function(t){function n(e){var n=this;this.subs[e]=r;var i=this.state.outputLog.concat(t.Result.map(function(t,r){return{stream_name:e,data:t.Value,time:t.Position.toFixed(1),lineNo:n.state.outputLog.length+r+1}}));this.setState({outputLog:i})}var r=i.chain(t.Result).pluck("Position").max().value();switch(t.Key){case"streams:stdout":n.bind(e)("stdout");break;case"streams:stderr":n.bind(e)("stderr");break;case"status":e.subs.status=r}}).fail(this.onError)},t.prototype.startPolling=function(){this.poll(this.fetchStatus.bind(this)),this.poll(this.fetchOutput.bind(this))},t.prototype.poll=function(e){var t=this;this.shouldPoll&&e().then(function(){setTimeout(function(){return t.poll(e)},s)})},t.prototype.mapOutputFiles=function(e){var t=e.slice();return t.forEach(function(e){e.fileName===a.RMARKDOWN_OUTPUT_FILE_NAME&&(e.filePreviewUrl=e.fileUrl)}),t},t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.onKeyDown.bind(this),!1)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.onKeyDown.bind(this),!1)},t.prototype.downloadFile=function(e,t){var n=window.document.createElement("a");n.href=window.URL.createObjectURL(new Blob([e],{type:"text/plain"})),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},t.prototype.onKeyDown=function(e){e.shiftKey&&13==e.keyCode&&(this.onRunStart(),e.preventDefault())},t.prototype.onUploadScriptClick=function(e){var t=this,n=e.target.files[0],r=new FileReader;r.onload=function(e){t.setScriptState({newText:r.result})},r.readAsText(n)},t.prototype.onDownloadScriptClick=function(){var e=this,t=a.LANGUAGE_OPTIONS.filter(function(t){return t.value===e.state.script.scriptLanguageName})[0].fileExtension;this.downloadFile(this.state.script.newText,"script."+t)},t.prototype.onTitleFocus=function(){this.setState({isEditingTitle:!0})},t.prototype.onTitleBlur=function(e){if(this.state.script.newTitle)o.PageMessages.clear(),this.setState({isEditingTitle:!1});else{var t=e.target;o.PageMessages.error("Script title cannot be empty",{clear:!0}),t.focus()}},t.prototype.onTitleChange=function(e){this.setScriptState({newTitle:e.target.value})},t.prototype.onLanguageChange=function(e){var t=this,n=this.props.scriptProject.availableLanguagesWithTemplates,r=n.some(function(e){return e.template===t.state.script.newText}),i=r?n.filter(function(t){return t.languageName.toLowerCase()===e})[0].template:this.state.script.newText;this.setScriptState({scriptLanguageName:e,newText:i})},t.prototype.onScriptChange=function(e){this.setScriptState({newText:e})},t.prototype.onTabChange=function(e){this.setState({tab:e})},t.prototype.onToggleOutputPreview=function(e){e.expanded=!e.expanded,this.setState({outputFiles:this.state.outputFiles})},t.prototype.onRunStart=function(){var e=this;this.runningTimer.setToZero(),this.queuedTimer.setToZero(),this.queuedTimer.startTimer(),$.post(this.props.urls.saveVersion,this.state.script,null,"json").then(function(t){var n=t.versionId,r=t.status,i=t.scriptId;"error"===r?(e.queuedTimer.stopTimer(),o.PageMessages.error(t.message,{clear:!0})):(e.subs={stdout:-1,stderr:-1,status:0},e.shouldPoll=!0,e.setScriptState({scriptId:i}),e.setState({outputLog:[],tab:"log",runInfo:{},outputFiles:[],isUnsavedPrivateKernel:!1}),e.setState({scriptVersionId:n,status:r},function(){return e.startPolling()}))})},t.prototype.onRunError=function(){o.PageMessages.error({htmlMessage:'<span class="script-editor__page-message">Run Failed - Run Time: '+this.runningTimer.getElapsedTimeString()+'<a href="'+this.props.urls.script+'">View Completed Script (Exit Editor) &gt;</a></span>'},{clear:!0})},t.prototype.onRunComplete=function(e){var t="rmarkdown"===this.state.script.scriptLanguageName;t?this.setState({tab:"html"}):e.length>0&&this.setState({tab:"output"}),o.PageMessages.success({htmlMessage:'<span class="script-editor__page-message">Run Successful - Run Time: '+this.runningTimer.getElapsedTimeString()+' <a href="'+this.props.urls.script+'">View Completed Script (Exit Editor) &gt;</a></span>'},{clear:!0})},t.prototype.onRunEnd=function(e){var t=this;this.queuedTimer.stopTimer(),this.runningTimer.stopTimer(),this.shouldPoll=!1;var n=JSON.parse(e.consoleOutput),r=this.mapOutputFiles(e.outputFiles);this.setState({runInfo:e.runInfo,outputLog:n,outputFiles:r},function(){switch(e.status){case"complete":t.onRunComplete(r);break;case"error":t.onRunError()}})},t.prototype.onRunCancel=function(){var e=this;this.queuedTimer.stopTimer(),this.runningTimer.stopTimer(),o.PageMessages.clear(),$.ajax({url:this.props.urls.cancel,type:"POST",data:{scriptVersionId:this.state.scriptVersionId}}).then(function(){e.shouldPoll=!1,e.setState({status:"cancelled"})})},t.prototype.onSubmitCode=function(){var e=$.extend({isCodeSubmission:!0},this.state.script);$.post(this.props.urls.saveVersion,e,null,"json").then(function(e){e.message?o.PageMessages.error(e.message,{clear:!0}):window.location.href=e.submitRedirectUrl})},t.prototype.render=function(){return React.createElement(a.ScriptEditor,$.extend({},this.props,this.state))},t}(React.Component);t.ScriptEditorContainer=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(213)["default"];n(217),n(218),n(219),n(220),n(225),n(226);var o=n(40),s=n(73),l=n(37),c=n(5);t.RMARKDOWN_OUTPUT_FILE_NAME="__results__.html",t.LANGUAGE_OPTIONS=[{label:"Python",value:"python",aceMode:"python",fileExtension:"py"},{label:"R",value:"r",aceMode:"r",fileExtension:"r"},{label:"RMarkdown",value:"rmarkdown",aceMode:"markdown",fileExtension:"rmd"},{label:"Julia",value:"julia",aceMode:"julia",fileExtension:"jl"}];var u=function(e){function n(){var t=this;e.apply(this,arguments),this.noOutputLines=0,this.allTabs=[{title:"Code",text:"Code",actionCallback:function(){return t.props.onTabChange("code")}},{title:"Input",text:"Input",actionCallback:function(){return t.props.onTabChange("input")}},{title:"Log",text:"Log",actionCallback:function(){return t.props.onTabChange("log")}},{title:"Output",text:"Output",actionCallback:function(){return t.props.onTabChange("output")}},{title:"HTML",text:"HTML",actionCallback:function(){return t.props.onTabChange("html")}},{title:"Info",text:"Info",actionCallback:function(){return t.props.onTabChange("info")}}]}return r(n,e),n.prototype.componentDidMount=function(){window.dispatchEvent(new Event("resize"))},n.prototype.componentDidUpdate=function(){this.tailLog()},n.prototype.tailLog=function(){this.props.outputLog&&this.props.outputLog.length!==this.noOutputLines&&(this.logContainer.scrollTop=this.logContainer.scrollHeight,this.noOutputLines=this.props.outputLog.length)},n.prototype.getLanguageMode=function(){return"rmarkdown"===this.props.script.scriptLanguageName?"markdown":this.props.script.scriptLanguageName},n.prototype.getTabs=function(e){var t=this.allTabs;return e||(t=t.filter(function(e){return"Code"!==e.title})),this.props.outputFiles&&this.getHtmlOutputFile()||(t=t.filter(function(e){return"HTML"!==e.title})),t},n.prototype.getHtmlOutputFile=function(){return this.props.outputFiles.filter(function(e){return e.fileName===t.RMARKDOWN_OUTPUT_FILE_NAME})[0]},n.prototype.getActiveTab=function(e){return this.props.tab?this.props.tab:"desktop"===e?"input":"code"},n.prototype.getTabSelectOptions=function(){return this.getTabs(!0).map(function(e){return{label:e.title,value:e.title.toLowerCase()}})},n.prototype.shouldShowOutputPreviewList=function(){return this.props.outputFiles&&(this.props.outputFiles.length>1||!this.shouldShowVisualizationsBox())},n.prototype.shouldShowVisualizationsBox=function(){return this.props.outputFiles&&this.props.outputFiles.some(function(e){return[".png",".jpg",".gif",".svg"].indexOf(e.fileType)>-1})},n.prototype.renderVisualizationsBox=function(){return React.createElement(c.ContentBox,{title:"Visualizations"},this.props.outputFiles.map(function(e){return[".png",".jpg",".gif",".svg"].indexOf(e.fileType)>-1?React.createElement("img",{src:e.fileUrl}):null}))},n.prototype.renderTabbedContent=function(e){var t=this;switch(this.getActiveTab(e)){case"code":return this.renderEditor(e);case"log":return React.createElement("div",{className:"script-editor__log",ref:function(e){return t.logContainer=e}},React.createElement(l.ScriptLogSection,{logLineData:this.props.outputLog,withContentBox:!1}));case"input":return this.props.inputFiles&&this.props.inputFiles.length>0&&React.createElement(o.FilePreviewList,{files:this.props.inputFiles});case"output":return React.createElement("div",null,this.shouldShowVisualizationsBox()&&this.renderVisualizationsBox(),this.shouldShowOutputPreviewList()&&React.createElement(o.FilePreviewList,{files:this.props.outputFiles,scriptVersionId:this.props.scriptVersionId,submitToCompUrl:this.props.urls.submitToCompUrl,competitionName:this.props.scriptProject.displayName}));case"html":return React.createElement("iframe",{className:"script-editor__html_iframe",src:this.getHtmlOutputFile().previewUrl});case"info":return React.createElement(l.ScriptRunInfoSection,i({},this.props.runInfo,{withContentBox:!1}));default:return null}},n.prototype.renderEditor=function(e){return React.createElement(a,{name:"script-editor",mode:this.getLanguageMode(),value:this.props.script.newText,onChange:this.props.onScriptChange,theme:"monokai",enableBasicAutocompletion:!0,editorProps:{$blockScrolling:!0},className:"script-editor__ace-editor",showPrintMargin:!1,setOptions:{maxLines:"Infinity",fontSize:"14px"},height:"auto",width:"auto",tabSize:4})},n.prototype.renderTitle=function(){return React.createElement("div",{className:"script-editor__title-area"},React.createElement("input",{className:"script-editor__title-input script-editor__title-input--"+(this.props.isEditingTitle?"focused":"unfocused"),placeholder:"Title",value:this.props.script.newTitle,onChange:this.props.onTitleChange,onFocus:this.props.onTitleFocus,onBlur:this.props.onTitleBlur,autoFocus:!this.props.script.newTitle}))},n.prototype.renderTabs=function(e,t){return React.createElement("div",{className:"script-editor__tabs"},React.createElement(o.PageHeaderNav,{classNameModifier:"script-editor",menuLinks:this.getTabs(t),activeTab:this.getActiveTab(e)}))},n.prototype.renderRunButton=function(e){return React.createElement("div",{className:"script-editor__call-to-action-area"},"running"!==this.props.status?React.createElement("div",{onClick:this.props.onRunStart,title:"Run Script",className:"pageheader__calltoaction pageheader__calltoaction"},"Run"):React.createElement("div",{onClick:this.props.onRunCancel,title:"Cancel Run",className:"pageheader__calltoaction pageheader__calltoaction--muted pageheader__calltoaction"},"Cancel"))},n.prototype.renderConvertButton=function(e,t){return null},n.prototype.renderLanguageSelectBox=function(e){return React.createElement("div",{className:"script-editor__language-area"},React.createElement(o.SelectBox,{className:"script-editor__language-select-box "+("phone"===e&&"KaggleBoxlessSelect"),options:t.LANGUAGE_OPTIONS,onChange:this.props.onLanguageChange,value:this.props.script.scriptLanguageName,searchable:!1}))},n.prototype.renderScriptProjectThumbnail=function(){return React.createElement("div",{className:"script-editor__project-thumbnail"},React.createElement("a",{href:this.props.urls.scriptProject,title:this.props.scriptProject.displayName},React.createElement("img",{src:this.props.urls.scriptProjectThumbnail})))},n.prototype.renderPrivacyToggle=function(){return React.createElement(s.PrivacyToggle,{kernelType:"Script",displayMode:"SelectBox",isPrivate:this.props.script.isPrivate,disabled:this.props.isUnsavedPrivateKernel,scriptId:this.props.script.scriptId})},n.prototype.renderSubmitButton=function(){return"code"===this.props.scriptProject.competitionType&&React.createElement("div",{onClick:this.props.onSubmitCode,title:"Submit",className:"pageheader__calltoaction pageheader__calltoaction--secondary"},"Submit")},n.prototype.renderDesktopEditor=function(){return React.createElement("div",{className:"script-editor"
},React.createElement("div",{className:"script-editor__left-pane"},React.createElement("div",{className:"script-editor__left-pane-header script-editor__full-pane-header"},this.renderScriptProjectThumbnail(),this.renderTitle(),React.createElement("div",{className:"script-editor__upload-button"},React.createElement("label",{htmlFor:"script-file-upload"},React.createElement("i",{className:"fa fa-cloud-upload",title:"Upload script"})),React.createElement("input",{type:"file",id:"script-file-upload",style:{display:"none"},onChange:this.props.onUploadScriptClick})),React.createElement("div",{className:"script-editor__download-button"},React.createElement("i",{className:"fa fa-cloud-download",title:"Download script",onClick:this.props.onDownloadScriptClick})),this.renderLanguageSelectBox("desktop"),this.renderPrivacyToggle(),this.renderConvertButton(!1,"script-editor__convert-to-notebook"),this.renderRunButton("desktop"),this.renderSubmitButton()),React.createElement("div",{className:"script-editor__left-pane-container"},React.createElement("div",{className:"script-editor__page-messages"},React.createElement(o.PageHeaderBottomRow,null)),this.renderEditor("desktop"))),React.createElement("div",{className:"script-editor__right-pane script-editor__right-pane--"+this.props.tab},React.createElement("div",{className:"script-editor__right-pane-header"},this.renderTabs("desktop",!1),React.createElement("div",{className:"script-editor__version-number"},"Version ",this.props.versionNumber),React.createElement("div",{className:"script-editor__license-info"},"This script ",this.props.script.scriptId>0?"has been":"will be"," released under the ",React.createElement("a",{target:"_blank",href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0")," open source license.")),React.createElement("div",{className:"script-editor__right-pane-content script-editor__right-pane-content--"+this.props.tab},this.renderTabbedContent("desktop"))))},n.prototype.renderTabletEditor=function(){return React.createElement("div",{className:"script-editor"},React.createElement("div",{className:"script-editor__full-pane"},React.createElement("div",{className:"script-editor__full-pane-header script-editor__full-pane-header"},this.renderScriptProjectThumbnail(),this.renderTitle(),this.renderTabs("tablet",!0),this.renderLanguageSelectBox("tablet"),this.renderConvertButton(!0,"script-editor__convert-to-notebook"),this.renderRunButton("tablet")),React.createElement("div",{className:"script-editor__full-pane-container"},React.createElement("div",{className:"script-editor__page-messages"},React.createElement(o.PageHeaderBottomRow,null)),this.renderTabbedContent("tablet"))))},n.prototype.renderPhoneEditor=function(){var e=this;return React.createElement("div",{className:"script-editor"},React.createElement("div",{className:"script-editor__full-pane"},React.createElement("div",{className:"script-editor__full-pane-header script-editor__full-pane-header"},this.renderTitle(),React.createElement(o.SelectBox,{options:this.getTabSelectOptions(),onChange:function(t){return e.props.onTabChange(t)},value:this.getActiveTab("phone"),className:"script-editor__tab-select-box KaggleBoxlessSelect",searchable:!1}),this.renderLanguageSelectBox("phone"),this.renderConvertButton(!0,"script-editor--options"),this.renderRunButton("phone")),React.createElement("div",{className:"script-editor__full-pane-container"},React.createElement("div",{className:"script-editor__page-messages"},React.createElement(o.PageHeaderBottomRow,null)),this.renderTabbedContent("phone"))))},n.prototype.render=function(){return React.createElement("div",null,React.createElement(o.MediaQuery,{minWidth:1181},this.renderDesktopEditor()),React.createElement(o.MediaQuery,{minWidth:731,maxWidth:1180},this.renderTabletEditor()),React.createElement(o.MediaQuery,{minWidth:0,maxWidth:730},this.renderPhoneEditor()))},n}(React.Component);t.ScriptEditor=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(214),c=r(l),u=n(15),d=r(u),p=n(216),h=r(p),m=c["default"].acequire("ace/range"),f=m.Range,g=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets "],v=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return["onChange","onFocus","onBlur","onCopy","onPaste","onScroll","handleOptions"].forEach(function(e){n[e]=n[e].bind(n)}),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.name,r=t.className,i=t.onBeforeLoad,a=t.mode,o=t.theme,s=t.fontSize,l=t.value,u=t.cursorStart,d=t.showGutter,p=t.wrapEnabled,h=t.showPrintMargin,m=t.keyboardHandler,f=t.onLoad,v=t.commands,b=t.annotations,y=t.markers;this.editor=c["default"].edit(n),i&&i(c["default"]);for(var w=Object.keys(this.props.editorProps),k=0;k<w.length;k++)this.editor[w[k]]=this.props.editorProps[w[k]];this.editor.getSession().setMode("ace/mode/"+a),this.editor.setTheme("ace/theme/"+o),this.editor.setFontSize(s),this.editor.setValue(l,u),this.editor.renderer.setShowGutter(d),this.editor.getSession().setUseWrapMode(p),this.editor.setShowPrintMargin(h),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.session.on("changeScrollTop",this.onScroll),this.handleOptions(this.props),this.editor.getSession().setAnnotations(b||[]),this.handleMarkers(y||[]);for(var E=this.editor.$options,_=0;_<g.length;_++){var x=g[_];E.hasOwnProperty(x)&&this.editor.setOption(x,this.props[x])}Array.isArray(v)&&v.forEach(function(t){e.editor.commands.addCommand(t)}),m&&this.editor.setKeyboardHandler("ace/keyboard/"+m),r&&(this.refs.editor.className+=" "+r),f&&f(this.editor)}},{key:"componentWillReceiveProps",value:function(e){for(var t=this,n=this.props,r=0;r<g.length;r++){var i=g[r];e[i]!==n[i]&&this.editor.setOption(i,e[i])}if(e.className!==n.className&&!function(){var r=t.refs.editor.className,i=r.trim().split(" "),a=n.className.trim().split(" ");a.forEach(function(e){var t=i.indexOf(e);i.splice(t,1)}),t.refs.editor.className=" "+e.className+" "+i.join(" ")}(),e.mode!==n.mode&&this.editor.getSession().setMode("ace/mode/"+e.mode),e.theme!==n.theme&&this.editor.setTheme("ace/theme/"+e.theme),e.fontSize!==n.fontSize&&this.editor.setFontSize(e.fontSize),e.wrapEnabled!==n.wrapEnabled&&this.editor.getSession().setUseWrapMode(e.wrapEnabled),e.showPrintMargin!==n.showPrintMargin&&this.editor.setShowPrintMargin(e.showPrintMargin),e.showGutter!==n.showGutter&&this.editor.renderer.setShowGutter(e.showGutter),(0,h["default"])(e.setOptions,n.setOptions)||this.handleOptions(e),(0,h["default"])(e.annotations,n.annotations)||this.editor.getSession().setAnnotations(e.annotations||[]),(0,h["default"])(e.markers,n.markers)||this.handleMarkers(e.markers||[]),this.editor&&this.editor.getValue()!==e.value){this.silent=!0;var a=this.editor.session.selection.toJSON();this.editor.setValue(e.value,e.cursorStart),this.editor.session.selection.fromJSON(a),this.silent=!1}}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"onChange",value:function(){if(this.props.onChange&&!this.silent){var e=this.editor.getValue();this.props.onChange(e)}}},{key:"onFocus",value:function(){this.props.onFocus&&this.props.onFocus()}},{key:"onBlur",value:function(){this.props.onBlur&&this.props.onBlur()}},{key:"onCopy",value:function(e){this.props.onCopy&&this.props.onCopy(e)}},{key:"onPaste",value:function(e){this.props.onPaste&&this.props.onPaste(e)}},{key:"onScroll",value:function(){this.props.onScroll&&this.props.onScroll(this.editor)}},{key:"handleOptions",value:function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])}},{key:"handleMarkers",value:function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&this.editor.getSession().removeMarker(n[r].id);n=this.editor.getSession().getMarkers(!1);for(var i in n)n.hasOwnProperty(i)&&this.editor.getSession().removeMarker(n[i].id);e.forEach(function(e){var n=e.startRow,r=e.startCol,i=e.endRow,a=e.endCol,o=e.className,s=e.type,l=e.inFront,c=void 0===l?!1:l,u=new f(n,r,i,a);t.editor.getSession().addMarker(u,o,s,c)})}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.width,r=e.height,i={width:n,height:r};return d["default"].createElement("div",{ref:"editor",id:t,style:i})}}]),t}(u.Component);t["default"]=v,v.propTypes={mode:u.PropTypes.string,theme:u.PropTypes.string,name:u.PropTypes.string,className:u.PropTypes.string,height:u.PropTypes.string,width:u.PropTypes.string,fontSize:u.PropTypes.number,showGutter:u.PropTypes.bool,onChange:u.PropTypes.func,onCopy:u.PropTypes.func,onPaste:u.PropTypes.func,onFocus:u.PropTypes.func,onBlur:u.PropTypes.func,onScroll:u.PropTypes.func,value:u.PropTypes.string,onLoad:u.PropTypes.func,onBeforeLoad:u.PropTypes.func,minLines:u.PropTypes.number,maxLines:u.PropTypes.number,readOnly:u.PropTypes.bool,highlightActiveLine:u.PropTypes.bool,tabSize:u.PropTypes.number,showPrintMargin:u.PropTypes.bool,cursorStart:u.PropTypes.number,editorProps:u.PropTypes.object,setOptions:u.PropTypes.object,annotations:u.PropTypes.array,markers:u.PropTypes.array,keyboardHandler:u.PropTypes.string,wrapEnabled:u.PropTypes.bool,enableBasicAutocompletion:u.PropTypes.oneOfType([u.PropTypes.bool,u.PropTypes.array]),enableLiveAutocompletion:u.PropTypes.oneOfType([u.PropTypes.bool,u.PropTypes.array]),commands:u.PropTypes.array},v.defaultProps={name:"brace-editor",mode:"",theme:"",height:"500px",width:"500px",value:"",fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}},function(e,t,n){!function(){function e(e){var t=n;e&&(n[e]||(n[e]={}),t=n[e]),t.define&&t.define.packaged||(r.original=t.define,t.define=r,t.define.packaged=!0),t.acequire&&t.acequire.packaged||(a.original=t.acequire,t.acequire=a,t.acequire.packaged=!0)}var t="ace",n=function(){return this}();if(n||"undefined"==typeof window||(n=window),t||"undefined"==typeof acequirejs){var r=function(e,t,n){return"string"!=typeof e?void(r.original?r.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(n=t),void(r.modules[e]||(r.payloads[e]=n,r.modules[e]=null)))};r.modules={},r.payloads={};var i=function(e,t,n){if("string"==typeof t){var r=s(e,t);if(void 0!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],o=0,l=t.length;l>o;++o){var c=s(e,t[o]);if(void 0==c&&a.original)return;i.push(c)}return n&&n.apply(null,i)||!0}},a=function(e,t){var n=i("",e,t);return void 0==n&&a.original?a.original.apply(this,arguments):n},o=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return o(e,n[0])+"!"+o(e,n[1])}if("."==t.charAt(0)){var r=e.split("/").slice(0,-1).join("/");for(t=r+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},s=function(e,t){t=o(e,t);var n=r.modules[t];if(!n){if(n=r.payloads[t],"function"==typeof n){var a={},s={id:t,uri:"",exports:a,packaged:!0},l=function(e,n){return i(t,e,n)},c=n(l,a,s);a=c||s.exports,r.modules[t]=a,delete r.payloads[t]}n=r.modules[t]=a||n}return n};e(t)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,n){"use strict";function r(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function i(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}var a={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},o=void 0===a.exec.call(/()??/,"")[1],s=function(){var e=/^/g;return a.test.call(e,""),!e.lastIndex}();s&&o||(RegExp.prototype.exec=function(e){var t,n,l=a.exec.apply(this,arguments);if("string"==typeof e&&l){if(!o&&l.length>1&&i(l,"")>-1&&(n=RegExp(this.source,a.replace.call(r(this),"g","")),a.replace.call(e.slice(l.index),n,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)t=this._xregexp.captureNames[c-1],t&&(l[t]=l[c]);!s&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},s||(RegExp.prototype.test=function(e){var t=a.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,n){function r(){}function i(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}function a(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=m.call(arguments,1),i=function(){if(this instanceof i){var r=t.apply(this,n.concat(m.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(m.call(arguments)))};return t.prototype&&(r.prototype=t.prototype,i.prototype=new r,r.prototype=null),i});var o,s,l,c,u,d=Function.prototype.call,p=Array.prototype,h=Object.prototype,m=p.slice,f=d.bind(h.toString),g=d.bind(h.hasOwnProperty);if((u=g(h,"__defineGetter__"))&&(o=d.bind(h.__defineGetter__),s=d.bind(h.__defineSetter__),l=d.bind(h.__lookupGetter__),c=d.bind(h.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];return n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length,t+1==n.length?!0:void 0}()){var v=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?v.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(m.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:0>e&&(e=Math.max(n+e,0)),n>e+t||(t=n-e);var r=this.slice(e,e+t),i=m.call(arguments,2),a=i.length;if(e===n)a&&this.push.apply(this,i);else{var o=Math.min(t,n-e),s=e+o,l=s+a-o,c=n-s,u=n-o;if(s>l)for(var d=0;c>d;++d)this[l+d]=this[s+d];else if(l>s)for(d=c;d--;)this[l+d]=this[s+d];if(a&&e===u)this.length=u,this.push.apply(this,i);else for(this.length=u+a,d=0;a>d;++d)this[e+d]=i[d]}return r};Array.isArray||(Array.isArray=function(e){return"[object Array]"==f(e)});var b=Object("a"),y="a"!=b[0]||!(0 in b);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=I(this),n=y&&"[object String]"==f(this)?this.split(""):t,r=arguments[1],i=-1,a=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError;for(;++i<a;)i in n&&e.call(r,n[i],i,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=I(this),n=y&&"[object String]"==f(this)?this.split(""):t,r=n.length>>>0,i=Array(r),a=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var o=0;r>o;o++)o in n&&(i[o]=e.call(a,n[o],o,t));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=I(this),r=y&&"[object String]"==f(this)?this.split(""):n,i=r.length>>>0,a=[],o=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var s=0;i>s;s++)s in r&&(t=r[s],e.call(o,t,s,n)&&a.push(t));return a}),Array.prototype.every||(Array.prototype.every=function(e){var t=I(this),n=y&&"[object String]"==f(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var a=0;r>a;a++)if(a in n&&!e.call(i,n[a],a,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=I(this),n=y&&"[object String]"==f(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var a=0;r>a;a++)if(a in n&&e.call(i,n[a],a,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=I(this),n=y&&"[object String]"==f(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,a=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(a in n){i=n[a++];break}if(++a>=r)throw new TypeError("reduce of empty array with no initial value")}for(;r>a;a++)a in n&&(i=e.call(void 0,i,n[a],a,t));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=I(this),n=y&&"[object String]"==f(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,a=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(a in n){i=n[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}do a in this&&(i=e.call(void 0,i,n[a],a,t));while(a--);return i}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=y&&"[object String]"==f(this)?this.split(""):I(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=a(arguments[1])),r=r>=0?r:Math.max(0,n+r);n>r;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=y&&"[object String]"==f(this)?this.split(""):I(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,a(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:h)}),!Object.getOwnPropertyDescriptor){var w="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(w+e);if(g(e,t)){var n,r,i;if(n={enumerable:!0,configurable:!0},u){var a=e.__proto__;e.__proto__=h;var r=l(e,t),i=c(e,t);if(e.__proto__=a,r||i)return r&&(n.get=r),i&&(n.set=i),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var k;k=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=k();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var E=i({}),_="undefined"==typeof document||i(document.createElement("div"));if(!E||!_)var x=Object.defineProperty}if(!Object.defineProperty||x){var C="Property description must be an object: ",S="Object.defineProperty called on non-object: ",T="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(S+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(C+n);if(x)try{return x.call(Object,e,t,n)}catch(r){}if(g(n,"value"))if(u&&(l(e,t)||c(e,t))){var i=e.__proto__;e.__proto__=h,delete e[t],e[t]=n.value,e.__proto__=i}else e[t]=n.value;else{if(!u)throw new TypeError(T);g(n,"get")&&o(e,t,n.get),g(n,"set")&&s(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)g(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(R){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";g(e,t);)t+="?";e[t]=!0;var n=g(e,t);return delete e[t],n}),!Object.keys){var A=!0,N=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],F=N.length;for(var M in{toString:null})A=!1;Object.keys=function P(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var P=[];for(var t in e)g(e,t)&&P.push(t);if(A)for(var n=0,r=F;r>n;n++){var i=N[n];g(e,i)&&P.push(i)}return P}}Date.now||(Date.now=function(){return(new Date).getTime()});var L="	\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||L.trim()){L="["+L+"]";var D=new RegExp("^"+L+L+"*"),O=new RegExp(L+L+"*$");String.prototype.trim=function(){return String(this).replace(D,"").replace(O,"")}}var I=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,n){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,t,n){"use strict";var r="http://www.w3.org/1999/xhtml";return t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||r,e):document.createElement(e)},t.hasCssClass=function(e,t){var n=(e.className||"").split(/\s+/g);return-1!==n.indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var i=n.indexOf(t);if(-1==i)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;r<n.length;)if(n[r++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;r<n.length;)if(n[r++].id===e)return!0;return!1},t.importCssString=function(e,n,r){if(r=r||document,n&&t.hasCssString(n,r))return null;var i;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */"),r.createStyleSheet?(i=r.createStyleSheet(),i.cssText=e,n&&(i.owningElement.id=n)):(i=t.createElement("style"),i.appendChild(r.createTextNode(e)),n&&(i.id=n),t.getDocumentHead(r).appendChild(i))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var r=t.createElement("link");r.rel="stylesheet",r.href=e,t.getDocumentHead(n).appendChild(r)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var a=e.documentElement;a.appendChild(r);var o=n.offsetWidth;i.overflow="scroll";var s=n.offsetWidth;return o==s&&(s=r.clientWidth),a.removeChild(r),o-s},"undefined"==typeof document?void(t.importCssString=function(){}):(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),void(t.getParentWindow=function(e){return e.defaultView||e.parentWindow}))}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t,n){"use strict";e("./fixoldbrowsers");var r=e("./oop"),i=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return r.mixin(n,n.MODIFIER_KEYS),r.mixin(n,n.PRINTABLE_KEYS),r.mixin(n,n.FUNCTION_KEYS),n.enter=n["return"],n.escape=n.esc,n.del=n["delete"],n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter(function(e){return t&n.KEY_MODS[e]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,n){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var r=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((i.match(/rv\:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isTouchPad=i.indexOf("TouchPad")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function r(e,t,n){var r=c(t);if(!o.isMac&&s){if(s.OSKey&&(r|=8),s.altGr){if(3==(3&r))return;s.altGr=0}if(18===n||17===n){var i="location"in t?t.location:t.keyLocation;if(17===n&&1===i)1==s[n]&&(l=t.timeStamp);else if(18===n&&3===r&&2===i){var u=t.timeStamp-l;50>u&&(s.altGr=!0)}}}if(n in a.MODIFIER_KEYS&&(n=-1),8&r&&n>=91&&93>=n&&(n=-1),!r&&13===n){var i="location"in t?t.location:t.keyLocation;if(3===i&&(e(t,r,-n),t.defaultPrevented))return}if(o.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return r||n in a.FUNCTION_KEYS||n in a.PRINTABLE_KEYS?e(t,r,n):!1}function i(){s=Object.create(null),s.count=0,s.lastT=0}var a=e("./keys"),o=e("./useragent"),s=null,l=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var r=function(){n.call(e,window.event)};n._wrapper=r,e.attachEvent("on"+t,r)}},t.removeListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):void(e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n))},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,r){function i(e){n&&n(e),r&&r(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",i,!0),t.removeListener(document,"dragstart",i,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",i,!0),t.addListener(document,"dragstart",i,!0),i},t.addTouchMoveListener=function(e,n){if("ontouchmove"in e){var r,i;t.addListener(e,"touchstart",function(e){var t=e.changedTouches[0];r=t.clientX,i=t.clientY}),t.addListener(e,"touchmove",function(e){var t=1,a=e.changedTouches[0];e.wheelX=-(a.clientX-r)/t,e.wheelY=-(a.clientY-i)/t,r=a.clientX,i=a.clientY,n(e)})}},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),
e.wheelY=5*(e.deltaY||0)}n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,r,i){function a(e){if(0!==t.getButton(e)?d=0:e.detail>1?(d++,d>4&&(d=1)):d=1,o.isIE){var a=Math.abs(e.clientX-l)>5||Math.abs(e.clientY-c)>5;(!u||a)&&(d=1),u&&clearTimeout(u),u=setTimeout(function(){u=null},n[d-1]||600),1==d&&(l=e.clientX,c=e.clientY)}if(e._clicks=d,r[i]("mousedown",e),d>4)d=0;else if(d>1)return r[i](p[d],e)}function s(e){d=2,u&&clearTimeout(u),u=setTimeout(function(){u=null},n[d-1]||600),r[i]("mousedown",e),r[i](p[d],e)}var l,c,u,d=0,p={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,"mousedown",a),o.isOldIE&&t.addListener(e,"dblclick",s)})};var c=!o.isMac||!o.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};if(t.getModifierString=function(e){return a.KEY_MODS[c(e)]},t.addCommandKeyListener=function(e,n){var a=t.addListener;if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var l=null;a(e,"keydown",function(e){l=e.keyCode}),a(e,"keypress",function(e){return r(n,e,l)})}else{var c=null;a(e,"keydown",function(e){var t=e.keyCode;s[t]=(s[t]||0)+1,91==t||92==t?s.OSKey=!0:s.OSKey&&e.timeStamp-s.lastT>200&&1==s.count&&i(),1==s[t]&&s.count++,s.lastT=e.timeStamp;var a=r(n,e,t);return c=e.defaultPrevented,a}),a(e,"keypress",function(e){c&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),c=null)}),a(e,"keyup",function(e){var t=e.keyCode;s[t]?s.count=Math.max(s.count-1,0):i(),(91==t||92==t)&&(s.OSKey=!1),s[t]=null}),s||(i(),a(window,"focus",i))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var u=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+u;t.addListener(n,"message",function i(a){a.data==r&&(t.stopPropagation(a),t.removeListener(n,"message",i),e())}),n.postMessage(r,"*")}}t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;r>n;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function a(e){if("object"!=typeof e||!e)return e;var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t[n]=a(e[n]);return t}var r=e.constructor;if(r===RegExp)return e;t=r();for(var n in e)t[n]=a(e[n]);return t},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),a=e("../lib/dom"),o=e("../lib/lang"),s=i.isChrome<18,l=i.isIE,c=function(e,t){function n(e){if(!f){if(f=!0,R)t=0,n=e?0:d.value.length-1;else var t=e?2:1,n=2;try{d.setSelectionRange(t,n)}catch(r){}f=!1}}function c(){f||(d.value=p,i.isWebKit&&k.schedule())}function u(){clearTimeout(U),U=setTimeout(function(){g&&(d.style.cssText=g,g=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},i.isOldIE?200:0)}var d=a.createElement("textarea");d.className="ace_text-input",i.isTouchPad&&d.setAttribute("x-palm-disable-auto-cap",!0),d.setAttribute("wrap","off"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck",!1),d.style.opacity="0",i.isOldIE&&(d.style.top="-1000px"),e.insertBefore(d,e.firstChild);var p="",h=!1,m=!1,f=!1,g="",v=!0;try{var b=document.activeElement===d}catch(y){}r.addListener(d,"blur",function(e){t.onBlur(e),b=!1}),r.addListener(d,"focus",function(e){b=!0,t.onFocus(e),n()}),this.focus=function(){if(g)return d.focus();var e=d.style.top;d.style.position="fixed",d.style.top="0px",d.focus(),setTimeout(function(){d.style.position="","0px"==d.style.top&&(d.style.top=e)},0)},this.blur=function(){d.blur()},this.isFocused=function(){return b};var w=o.delayedCall(function(){b&&n(v)}),k=o.delayedCall(function(){f||(d.value=p,b&&n())});i.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,w.schedule())}),c(),b&&t.onFocus();var E=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!d.setSelectionRange&&d.createTextRange&&(d.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},E=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?t.text==e.value:!1}),i.isOldIE){var _=!1,x=function(e){if(!_){var t=d.value;if(!f&&t&&t!=p){if(e&&t==p[0])return C.schedule();N(t),_=!0,c(),_=!1}}},C=o.delayedCall(x);r.addListener(d,"propertychange",x);var S={13:1,27:1};r.addListener(d,"keyup",function(e){return!f||d.value&&!S[e.keyCode]||setTimeout(j,0),(d.value.charCodeAt(0)||0)<129?C.call():void(f?B():P())}),r.addListener(d,"keydown",function(e){C.schedule(50)})}var T=function(e){h?h=!1:E(d)?(t.selectAll(),n()):R&&n(t.selection.isEmpty())},R=null;this.setInputHandler=function(e){R=e},this.getInputHandler=function(){return R};var A=!1,N=function(e){R&&(e=R(e),R=null),m?(n(),e&&t.onPaste(e),m=!1):e==p.charAt(0)?A?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==p?e=e.substr(2):e.charAt(0)==p.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==p.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==p.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),A&&(A=!1)},F=function(e){if(!f){var t=d.value;N(t),c()}},M=function(e,t){var n=e.clipboardData||window.clipboardData;if(n&&!s){var r=l?"Text":"text/plain";return t?n.setData(r,t)!==!1:n.getData(r)}},L=function(e,i){var a=t.getCopyText();return a?void(M(e,a)?(i?t.onCut():t.onCopy(),r.preventDefault(e)):(h=!0,d.value=a,d.select(),setTimeout(function(){h=!1,c(),n(),i?t.onCut():t.onCopy()}))):r.preventDefault(e)},D=function(e){L(e,!0)},O=function(e){L(e,!1)},I=function(e){var a=M(e);"string"==typeof a?(a&&t.onPaste(a,e),i.isIE&&setTimeout(n),r.preventDefault(e)):(d.value="",m=!0)};r.addCommandKeyListener(d,t.onCommandKey.bind(t)),r.addListener(d,"select",T),r.addListener(d,"input",F),r.addListener(d,"cut",D),r.addListener(d,"copy",O),r.addListener(d,"paste",I),"oncut"in d&&"oncopy"in d&&"onpaste"in d||r.addListener(e,"keydown",function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:O(e);break;case 86:I(e);break;case 88:D(e)}});var P=function(e){f||!t.onCompositionStart||t.$readOnly||(f={},t.onCompositionStart(),setTimeout(B,0),t.on("mousedown",j),t.selection.isEmpty()||(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},B=function(){if(f&&t.onCompositionUpdate&&!t.$readOnly){var e=d.value.replace(/\x01/g,"");if(f.lastValue!==e&&(t.onCompositionUpdate(e),f.lastValue&&t.undo(),f.lastValue=e,f.lastValue)){var n=t.selection.getRange();t.insert(f.lastValue),t.session.markUndoGroup(),f.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},j=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=f;f=!1;var r=setTimeout(function(){r=null;var e=d.value.replace(/\x01/g,"");f||(e==n.lastValue?c():!n.lastValue&&e&&(c(),N(e)))});R=function(e){return r&&clearTimeout(r),e=e.replace(/\x01/g,""),e==n.lastValue?"":(n.lastValue&&r&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",j),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range)}},z=o.delayedCall(B,50);r.addListener(d,"compositionstart",P),i.isGecko?r.addListener(d,"text",function(){z.schedule()}):(r.addListener(d,"keyup",function(){z.schedule()}),r.addListener(d,"keydown",function(){z.schedule()})),r.addListener(d,"compositionend",j),this.getElement=function(){return d},this.setReadOnly=function(e){d.readOnly=e},this.onContextMenu=function(e){A=!0,n(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,n){if(n||!i.isOldIE){g||(g=d.style.cssText),d.style.cssText=(n?"z-index:100000;":"")+"height:"+d.style.height+";"+(i.isIE?"opacity:0.1;":"");var o=t.container.getBoundingClientRect(),s=a.computedStyle(t.container),l=o.top+(parseInt(s.borderTopWidth)||0),c=o.left+(parseInt(o.borderLeftWidth)||0),p=o.bottom-l-d.clientHeight-2,h=function(e){d.style.left=e.clientX-c-2+"px",d.style.top=Math.min(e.clientY-l-2,p)+"px"};h(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(U),i.isWin&&!i.isOldIE&&r.capture(t.container,h,u))}},this.onContextMenuClose=u;var U,$=function(e){t.textInput.onContextMenu(e),u()};r.addListener(d,"mouseup",$),r.addListener(d,"mousedown",function(e){e.preventDefault(),u()}),r.addListener(t.renderer.scroller,"contextmenu",$),r.addListener(d,"contextmenu",$)};t.TextInput=c}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function i(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function a(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return 0>n?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var o=(e("../lib/dom"),e("../lib/event"),e("../lib/useragent"),0);(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,i=e.getButton();if(0!==i){var a=r.getSelectionRange(),o=a.isEmpty();return r.$blockScrolling++,(o||1==i)&&r.selection.moveToPosition(n),r.$blockScrolling--,void(2==i&&r.textInput.onContextMenu(e.domEvent))}return this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var i=a(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(n.$blockScrolling++,this.$clickSelection){var o=this.$clickSelection.comparePoint(i.start),s=this.$clickSelection.comparePoint(i.end);if(-1==o&&0>=s)t=this.$clickSelection.end,(i.end.row!=r.row||i.end.column!=r.column)&&(r=i.start);else if(1==s&&o>=0)t=this.$clickSelection.start,(i.start.row!=r.row||i.start.column!=r.column)&&(r=i.end);else if(-1==o&&1==s)r=i.end,t=i.start;else{var l=a(this.$clickSelection,r);r=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>o||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return i||200>n?(this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return i||200>n?(this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}).call(r.prototype),t.DefaultHandlers=r}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,n){"use strict";function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var i=(e("./lib/oop"),e("./lib/dom"));(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){i.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(r.prototype),t.Tooltip=r}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,n){"use strict";function r(e){function t(){var t=d.getDocumentPosition().row,i=l.$annotations[t];if(!i)return n();var a=o.session.getLength();if(t==a){var s=o.renderer.pixelToScreenCoordinates(0,d.y).row,u=d.$pos;if(s>o.session.documentToScreenRow(u.row,u.column))return n()}if(p!=i)if(p=i.text.join("<br/>"),c.setHtml(p),c.show(),o.on("mousewheel",n),e.$tooltipFollowsMouse)r(d);else{var h=d.domEvent.target,m=h.getBoundingClientRect(),f=c.getElement().style;f.left=m.right+"px",f.top=m.bottom+"px"}}function n(){u&&(u=clearTimeout(u)),p&&(c.hide(),p=null,o.removeEventListener("mousewheel",n))}function r(e){c.setPosition(e.x,e.y)}var o=e.editor,l=o.renderer.$gutterLayer,c=new i(o.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(o.isFocused()&&0==t.getButton()){var n=l.getRegion(t);if("foldWidgets"!=n){var r=t.getDocumentPosition().row,i=o.session.selection;if(t.getShiftKey())i.selectTo(r,0);else{if(2==t.domEvent.detail)return o.selectAll(),t.preventDefault();e.$clickSelection=o.selection.getLineRange(r)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var u,d,p;e.editor.setDefaultHandler("guttermousemove",function(i){var o=i.domEvent.target||i.domEvent.srcElement;return a.hasCssClass(o,"ace_fold-widget")?n():(p&&e.$tooltipFollowsMouse&&r(i),d=i,void(u||(u=setTimeout(function(){u=null,d&&!e.isMousePressed?t():n()},50))))}),s.addListener(o.renderer.$gutter,"mouseout",function(e){d=null,p&&!u&&(u=setTimeout(function(){u=null,n()},50))}),o.on("changeSession",n)}function i(e){l.call(this,e)}var a=e("../lib/dom"),o=e("../lib/oop"),s=e("../lib/event"),l=e("../tooltip").Tooltip;o.inherits(i,l),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),a=this.getHeight();e+=15,t+=15,e+i>n&&(e-=e+i-n),t+a>r&&(t-=20+a),l.prototype.setPosition.call(this,e,t)}}.call(i.prototype),t.GutterHandler=r}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),a=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(a.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,n){"use strict";function r(e){function t(e,t){var n=Date.now(),r=!t||e.row!=t.row,a=!t||e.column!=t.column;if(!R||r||a)g.$blockScrolling+=1,g.moveCursorToPosition(e),g.$blockScrolling-=1,R=n,A={x:w,y:k};else{var o=i(A.x,A.y,w,k);o>u?R=null:n-R>=c&&(g.renderer.scrollCursorIntoView(),R=null)}}function n(e,t){var n=Date.now(),r=g.renderer.layerConfig.lineHeight,i=g.renderer.layerConfig.characterWidth,a=g.renderer.scroller.getBoundingClientRect(),o={x:{left:w-a.left,right:a.right-w},y:{top:k-a.top,bottom:a.bottom-k}},s=Math.min(o.x.left,o.x.right),c=Math.min(o.y.top,o.y.bottom),u={row:e.row,column:e.column};2>=s/i&&(u.column+=o.x.left<o.x.right?-3:2),1>=c/r&&(u.row+=o.y.top<o.y.bottom?-1:1);var d=e.row!=u.row,p=e.column!=u.column,h=!t||e.row!=t.row;d||p&&!h?T?n-T>=l&&g.renderer.scrollCursorIntoView(u):T=n:T=null}function r(){var e=x;x=g.renderer.screenToTextCoordinates(w,k),t(x,e),n(x,e)}function d(){_=g.selection.toOrientedRange(),y=g.session.addMarker(_,"ace_selection",g.getSelectionStyle()),g.clearSelection(),g.isFocused()&&g.renderer.$cursorLayer.setBlinking(!1),clearInterval(E),r(),E=setInterval(r,20),F=0,o.addListener(document,"mousemove",h)}function p(){clearInterval(E),g.session.removeMarker(y),y=null,g.$blockScrolling+=1,g.selection.fromOrientedRange(_),g.$blockScrolling-=1,g.isFocused()&&!S&&g.renderer.$cursorLayer.setBlinking(!g.getReadOnly()),_=null,x=null,F=0,T=null,R=null,o.removeListener(document,"mousemove",h)}function h(){null==M&&(M=setTimeout(function(){null!=M&&y&&p()},20))}function m(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function f(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],r=s.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var a="none";return r&&t.indexOf(i)>=0?a="copy":n.indexOf(i)>=0?a="move":t.indexOf(i)>=0&&(a="copy"),a}var g=e.editor,v=a.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var b=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];b.forEach(function(t){e[t]=this[t]},this),g.addEventListener("mousedown",this.onMouseDown.bind(e));var y,w,k,E,_,x,C,S,T,R,A,N=g.container,F=0;this.onDragStart=function(e){if(this.cancelDrag||!N.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}_=g.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=g.getReadOnly()?"copy":"copyMove",s.isOpera&&(g.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),s.isOpera&&g.container.removeChild(v),n.clearData(),n.setData("Text",g.session.getTextRange()),S=!0,this.setState("drag")},this.onDragEnd=function(e){if(N.draggable=!1,S=!1,this.setState(null),!g.getReadOnly()){var t=e.dataTransfer.dropEffect;C||"move"!=t||g.session.remove(g.getSelectionRange()),g.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){return!g.getReadOnly()&&m(e.dataTransfer)?(w=e.clientX,k=e.clientY,y||d(),F++,e.dataTransfer.dropEffect=C=f(e),o.preventDefault(e)):void 0},this.onDragOver=function(e){return!g.getReadOnly()&&m(e.dataTransfer)?(w=e.clientX,k=e.clientY,y||(d(),F++),null!==M&&(M=null),e.dataTransfer.dropEffect=C=f(e),o.preventDefault(e)):void 0},this.onDragLeave=function(e){return F--,0>=F&&y?(p(),C=null,o.preventDefault(e)):void 0},this.onDrop=function(e){if(x){var t=e.dataTransfer;if(S)switch(C){case"move":_=_.contains(x.row,x.column)?{start:x,end:x}:g.moveText(_,x);break;case"copy":_=g.moveText(_,x,!0)}else{var n=t.getData("Text");_={start:x,end:g.session.insert(x,n)},g.focus(),C=null}return p(),o.preventDefault(e)}},o.addListener(N,"dragstart",this.onDragStart.bind(e)),o.addListener(N,"dragend",this.onDragEnd.bind(e)),o.addListener(N,"dragenter",this.onDragEnter.bind(e)),o.addListener(N,"dragover",this.onDragOver.bind(e)),o.addListener(N,"dragleave",this.onDragLeave.bind(e)),o.addListener(N,"drop",this.onDrop.bind(e));var M=null}function i(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var a=e("../lib/dom"),o=e("../lib/event"),s=e("../lib/useragent"),l=200,c=200,u=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var n=s.isWin?"default":"move";e.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(s.isIE&&"dragReady"==this.state){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if("dragWait"===this.state){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton(),i=e.domEvent.detail||1;if(1===i&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var a=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in a&&(a.unselectable="on"),t.getDragDelay()){if(s.isWebKit){this.cancelDrag=!0;var o=t.container;o.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(r.prototype),t.DragdropHandler=r}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement("script");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){(n||!i.readyState||"loaded"==i.readyState||"complete"==i.readyState)&&(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,n){"use strict";var r={},i=function(){this.propagationStopped=!0},a=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=a),n=n.slice();for(var o=0;o<n.length&&(n[o](t,this),!t.propagationStopped);o++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;t&&this.addEventListener(e,function r(){n.removeEventListener(e,r),t.apply(null,arguments)})},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var a=i.indexOf(t);-1!=a&&i.splice(a,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t){n[e];r&&this.setDefaultHandler(e,r.pop())}else if(r){var i=r.indexOf(t);-1!=i&&r.splice(i,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"no use strict";function r(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function i(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var a=e("./oop"),o=e("./event_emitter").EventEmitter,s={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return r('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:r('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){a.implement(this,o),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)}),a.implement(e,s),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=r,this.reportError=i}).call(l.prototype),t.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,r){"no use strict";function i(i){if(c&&c.document){u.packaged=i||e.packaged||r.packaged||c.define&&n(165).packaged;for(var o={},s="",l=document.currentScript||document._currentScript,d=l&&l.ownerDocument||document,p=d.getElementsByTagName("script"),h=0;h<p.length;h++){var m=p[h],f=m.src||m.getAttribute("src");if(f){for(var g=m.attributes,v=0,b=g.length;b>v;v++){var y=g[v];0===y.name.indexOf("data-ace-")&&(o[a(y.name.replace(/^data-ace-/,""))]=y.value);
}var w=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);w&&(s=w[1])}}s&&(o.base=o.base||s,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var k in o)"undefined"!=typeof o[k]&&t.set(k,o[k])}}function a(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var o=e("./lib/lang"),s=(e("./lib/oop"),e("./lib/net")),l=e("./lib/app_config").AppConfig;r.exports=t=new l;var c=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return u[e]},t.set=function(e,t){if(!u.hasOwnProperty(e))throw new Error("Unknown config key: "+e);u[e]=t},t.all=function(){return o.copyObject(u)},t.moduleUrl=function(e,t){if(u.$moduleUrls[e])return u.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var r="snippets"==t?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var a=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(a,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var o=u[t+"Path"];return null==o?o=u.basePath:"/"==r&&(t=r=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return u.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,a;Array.isArray(n)&&(a=n[0],n=n[1]);try{i=e(n)}catch(o){}if(i&&!t.$loading[n])return r&&r(i);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var l=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach(function(t){t&&t(e)})})};return t.get("packaged")?void s.loadScript(t.moduleUrl(n,a),l):l()}},i(!0),t.init=i}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),a=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("../config"),u=function(e){var t=this;this.editor=e,new a(this),new o(this),new l(this);var n=function(t){var n=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());n&&window.focus(),e.focus()},s=e.renderer.getMouseEventTarget();r.addListener(s,"click",this.onMouseEvent.bind(this,"click")),r.addListener(s,"mousemove",this.onMouseMove.bind(this,"mousemove")),r.addMultiMouseDownListener([s,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),r.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var c=e.renderer.$gutter;r.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),r.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),r.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),r.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),r.addListener(s,"mousedown",n),r.addListener(c,"mousedown",n),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n),r.addListener(e.renderer.scrollBarH.element,"mousedown",n)),e.on("mousemove",function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),a=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?a.setCursorStyle("default"):a.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new s(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},this.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new s(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var a=this,o=function(e){if(e){if(i.isWebKit&&!e.which&&a.releaseMouse)return a.releaseMouse();a.x=e.clientX,a.y=e.clientY,t&&t(e),a.mouseEvent=new s(e,a.editor),a.$mouseMoved=!0}},l=function(e){clearInterval(u),c(),a[a.state+"End"]&&a[a.state+"End"](e),a.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),a.isMousePressed=!1,a.$onCaptureMouseMove=a.releaseMouse=null,e&&a.onMouseEvent("mouseup",e)},c=function(){a[a.state]&&a[a.state](),a.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});a.$onCaptureMouseMove=o,a.releaseMouse=r.capture(this.editor.container,o,l);var u=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(u.prototype),c.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,n){"use strict";function r(e){e.on("click",function(t){var n=t.getDocumentPosition(),r=e.session,i=r.getFoldAt(n.row,n.column,1);i&&(t.getAccelKey()?r.removeFold(i):r.expandFold(i),t.stop())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session,a=i.getParentFoldRangeData(r,!0),o=a.range||a.firstRange;if(o){r=o.start.row;var s=i.getFoldAt(r,i.getLine(r).length,1);s?i.removeFold(s):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}})}t.FoldHandler=r}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/event"),a=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1==t?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var a,o=!1,s=this.$editor.commands,l=this.$handlers.length;l--&&(a=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r),!(a&&a.command&&(o="null"==a.command?!0:s.exec(a.command,this.$editor,a.args,r),o&&r&&-1!=e&&1!=a.passEvent&&1!=a.command.passEvent&&i.stopEvent(r),o))););return o||-1!=e||(a={command:"insertstring"},o=s.exec("insertstring",this.$editor,t)),o&&this.$editor._signal("keyboardActivity",a),o},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(a.prototype),t.KeyBinding=a}),ace.define("ace/range",["require","exports","module"],function(e,t,n){"use strict";var r=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(r.row,r.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(r.row,r.column),-1==t?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return 0==this.compare(e,t)?this.isStart(e,t)?!1:!0:!1},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)var r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var a={row:e,column:t};return i.fromPoints(r||this.start,a||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=r,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),a=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){r.implement(this,a),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+e);var t=this.getSelectionAnchor(),n=this.getSelectionLead(),r=this.isBackwards();r&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(r||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,t===!0?new o(r,0,n,this.session.getLine(n).length):new o(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),a=i.match(/^\s*/);a[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=a[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,n=this.lead.column,r=this.doc.getLine(t),i=r.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var a=this.session.getFoldAt(t,n,1);return a?void this.moveCursorTo(a.end.row,a.end.column):((e=this.session.nonTokenRe.exec(i))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=r.substring(n)),n>=r.length?(this.moveCursorTo(t,r.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight())):((e=this.session.tokenRe.exec(i))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n)))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return void this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var a,o=i.stringReverse(r);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(a=this.session.nonTokenRe.exec(o))&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=n?(this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft())):((a=this.session.tokenRe.exec(o))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,n))},this.$shortWordEndIndex=function(e){var t,n,r=0,i=/\s/,a=this.session.tokenRe;if(a.lastIndex=0,t=this.session.tokenRe.exec(e))r=this.session.tokenRe.lastIndex;else{for(;(n=e[r])&&i.test(n);)r++;if(1>r)for(a.lastIndex=0;(n=e[r])&&!a.test(n);)if(a.lastIndex=0,r++,i.test(n)){if(r>2){r--;break}for(;(n=e[r])&&i.test(n);)r++;if(r>2)break}}return a.lastIndex=0,r},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var a=this.doc.getLength();do e++,r=this.doc.getLine(e);while(a>e&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var o=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do t--,r=this.doc.getLine(t);while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var a=i.stringReverse(r),o=this.$shortWordEndIndex(a);return this.moveCursorTo(t,n-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var r=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(r.row>0||e>0)&&r.row++,this.moveCursorTo(r.row,r.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(r){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(s.prototype),t.Selection=s}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,n){"use strict";var r=e("./config"),i=2e3,a=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],r=[],i=0,a=this.matchMappings[t]={defaultToken:"text"},o="g",s=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(a.defaultToken=c.defaultToken),c.caseInsensitive&&(o="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,d=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==d?c.token=c.token[0]:d-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:d-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(d>1?c.onMatch=this.$applyToken:c.onMatch=c.token),d>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+i+1)}):(d=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||s.push(c)),a[i]=l,i+=d,r.push(u),c.onMatch||(c.onMatch=null)}}r.length||(a[0]=0,r.push("$")),s.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)},this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var r=[],i=0,a=n.length;a>i;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,a=r.length;a>i;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,a,o,s,l){return r?r="]"!=s:s?r=!0:o?(n==i.stack&&(i.end=l+1,i.stack=-1),n--):a&&(n++,1!=a.length&&(i.stack=n,i.start=l)),e}),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);t=n[0],"#tmp"===t&&(n.shift(),t=n.shift())}else var n=[];var r=t||"start",a=this.states[r];a||(r="start",a=this.states[r]);var o=this.matchMappings[r],s=this.regExps[r];s.lastIndex=0;for(var l,c=[],u=0,d=0,p={type:null,value:""};l=s.exec(e);){var h=o.defaultToken,m=null,f=l[0],g=s.lastIndex;if(g-f.length>u){var v=e.substring(u,g-f.length);p.type==h?p.value+=v:(p.type&&c.push(p),p={type:h,value:v})}for(var b=0;b<l.length-2;b++)if(void 0!==l[b+1]){m=a[o[b]],h=m.onMatch?m.onMatch(f,r,n):m.token,m.next&&(r="string"==typeof m.next?m.next:m.next(r,n),a=this.states[r],a||(this.reportError("state doesn't exist",r),r="start",a=this.states[r]),o=this.matchMappings[r],u=g,s=this.regExps[r],s.lastIndex=g);break}if(f)if("string"==typeof h)m&&m.merge===!1||p.type!==h?(p.type&&c.push(p),p={type:h,value:f}):p.value+=f;else if(h){p.type&&c.push(p),p={type:null,value:""};for(var b=0;b<h.length;b++)c.push(h[b])}if(u==e.length)break;if(u=g,d++>i){for(d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)p.type&&c.push(p),p={value:e.substring(u,u+=2e3),type:"overflow"};r="start",n=[];break}}return p.type&&c.push(p),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=r.reportError}).call(a.prototype),t.Tokenizer=a}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var a=r[i];(a.next||a.onMatch)&&("string"==typeof a.next&&0!==a.next.indexOf(t)&&(a.next=t+a.next),a.nextState&&0!==a.nextState.indexOf(t)&&(a.nextState=t+a.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,a){var o="function"==typeof e?(new e).getRules():e;if(i)for(var s=0;s<i.length;s++)i[s]=t+i[s];else{i=[];for(var l in o)i.push(t+l)}if(this.addRules(o,t),n)for(var c=Array.prototype[a?"push":"unshift"],s=0;s<i.length;s++)c.apply(this.$rules[i[s]],r.deepCopy(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function n(a){var o=i[a];o.processed=!0;for(var s=0;s<o.length;s++){var l=o[s];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var u=l.stateName;u||(u=l.token,"string"!=typeof u&&(u=u[0]||""),i[u]&&(u+=r++)),i[u]=c,l.next=u,n(u)}else"pop"==c&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)i[d]?i[d].push&&i[d].push.apply(i[d],l.rules[d]):i[d]=l.rules[d];if(l.include||"string"==typeof l)var p=l.include||l,h=i[p];else Array.isArray(l)&&(h=l);if(h){var m=[s,1].concat(h);l.noEscape&&(m=m.filter(function(e){return!e.next})),o.splice.apply(o,m),s--,h=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var r=0,i=this.$rules;Object.keys(i).forEach(n,this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return Object.keys(e).forEach(function(t){var a=e[t];n&&(a=a.toLowerCase());for(var o=a.split(r||"|"),s=o.length;s--;)i[o[s]]=t}),Object.getPrototypeOf(i)&&(i.__proto__=null),this.$keywordList=Object.keys(i),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(r.prototype),t.Behaviour=r}),ace.define("ace/unicode",["require","exports","module"],function(e,t,n){"use strict";function r(e){var n=/\w{4}/g;for(var r in e)t.packages[r]=e[r].replace(n,"\\u$&")}t.packages={},r({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/token_iterator",["require","exports","module"],function(e,t,n){"use strict";var r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(r.prototype),t.TokenIterator=r}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,n){"use strict";var r=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,a=e("./behaviour").Behaviour,o=e("../unicode"),s=e("../lib/lang"),l=e("../token_iterator").TokenIterator,c=e("../range").Range,u=function(){this.HighlightRules=i,this.$behaviour=new a};(function(){this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules,this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){function i(e){for(var t=n;r>=t;t++)e(a.getLine(t),t)}var a=t.doc,o=!0,l=!0,c=1/0,u=t.getTabSize(),d=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var p=this.lineCommentStart.map(s.escapeRegExp).join("|"),h=this.lineCommentStart[0];else var p=s.escapeRegExp(this.lineCommentStart),h=this.lineCommentStart;p=new RegExp("^(\\s*)(?:"+p+") ?"),d=t.getUseSoftTabs();var m=function(e,t){var n=e.match(p);if(n){var r=n[1].length,i=n[0].length;b(e,r,i)||" "!=n[0][i-1]||i--,a.removeInLine(t,r,i)}},f=h+" ",g=function(e,t){(!o||/\S/.test(e))&&(b(e,c,c)?a.insertInLine({row:t,column:c},f):a.insertInLine({row:t,column:c},h))},v=function(e,t){return p.test(e)},b=function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%u!=0)return!1;for(var r=0;" "==e.charAt(n++);)r++;return u>2?r%u!=u-1:r%u==0}}else{if(!this.blockComment)return!1;var h=this.blockComment.start,y=this.blockComment.end,p=new RegExp("^(\\s*)(?:"+s.escapeRegExp(h)+")"),w=new RegExp("(?:"+s.escapeRegExp(y)+")\\s*$"),g=function(e,t){v(e,t)||(!o||/\S/.test(e))&&(a.insertInLine({row:t,column:e.length},y),a.insertInLine({row:t,column:c},h))},m=function(e,t){var n;(n=e.match(w))&&a.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(p))&&a.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(p.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}var k=1/0;i(function(e,t){var n=e.search(/\S/);-1!==n?(c>n&&(c=n),l&&!v(e,t)&&(l=!1)):k>e.length&&(k=e.length)}),c==1/0&&(c=k,o=!1,l=!1),d&&c%u!=0&&(c=Math.floor(c/u)*u),i(l?m:g)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var a,o,s=new l(t,r.row,r.column),u=s.getCurrentToken(),d=(t.selection,t.selection.toOrientedRange());if(u&&/comment/.test(u.type)){for(var p,h;u&&/comment/.test(u.type);){var m=u.value.indexOf(i.start);if(-1!=m){var f=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+m;p=new c(f,g,f,g+i.start.length);break}u=s.stepBackward()}for(var s=new l(t,r.row,r.column),u=s.getCurrentToken();u&&/comment/.test(u.type);){var m=u.value.indexOf(i.end);if(-1!=m){var f=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+m;h=new c(f,g,f,g+i.end.length);break}u=s.stepForward()}h&&t.remove(h),p&&(t.remove(p),a=p.start.row,o=-i.start.length)}else o=i.start.length,a=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);d.start.row==a&&(d.start.column+=o),d.end.row==a&&(d.end.column+=o),t.selection.fromOrientedRange(d)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<n.length;t++)!function(e){var r=n[t],i=e[r];e[n[t]]=function(){return this.$delegator(r,arguments,i)}}(this)},this.$delegator=function(e,t,n){var r=t[0];"string"!=typeof r&&(r=r[0]);for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var a=r.split(this.$embeds[i]);if(!a[0]&&a[1]){t[0]=a[1];var o=this.$modes[this.$embeds[i]];return o[e].apply(o,t)}}var s=n.apply(this,t);return n?s:void 0},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var a=this.$behaviour.getBehaviours();for(var o in a)if(a[o][t]){var s=a[o][t].apply(this,arguments);if(s)return s}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var i=t[r],a=0,o=i.length;o>a;a++)if("string"==typeof i[a].token)/keyword|support|storage/.test(i[a].token)&&n.push(i[a].regex);else if("object"==typeof i[a].token)for(var s=0,l=i[a].token.length;l>s;s++)if(/keyword|support|storage/.test(i[a].token[s])){var r=i[a].regex.match(/\(.+?\)/g)[s];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){var i=this.$keywordList||this.$createKeywordList();return i.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,a=e[r]||"";switch(t.action){case"insert":var o=t.lines;if(1===o.length)e[r]=a.substring(0,i)+t.lines[0]+a.substring(i);else{var s=[r,1].concat(t.lines);e.splice.apply(e,s),e[r]=a.substring(0,i)+e[r],e[r+t.lines.length-1]+=a.substring(i)}break;case"remove":var l=t.end.column,c=t.end.row;r===c?e[r]=a.substring(0,i)+a.substring(l):e.splice(r,c-r+1,a.substring(0,i)+e[c].substring(l))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,a=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function t(t,n,r){var i="insert"==t.action,a=(i?1:-1)*(t.end.row-t.start.row),o=(i?1:-1)*(t.end.column-t.start.column),s=t.start,l=i?s:t.end;return e(n,s,r)?{row:n.row,column:n.column}:e(l,n,!r)?{row:n.row+a,column:n.column+(n.row==l.row?o:0)}:{row:s.row,column:s.column}}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):0>e?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),0>t&&(n.column=0),n}}).call(a.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./apply_delta").applyDelta,a=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=e("./anchor").Anchor,l=function(e){
this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,a),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new s(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:0>e?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return void 0==t&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,a=n?this.getLine(i).length:0,s=r?t+1:t,l=r?0:this.getLine(s).length,c=new o(i,a,s,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var n;return n=t?this.insert(e.start,t):e.start},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),i(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length,i=e.start.row,a=e.start.column,o=0,s=0;;){o=s,s+=t-1;var l=n.slice(o,s);if(s>r){e.lines=l,e.start.row=i+o,e.start.column=a;break}l.push(""),this.applyDelta({start:this.pos(i+o,a),end:this.pos(i+s,a=0),action:e.action,lines:l},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,a=n.length;a>i;i++)if(e-=n[i].length+r,0>e)return{row:i,column:e+n[i].length+r};return{row:a-1,column:n[a-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,a=Math.min(e.row,n.length),o=t||0;a>o;++o)i+=n[o].length+r;return i+e.column}}).call(l.prototype),t.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,a=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,r=-1,i=n.doc,a=t;n.lines[t];)t++;var o=i.getLength(),s=0;for(n.running=!1;o>t;){n.$tokenizeRow(t),r=t;do t++;while(n.lines[t]);if(s++,s%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,r>=a&&n.fireUpdateEvent(a,r)}}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(a.prototype),t.BackgroundTokenizer=a}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var r=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),a=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,a){if(this.regExp)for(var o=a.firstRow,s=a.lastRow,l=o;s>=l;l++){var c=this.cache[l];null==c&&(c=r.getMatchOffsets(n.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new i(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(n),this.clazz,a)}}}).call(a.prototype),t.SearchHighlight=a}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,n){"use strict";function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var i=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,i,a,o=0,s=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;c<s.length;c++){if(r=s[c],i=r.range.compareStart(t,n),-1==i)return void e(null,t,n,o,l);if(a=e(null,r.start.row,r.start.column,o,l),a=!a&&e(r.placeholder,r.start.row,r.start.column,o),a||0===i)return;l=!r.sameRow,o=r.end.column}e(null,t,n,o,l)},this.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(n=this.folds[i],r=n.range.compareEnd(e,t),-1==r)return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,i,a=this.getNextFoldTo(e,t);if(a)if(r=a.fold,"inside"==a.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){i=this.folds;var o=i.indexOf(r);for(0===o&&(this.start.column+=n),o;o<i.length;o++){if(r=i[o],r.start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=n.fold,a=this.folds,o=this.foldData,s=a.indexOf(i),l=a[s-1];this.end.row=l.end.row,this.end.column=l.end.column,a=a.splice(s,a.length-s);var c=new r(o,a);return o.splice(o.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if(e-=r.start.column-t,0>e)return{row:r.start.row,column:r.start.column+e};if(e-=r.placeholder.length,0>e)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("./range").Range,i=r.comparePoints,a=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,a=n||0;a<r.length;a++){var o=r[a],s=i(e,o.end);if(!(s>0)){var l=i(e,o.start);return 0===s?t&&0!==l?-a-2:a:l>0||0===l&&!t?a:-a-1}}return-a-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);0>n&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return 0>r?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges.splice(t,1):void 0},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});for(var n,r=t[0],a=1;a<t.length;a++){n=r,r=t[a];var o=i(n.end,r.start);0>o||(0!=o||n.isEmpty()||r.isEmpty())&&(i(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),t.splice(a,1),e.push(r),r=n,a--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges[t]:void 0},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});0>r&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);0>i&&(i=-i-1);for(var a=[],o=r;i>o;o++)a.push(n[o]);return a},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,n=e.end;else var n=e.start,t=e.end;for(var r=t.row,i=n.row,a=i-r,o=-t.column+n.column,s=this.ranges,l=0,c=s.length;c>l;l++){var u=s[l];if(!(u.end.row<r)){if(u.start.row>r)break;if(u.start.row==r&&u.start.column>=t.column&&(u.start.column==t.column&&this.$insertRight||(u.start.column+=o,u.start.row+=a)),u.end.row==r&&u.end.column>=t.column){if(u.end.column==t.column&&this.$insertRight)continue;u.end.column==t.column&&o>0&&c-1>l&&u.end.column>u.start.column&&u.end.column==s[l+1].start.column&&(u.end.column-=o),u.end.column+=o,u.end.row+=a}}}if(0!=a&&c>l)for(;c>l;l++){var u=s[l];u.start.row+=a,u.end.row+=a}}}).call(a.prototype),t.RangeList=a}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,n){"use strict";function r(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function i(e,t){r(e.start,t),r(e.end,t)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function o(e,t){a(e.start,t),a(e.end,t)}var s=(e("../range").Range,e("../range_list").RangeList),l=e("../lib/oop"),c=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};l.inherits(c,s),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new c(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);i(e,this.start);for(var t=e.start.row,n=e.start.column,r=0,a=-1;r<this.subFolds.length&&(a=this.subFolds[r].range.compare(t,n),1==a);r++);var o=this.subFolds[r];if(0==a)return o.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,s=r,a=-1;s<this.subFolds.length&&(a=this.subFolds[s].range.compare(t,n),1==a);s++);this.subFolds[s];if(0==a)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(r,s-r,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return o(e,this.start)}}.call(c.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,n){"use strict";function r(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,a=0;a<i.length;a++){var o=i[a];if(o.range.contains(e,t)){if(1==n&&o.range.isEnd(e,t))continue;if(-1==n&&o.range.isStart(e,t))continue;return o}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var a=0;a<r.length;a++){var o=r[a].range.compareRange(e);if(2!=o){if(-2==o)break;for(var s=r[a].folds,l=0;l<s.length;l++){var c=s[l];if(o=c.range.compareRange(e),-2==o)break;if(2!=o){if(42==o)break;i.push(c)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(r=r||this.getFoldLine(e),!r)return null;for(var i,a,o={end:{column:0}},s=0;s<r.folds.length;s++){a=r.folds[s];var l=a.range.compareEnd(e,t);if(-1==l){i=this.getLine(a.start.row).substring(o.end.column,a.start.column);break}if(0===l)return null;o=a}return i||(i=this.getLine(a.start.row).substring(o.end.column)),-1==n?i.substring(0,t-o.end.column):1==n?i.substring(t-o.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0),r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0),r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var a=n[i],o=a.end.row,s=a.start.row;if(o>=t){t>s&&(s>=e?r-=t-s:r=0);break}o>=e&&(r-=s>=e?o-s:o-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,r=this.$foldData,i=!1;e instanceof o?n=e:(n=new o(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var s=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column;if(!(c>s||s==c&&u-2>=l))throw new Error("The range has to be at least 2 characters width");var d=this.getFoldAt(s,l,1),p=this.getFoldAt(c,u,-1);if(d&&p==d)return d.addSubFold(n);d&&!d.range.isStart(s,l)&&this.removeFold(d),p&&!p.range.isEnd(c,u)&&this.removeFold(p);var h=this.getFoldsInRange(n.range);h.length>0&&(this.removeFolds(h),h.forEach(function(e){n.addSubFold(e)}));for(var m=0;m<r.length;m++){var f=r[m];if(c==f.start.row){f.addFold(n),i=!0;break}if(s==f.end.row){if(f.addFold(n),i=!0,!n.sameRow){var g=r[m+1];if(g&&g.start.row==c){f.merge(g);break}}break}if(c<=f.start.row)break}return i||(f=this.$addFoldLine(new a(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(f.start.row,f.start.row):this.$updateRowLengthCache(f.start.row,f.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,a=t.folds;if(1==a.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))a.pop(),t.end.row=a[a.length-1].end.row,t.end.column=a[a.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))a.shift(),t.start.row=a[0].start.row,t.start.column=a[0].start.column;else if(e.sameRow)a.splice(a.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);a=o.folds,a.shift(),o.start.row=a[0].start.row,o.start.column=a[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),t)this.removeFolds(r);else for(var a=r;a.length;)this.expandFolds(a),a=this.getFoldsInRangeList(n);return r.length?r:void 0},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var a=this.doc,o="";return e.walk(function(e,t,n,s){if(!(r>t)){if(t==r){if(i>n)return;s=Math.max(i,s)}o+=null!=e?e:a.getLine(t).substring(s,n)}},t,n),o},this.getDisplayLine=function(e,t,n,r){var i=this.getFoldLine(e);if(i)return this.getFoldDisplayLine(i,e,t,n,r);var a;return a=this.doc.getLine(e),a.substring(r||0,t||a.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new a(e,n)})},this.toggleFold=function(e){var t,n,r=this.selection,i=r.getRange();if(i.isEmpty()){var a=i.start;if(t=this.getFoldAt(a.row,a.column))return void this.expandFold(t);(n=this.findMatchingBracket(a))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:a.row,column:a.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(a.row,a.column)||i}else{var o=this.getFoldsInRange(i);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())return void this.expandFold(t);var s="...";if(!i.isMultiLine()){if(s=this.getTextRange(i),s.length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,i)},this.getCommentFoldRange=function(e,t,n){var r=new s(this,e,t),a=r.getCurrentToken();if(a&&/^comment|string/.test(a.type)){var o=new i,l=new RegExp(a.type.replace(/\..*/,"\\."));if(1!=n){do a=r.stepBackward();while(a&&l.test(a.type));r.stepForward()}if(o.start.row=r.getCurrentTokenRow(),o.start.column=r.getCurrentTokenColumn()+2,r=new s(this,e,t),-1!=n){do a=r.stepForward();while(a&&l.test(a.type));a=r.stepBackward()}else a=r.getCurrentToken();return o.end.row=r.getCurrentTokenRow(),o.end.column=r.getCurrentTokenColumn()+a.value.length-2,o}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength(),e=e||0;for(var i=e;t>i;i++)if(null==r[i]&&(r[i]=this.getFoldWidget(i)),"start"==r[i]){var a=this.getFoldWidgetRange(i);if(a&&a.isMultiLine()&&a.end.row<=t&&a.start.row>=e){i=a.end.row;try{var o=this.addFold("...",a);o&&(o.collapseChildren=n)}catch(s){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!e||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,i=e-1;i>=0;){var a=n[i];if(null==a&&(a=n[i]=this.getFoldWidget(i)),"start"==a){var o=this.getFoldWidgetRange(i);if(r||(r=o),o&&o.end.row>=e)break}i--}return{range:-1!==i&&o,firstRange:r}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,n);if(!r){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,a=this.getFoldAt(e,-1===i?0:r.length,i);if(a)return void(t.children||t.all?this.removeFold(a):this.expandFold(a));var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()&&(a=this.getFoldAt(o.start.row,o.start.column,1),a&&o.isEqual(a.range)))return void this.removeFold(a);if(t.siblings){var s=this.getParentFoldRangeData(e);if(s.range)var l=s.range.start.row+1,c=s.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=o?o.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=e("../range").Range,a=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=r}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,n){"use strict";function r(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,i=n.charAt(e.column-1),o=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(o||(i=n.charAt(e.column),e={row:e.row,column:e.column+1},o=i&&i.match(/([\(\[\{])|([\)\]\}])/),r=!1),!o)return null;if(o[1]){var s=this.$findClosingBracket(o[1],e);if(!s)return null;t=a.fromPoints(e,s),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var s=this.$findOpeningBracket(o[2],e);if(!s)return null;t=a.fromPoints(s,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],a=1,o=new i(this,t.row,t.column),s=o.getCurrentToken();if(s||(s=o.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn()-2,c=s.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(a-=1,0==a)return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else u==e&&(a+=1);l-=1}do s=o.stepBackward();while(s&&!n.test(s.type));if(null==s)break;c=s.value,l=c.length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],a=1,o=new i(this,t.row,t.column),s=o.getCurrentToken();if(s||(s=o.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn();;){for(var c=s.value,u=c.length;u>l;){var d=c.charAt(l);if(d==r){if(a-=1,0==a)return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else d==e&&(a+=1);l+=1}do s=o.stepForward();while(s&&!n.test(s.type));if(null==s)break;l=0}return null}}}var i=e("../token_iterator").TokenIterator,a=e("../range").Range;t.BracketMatch=r}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),a=e("./config"),o=e("./lib/event_emitter").EventEmitter,s=e("./selection").Selection,l=e("./mode/text").Mode,c=e("./range").Range,u=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,h=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new s(this),a.resetOptions(this),this.setMode(t),a._signal("session",this)};(function(){function e(e){return 4352>e?!1:e>=4352&&4447>=e||e>=4515&&4519>=e||e>=4602&&4607>=e||e>=9001&&9002>=e||e>=11904&&11929>=e||e>=11931&&12019>=e||e>=12032&&12245>=e||e>=12272&&12283>=e||e>=12288&&12350>=e||e>=12353&&12438>=e||e>=12441&&12543>=e||e>=12549&&12589>=e||e>=12593&&12686>=e||e>=12688&&12730>=e||e>=12736&&12771>=e||e>=12784&&12830>=e||e>=12832&&12871>=e||e>=12880&&13054>=e||e>=13056&&19903>=e||e>=19968&&42124>=e||e>=42128&&42182>=e||e>=43360&&43388>=e||e>=44032&&55203>=e||e>=55216&&55238>=e||e>=55243&&55291>=e||e>=63744&&64255>=e||e>=65040&&65049>=e||e>=65072&&65106>=e||e>=65108&&65126>=e||e>=65128&&65131>=e||e>=65281&&65376>=e||e>=65504&&65510>=e}r.implement(this,o),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;r>=n;){var i=n+r>>1,a=e[i];
if(t>a)n=i+1;else{if(!(a>t))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||e.ignore||(this.$deltasDoc.push(e),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t)a=r.length-1,i=this.getLine(e).length;else for(var a=0;a<r.length&&(i+=r[a].value.length,!(i>=t));a++);return(n=r[a])?(n.index=a,n.start=i-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,a={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=a,this._signal("changeFrontMarker")):(this.$backMarkers[i]=a,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new c(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine="\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var i=/\s/;else var i=this.nonTokenRe;var a=t;if(a>0){do a--;while(a>=0&&n.charAt(a).match(i));a++}for(var o=t;o<n.length&&n.charAt(o).match(i);)o++;return new c(e,a,e,o)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[r]&&!n?(this.$onChangeMode(this.$modes[r]),void(t&&t())):(this.$modeId=r,a.loadModule(["mode",r],function(e){return this.$modeId!==r?t&&t():(this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),void(t&&t()))}.bind(this)),void(this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)))},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var r=this.onReloadTokenizer.bind(this);n.addEventListener("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new d(n);var i=this;this.bgTokenizer.addEventListener("update",function(e){i._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){a.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,a=this.$foldData[i],o=a?a.start.row:1/0,s=t.length,l=0;s>l;l++){if(l>o){if(l=a.end.row+1,l>=s)break;a=this.$foldData[i++],o=a?a.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>r&&(r=n[l])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=e.length-1;-1!=r;r--){var i=e[r];"doc"==i.group?(this.doc.revertDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!0,n)):i.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=0;r<e.length;r++){var i=e[r];"doc"==i.group&&(this.doc.applyDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function r(e){return t?"insert"!==e.action:"insert"===e.action}var i,a,o=e[0],s=!1;r(o)?(i=c.fromPoints(o.start,o.end),s=!0):(i=c.fromPoints(o.start,o.start),s=!1);for(var l=1;l<e.length;l++)o=e[l],r(o)?(a=o.start,-1==i.compare(a.row,a.column)&&i.setStart(a),a=o.end,1==i.compare(a.row,a.column)&&i.setEnd(a),s=!0):(a=o.start,-1==i.compare(a.row,a.column)&&(i=c.fromPoints(o.start,o.start)),s=!1);if(null!=n){0===c.comparePoints(n.start,i.start)&&(n.start.column+=i.end.column-i.start.column,n.end.column+=i.end.column-i.start.column);var u=n.compareRange(i);1==u?i.setStart(n.start):-1==u&&i.setEnd(n.end)}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),a=c.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row,s=o?-e.end.column:e.start.column-e.end.column;s&&(a.start.row==e.end.row&&a.start.column>e.end.column&&(a.start.column+=s),a.end.row==e.end.row&&a.end.column>e.end.column&&(a.end.column+=s)),o&&a.start.row>=e.end.row&&(a.start.row+=o,a.end.row+=o)}if(a.end=this.insert(a.start,r),i.length){var l=e.start,u=a.start,o=u.row-l.row,s=u.column-l.column;this.addFolds(i.map(function(e){return e=e.clone(),e.start.row==l.row&&(e.start.column+=s),e.end.row==l.row&&(e.end.column+=s),e.start.row+=o,e.end.row+=o,e}))}return a},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;t>=r;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new c(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var a=this.getLine(i);n.start.row=i,n.end.row=i;for(var o=0;r>o&&" "==a.charAt(o);++o);r>o&&"	"==a.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),0>n){var r=this.getRowFoldStart(e+n);if(0>r)return 0;var i=r-e}else if(n>0){var r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;var i=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var i=t-e+1}var a=new c(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(a).map(function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e}),s=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,s),o.length&&this.addFolds(o),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return 0>t?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),0>e)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,a=r.row,o=i.row,s=o-a,l=null;if(this.$updating=!0,0!=s)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(a,s);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=this.getFoldLine(i.row),d=0;if(u){u.addRemoveChars(i.row,i.column,r.column-i.column),u.shiftRow(-s);var p=this.getFoldLine(a);p&&p!==u&&(p.merge(u),u=p),d=c.indexOf(u)+1}for(d;d<c.length;d++){var u=c[d];u.start.row>=i.row&&u.shiftRow(-s)}o=a}else{var h=Array(s);h.unshift(a,0);var m=t?this.$wrapData:this.$rowLengthCache;m.splice.apply(m,h);var c=this.$foldData,u=this.getFoldLine(a),d=0;if(u){var f=u.range.compareInside(r.row,r.column);0==f?(u=u.split(r.row,r.column),u&&(u.shiftRow(s),u.addRemoveChars(o,0,i.column-r.column))):-1==f&&(u.addRemoveChars(a,0,i.column-r.column),u.shiftRow(s)),d=c.indexOf(u)+1}for(d;d<c.length;d++){var u=c[d];u.start.row>=a&&u.shiftRow(s)}}else{s=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),s=-s);var u=this.getFoldLine(a);u&&u.addRemoveChars(a,r.column,s)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(a,o):this.$updateRowLengthCache(a,o),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n,r,i=this.doc.getAllLines(),a=this.getTabSize(),o=this.$wrapData,l=this.$wrapLimit,c=e;for(t=Math.min(t,i.length-1);t>=c;)r=this.getFoldLine(c,r),r?(n=[],r.walk(function(e,t,r,a){var o;if(null!=e){o=this.$getDisplayTokens(e,n.length),o[0]=s;for(var l=1;l<o.length;l++)o[l]=u}else o=this.$getDisplayTokens(i[t].substring(a,r),n.length);n=n.concat(o)}.bind(this),r.end.row,i[r.end.row].length+1),o[r.start.row]=this.$computeWrapSplits(n,l,a),c=r.end.row+1):(n=this.$getDisplayTokens(i[c]),o[c]=this.$computeWrapSplits(n,l,a),c++)};var t=1,n=2,s=3,u=4,h=9,m=10,f=11,g=12;this.$computeWrapSplits=function(e,t,r){function i(){var t=0;if(0===b)return t;if(v)for(var n=0;n<e.length;n++){var i=e[n];if(i==m)t+=1;else{if(i!=f){if(i==g)continue;break}t+=r}}return p&&v!==!1&&(t+=r),Math.min(t,b)}function a(t){var n=e.slice(c,t),r=n.length;n.join("").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),o.length||(y=i(),o.indent=y),d+=r,o.push(d),c=t}if(0==e.length)return[];for(var o=[],l=e.length,c=0,d=0,p=this.$wrapAsCode,v=this.$indentedSoftWrap,b=t<=Math.max(2*r,8)||v===!1?0:Math.floor(t/2),y=0;l-c>t-y;){var w=c+t-y;if(e[w-1]>=m&&e[w]>=m)a(w);else if(e[w]!=s&&e[w]!=u){for(var k=Math.max(w-(t-(t>>2)),c-1);w>k&&e[w]<s;)w--;if(p){for(;w>k&&e[w]<s;)w--;for(;w>k&&e[w]==h;)w--}else for(;w>k&&e[w]<m;)w--;w>k?a(++w):(w=c+t,e[w]==n&&w--,a(w-y))}else{for(w;w!=c-1&&e[w]!=s;w--);if(w>c){a(w);continue}for(w=c+t;w<e.length&&e[w]==u;w++);if(w==e.length)break;a(w)}}return o},this.$getDisplayTokens=function(r,i){var a,o=[];i=i||0;for(var s=0;s<r.length;s++){var l=r.charCodeAt(s);if(9==l){a=this.getScreenTabSize(o.length+i),o.push(f);for(var c=1;a>c;c++)o.push(g)}else 32==l?o.push(m):l>39&&48>l||l>57&&64>l?o.push(h):l>=4352&&e(l)?o.push(t,n):o.push(t)}return o},this.$getStringScreenWidth=function(t,n,r){if(0==n)return[0,0];null==n&&(n=1/0),r=r||0;var i,a;for(a=0;a<t.length&&(i=t.charCodeAt(a),r+=9==i?this.getScreenTabSize(r):i>=4352&&e(i)?2:1,!(r>n));a++);return[r,a]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(0>e)return{row:0,column:0};var n,r,i=0,a=0,o=0,s=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var o=l[c],i=this.$docRowCache[c],d=e>l[u-1];else var d=!u;for(var p=this.getLength()-1,h=this.getNextFoldLine(i),m=h?h.start.row:1/0;e>=o&&(s=this.getRowLength(i),!(o+s>e||i>=p));)o+=s,i++,i>m&&(i=h.end.row+1,h=this.getNextFoldLine(i,h),m=h?h.start.row:1/0),d&&(this.$docRowCache.push(i),this.$screenRowCache.push(o));if(h&&h.start.row<=i)n=this.getFoldDisplayLine(h),i=h.start.row;else{if(e>=o+s||i>p)return{row:p,column:this.getLine(p).length};n=this.getLine(i),h=null}var f=0;if(this.$useWrapMode){var g=this.$wrapData[i];if(g){var v=Math.floor(e-o);r=g[v],v>0&&g.length&&(f=g.indent,a=g[v-1]||g[g.length-1],n=n.substring(a))}}return a+=this.$getStringScreenWidth(n,t-f)[1],this.$useWrapMode&&a>=r&&(a=r-1),h?h.idxToPosition(a):{row:i,column:a}},this.documentToScreenPosition=function(e,t){if("undefined"==typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,a=null;a=this.getFoldAt(e,t,1),a&&(e=a.start.row,t=a.start.column);var o,s=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var s=l[c],r=this.$screenRowCache[c],d=e>l[u-1];else var d=!u;for(var p=this.getNextFoldLine(s),h=p?p.start.row:1/0;e>s;){if(s>=h){if(o=p.end.row+1,o>e)break;p=this.getNextFoldLine(o,p),h=p?p.start.row:1/0}else o=s+1;r+=this.getRowLength(s),s=o,d&&(this.$docRowCache.push(s),this.$screenRowCache.push(r))}var m="";p&&s>=h?(m=this.getFoldDisplayLine(p,e,t),i=p.start.row):(m=this.getLine(e).substring(0,t),i=e);var f=0;if(this.$useWrapMode){var g=this.$wrapData[i];if(g){for(var v=0;m.length>=g[v];)r++,v++;m=m.substring(g[v-1]||0,m.length),f=v>0?g.indent:0}}return{row:r,column:f+this.$getStringScreenWidth(m)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,i=0,t=this.$foldData[i++],a=t?t.start.row:1/0;n>r;){var o=this.$wrapData[r];e+=o?o.length+1:1,r++,r>a&&(r=t.end.row+1,t=this.$foldData[i++],a=t?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,i=0;i<s.length;i++)t=s[i],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];n||(n=1/0),r=r||0;var i,a;for(a=0;a<t.length&&(i=t.charAt(a),r+="	"===i?this.getScreenTabSize(r):e.getCharacterWidth(i),!(r>n));a++);return[r,a]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(h.prototype),e("./edit_session/folding").Folding.call(h.prototype),e("./edit_session/bracket_match").BracketMatch.call(h.prototype),a.defineOptions(h.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=h}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,n){"use strict";var r=e("./lib/lang"),i=e("./lib/oop"),a=e("./range").Range,o=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach(function(e,n,i){if(e.start)r=e;else{var o=e.offset+(i||0);if(r=new a(n,o,n,o+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))return r=null,!1}return!0}),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],s=t.re;if(t.$isMultiLine){var l,c=s.length,u=i.length-c;e:for(var d=s.offset||0;u>=d;d++){for(var p=0;c>p;p++)if(-1==i[d+p].search(s[p]))continue e;var h=i[d],m=i[d+c-1],f=h.length-h.match(s[0])[0].length,g=m.match(s[c-1])[0].length;l&&l.end.row===d&&l.end.column>f||(o.push(l=new a(d,f,d+c-1,g)),c>2&&(d=d+c-2))}}else for(var v=0;v<i.length;v++)for(var b=r.getMatchOffsets(i[v],s),p=0;p<b.length;p++){var y=b[p];o.push(new a(v,y.offset,v,y.offset+y.length))}if(n){for(var w=n.start.column,k=n.start.column,v=0,p=o.length-1;p>v&&o[v].start.column<w&&o[v].start.row==n.start.row;)v++;for(;p>v&&o[p].end.column>k&&o[p].end.row==n.end.row;)p--;for(o=o.slice(v,p+1),v=0,p=o.length;p>v;v++)o[v].start.row+=n.start.row,o[v].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var a=Math.min(e.length,e.length);a--;){var o=e[a];o&&o.toLowerCase()!=o?t[a]=t[a].toUpperCase():t[a]=t[a].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i;if(t.$isMultiLine)var o=n.length,s=function(t,r,s){var l=t.search(n[0]);if(-1!=l){for(var c=1;o>c;c++)if(t=e.getLine(r+c),-1==t.search(n[c]))return;var u=t.match(n[o-1])[0].length,d=new a(r,l,r+o-1,u);return 1==n.offset?(d.start.row--,d.start.column=Number.MAX_VALUE):s&&(d.start.column+=s),i(d)?!0:void 0}};else if(t.backwards)var s=function(e,t,a){for(var o=r.getMatchOffsets(e,n),s=o.length-1;s>=0;s--)if(i(o[s],t,a))return!0};else var s=function(e,t,a){for(var o=r.getMatchOffsets(e,n),s=0;s<o.length;s++)if(i(o[s],t,a))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){i=e,l.forEach(s)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n="\\b"+n+"\\b");var i=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var a=new RegExp(n,i)}catch(o){a=!1}return e.re=a},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(a){return!1}return""==n[0]?(r.shift(),r.offset=1):r.offset=0,r},this.$lineIterator=function(e,t){var n=1==t.backwards,r=0!=t.skipCurrent,i=t.range,a=t.start;a||(a=i?i[n?"end":"start"]:e.selection.getRange()),a.start&&(a=a[r!=n?"end":"start"]);var o=i?i.start.row:0,s=i?i.end.row:e.getLength()-1,l=n?function(n){var r=a.row,i=e.getLine(r).substring(0,a.column);if(!n(i,r)){for(r--;r>=o;r--)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=s,o=a.row;r>=o;r--)if(n(e.getLine(r),r))return}}:function(n){var r=a.row,i=e.getLine(r).substr(a.column);if(!n(i,r,a.column)){for(r+=1;s>=r;r++)if(n(e.getLine(r),r))return;if(0!=t.wrap)for(r=o,s=a.row;s>=r;r++)if(n(e.getLine(r),r))return}};return{forEach:l}}}).call(o.prototype),t.Search=o}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,n){"use strict";function r(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function i(e,t){r.call(this,e,t),this.$singleCommand=!1}var a=e("../lib/keys"),o=e("../lib/useragent"),s=a.KEY_MODS;i.prototype=r.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||0}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var a=r[i];if(a==e)delete r[i];else if(Array.isArray(a)){var o=a.indexOf(e);-1!=o&&(a.splice(o,1),1==a.length&&(r[i]=a[0]))}}},this.bindKey=function(e,t,n){return"object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e?"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var r="";if(-1!=e.indexOf(" ")){var i=e.split(/\s+/);e=i.pop(),i.forEach(function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")},this),r+=" "}var a=this.parseKeys(e),o=s[a.hashId]+a.key;this._addCommandToBinding(r+o,t,n)},this):void 0},this._addCommandToBinding=function(t,n,r){var i,a=this.commandKeyBinding;if(n)if(!a[t]||this.$singleCommand)a[t]=n;else{Array.isArray(a[t])?-1!=(i=a[t].indexOf(n))&&a[t].splice(i,1):a[t]=[a[t]],"number"!=typeof r&&(r=r||n.isDefault?-100:e(n));var o=a[t];for(i=0;i<o.length;i++){var s=o[i],l=e(s);if(l>r)break}o.splice(i,0,n)}else delete a[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),r=a[n];if(a.FUNCTION_KEYS[r])n=a.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var i=0,o=t.length;o--;){var s=a.KEY_MODS[t[o]];if(null==s)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;i|=s}return{key:n,hashId:i}},this.findKeyCommand=function(e,t){var n=s[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){if(!(0>r)){var i=s[t]+n,a=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,a=this.commandKeyBinding[e.$keyChain]||a),!a||"chainKeys"!=a&&"chainKeys"!=a[a.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:a}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(r.prototype),t.HashHandler=r,t.MultiHashHandler=i}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,a=e("../lib/event_emitter").EventEmitter,o=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(o,i),function(){r.implement(this,a),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),i.returnValue===!1?!1:!0},this.toggleRecording=function(e){return this.$inReplay?void 0:(e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),
this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,n){"use strict";function r(e,t){return{win:e,mac:t}}var i=e("../lib/lang"),a=e("../config"),o=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:r("Ctrl-,","Command-,"),exec:function(e){a.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:r("Alt-E","Ctrl-E"),exec:function(e){a.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:r("Alt-Shift-E","Ctrl-Shift-E"),exec:function(e){a.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:r("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:r(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:r("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:r("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:r("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:r("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:r("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:r("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:r("Ctrl-F","Command-F"),exec:function(e){a.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:r("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:r("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:r("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:r("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:r("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:r("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:r("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:r("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:r("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:r("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:r("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:r("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:r("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:r("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:r(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:r(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:r("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:r("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:r("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:r("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:r("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:r(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:r("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:r("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(e){a.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:r("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:r("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:r("Shift-Delete",null),exec:function(e){return e.selection.isEmpty()?void e.remove("left"):!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:r("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:r("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:r(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:r("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:r(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),a=e.session.doc.getLine(n.row).length,s=e.session.doc.getTextRange(e.selection.getRange()),l=s.replace(/\n\s*/," ").length,c=e.session.doc.getLine(n.row),u=n.row+1;u<=r.row+1;u++){var d=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(u)));0!==d.length&&(d=" "+d),c+=d}r.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),c),l>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+l)):(a=e.session.doc.getLine(n.row).length>a?a+1:a,e.selection.moveCursorTo(n.row,a))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:r(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var a=0;a<r.length;a++)a==r.length-1&&(r[a].end.row!==t||r[a].end.column!==n)&&i.push(new o(r[a].end.row,r[a].end.column,t,n)),0===a?(0!==r[a].start.row||0!==r[a].start.column)&&i.push(new o(0,0,r[a].start.row,r[a].start.column)):i.push(new o(r[a-1].end.row,r[a-1].end.column,r[a].start.row,r[a].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var a=0;a<i.length;a++)e.selection.addRange(i[a],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),i=e("./lib/dom"),a=e("./lib/lang"),o=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,d=e("./edit_session").EditSession,p=e("./search").Search,h=e("./range").Range,m=e("./lib/event_emitter").EventEmitter,f=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,v=e("./config"),b=e("./token_iterator").TokenIterator,y=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new f(o.isMac?"mac":"win",g),this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new u(this),this.$mouseHandler=new l(this),new c(this),this.$blockScrolling=0,this.$search=(new p).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=a.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new d("")),v.resetOptions(this),v._signal("editor",this)};(function(){r.implement(this,m),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=a.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var r=new h(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var r=t.$mode.getMatching(e.session);r&&(t.$bracketHighlight=t.addMarker(r,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),r=new b(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==i.type.indexOf("tag-open")||(i=r.stepForward())){var a=i.value,o=0,s=r.stepBackward();if("<"==s.value){do s=i,i=r.stepForward(),i&&i.value===a&&-1!==i.type.indexOf("tag-name")&&("<"===s.value?o++:"</"===s.value&&o--);while(i&&o>=0)}else{do i=s,s=r.stepBackward(),i&&i.value===a&&-1!==i.type.indexOf("tag-name")&&("<"===s.value?o++:"</"===s.value&&o--);while(s&&0>=o);r.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=r.getCurrentTokenRow(),c=r.getCurrentTokenColumn(),u=new h(l,c,l,c+i.value.length);t.$tagHighlight&&0!==u.compareRange(t.$backMarkers[t.$tagHighlight].range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),u&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new h(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,r=t.end.column+1,i=e.getLine(t.start.row),a=i.length,o=i.substring(Math.max(n,0),Math.min(r,a));if(!(n>=0&&/^[\w\d]/.test(o)||a>=r&&/[\w\d]$/.test(o))&&(o=i.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(o))){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o});return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var n=t.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges;if(n.length>r.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var i=r.length;i--;){var a=r[i];a.isEmpty()||this.session.remove(a),this.session.insert(a.start,n[i])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var a=r.transformAction(n.getState(i.row),"insertion",this,n,e);a&&(e!==a.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=a.text)}if("	"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var o=new h.fromPoints(i,i);o.end.column+=e.length,this.session.remove(o)}}else{var o=this.getSelectionRange();i=this.session.remove(o),this.clearSelection()}if("\n"==e||"\r\n"==e){var s=n.getLine(i.row);if(i.column>s.search(/\S|$/)){var l=s.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+l)}}this.clearSelection();var c=i.column,u=n.getState(i.row),s=n.getLine(i.row),d=r.checkOutdent(u,s,e);n.insert(i,e);if(a&&a.selection&&(2==a.selection.length?this.selection.setSelectionRange(new h(i.row,c+a.selection[0],i.row,c+a.selection[1])):this.selection.setSelectionRange(new h(i.row+a.selection[0],a.selection[1],i.row+a.selection[2],a.selection[3]))),n.getDocument().isNewLine(e)){var p=r.getNextLineIndent(u,s.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},p)}d&&r.autoOutdent(u,n,i.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){
this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var a=n.getTextRange(t);if("\n"==a[a.length-1]){var o=n.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new h(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new h(e.row,t-2,e.row,t)),this.session.replace(r,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"	")}if(t.start.column<t.end.column){var r=e.getTextRange(t);if(!/^\s+$/.test(r)){var n=this.$getSelectedRows();return void e.indentRows(n.first,n.last,"	")}}var i=e.getLine(t.start.row),o=t.start,s=e.getTabSize(),l=e.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var c=s-l%s,u=a.stringRepeat(" ",c);else{for(var c=l%s;" "==i[t.start.column]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),u="	"}return this.insert(u)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"	")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var r=new h(0,0,0,0),i=e.first;i<=e.last;i++){var a=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=a.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var a={value:i[0],start:i.index,end:i.index+i[0].length};return a}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new h(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var a=this.getNumberAt(t,n);if(a){var o=a.value.indexOf(".")>=0?a.start+a.value.indexOf(".")+1:a.end,s=a.start+a.value.length-o,l=parseFloat(a.value);l*=Math.pow(10,s),e*=o!==a.end&&o>n?Math.pow(10,a.end-n-1):Math.pow(10,a.end-n),l+=e,l/=Math.pow(10,s);var c=l.toFixed(s),u=new h(t,a.start,t,a.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(a.start+1,n+c.length-a.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var a=r?n.start:n.end,o=t.insert(a,t.getTextRange(n),!1);n.start=a,n.end=o,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var a=i.toOrientedRange();n=this.$getSelectedRows(a),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),a.moveBy(r,0),i.fromOrientedRange(a)}else{var o=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var s=0,l=0,c=o.length,u=0;c>u;u++){var d=u;o[u].moveBy(s,0),n=this.$getSelectedRows(o[u]);for(var p=n.first,h=n.last;++u<c;){l&&o[u].moveBy(l,0);var m=this.$getSelectedRows(o[u]);if(t&&m.first!=h)break;if(!t&&m.first>h+1)break;h=m.last}for(u--,s=this.session.$moveLines(p,h,t?0:e),t&&-1==e&&(d=u+1);u>=d;)o[d].moveBy(s,0),d++;t||(s=0),l+=s}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(i,0)}):t===!1&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection()),this.$blockScrolling--;var a=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(a)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new b(this.session,n.row,n.column),i=r.getCurrentToken(),a=i||r.stepForward();if(a){var o,s,l=!1,c={},u=n.column-a.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(a.value.match(/[{}()\[\]]/g)){for(;u<a.value.length&&!l;u++)if(d[a.value[u]])switch(s=d[a.value[u]]+"."+a.type.replace("rparen","lparen"),isNaN(c[s])&&(c[s]=0),a.value[u]){case"(":case"[":case"{":c[s]++;break;case")":case"]":case"}":c[s]--,-1===c[s]&&(o="bracket",l=!0)}}else a&&-1!==a.type.indexOf("tag-name")&&(isNaN(c[a.value])&&(c[a.value]=0),"<"===i.value?c[a.value]++:"</"===i.value&&c[a.value]--,-1===c[a.value]&&(o="tag",l=!0));l||(i=a,a=r.stepForward(),u=0)}while(a&&!l);if(o){var p,m;if("bracket"===o)p=this.session.getBracketRange(n),p||(p=new h(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1),m=p.start,(t||m.row===n.row&&Math.abs(m.column-n.column)<2)&&(p=this.session.getBracketRange(m)));else if("tag"===o){if(!a||-1===a.type.indexOf("tag-name"))return;var f=a.value;if(p=new h(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2),0===p.compare(n.row,n.column)){l=!1;do a=i,i=r.stepBackward(),i&&(-1!==i.type.indexOf("tag-close")&&p.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),a.value===f&&-1!==a.type.indexOf("tag-name")&&("<"===i.value?c[f]++:"</"===i.value&&c[f]--,0===c[f]&&(l=!0)));while(i&&!l)}a&&a.type.indexOf("tag-name")&&(m=p.start,m.row==n.row&&Math.abs(m.column-n.column)<2&&(m=p.end))}m=p&&p.cursor||m,m&&(e?p&&t?this.selection.setRange(p):p&&p.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(m.row,m.column):this.selection.moveTo(m.row,m.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;this.$blockScrolling+=1;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var a=n.length-1;a>=0;--a)this.$tryReplace(n[a],e)&&r++;return this.selection.setSelectionRange(i),this.$blockScrolling-=1,r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(i)||this.$search.$options.needle,e||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var a=this.$search.find(this.session);return t.preventScroll?a:a?(this.revealRange(a,n),a):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var a=this.on("changeSelection",function(){r=!0}),o=this.renderer.on("beforeRender",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),s=this.renderer.on("afterRender",function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,a=e.$cursorLayer.$pixelPos,o=e.layerConfig,s=a.top-o.offset;r=a.top>=0&&s+t.top<0?!0:a.top<o.height&&a.top+t.top+o.lineHeight>window.innerHeight?!1:null,null!=r&&(i.style.top=s+"px",i.style.left=a.left+"px",i.style.height=o.lineHeight+"px",i.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",a),this.renderer.off("afterRender",s),this.renderer.off("beforeRender",o))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(y.prototype),v.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=y}),ace.define("ace/undomanager",["require","exports","module"],function(e,t,n){"use strict";var r=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:1==e.lines.length?null:e.lines,text:1==e.lines.length?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function n(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++){for(var i=e[r],a={group:i.group,deltas:new Array(i.length)},o=0;o<i.deltas.length;o++){var s=i.deltas[o];a.deltas[o]=t(s)}n[r]=a}return n}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return n(t,e)},this.$deserializeDeltas=function(e){return n(e,t)}}).call(r.prototype),t.UndoManager=r}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),a=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,s=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var o=n.text;o=o?a.escapeHTML(o):n.html||"",-1===i.text.indexOf(o)&&i.text.push(o);var s=n.type;"error"==s?i.className=" ace_error":"warning"==s&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=s||i.className||(i.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){for(var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),a=t.getNextFoldLine(n),o=a?a.start.row:1/0,s=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,c=t.$decorations,u=t.$firstLineNumber,d=0,p=t.gutterRenderer||this.$renderer,h=null,m=-1,f=n;;){if(f>o&&(f=a.end.row+1,a=t.getNextFoldLine(f,a),o=a?a.start.row:1/0),f>i){for(;this.$cells.length>m+1;)h=this.$cells.pop(),this.element.removeChild(h.element);break}h=this.$cells[++m],h||(h={element:null,textNode:null,foldWidget:null},h.element=r.createElement("div"),h.textNode=document.createTextNode(""),h.element.appendChild(h.textNode),this.element.appendChild(h.element),this.$cells[m]=h);var g="ace_gutter-cell ";l[f]&&(g+=l[f]),c[f]&&(g+=c[f]),this.$annotations[f]&&(g+=this.$annotations[f].className),h.element.className!=g&&(h.element.className=g);var v=t.getRowLength(f)*e.lineHeight+"px";if(v!=h.element.style.height&&(h.element.style.height=v),s){var b=s[f];null==b&&(b=s[f]=t.getFoldWidget(f))}if(b){h.foldWidget||(h.foldWidget=r.createElement("span"),h.element.appendChild(h.foldWidget));var g="ace_fold-widget ace_"+b;g+="start"==b&&f==o&&f<a.end.row?" ace_closed":" ace_open",h.foldWidget.className!=g&&(h.foldWidget.className=g);var v=e.lineHeight+"px";h.foldWidget.style.height!=v&&(h.foldWidget.style.height=v)}else h.foldWidget&&(h.element.removeChild(h.foldWidget),h.foldWidget=null);var y=d=p?p.getText(t,f):f+u;y!=h.textNode.data&&(h.textNode.data=y),f++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(d=t.getLength()+u);var w=p?p.getWidth(t,d,e):d.toString().length*e.characterWidth,k=this.$padding||this.$computePadding();w+=k.left+k.right,w===this.gutterWidth||isNaN(w)||(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(s.prototype),t.Gutter=s}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,n){"use strict";var r=e("../range").Range,i=e("../lib/dom"),a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,r){return(e?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var a=this.$getTop(i.start.row,e),o=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,o,a,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,i,a,o){for(var s=this.session,l=n.start.row,c=n.end.row,u=l,d=0,p=0,h=s.getScreenLastRowColumn(u),m=new r(u,n.start.column,u,p);c>=u;u++)m.start.row=m.end.row=u,m.start.column=u==l?n.start.column:s.getRowWrapIndent(u),m.end.column=h,d=p,p=h,h=c>u+1?s.getScreenLastRowColumn(u+1):u==c?0:n.end.column,this.drawSingleLineMarker(t,m,i+(u==l?" ace_start":"")+" ace_br"+e(u==l||u==l+1&&n.start.column,p>d,p>h,u==c),a,u==c?0:1,o)},this.drawMultiLineMarker=function(e,t,n,r,i){var a=this.$padding,o=r.lineHeight,s=this.$getTop(t.start.row,r),l=a+t.start.column*r.characterWidth;i=i||"",e.push("<div class='",n," ace_br1 ace_start' style='","height:",o,"px;","right:0;","top:",s,"px;","left:",l,"px;",i,"'></div>"),s=this.$getTop(t.end.row,r);var c=t.end.column*r.characterWidth;if(e.push("<div class='",n," ace_br12' style='","height:",o,"px;","width:",c,"px;","top:",s,"px;","left:",a,"px;",i,"'></div>"),o=(t.end.row-t.start.row-1)*r.lineHeight,!(0>=o)){s=this.$getTop(t.start.row+1,r);var u=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",n,u?" ace_br"+u:"","' style='","height:",o,"px;","right:0;","top:",s,"px;","left:",a,"px;",i,"'></div>")}},this.drawSingleLineMarker=function(e,t,n,r,i,a){var o=r.lineHeight,s=(t.end.column+(i||0)-t.start.column)*r.characterWidth,l=this.$getTop(t.start.row,r),c=this.$padding+t.start.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",o,"px;","width:",s,"px;","top:",l,"px;","left:",c,"px;",a||"","'></div>")},this.drawFullLineMarker=function(e,t,n,r,i){var a=this.$getTop(t.start.row,r),o=r.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,r)-a),e.push("<div class='",n,"' style='","height:",o,"px;","top:",a,"px;","left:0;right:0;",i||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,r,i){var a=this.$getTop(t.start.row,r),o=r.lineHeight;e.push("<div class='",n,"' style='","height:",o,"px;","top:",a,"px;","left:0;right:0;",i||"","'></div>")}}).call(a.prototype),t.Marker=a}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/dom"),a=e("../lib/lang"),o=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),s=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){r.implement(this,o),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;return this.EOL_CHAR!=e?(this.EOL_CHAR=e,!0):void 0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;e+1>n;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+a.stringRepeat(this.TAB_CHAR,n)+"</span>"):t.push(a.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r="ace_indent-guide",i="",o="";if(this.showInvisibles){r+=" ace_invisible",i=" ace_invisible_space",o=" ace_invisible_tab";var s=a.stringRepeat(this.SPACE_CHAR,this.tabSize),l=a.stringRepeat(this.TAB_CHAR,this.tabSize);
}else var s=a.stringRepeat(" ",this.tabSize),l=s;this.$tabStrings[" "]="<span class='"+r+i+"'>"+s+"</span>",this.$tabStrings["	"]="<span class='"+r+o+"'>"+l+"</span>"}},this.updateLines=function(e,t,n){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),a=this.element.childNodes,o=0,s=e.firstRow;r>s;s++){var l=this.session.getFoldLine(s);if(l){if(l.containsRow(r)){r=l.start.row;break}s=l.end.row}o++}for(var s=r,l=this.session.getNextFoldLine(s),c=l?l.start.row:1/0;;){if(s>c&&(s=l.end.row+1,l=this.session.getNextFoldLine(s,l),c=l?l.start.row:1/0),s>i)break;var u=a[o++];if(u){var d=[];this.$renderLine(d,s,!this.$useLineGroups(),s==c?l:!1),u.style.height=e.lineHeight*this.session.getRowLength(s)+"px",u.innerHTML=d.join("")}s++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var i=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}if(e.lastRow>t.lastRow){var i=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(i)}},this.$renderLinesFragment=function(e,t,n){for(var r=this.element.ownerDocument.createDocumentFragment(),a=t,o=this.session.getNextFoldLine(a),s=o?o.start.row:1/0;;){if(a>s&&(a=o.end.row+1,o=this.session.getNextFoldLine(a,o),s=o?o.start.row:1/0),a>n)break;var l=i.createElement("div"),c=[];if(this.$renderLine(c,a,!1,a==s?o:!1),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",r.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(a)+"px";else for(;l.firstChild;)r.appendChild(l.firstChild);a++}return r},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,r=e.lastRow,i=n,a=this.session.getNextFoldLine(i),o=a?a.start.row:1/0;;){if(i>o&&(i=a.end.row+1,a=this.session.getNextFoldLine(i,a),o=a?a.start.row:1/0),i>r)break;this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(i),"px'>"),this.$renderLine(t,i,!1,i==o?a:!1),this.$useLineGroups()&&t.push("</div>"),i++}this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var i=this,o=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,s=function(e,n,r,o,s){if(n)return i.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+a.stringRepeat(i.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("	"==e){var l=i.session.getScreenTabSize(t+o);return t+=l-1,i.$tabStrings[l]}if("　"==e){var c=i.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=i.showInvisibles?i.SPACE_CHAR:"";return t+=1,"<span class='"+c+"' style='width:"+2*i.config.characterWidth+"px'>"+u+"</span>"}return r?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+i.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*i.config.characterWidth+"px'>"+e+"</span>")},l=r.replace(o,s);if(this.$textToken[n.type])e.push(l);else{var c="ace_"+n.type.replace(/\./g," ace_"),u="";"fold"==n.type&&(u=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",c,"'",u,">",l,"</span>")}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);return 0>=r||r>=n?t:" "==t[0]?(r-=r%this.tabSize,e.push(a.stringRepeat(this.$tabStrings[" "],r/this.tabSize)),t.substr(r)):"	"==t[0]?(e.push(a.stringRepeat(this.$tabStrings["	"],r)),t.substr(r)):t},this.$renderWrappedLine=function(e,t,n,r){for(var i=0,o=0,s=n[0],l=0,c=0;c<t.length;c++){var u=t[c],d=u.value;if(0==c&&this.displayIndentGuides){if(i=d.length,d=this.renderIndentGuide(e,d,s),!d)continue;i-=d.length}if(i+d.length<s)l=this.$renderToken(e,l,u,d),i+=d.length;else{for(;i+d.length>=s;)l=this.$renderToken(e,l,u,d.substring(0,s-i)),d=d.substring(s-i),i=s,r||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(a.stringRepeat(" ",n.indent)),o++,l=0,s=n[o]||Number.MAX_VALUE;0!=d.length&&(i+=d.length,l=this.$renderToken(e,l,u,d))}}},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var a=1;a<t.length;a++)r=t[a],i=r.value,n=this.$renderToken(e,n,r,i)},this.$renderLine=function(e,t,n,r){if(r||0==r||(r=this.session.getFoldLine(t)),r)var i=this.$getFoldLineTokens(t,r);else var i=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),i.length){var a=this.session.getRowSplitData(t);a&&a.length?this.$renderWrappedLine(e,i,a,n):this.$renderSimpleLine(e,i)}this.showInvisibles&&(r&&(t=r.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var r=0,a=0;a+e[r].value.length<t;)if(a+=e[r].value.length,r++,r==e.length)return;if(a!=t){var o=e[r].value.substring(t-a);o.length>n-t&&(o=o.substring(0,n-t)),i.push({type:e[r].type,value:o}),a=t+o.length,r+=1}for(;n>a&&r<e.length;){var o=e[r].value;o.length+a>n?i.push({type:e[r].type,value:o.substring(0,n-a)}):i.push(e[r]),a+=o.length,r+=1}}var r=this.session,i=[],a=r.getTokens(e);return t.walk(function(e,t,o,s,l){null!=e?i.push({type:"fold",value:e}):(l&&(a=r.getTokens(t)),a.length&&n(a,s,o))},t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(s.prototype),t.Text=s}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";var r,i=e("../lib/dom"),a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===r&&(r=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(r?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||r||(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+n.column*this.config.characterWidth,i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;(void 0===t||0===t.length)&&(t=[{cursor:null}]);for(var n=0,i=t.length;i>n;n++){var a=this.getPixelPosition(t[n].cursor,!0);if(!((a.top>e.height+e.offset||a.top<0)&&n>1)){var o=(this.cursors[r++]||this.addCursor()).style;this.drawCursor?this.drawCursor(o,a,e,t[n],this.session):(o.left=a.left+"px",o.top=a.top+"px",o.width=e.characterWidth+"px",o.height=e.lineHeight+"px")}}for(;this.cursors.length>r;)this.removeCursor();var s=this.session.getOverwrite();this.$setOverwrite(s),this.$pixelPos=a,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(a.prototype),t.Cursor=a}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),a=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,s=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addListener(this.element,"scroll",this.onScroll.bind(this)),a.addListener(this.element,"mousedown",a.preventDefault)};(function(){r.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e}}).call(s.prototype);var l=function(e,t){s.call(this,e),this.scrollTop=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};r.inherits(l,s),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)}}.call(l.prototype);var c=function(e,t){s.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(c,s),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,n){"use strict";var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;r.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(i.prototype),t.RenderLoop=i}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),a=e("../lib/lang"),o=e("../lib/useragent"),s=e("../lib/event_emitter").EventEmitter,l=0,c=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=a.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){r.implement(this,s),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=i.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;l=t>0&&1>t?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",o.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var n={height:e.height,width:e.width/l}}else var n={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===n.width||0===n.height?null:n},this.$measureCharWidth=function(e){this.$main.innerHTML=a.stringRepeat(e,l);var t=this.$main.getBoundingClientRect();return t.width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),a=e("./config"),o=e("./lib/useragent"),s=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,u=e("./layer/cursor").Cursor,d=e("./scrollbar").HScrollBar,p=e("./scrollbar").VScrollBar,h=e("./renderloop").RenderLoop,m=e("./layer/font_metrics").FontMetrics,f=e("./lib/event_emitter").EventEmitter,g='.ace_editor {	position: relative;	overflow: hidden;	font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;	direction: ltr;	}	.ace_scroller {	position: absolute;	overflow: hidden;	top: 0;	bottom: 0;	background-color: inherit;	-ms-user-select: none;	-moz-user-select: none;	-webkit-user-select: none;	user-select: none;	cursor: text;	}	.ace_content {	position: absolute;	-moz-box-sizing: border-box;	-webkit-box-sizing: border-box;	box-sizing: border-box;	min-width: 100%;	}	.ace_dragging .ace_scroller:before{	position: absolute;	top: 0;	left: 0;	right: 0;	bottom: 0;	content: \'\';	background: rgba(250, 250, 250, 0.01);	z-index: 1000;	}	.ace_dragging.ace_dark .ace_scroller:before{	background: rgba(0, 0, 0, 0.01);	}	.ace_selecting, .ace_selecting * {	cursor: text !important;	}	.ace_gutter {	position: absolute;	overflow : hidden;	width: auto;	top: 0;	bottom: 0;	left: 0;	cursor: default;	z-index: 4;	-ms-user-select: none;	-moz-user-select: none;	-webkit-user-select: none;	user-select: none;	}	.ace_gutter-active-line {	position: absolute;	left: 0;	right: 0;	}	.ace_scroller.ace_scroll-left {	box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;	}	.ace_gutter-cell {	padding-left: 19px;	padding-right: 6px;	background-repeat: no-repeat;	}	.ace_gutter-cell.ace_error {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");	background-repeat: no-repeat;	background-position: 2px center;	}	.ace_gutter-cell.ace_warning {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");	background-position: 2px center;	}	.ace_gutter-cell.ace_info {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");	background-position: 2px center;	}	.ace_dark .ace_gutter-cell.ace_info {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");	}	.ace_scrollbar {	position: absolute;	right: 0;	bottom: 0;	z-index: 6;	}	.ace_scrollbar-inner {	position: absolute;	cursor: text;	left: 0;	top: 0;	}	.ace_scrollbar-v{	overflow-x: hidden;	overflow-y: scroll;	top: 0;	}	.ace_scrollbar-h {	overflow-x: scroll;	overflow-y: hidden;	left: 0;	}	.ace_print-margin {	position: absolute;	height: 100%;	}	.ace_text-input {	position: absolute;	z-index: 0;	width: 0.5em;	height: 1em;	opacity: 0;	background: transparent;	-moz-appearance: none;	appearance: none;	border: none;	resize: none;	outline: none;	overflow: hidden;	font: inherit;	padding: 0 1px;	margin: 0 -1px;	text-indent: -1em;	-ms-user-select: text;	-moz-user-select: text;	-webkit-user-select: text;	user-select: text;	white-space: pre!important;	}	.ace_text-input.ace_composition {	background: inherit;	color: inherit;	z-index: 1000;	opacity: 1;	text-indent: 0;	}	.ace_layer {	z-index: 1;	position: absolute;	overflow: hidden;	word-wrap: normal;	white-space: pre;	height: 100%;	width: 100%;	-moz-box-sizing: border-box;	-webkit-box-sizing: border-box;	box-sizing: border-box;	pointer-events: none;	}	.ace_gutter-layer {	position: relative;	width: auto;	text-align: right;	pointer-events: auto;	}	.ace_text-layer {	font: inherit !important;	}	.ace_cjk {	display: inline-block;	text-align: center;	}	.ace_cursor-layer {	z-index: 4;	}	.ace_cursor {	z-index: 4;	position: absolute;	-moz-box-sizing: border-box;	-webkit-box-sizing: border-box;	box-sizing: border-box;	border-left: 2px solid;	transform: translatez(0);	}	.ace_slim-cursors .ace_cursor {	border-left-width: 1px;	}	.ace_overwrite-cursors .ace_cursor {	border-left-width: 0;	border-bottom: 1px solid;	}	.ace_hidden-cursors .ace_cursor {	opacity: 0.2;	}	.ace_smooth-blinking .ace_cursor {	-webkit-transition: opacity 0.18s;	transition: opacity 0.18s;	}	.ace_editor.ace_multiselect .ace_cursor {	border-left-width: 1px;	}	.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {	position: absolute;	z-index: 3;	}	.ace_marker-layer .ace_selection {	position: absolute;	z-index: 5;	}	.ace_marker-layer .ace_bracket {	position: absolute;	z-index: 6;	}	.ace_marker-layer .ace_active-line {	position: absolute;	z-index: 2;	}	.ace_marker-layer .ace_selected-word {	position: absolute;	z-index: 4;	-moz-box-sizing: border-box;	-webkit-box-sizing: border-box;	box-sizing: border-box;	}	.ace_line .ace_fold {	-moz-box-sizing: border-box;	-webkit-box-sizing: border-box;	box-sizing: border-box;	display: inline-block;	height: 11px;	margin-top: -2px;	vertical-align: middle;	background-image:	url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),	url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");	background-repeat: no-repeat, repeat-x;	background-position: center center, top left;	color: transparent;	border: 1px solid black;	border-radius: 2px;	cursor: pointer;	pointer-events: auto;	}	.ace_dark .ace_fold {	}	.ace_fold:hover{	background-image:	url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),	url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");	}	.ace_tooltip {	background-color: #FFF;	background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));	background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));	border: 1px solid gray;	border-radius: 1px;	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);	color: black;	max-width: 100%;	padding: 3px 4px;	position: fixed;	z-index: 999999;	-moz-box-sizing: border-box;	-webkit-box-sizing: border-box;	box-sizing: border-box;	cursor: default;	white-space: pre;	word-wrap: break-word;	line-height: normal;	font-style: normal;	font-weight: normal;	letter-spacing: normal;	pointer-events: none;	}	.ace_folding-enabled > .ace_gutter-cell {	padding-right: 13px;	}	.ace_fold-widget {	-moz-box-sizing: border-box;	-webkit-box-sizing: border-box;	box-sizing: border-box;	margin: 0 -12px 0 1px;	display: none;	width: 11px;	vertical-align: top;	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");	background-repeat: no-repeat;	background-position: center;	border-radius: 3px;	border: 1px solid transparent;	cursor: pointer;	}	.ace_folding-enabled .ace_fold-widget {	display: inline-block;   	}	.ace_fold-widget.ace_end {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");	}	.ace_fold-widget.ace_closed {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");	}	.ace_fold-widget:hover {	border: 1px solid rgba(0, 0, 0, 0.3);	background-color: rgba(255, 255, 255, 0.2);	box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);	}	.ace_fold-widget:active {	border: 1px solid rgba(0, 0, 0, 0.4);	background-color: rgba(0, 0, 0, 0.05);	box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);	}	.ace_dark .ace_fold-widget {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");	}	.ace_dark .ace_fold-widget.ace_end {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");	}	.ace_dark .ace_fold-widget.ace_closed {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");	}	.ace_dark .ace_fold-widget:hover {	box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);	background-color: rgba(255, 255, 255, 0.1);	}	.ace_dark .ace_fold-widget:active {	box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);	}	.ace_fold-widget.ace_invalid {	background-color: #FFB4B4;	border-color: #DE5555;	}	.ace_fade-fold-widgets .ace_fold-widget {	-webkit-transition: opacity 0.4s ease 0.05s;	transition: opacity 0.4s ease 0.05s;	opacity: 0;	}	.ace_fade-fold-widgets:hover .ace_fold-widget {	-webkit-transition: opacity 0.05s ease 0.05s;	transition: opacity 0.05s ease 0.05s;	opacity:1;	}	.ace_underline {	text-decoration: underline;	}	.ace_bold {	font-weight: bold;	}	.ace_nobold .ace_bold {	font-weight: normal;	}	.ace_italic {	font-style: italic;	}	.ace_error-marker {	background-color: rgba(255, 0, 0,0.2);	position: absolute;	z-index: 9;	}	.ace_highlight-marker {	background-color: rgba(255, 255, 0,0.2);	position: absolute;	z-index: 8;	}	.ace_br1 {border-top-left-radius    : 3px;}	.ace_br2 {border-top-right-radius   : 3px;}	.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}	.ace_br4 {border-bottom-right-radius: 3px;}	.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}	.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}	.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}	.ace_br8 {border-bottom-left-radius : 3px;}	.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}	.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}	.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}	.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}	.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}	.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}	.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}	';i.importCssString(g,"ace_editor.css");var v=function(e,t){var n=this;this.container=e||i.createElement("div"),this.$keepTextAreaAtCursor=!o.isOldIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var r=this.$textLayer=new c(this.content);this.canvas=r.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new p(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new m(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),a.resetOptions(this),a._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),
this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var a=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(a|this.$changes,!0):this.$loop.schedule(a|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var i=0,a=this.$size,o={width:a.width,height:a.height,scrollerHeight:a.scrollerHeight,scrollerWidth:a.scrollerWidth};return r&&(e||a.height!=r)&&(a.height=r,i|=this.CHANGE_SIZE,a.scrollerHeight=a.height,this.$horizScroll&&(a.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",i|=this.CHANGE_SCROLL),n&&(e||a.width!=n)&&(i|=this.CHANGE_SIZE,a.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",a.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(i|=this.CHANGE_FULL)),a.$dirty=!n||!r,i&&this._signal("resize",o),i},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var r=this.textarea.style,i=this.lineHeight;if(0>t||t>e.height-i)return void(r.top=r.left="0");var a=this.characterWidth;if(this.$composition){var o=this.textarea.value.replace(/^\x01+/,"");a*=this.session.$getStringScreenWidth(o)[0]+2,i+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-a&&(n=this.$size.scrollerWidth-a),n+=this.gutterWidth,r.height=i+"px",r.width=a+"px",r.left=Math.min(n,this.$size.scrollerWidth-a)+"px",r.top=Math.min(t,this.$size.height-i)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,n=this.session.documentToScreenRow(t,0)*e.lineHeight;return n-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return void(this.$changes|=e);if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender"))},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.max((this.$minLines||1)*this.lineHeight,Math.min(t,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight());var r=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),i=r*this.lineHeight,a=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-a-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var l=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var c=this.scrollTop%this.lineHeight,u=t.scrollerHeight+this.lineHeight,d=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=d;var p=this.scrollMargin;this.session.setScrollTop(Math.max(-p.top,Math.min(this.scrollTop,i-t.scrollerHeight+p.bottom))),this.session.setScrollLeft(Math.max(-p.left,Math.min(this.scrollLeft,a+2*this.$padding-t.scrollerWidth+p.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+d<0||this.scrollTop>p.top),m=l!==h;m&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var f,g,v=Math.ceil(u/this.lineHeight)-1,b=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight)),y=b+v,w=this.lineHeight;b=e.screenToDocumentRow(b,0);var k=e.getFoldLine(b);k&&(b=k.start.row),f=e.documentToScreenRow(b,0),g=e.getRowLength(b)*w,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),u=t.scrollerHeight+e.getRowLength(y)*w+g,c=this.scrollTop-f*w;var E=0;return this.layerConfig.width!=a&&(E=this.CHANGE_H_SCROLL),(s||m)&&(E=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),m&&(a=this.$getLongestLine())),this.layerConfig={width:a,padding:this.$padding,firstRow:b,firstRowScreen:f,lastRow:y,lineHeight:w,characterWidth:this.characterWidth,minHeight:u,maxHeight:i,offset:c,gutterOffset:Math.max(0,Math.ceil((c+t.height-t.scrollerHeight)/w)),height:this.$size.scrollerHeight},E},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;return e>n.lastRow+1||t<n.firstRow?void 0:t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,a=r.top,o=n&&n.top||0,s=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+o>a?(t&&l+o>a+this.lineHeight&&(a-=t*this.$size.scrollerHeight),0===a&&(a=-this.scrollMargin.top),this.session.setScrollTop(a)):l+this.$size.scrollerHeight-s<a+this.lineHeight&&(t&&l+this.$size.scrollerHeight-s<a-this.lineHeight&&(a+=t*this.$size.scrollerHeight),this.session.setScrollTop(a+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):c+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&i-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],a=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;r>n;++n)i.push(a(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}),a=i.top;t&&(a-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(a),n!==!1&&this.animateScrolling(o,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(e=i[0],e==n))return}var a=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:a},clearInterval(this.$timer),r.session.setScrollTop(a.shift()),r.session.$scrollTop=n,this.$timer=setInterval(function(){a.length?(r.session.setScrollTop(a.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return 0>t&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:0>e&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,i=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=Math.round(r);return{row:i,column:a,side:r-a>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),i=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(i,Math.max(r,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+Math.round(r.column*this.characterWidth),a=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+a-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(r.$themeId!=e)return t&&t();if(n.cssClass){i.importCssString(n.cssText,n.cssClass,r.container.ownerDocument),r.theme&&i.removeCssClass(r.container,r.theme.cssClass);var a="padding"in n?n.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&a!=r.$padding&&r.setPadding(a),r.$theme=n.cssClass,r.theme=n,i.addCssClass(r.container,n.cssClass),i.setCssClass(r.container,"ace_dark",n.isDark),r.$size&&(r.$size.width=0,r.$updateSizeAsync()),r._dispatchEvent("themeLoaded",{theme:n}),t&&t()}}var r=this;if(this.$themeId=e,r._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var o=e||this.$options.theme.initialValue;a.loadModule(["theme",o],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(v.prototype),a.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight))},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,r){"use strict";var i=e("../lib/oop"),a=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config"),l=function(t,r,i,a){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)a=a||s.moduleUrl(r.id,"worker");else{var o=this.$normalizePath;a=a||o(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach(function(t){l[t]=o(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{var c=r.src,u=n(215),d=new u([c],{type:"application/javascript"}),p=(window.URL||window.webkitURL).createObjectURL(d);this.$worker=new Worker(p)}catch(h){if(!(h instanceof window.DOMException))throw h;var d=this.$workerBlob(a),m=window.URL||window.webkitURL,f=m.createObjectURL(d);this.$worker=new Worker(f),m.revokeObjectURL(f)}this.$worker.postMessage({init:!0,tlns:l,module:r.id,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,o),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return a.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+a.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(n){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,i=new r;return i.append(t),i.getBlob("application/javascript")}}}).call(l.prototype);var c=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var r=null,i=!1,a=Object.create(o),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),r&&(i?setTimeout(c):c())},this.setEmitSync=function(e){i=e};var c=function(){var e=l.messageBuffer.shift();e.command?r[e.command].apply(r,e.args):e.event&&a._signal(e.event,e.data)};a.postMessage=function(e){l.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],function(e){for(r=new e[n](a);l.messageBuffer.length;)c()})};c.prototype=l.prototype,t.UIWorkerClient=c,t.WorkerClient=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,n){"use strict";var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,a=e("./lib/oop"),o=function(e,t,n,r,i,a){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=a,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var s=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=s.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){a.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,a=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=n),i&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;o>=0;o--){var s=this.others[o],l={row:s.row,column:s.column+a};this.doc.insertMergedLines(l,e.lines)}else if("remove"===e.action)for(var o=this.others.length-1;o>=0;o--){var s=this.others[o],l={row:s.row,column:s.column+a};this.doc.remove(new r(l.row,l.column,l.row,l.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;t>n;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),t.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,n){function r(e,t){return e.row==t.row&&e.column==t.column}function i(e){var t=e.domEvent,n=t.altKey,i=t.shiftKey,s=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(s&&o.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)return void e.editor.textInput.onContextMenu(e.domEvent);if(!s&&!n&&!l)return void(0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode());if(0===c){var u,d=e.editor,p=d.selection,h=d.inMultiSelectMode,m=e.getDocumentPosition(),f=p.getCursor(),g=e.inSelection()||p.isEmpty()&&r(m,f),v=e.x,b=e.y,y=function(e){v=e.clientX,b=e.clientY},w=d.session,k=d.renderer.pixelToScreenCoordinates(v,b),E=k;if(d.$mouseHandler.$enableJumpToDef)s&&n||l&&n?u=i?"block":"add":n&&d.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",
!h&&i)return}else n&&d.$blockSelectEnabled&&(u="block");if(u&&o.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),"add"==u){if(!h&&g)return;if(!h){var _=p.toOrientedRange();d.addSelectionMarker(_)}var x=p.rangeList.rangeAtPoint(m);d.$blockScrolling++,d.inVirtualSelectionMode=!0,i&&(x=null,_=p.ranges[0]||_,d.removeSelectionMarker(_)),d.once("mouseup",function(){var e=p.toOrientedRange();x&&e.isEmpty()&&r(x.cursor,e.cursor)?p.substractPoint(e.cursor):(i?p.substractPoint(_.cursor):_&&(d.removeSelectionMarker(_),p.addRange(_)),p.addRange(e)),d.$blockScrolling--,d.inVirtualSelectionMode=!1})}else if("block"==u){e.stop(),d.inVirtualSelectionMode=!0;var C,S=[],T=function(){var e=d.renderer.pixelToScreenCoordinates(v,b),t=w.screenToDocumentPosition(e.row,e.column);r(E,e)&&r(t,p.lead)||(E=e,d.$blockScrolling++,d.selection.moveToPosition(t),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(S),S=p.rectangularRangeBlock(E,k),d.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=d.$mouseHandler.$clickSelection.clone()),S.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers(),d.$blockScrolling--)};d.$blockScrolling++,h&&!l?p.toSingleRange():!h&&l&&(C=p.toOrientedRange(),d.addSelectionMarker(C)),i?k=w.documentToScreenPosition(p.lead):p.moveToPosition(m),d.$blockScrolling--,E={row:-1,column:-1};var R=function(e){clearInterval(N),d.removeSelectionMarkers(S),S.length||(S=[p.toOrientedRange()]),d.$blockScrolling++,C&&(d.removeSelectionMarker(C),p.toSingleRange(C));for(var t=0;t<S.length;t++)p.addRange(S[t]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null,d.$blockScrolling--},A=T;a.capture(d.container,y,R);var N=setInterval(function(){A()},20);return e.preventDefault()}}}var a=e("../lib/event"),o=e("../lib/useragent");t.onMouseDown=i}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,n){function r(e,t,n){return f.$options.wrap=!0,f.$options.needle=t,f.$options.backwards=-1==n,f.find(e)}function i(e,t){return e.row==t.row&&e.column==t.column}function a(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",u),e.commands.addCommands(h.defaultCommands),o(e))}function o(e){function t(t){r&&(e.renderer.setMouseCursor(""),r=!1)}var n=e.textInput.getElement(),r=!1;d.addListener(n,"keydown",function(n){var i=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);e.$blockSelectEnabled&&i?r||(e.renderer.setMouseCursor("crosshair"),r=!0):r&&t()}),d.addListener(n,"keyup",t),d.addListener(n,"blur",t)}var s=e("./range_list").RangeList,l=e("./range").Range,c=e("./selection").Selection,u=e("./mouse/multi_select_handler").onMouseDown,d=e("./lib/event"),p=e("./lib/lang"),h=e("./commands/multi_select_commands");t.commands=h.defaultCommands.concat(h.multiSelectCommands);var m=e("./search").Search,f=new m,g=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);return t?(this.$onRemoveRange(t),t[0]):void 0},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),r=this.isBackwards(),i=n.start.row,a=n.end.row;if(i==a){if(r)var o=n.end,s=n.start;else var o=n.start,s=n.end;return this.addRange(l.fromPoints(s,s)),void this.addRange(l.fromPoints(o,o))}var c=[],u=this.getLineRange(i,!0);u.start.column=n.start.column,c.push(u);for(var d=i+1;a>d;d++)c.push(this.getLineRange(d,!0));u=this.getLineRange(a,!0),u.end.column=n.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.selectionLead),i=this.session.documentToScreenPosition(this.selectionAnchor),a=this.rectangularRangeBlock(r,i);a.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],a=e.column<t.column;if(a)var o=e.column,s=t.column;else var o=t.column,s=e.column;var c=e.row<t.row;if(c)var u=e.row,d=t.row;else var u=t.row,d=e.row;0>o&&(o=0),0>u&&(u=0),u==d&&(n=!0);for(var p=u;d>=p;p++){var h=l.fromPoints(this.session.screenToDocumentPosition(p,o),this.session.screenToDocumentPosition(p,s));if(h.isEmpty()){if(m&&i(h.end,m))break;var m=h.end}h.cursor=a?h.start:h.end,r.push(h)}if(c&&r.reverse(),!n){for(var f=r.length-1;r[f].isEmpty()&&f>0;)f--;if(f>0)for(var g=0;r[g].isEmpty();)g++;for(var v=f;v>=g;v--)r[v].isEmpty()&&r.splice(v,1)}return r}}.call(c.prototype);var v=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);-1!=i&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=n&&n.keepOrder,a=1==n||n&&n.$byLines,o=this.session,s=this.selection,l=s.rangeList,u=(i?s:l).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var d=s._eventRegistry;s._eventRegistry={};var p=new c(o);this.inVirtualSelectionMode=!0;for(var h=u.length;h--;){if(a)for(;h>0&&u[h].start.row==u[h-1].end.row;)h--;p.fromOrientedRange(u[h]),p.index=h,this.selection=o.selection=p;var m=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===m||(r=m),p.toOrientedRange(u[h])}p.detach(),this.selection=o.selection=s,this.inVirtualSelectionMode=!1,s._eventRegistry=d,s.mergeOverlappingRanges();var f=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),f&&f.from==f.to&&this.renderer.animateScrolling(f.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();e=n.join(i),e.length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;(r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var a=this.multiSelect;n||a.toSingleRange(i[0]);for(var o=i.length;o--;)a.addRange(i[o],!0);return r&&a.rangeList.rangeAtPoint(r.start)&&a.addRange(r,!0),this.$blockScrolling-=1,i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,i=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(i.column=this.selection.$desiredColumn);var a=this.session.screenToDocumentPosition(i.row+e,i.column);if(n.isEmpty())var o=a;else var s=this.session.documentToScreenPosition(r?n.end:n.start),o=this.session.screenToDocumentPosition(s.row+e,s.column);if(r){var c=l.fromPoints(a,o);c.cursor=c.start}else{var c=l.fromPoints(o,a);c.cursor=c.end}if(c.desiredColumn=i.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){var a=r[i];if(a.isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}}n.mergeOverlappingRanges();for(var s=[],i=r.length;i--;){var a=r[i];s.unshift(t.getTextRange(a))}0>e?s.unshift(s.pop()):s.push(s.shift());for(var i=r.length;i--;){var a=r[i],o=a.clone();t.replace(a,s[i]),a.start.row=o.start.row,a.start.column=o.start.column}},this.selectMore=function(e,t,n){var i=this.session,a=i.multiSelect,o=a.toOrientedRange();if(!o.isEmpty()||(o=i.getWordRange(o.start.row,o.start.column),o.cursor=-1==e?o.start:o.end,this.multiSelect.addRange(o),!n)){var s=i.getTextRange(o),l=r(i,s,e);l&&(l.cursor=-1==e?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(o.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,i=n.filter(function(e){return e.cursor.row==r?!0:void(r=e.cursor.row)});if(n.length&&i.length!=n.length-1){i.forEach(function(e){t.substractPoint(e.cursor)});var a=0,o=1/0,s=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>a&&(a=n.column),o>i&&(o=i),i});n.forEach(function(t,n){var r=t.cursor,i=a-r.column,c=s[n]-o;i>c?e.insert(r,p.stringRepeat(" ",i-c)):e.remove(new l(r.row,r.column,r.row,r.column-i+c)),t.start.column=t.end.column=a,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,d=c.end.row,h=u==d;if(h){var m,f=this.session.getLength();do m=this.session.getLine(d);while(/[=:]/.test(m)&&++d<f);do m=this.session.getLine(u);while(/[=:]/.test(m)&&--u>0);0>u&&(u=0),d>=f&&(d=f-1)}var g=this.session.removeFullLines(u,d);g=this.$reAlignText(g,h),this.session.insert({row:u,column:0},g.join("\n")+"\n"),h||(c.start.column=0,c.end.column=g[g.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function n(e){return p.stringRepeat(" ",e)}function r(e){return e[2]?n(o)+e[2]+n(s-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function i(e){return e[2]?n(o+s-e[2].length)+e[2]+n(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function a(e){return e[2]?n(o)+e[2]+n(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var o,s,l,c=!0,u=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==o?(o=t[1].length,s=t[2].length,l=t[3].length,t):(o+s+l!=t[1].length+t[2].length+t[3].length&&(u=!1),o!=t[1].length&&(c=!1),o>t[1].length&&(o=t[1].length),s<t[2].length&&(s=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?r:c?u?i:r:a)}}).call(v.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=a,e("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(e){a(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",u)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",u))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,a=e.getLine(t),o=a.search(i);if(-1!=o){for(var s=n||a.length,l=e.getLength(),c=t,u=t;++t<l;){var d=e.getLine(t).search(i);if(-1!=d){if(o>=d)break;u=t}}if(u>c){var p=e.getLine(u).length;return new r(c,s,u,p)}}},this.openingBracketBlock=function(e,t,n,i,a){var o={row:n,column:i+1},s=e.$findClosingBracket(t,o,a);if(s){var l=e.foldWidgets[s.row];return null==l&&(l=e.getFoldWidget(s.row)),"start"==l&&s.row>o.row&&(s.row--,s.column=e.getLine(s.row).length),r.fromPoints(o,s)}},this.closingBracketBlock=function(e,t,n,i,a){var o={row:n,column:i},s=e.$findOpeningBracket(t,o);return s?(s.column++,o.column--,r.fromPoints(s,o)):void 0}}).call(i.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {	background: #f0f0f0;	color: #333;	}	.ace-tm .ace_print-margin {	width: 1px;	background: #e8e8e8;	}	.ace-tm .ace_fold {	background-color: #6B72E6;	}	.ace-tm {	background-color: #FFFFFF;	color: black;	}	.ace-tm .ace_cursor {	color: black;	}	.ace-tm .ace_invisible {	color: rgb(191, 191, 191);	}	.ace-tm .ace_storage,	.ace-tm .ace_keyword {	color: blue;	}	.ace-tm .ace_constant {	color: rgb(197, 6, 11);	}	.ace-tm .ace_constant.ace_buildin {	color: rgb(88, 72, 246);	}	.ace-tm .ace_constant.ace_language {	color: rgb(88, 92, 246);	}	.ace-tm .ace_constant.ace_library {	color: rgb(6, 150, 14);	}	.ace-tm .ace_invalid {	background-color: rgba(255, 0, 0, 0.1);	color: red;	}	.ace-tm .ace_support.ace_function {	color: rgb(60, 76, 114);	}	.ace-tm .ace_support.ace_constant {	color: rgb(6, 150, 14);	}	.ace-tm .ace_support.ace_type,	.ace-tm .ace_support.ace_class {	color: rgb(109, 121, 222);	}	.ace-tm .ace_keyword.ace_operator {	color: rgb(104, 118, 135);	}	.ace-tm .ace_string {	color: rgb(3, 106, 7);	}	.ace-tm .ace_comment {	color: rgb(76, 136, 107);	}	.ace-tm .ace_comment.ace_doc {	color: rgb(0, 102, 255);	}	.ace-tm .ace_comment.ace_doc.ace_tag {	color: rgb(128, 159, 191);	}	.ace-tm .ace_constant.ace_numeric {	color: rgb(0, 0, 205);	}	.ace-tm .ace_variable {	color: rgb(49, 132, 149);	}	.ace-tm .ace_xml-pe {	color: rgb(104, 104, 91);	}	.ace-tm .ace_entity.ace_name.ace_function {	color: #0000A2;	}	.ace-tm .ace_heading {	color: rgb(12, 7, 255);	}	.ace-tm .ace_list {	color:rgb(185, 6, 144);	}	.ace-tm .ace_meta.ace_tag {	color:rgb(0, 22, 142);	}	.ace-tm .ace_string.ace_regex {	color: rgb(255, 0, 0)	}	.ace-tm .ace_marker-layer .ace_selection {	background: rgb(181, 213, 255);	}	.ace-tm.ace_multiselect .ace_selection.ace_start {	box-shadow: 0 0 3px 0px white;	}	.ace-tm .ace_marker-layer .ace_step {	background: rgb(252, 255, 0);	}	.ace-tm .ace_marker-layer .ace_stack {	background: rgb(164, 229, 101);	}	.ace-tm .ace_marker-layer .ace_bracket {	margin: -1px 0 0 -1px;	border: 1px solid rgb(192, 192, 192);	}	.ace-tm .ace_marker-layer .ace_active-line {	background: rgba(0, 0, 0, 0.07);	}	.ace-tm .ace_gutter-active-line {	background-color : #dcdcdc;	}	.ace-tm .ace_marker-layer .ace_selected-word {	background: rgb(250, 250, 255);	border: 1px solid rgb(200, 200, 250);	}	.ace-tm .ace_indent-guide {	background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;	}	';var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var i=(e("./lib/oop"),e("./lib/dom"));e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,i=r.start.row,a=r.end.row,o="add"==e.action,s=i+1;a>s;s++)n[s]&&(n[s].hidden=o);n[a]&&(o?n[i]?n[a].hidden=o:n[i]=n[a]:(n[i]==n[a]&&(n[i]=void 0),n[a].hidden=o))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var i=t.splice(n+1,r);i.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var a=new Array(r);a.unshift(n,0),t.splice.apply(t,a),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight||(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var r=this.session.getFoldAt(e.row,0);if(e.$fold=r,r){var a=this.session.lineWidgets;e.row!=r.end.row||a[r.start.row]?e.hidden=!0:a[r.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(t){}if(this.session.lineWidgets){var n=this.session.lineWidgets[e.row];if(n==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;n;){if(n.$oldWidget==e){n.$oldWidget=e.$oldWidget;break}n=n.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,a=0;a<n.length;a++){var o=n[a];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/r.characterWidth));var s=o.h/r.lineHeight;o.coverLine&&(s-=this.session.getRowLineCount(o.row),0>s&&(s=0)),o.rowCount!=s&&(o.rowCount=s,o.row<i&&(i=o.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,n.firstRow),a=Math.max(this.lastRow,n.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=i;a>=o;o++){var s=r[o];if(s&&s.el)if(s.hidden)s.el.style.top=-100-(s.pixelHeight||0)+"px";else{s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el));var l=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;s.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=l-n.offset+"px";var c=s.coverGutter?0:t.gutterWidth;s.fixedWidth||(c-=t.scrollLeft),s.el.style.left=c+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=n.width+2*n.padding+"px"),s.fixedWidth?s.el.style.right=t.scrollBar.getWidth()+"px":s.el.style.right=""}}}}}).call(r.prototype),t.LineWidgets=r}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,n){"use strict";function r(e,t,n){for(var r=0,i=e.length-1;i>=r;){var a=r+i>>1,o=n(t,e[a]);if(o>0)r=a+1;else{if(!(0>o))return a;i=a-1}}return-(r+1)}function i(e,t,n){var i=e.getAnnotations().sort(s.comparePoints);if(i.length){var a=r(i,{row:t,column:-1},s.comparePoints);0>a&&(a=-a-1),a>=i.length?a=n>0?0:i.length-1:0===a&&0>n&&(a=i.length-1);var o=i[a];if(o&&n){if(o.row===t){do o=i[a+=n];while(o&&o.row===t);if(!o)return i.slice()}var l=[];t=o.row;do l[0>n?"unshift":"push"](o),o=i[a+=n];while(o&&o.row==t);return l.length&&l}}}var a=e("../line_widgets").LineWidgets,o=e("../lib/dom"),s=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new a(n),n.widgetManager.attach(e));var r=e.getCursorPosition(),s=r.row,l=n.widgetManager.getWidgetsAtRow(s).filter(function(e){return"errorMarker"==e.type})[0];l?l.destroy():s-=t;var c,u=i(n,s,t);if(u){var d=u[0];r.column=(d.pos&&"number"!=typeof d.column?d.pos.sc:d.column)||0,r.row=d.row,c=e.renderer.$gutterLayer.$annotations[r.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var p={row:r.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},h=p.el.appendChild(o.createElement("div")),m=p.el.appendChild(o.createElement("div"));m.className="error_widget_arrow "+c.className;var f=e.renderer.$cursorLayer.getPixelPosition(r).left;m.style.left=f+e.renderer.gutterWidth-5+"px",p.el.className="error_widget_wrapper",h.className="error_widget "+c.className,h.innerHTML=c.text.join("<br>"),h.appendChild(o.createElement("div"));var g=function(e,t,n){return 0!==t||"esc"!==n&&"return"!==n?void 0:(p.destroy(),{command:"null"})};p.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(p),e.off("changeSelection",p.destroy),e.off("changeSession",p.destroy),e.off("mouseup",p.destroy),e.off("change",p.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",p.destroy),e.on("changeSession",p.destroy),e.on("mouseup",p.destroy),e.on("change",p.destroy),e.session.widgetManager.addLineWidget(p),p.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:p.el.offsetHeight})},o.importCssString("	    .error_widget_wrapper {	        background: inherit;	        color: inherit;	        border:none	    }	    .error_widget {	        border-top: solid 2px;	        border-bottom: solid 2px;	        margin: 5px 0;	        padding: 10px 40px;	        white-space: pre-wrap;	    }	    .error_widget.ace_error, .error_widget_arrow.ace_error{	        border-color: #ff5a5a	    }	    .error_widget.ace_warning, .error_widget_arrow.ace_warning{	        border-color: #F1D817	    }	    .error_widget.ace_info, .error_widget_arrow.ace_info{	        border-color: #5a5a5a	    }	    .error_widget.ace_ok, .error_widget_arrow.ace_ok{	        border-color: #5aaa5a	    }	    .error_widget_arrow {	        position: absolute;	        border: solid 5px;	        border-top-color: transparent!important;	        border-right-color: transparent!important;	        border-left-color: transparent!important;	        top: -5px;	    }	","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,n){
"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/dom"),i=e("./lib/event"),a=e("./editor").Editor,o=e("./edit_session").EditSession,s=e("./undomanager").UndoManager,l=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.acequire=e,t.edit=function(e){if("string"==typeof e){var n=e;if(e=document.getElementById(n),!e)throw new Error("ace.edit can't find div #"+n)}if(e&&e.env&&e.env.editor instanceof a)return e.env.editor;var o="";if(e&&/input|textarea/i.test(e.tagName)){var s=e;o=s.value,e=r.createElement("pre"),s.parentNode.replaceChild(e,s)}else e&&(o=r.getInnerText(e),e.innerHTML="");var c=t.createEditSession(o),u=new a(new l(e));u.setSession(c);var d={document:c,editor:u,onResize:u.resize.bind(u,null)};return s&&(d.textarea=s),i.addListener(window,"resize",d.onResize),u.on("destroy",function(){i.removeListener(window,"resize",d.onResize),d.editor.container.env=null}),u.container.env=u.env=d,u},t.createEditSession=function(e,t){var n=new o(e,t);return n.setUndoManager(new s),n},t.EditSession=o,t.UndoManager=s,t.version="1.2.3"}),function(){ace.acequire(["ace/ace"],function(e){e&&e.config.init(!0),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),e.exports=window.ace.acequire("ace/ace")},function(e,t){(function(t){function n(){if(t.Blob)try{return new Blob(["asdf"],{type:"text/plain"}),Blob}catch(e){}var n=t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return function(e,t){var r=new n,i=t.endings,a=t.type;if(i)for(var o=0,s=e.length;s>o;++o)r.append(e[o],i);else for(var o=0,s=e.length;s>o;++o)r.append(e[o]);return a?r.getBlob(a):r.getBlob()}}e.exports=n()}).call(t,function(){return this}())},function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function a(e){return function(t){return e(t)}}function o(e,t){return null==e?void 0:e[t]}function s(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function c(e,t){return function(n){return e(t(n))}}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function d(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function p(){this.__data__=Et?Et(null):{}}function h(e){return this.has(e)&&delete this.__data__[e]}function m(e){var t=this.__data__;if(Et){var n=t[e];return n===he?void 0:n}return ct.call(t,e)?t[e]:void 0}function f(e){var t=this.__data__;return Et?void 0!==t[e]:ct.call(t,e)}function g(e,t){var n=this.__data__;return n[e]=Et&&void 0===t?he:t,this}function v(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function b(){this.__data__=[]}function y(e){var t=this.__data__,n=j(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():ft.call(t,n,1),!0}function w(e){var t=this.__data__,n=j(t,e);return 0>n?void 0:t[n][1]}function k(e){return j(this.__data__,e)>-1}function E(e,t){var n=this.__data__,r=j(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function _(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(){this.__data__={hash:new d,map:new(bt||v),string:new d}}function C(e){return Y(this,e)["delete"](e)}function S(e){return Y(this,e).get(e)}function T(e){return Y(this,e).has(e)}function R(e,t){return Y(this,e).set(e,t),this}function A(e){var t=-1,n=e?e.length:0;for(this.__data__=new _;++t<n;)this.add(e[t])}function N(e){return this.__data__.set(e,he),this}function F(e){return this.__data__.has(e)}function M(e){this.__data__=new v(e)}function L(){this.__data__=new v}function D(e){return this.__data__["delete"](e)}function O(e){return this.__data__.get(e)}function I(e){return this.__data__.has(e)}function P(e,t){var n=this.__data__;if(n instanceof v){var r=n.__data__;if(!bt||r.length<pe-1)return r.push([e,t]),this;n=this.__data__=new _(r)}return n.set(e,t),this}function B(e,t){var n=Ft(e)||re(e)?i(e.length,String):[],r=n.length,a=!!r;for(var o in e)!t&&!ct.call(e,o)||a&&("length"==o||Z(o,r))||n.push(o);return n}function j(e,t){for(var n=e.length;n--;)if(ne(e[n][0],t))return n;return-1}function z(e){return ut.call(e)}function U(e,t,n,r,i){return e===t?!0:null==e||null==t||!ce(e)&&!ue(t)?e!==e&&t!==t:$(e,t,U,n,r,i)}function $(e,t,n,r,i,a){var o=Ft(e),l=Ft(t),c=be,u=be;o||(c=Nt(e),c=c==ve?Se:c),l||(u=Nt(t),u=u==ve?Se:u);var d=c==Se&&!s(e),p=u==Se&&!s(t),h=c==u;if(h&&!d)return a||(a=new M),o||Mt(e)?q(e,t,n,r,i,a):G(e,t,c,n,r,i,a);if(!(i&fe)){var m=d&&ct.call(e,"__wrapped__"),f=p&&ct.call(t,"__wrapped__");if(m||f){var g=m?e.value():e,v=f?t.value():t;return a||(a=new M),n(g,v,r,i,a)}}return h?(a||(a=new M),K(e,t,n,r,i,a)):!1}function H(e){if(!ce(e)||Q(e))return!1;var t=se(e)||s(e)?dt:Ve;return t.test(te(e))}function W(e){return ue(e)&&le(e.length)&&!!Ge[ut.call(e)]}function V(e){if(!ee(e))return gt(e);var t=[];for(var n in Object(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function q(e,t,n,i,a,o){var s=a&fe,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var d=-1,p=!0,h=a&me?new A:void 0;for(o.set(e,t),o.set(t,e);++d<l;){var m=e[d],f=t[d];if(i)var g=s?i(f,m,d,t,e,o):i(m,f,d,e,t,o);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!r(t,function(e,t){return h.has(t)||m!==e&&!n(m,e,i,a,o)?void 0:h.add(t)})){p=!1;break}}else if(m!==f&&!n(m,f,i,a,o)){p=!1;break}}return o["delete"](e),o["delete"](t),p}function G(e,t,n,r,i,a,o){switch(n){case De:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Le:return e.byteLength==t.byteLength&&r(new ht(e),new ht(t))?!0:!1;case ye:case we:case Ce:return ne(+e,+t);case ke:return e.name==t.name&&e.message==t.message;case Re:case Ne:return e==t+"";case xe:var s=l;case Ae:var c=a&fe;if(s||(s=u),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;a|=me,o.set(e,t);var p=q(s(e),s(t),r,i,a,o);return o["delete"](e),p;case Fe:if(At)return At.call(e)==At.call(t)}return!1}function K(e,t,n,r,i,a){var o=i&fe,s=de(e),l=s.length,c=de(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var p=s[d];if(!(o?p in t:ct.call(t,p)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var m=!0;a.set(e,t),a.set(t,e);for(var f=o;++d<l;){p=s[d];var g=e[p],v=t[p];if(r)var b=o?r(v,g,p,t,e,a):r(g,v,p,e,t,a);if(!(void 0===b?g===v||n(g,v,r,i,a):b)){m=!1;break}f||(f="constructor"==p)}if(m&&!f){var y=e.constructor,w=t.constructor;y!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w)&&(m=!1)}return a["delete"](e),a["delete"](t),m}function Y(e,t){var n=e.__data__;return J(t)?n["string"==typeof t?"string":"hash"]:n.map}function X(e,t){var n=o(e,t);return H(n)?n:void 0}function Z(e,t){return t=null==t?ge:t,!!t&&("number"==typeof e||qe.test(e))&&e>-1&&e%1==0&&t>e}function J(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Q(e){return!!st&&st in e}function ee(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||at;return e===n}function te(e){if(null!=e){try{return lt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ne(e,t){return e===t||e!==e&&t!==t}function re(e){return ae(e)&&ct.call(e,"callee")&&(!mt.call(e,"callee")||ut.call(e)==ve)}function ie(e){return null!=e&&le(e.length)&&!se(e)}function ae(e){return ue(e)&&ie(e)}function oe(e,t){return U(e,t)}function se(e){var t=ce(e)?ut.call(e):"";return t==Ee||t==_e}function le(e){return"number"==typeof e&&e>-1&&e%1==0&&ge>=e}function ce(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ue(e){return!!e&&"object"==typeof e}function de(e){return ie(e)?B(e):V(e)}var pe=200,he="__lodash_hash_undefined__",me=1,fe=2,ge=9007199254740991,ve="[object Arguments]",be="[object Array]",ye="[object Boolean]",we="[object Date]",ke="[object Error]",Ee="[object Function]",_e="[object GeneratorFunction]",xe="[object Map]",Ce="[object Number]",Se="[object Object]",Te="[object Promise]",Re="[object RegExp]",Ae="[object Set]",Ne="[object String]",Fe="[object Symbol]",Me="[object WeakMap]",Le="[object ArrayBuffer]",De="[object DataView]",Oe="[object Float32Array]",Ie="[object Float64Array]",Pe="[object Int8Array]",Be="[object Int16Array]",je="[object Int32Array]",ze="[object Uint8Array]",Ue="[object Uint8ClampedArray]",$e="[object Uint16Array]",He="[object Uint32Array]",We=/[\\^$.*+?()[\]{}|]/g,Ve=/^\[object .+?Constructor\]$/,qe=/^(?:0|[1-9]\d*)$/,Ge={};Ge[Oe]=Ge[Ie]=Ge[Pe]=Ge[Be]=Ge[je]=Ge[ze]=Ge[Ue]=Ge[$e]=Ge[He]=!0,Ge[ve]=Ge[be]=Ge[Le]=Ge[ye]=Ge[De]=Ge[we]=Ge[ke]=Ge[Ee]=Ge[xe]=Ge[Ce]=Ge[Se]=Ge[Re]=Ge[Ae]=Ge[Ne]=Ge[Me]=!1;var Ke="object"==typeof e&&e&&e.Object===Object&&e,Ye="object"==typeof self&&self&&self.Object===Object&&self,Xe=Ke||Ye||Function("return this")(),Ze="object"==typeof t&&t&&!t.nodeType&&t,Je=Ze&&"object"==typeof n&&n&&!n.nodeType&&n,Qe=Je&&Je.exports===Ze,et=Qe&&Ke.process,tt=function(){try{return et&&et.binding("util")}catch(e){}}(),nt=tt&&tt.isTypedArray,rt=Array.prototype,it=Function.prototype,at=Object.prototype,ot=Xe["__core-js_shared__"],st=function(){var e=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),lt=it.toString,ct=at.hasOwnProperty,ut=at.toString,dt=RegExp("^"+lt.call(ct).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pt=Xe.Symbol,ht=Xe.Uint8Array,mt=at.propertyIsEnumerable,ft=rt.splice,gt=c(Object.keys,Object),vt=X(Xe,"DataView"),bt=X(Xe,"Map"),yt=X(Xe,"Promise"),wt=X(Xe,"Set"),kt=X(Xe,"WeakMap"),Et=X(Object,"create"),_t=te(vt),xt=te(bt),Ct=te(yt),St=te(wt),Tt=te(kt),Rt=pt?pt.prototype:void 0,At=Rt?Rt.valueOf:void 0;d.prototype.clear=p,d.prototype["delete"]=h,d.prototype.get=m,d.prototype.has=f,d.prototype.set=g,v.prototype.clear=b,v.prototype["delete"]=y,v.prototype.get=w,v.prototype.has=k,v.prototype.set=E,_.prototype.clear=x,_.prototype["delete"]=C,_.prototype.get=S,_.prototype.has=T,_.prototype.set=R,A.prototype.add=A.prototype.push=N,A.prototype.has=F,M.prototype.clear=L,M.prototype["delete"]=D,M.prototype.get=O,M.prototype.has=I,M.prototype.set=P;var Nt=z;(vt&&Nt(new vt(new ArrayBuffer(1)))!=De||bt&&Nt(new bt)!=xe||yt&&Nt(yt.resolve())!=Te||wt&&Nt(new wt)!=Ae||kt&&Nt(new kt)!=Me)&&(Nt=function(e){var t=ut.call(e),n=t==Se?e.constructor:void 0,r=n?te(n):void 0;if(r)switch(r){case _t:return De;case xt:return xe;case Ct:return Te;case St:return Ae;case Tt:return Me}return t});var Ft=Array.isArray,Mt=nt?a(nt):W;n.exports=oe}).call(t,function(){return this}(),n(9)(e))},function(e,t){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,a=function(){var e="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield",t="True|False|None|NotImplemented|Ellipsis|__debug__",n="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|set|apply|delattr|help|next|setattr|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern",r=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":n,"constant.language":t,keyword:e},"identifier"),i="(?:r|u|ur|R|U|UR|Ur|uR)?",a="(?:(?:[1-9]\\d*)|(?:0))",o="(?:0[oO]?[0-7]+)",s="(?:0[xX][\\dA-Fa-f]+)",l="(?:0[bB][01]+)",c="(?:"+a+"|"+o+"|"+s+"|"+l+")",u="(?:[eE][+-]?\\d+)",d="(?:\\.\\d+)",p="(?:\\d+)",h="(?:(?:"+p+"?"+d+")|(?:"+p+"\\.))",m="(?:(?:"+h+"|"+p+")"+u+")",f="(?:"+m+"|"+h+")",g="\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'\"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})";this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:i+'"{3}',next:"qqstring3"},{token:"string",regex:i+'"(?=.)',next:"qqstring"},{token:"string",regex:i+"'{3}",next:"qstring3"},{token:"string",regex:i+"'(?=.)",next:"qstring"},{token:"constant.numeric",regex:"(?:"+f+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:f},{token:"constant.numeric",regex:c+"[lL]\\b"},{token:"constant.numeric",regex:c+"\\b"},{token:r,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+"}],qqstring3:[{token:"constant.language.escape",regex:g},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:g},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:g},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}]}};r.inherits(a,i),t.PythonHighlightRules=a}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("./fold_mode").FoldMode,a=t.FoldMode=function(e){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+e+")(?:\\s*)(?:#.*)?$")};r.inherits(a,i),function(){this.getFoldWidgetRange=function(e,t,n){var r=e.getLine(n),i=r.match(this.foldingStartMarker);return i?i[1]?this.openingBracketBlock(e,i[1],n,i.index):i[2]?this.indentationBlock(e,n,i.index+i[2].length):this.indentationBlock(e,n):void 0}}.call(a.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text").Mode,a=e("./python_highlight_rules").PythonHighlightRules,o=e("./folding/pythonic").FoldMode,s=e("../range").Range,l=function(){this.HighlightRules=a,this.foldingRules=new o("\\:")};r.inherits(l,i),function(){this.lineCommentStart="#",this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e),a=i.tokens;if(a.length&&"comment"==a[a.length-1].type)return r;if("start"==e){var o=t.match(/^.*[\{\(\[\:]\s*$/);o&&(r+=n)}return r};var e={pass:1,"return":1,raise:1,"break":1,"continue":1};this.checkOutdent=function(t,n,r){if("\r\n"!==r&&"\r"!==r&&"\n"!==r)return!1;var i=this.getTokenizer().getLineTokens(n.trim(),t).tokens;if(!i)return!1;do var a=i.pop();while(a&&("comment"==a.type||"text"==a.type&&a.value.match(/^\s+$/)));return a?"keyword"==a.type&&e[a.value]:!1},this.autoOutdent=function(e,t,n){n+=1;var r=this.$getIndent(t.getLine(n)),i=t.getTabString();r.slice(-i.length)==i&&t.remove(new s(n,r.length-i.length,n,r.length))},this.$id="ace/mode/python"}.call(l.prototype),t.Mode=l})},function(e,t){ace.define("ace/mode/tex_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),a=function(e){e||(e="text"),this.$rules={start:[{token:"comment",regex:"%.*$"},{token:e,regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:documentclass|usepackage|newcounter|setcounter|addtocounter|value|arabic|stepcounter|newenvironment|renewenvironment|ref|vref|eqref|pageref|label|cite[a-zA-Z]*|tag|begin|end|bibitem)\\b",next:"nospell"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])}]"},{token:e,regex:"\\s+"}],nospell:[{token:"comment",regex:"%.*$",next:"start"},{token:"nospell."+e,regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:documentclass|usepackage|newcounter|setcounter|addtocounter|value|arabic|stepcounter|newenvironment|renewenvironment|ref|vref|eqref|pageref|label|cite[a-zA-Z]*|tag|begin|end|bibitem)\\b"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])",next:"start"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])]"},{token:"paren.keyword.operator",regex:"}",next:"start"},{token:"nospell."+e,regex:"\\s+"},{token:"nospell."+e,regex:"\\w+"}]}};r.inherits(a,i),t.TexHighlightRules=a}),ace.define("ace/mode/r_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/tex_highlight_rules"],function(e,t,n){var r=e("../lib/oop"),i=e("../lib/lang"),a=e("./text_highlight_rules").TextHighlightRules,o=e("./tex_highlight_rules").TexHighlightRules,s=function(){var e=i.arrayToMap("function|if|in|break|next|repeat|else|for|return|switch|while|try|tryCatch|stop|warning|acequire|library|attach|detach|source|setMethod|setGeneric|setGroupGeneric|setClass".split("|")),t=i.arrayToMap("NULL|NA|TRUE|FALSE|T|F|Inf|NaN|NA_integer_|NA_real_|NA_character_|NA_complex_".split("|"));this.$rules={start:[{token:"comment.sectionhead",regex:"#+(?!').*(?:----|====|####)\\s*$"},{token:"comment",regex:"#+'",next:"rd-start"},{token:"comment",regex:"#.*$"},{token:"string",regex:'["]',next:"qqstring"},{token:"string",regex:"[']",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+[Li]?\\b"},{token:"constant.numeric",regex:"\\d+L\\b"},{token:"constant.numeric",regex:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b"},{token:"constant.numeric",regex:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b"},{token:"constant.language.boolean",regex:"(?:TRUE|FALSE|T|F)\\b"},{token:"identifier",regex:"`.*?`"},{onMatch:function(n){return e[n]?"keyword":t[n]?"constant.language":"..."==n||n.match(/^\.\.\d+$/)?"variable.language":"identifier"},regex:"[a-zA-Z.][a-zA-Z0-9._]*\\b"},{token:"keyword.operator",regex:"%%|>=|<=|==|!=|\\->|<\\-|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||~|\\$|:"},{token:"keyword.operator",regex:"%.*?%"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",regex:".+"}]};for(var n=new o("comment").getRules(),r=0;r<n.start.length;r++)n.start[r].token+=".virtual-comment";this.addRules(n,"rd-"),this.$rules["rd-start"].unshift({token:"text",regex:"^",next:"start"}),this.$rules["rd-start"].unshift({token:"keyword",regex:"@(?!@)[^ ]*"}),this.$rules["rd-start"].unshift({token:"comment",regex:"@@"}),this.$rules["rd-start"].push({token:"comment",regex:"[^%\\\\[({\\])}]+"})};r.inherits(s,a),t.RHighlightRules=s}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var n=e.getLine(t),i=n.match(/^(\s*\})/);if(!i)return 0;var a=i[1].length,o=e.findMatchingBracket({row:t,column:a});if(!o||o.row==t)return 0;var s=this.$getIndent(e.getLine(o.row));e.replace(new r(t,0,t,a-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i}),ace.define("ace/mode/r",["require","exports","module","ace/range","ace/lib/oop","ace/mode/text","ace/mode/text_highlight_rules","ace/mode/r_highlight_rules","ace/mode/matching_brace_outdent","ace/unicode"],function(e,t,n){"use strict";var r=(e("../range").Range,e("../lib/oop")),i=e("./text").Mode,a=(e("./text_highlight_rules").TextHighlightRules,e("./r_highlight_rules").RHighlightRules),o=e("./matching_brace_outdent").MatchingBraceOutdent,s=(e("../unicode"),function(){this.HighlightRules=a,this.$outdent=new o});r.inherits(s,i),function(){this.lineCommentStart="#",this.$id="ace/mode/r"}.call(s.prototype),t.Mode=s})},function(e,t){ace.define("ace/mode/julia_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{include:"#function_decl"},{include:"#function_call"},{include:"#type_decl"},{include:"#keyword"},{include:"#operator"},{include:"#number"},{include:"#string"},{include:"#comment"}],"#bracket":[{token:"keyword.bracket.julia",regex:"\\(|\\)|\\[|\\]|\\{|\\}|,"}],"#comment":[{token:["punctuation.definition.comment.julia","comment.line.number-sign.julia"],regex:"(#)(?!\\{)(.*$)"}],"#function_call":[{token:["support.function.julia","text"],regex:"([a-zA-Z0-9_]+!?)([\\w\\xff-\\u218e\\u2455-\\uffff]*\\()"}],"#function_decl":[{token:["keyword.other.julia","meta.function.julia","entity.name.function.julia","meta.function.julia","text"],regex:"(function|macro)(\\s*)([a-zA-Z0-9_\\{]+!?)([\\w\\xff-\\u218e\\u2455-\\uffff]*)([(\\\\{])"}],"#keyword":[{token:"keyword.other.julia",regex:"\\b(?:function|type|immutable|macro|quote|abstract|bitstype|typealias|module|baremodule|new)\\b"},{token:"keyword.control.julia",regex:"\\b(?:if|else|elseif|while|for|in|begin|let|end|do|try|catch|finally|return|break|continue)\\b"},{token:"storage.modifier.variable.julia",regex:"\\b(?:global|local|const|export|import|importall|using)\\b"},{token:"variable.macro.julia",regex:"@[\\w\\xff-\\u218e\\u2455-\\uffff]+\\b"}],"#number":[{token:"constant.numeric.julia",regex:"\\b0(?:x|X)[0-9a-fA-F]*|(?:\\b[0-9]+\\.?[0-9]*|\\.[0-9]+)(?:(?:e|E)(?:\\+|-)?[0-9]*)?(?:im)?|\\bInf(?:32)?\\b|\\bNaN(?:32)?\\b|\\btrue\\b|\\bfalse\\b"}],"#operator":[{token:"keyword.operator.update.julia",regex:"=|:=|\\+=|-=|\\*=|/=|//=|\\.//=|\\.\\*=|\\\\=|\\.\\\\=|^=|\\.^=|%=|\\|=|&=|\\$=|<<=|>>="},{token:"keyword.operator.ternary.julia",regex:"\\?|:"},{token:"keyword.operator.boolean.julia",regex:"\\|\\||&&|!"},{token:"keyword.operator.arrow.julia",regex:"->|<-|-->"},{token:"keyword.operator.relation.julia",regex:">|<|>=|<=|==|!=|\\.>|\\.<|\\.>=|\\.>=|\\.==|\\.!=|\\.=|\\.!|<:|:>"},{token:"keyword.operator.range.julia",regex:":"},{token:"keyword.operator.shift.julia",regex:"<<|>>"},{token:"keyword.operator.bitwise.julia",regex:"\\||\\&|~"},{token:"keyword.operator.arithmetic.julia",regex:"\\+|-|\\*|\\.\\*|/|\\./|//|\\.//|%|\\.%|\\\\|\\.\\\\|\\^|\\.\\^"},{token:"keyword.operator.isa.julia",regex:"::"},{token:"keyword.operator.dots.julia",regex:"\\.(?=[a-zA-Z])|\\.\\.+"},{token:"keyword.operator.interpolation.julia",regex:"\\$#?(?=.)"},{token:["variable","keyword.operator.transposed-variable.julia"],regex:"([\\w\\xff-\\u218e\\u2455-\\uffff]+)((?:'|\\.')*\\.?')"},{token:"text",regex:"\\[|\\("},{token:["text","keyword.operator.transposed-matrix.julia"],regex:"([\\]\\)])((?:'|\\.')*\\.?')"}],"#string":[{token:"punctuation.definition.string.begin.julia",regex:"'",push:[{token:"punctuation.definition.string.end.julia",regex:"'",next:"pop"},{include:"#string_escaped_char"},{defaultToken:"string.quoted.single.julia"}]},{token:"punctuation.definition.string.begin.julia",regex:'"',push:[{token:"punctuation.definition.string.end.julia",regex:'"',next:"pop"},{include:"#string_escaped_char"},{defaultToken:"string.quoted.double.julia"}]},{token:"punctuation.definition.string.begin.julia",regex:'\\b[\\w\\xff-\\u218e\\u2455-\\uffff]+"',push:[{token:"punctuation.definition.string.end.julia",regex:'"[\\w\\xff-\\u218e\\u2455-\\uffff]*',next:"pop"},{include:"#string_custom_escaped_char"},{defaultToken:"string.quoted.custom-double.julia"}]},{token:"punctuation.definition.string.begin.julia",regex:"`",push:[{token:"punctuation.definition.string.end.julia",regex:"`",next:"pop"},{include:"#string_escaped_char"},{defaultToken:"string.quoted.backtick.julia"}]}],"#string_custom_escaped_char":[{token:"constant.character.escape.julia",regex:'\\\\"'}],"#string_escaped_char":[{token:"constant.character.escape.julia",regex:"\\\\(?:\\\\|[0-3]\\d{,2}|[4-7]\\d?|x[a-fA-F0-9]{,2}|u[a-fA-F0-9]{,4}|U[a-fA-F0-9]{,8}|.)"}],"#type_decl":[{token:["keyword.control.type.julia","meta.type.julia","entity.name.type.julia","entity.other.inherited-class.julia","punctuation.separator.inheritance.julia","entity.other.inherited-class.julia"],regex:"(type|immutable)(\\s+)([a-zA-Z0-9_]+)(?:(\\s*)(<:)(\\s*[.a-zA-Z0-9_:]+))?"},{token:["other.typed-variable.julia","support.type.julia"],regex:"([a-zA-Z0-9_]+)(::[a-zA-Z0-9_{}]+)"}]},this.normalizeRules()};a.metaData={fileTypes:["jl"],firstLineMatch:"^#!.*\\bjulia\\s*$",foldingStartMarker:"^\\s*(?:if|while|for|begin|function|macro|module|baremodule|type|immutable|let)\\b(?!.*\\bend\\b).*$",foldingStopMarker:"^\\s*(?:end)\\b.*$",name:"Julia",scopeName:"source.julia"},r.inherits(a,i),t.JuliaHighlightRules=a}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../../range").Range,a=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(o,a),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i=e.getLine(n);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(e,i,n);var a=i.match(this.foldingStartMarker);if(a){var o=a.index;if(a[1])return this.openingBracketBlock(e,a[1],n,o);var s=e.getCommentFoldRange(n,o+a[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t){var a=i.match(this.foldingStopMarker);if(a){var o=a.index+a[0].length;return a[1]?this.closingBracketBlock(e,a[1],n,o):e.getCommentFoldRange(n,o,-1)}}},this.getSectionRange=function(e,t){var n=e.getLine(t),r=n.search(/\S/),a=t,o=n.length;t+=1;for(var s=t,l=e.getLength();++t<l;){n=e.getLine(t);var c=n.search(/\S/);if(-1!==c){if(r>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=a)break;if(u.isMultiLine())t=u.end.row;else if(r==c)break}s=t}}return new i(a,o,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),a=e.getLength(),o=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<a;){t=e.getLine(n);var c=s.exec(t);if(c&&(c[1]?l--:l++,!l))break}var u=n;return u>o?new i(o,r,u,t.length):void 0}}.call(o.prototype)}),ace.define("ace/mode/julia",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/julia_highlight_rules","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text").Mode,a=e("./julia_highlight_rules").JuliaHighlightRules,o=e("./folding/cstyle").FoldMode,s=function(){this.HighlightRules=a,this.foldingRules=new o};r.inherits(s,i),function(){this.lineCommentStart="#",this.blockComment="",this.$id="ace/mode/julia"}.call(s.prototype),t.Mode=s})},function(e,t,n){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},a.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};r.inherits(a,i),a.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},a.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},a.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=a}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";function r(){var e=l.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var r="/"==e.charAt(1)?2:1;return 1==r?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==r&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==r?"":"end-")+"tag-open.xml",value:e.slice(0,r)},{type:"meta.tag.tag-name.xml",value:e.substr(r)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,i("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function i(e){return[{token:"comment",regex:/\/\*/,next:[o.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[o.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}var a=e("../lib/oop"),o=e("./doc_comment_highlight_rules").DocCommentHighlightRules,s=e("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*\\b",c=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"
},"identifier"),n="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",a="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[o.getStartRule("doc-start"),i("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/[+-]?\d[\d_]*(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+l+")(\\.)(prototype)(\\.)("+l+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:"+n+")\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:l},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[o.getStartRule("doc-start"),i("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:a},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:a},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:a},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),e&&e.noJSX||r.call(this)),this.embedRules(o,"doc-",[o.getEndRule("no_regex")]),this.normalizeRules()};a.inherits(c,s),t.JavaScriptHighlightRules=c}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";var r=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var n=e.getLine(t),i=n.match(/^(\s*\})/);if(!i)return 0;var a=i[1].length,o=e.findMatchingBracket({row:t,column:a});if(!o||o.row==t)return 0;var s=this.$getIndent(e.getLine(o.row));e.replace(new r(t,0,t,a-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";var r,i=e("../../lib/oop"),a=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,s=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],u={},d=function(e){var t=-1;return e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t]?r=u[t]:void(r=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},p=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},h=function(){this.add("braces","insertion",function(e,t,n,i,a){var o=n.getCursorPosition(),l=i.doc.getLine(o.row);if("{"==a){d(n);var c=n.getSelectionRange(),u=i.doc.getTextRange(c);if(""!==u&&"{"!==u&&n.getWrapBehavioursEnabled())return p(c,u,"{","}");if(h.isSaneInsertion(n,i))return/[\]\}\)]/.test(l[o.column])||n.inMultiSelectMode?(h.recordAutoInsert(n,i,"}"),{text:"{}",selection:[1,1]}):(h.recordMaybeInsert(n,i,"{"),{text:"{",selection:[1,1]})}else if("}"==a){d(n);var m=l.substring(o.column,o.column+1);if("}"==m){var f=i.$findOpeningBracket("}",{column:o.column+1,row:o.row});if(null!==f&&h.isAutoInsertedClosing(o,l,a))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==a||"\r\n"==a){d(n);var g="";h.isMaybeInsertedClosing(o,l)&&(g=s.stringRepeat("}",r.maybeInsertedBrackets),h.clearMaybeInsertedClosing());var m=l.substring(o.column,o.column+1);if("}"===m){var v=i.findMatchingBracket({row:o.row,column:o.column+1},"}");if(!v)return null;var b=this.$getIndent(i.getLine(v.row))}else{if(!g)return void h.clearMaybeInsertedClosing();var b=this.$getIndent(l)}var y=b+i.getTabString();return{text:"\n"+y+"\n"+b+g,selection:[1,y.length,1,y.length]}}h.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,n,i,a){var o=i.doc.getTextRange(a);if(!a.isMultiLine()&&"{"==o){d(n);var s=i.doc.getLine(a.start.row),l=s.substring(a.end.column,a.end.column+1);if("}"==l)return a.end.column++,a;r.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,n,r,i){if("("==i){d(n);var a=n.getSelectionRange(),o=r.doc.getTextRange(a);if(""!==o&&n.getWrapBehavioursEnabled())return p(a,o,"(",")");if(h.isSaneInsertion(n,r))return h.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==i){d(n);var s=n.getCursorPosition(),l=r.doc.getLine(s.row),c=l.substring(s.column,s.column+1);if(")"==c){var u=r.$findOpeningBracket(")",{column:s.column+1,row:s.row});if(null!==u&&h.isAutoInsertedClosing(s,l,i))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,r,i){var a=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==a){d(n);var o=r.doc.getLine(i.start.row),s=o.substring(i.start.column+1,i.start.column+2);if(")"==s)return i.end.column++,i}}),this.add("brackets","insertion",function(e,t,n,r,i){if("["==i){d(n);var a=n.getSelectionRange(),o=r.doc.getTextRange(a);if(""!==o&&n.getWrapBehavioursEnabled())return p(a,o,"[","]");if(h.isSaneInsertion(n,r))return h.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){d(n);var s=n.getCursorPosition(),l=r.doc.getLine(s.row),c=l.substring(s.column,s.column+1);if("]"==c){var u=r.$findOpeningBracket("]",{column:s.column+1,row:s.row});if(null!==u&&h.isAutoInsertedClosing(s,l,i))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,r,i){var a=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==a){d(n);var o=r.doc.getLine(i.start.row),s=o.substring(i.start.column+1,i.start.column+2);if("]"==s)return i.end.column++,i}}),this.add("string_dquotes","insertion",function(e,t,n,r,i){if('"'==i||"'"==i){d(n);var a=i,o=n.getSelectionRange(),s=r.doc.getTextRange(o);if(""!==s&&"'"!==s&&'"'!=s&&n.getWrapBehavioursEnabled())return p(o,s,a,a);if(!s){var l=n.getCursorPosition(),c=r.doc.getLine(l.row),u=c.substring(l.column-1,l.column),h=c.substring(l.column,l.column+1),m=r.getTokenAt(l.row,l.column),f=r.getTokenAt(l.row,l.column+1);if("\\"==u&&m&&/escape/.test(m.type))return null;var g,v=m&&/string|escape/.test(m.type),b=!f||/string|escape/.test(f.type);if(h==a)g=v!==b;else{if(v&&!b)return null;if(v&&b)return null;var y=r.$mode.tokenRe;y.lastIndex=0;var w=y.test(u);y.lastIndex=0;var k=y.test(u);if(w||k)return null;if(h&&!/[\s;,.})\]\\]/.test(h))return null;g=!0}return{text:g?a+a:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var a=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==a||"'"==a)){d(n);var o=r.doc.getLine(i.start.row),s=o.substring(i.start.column+1,i.start.column+2);if(s==a)return i.end.column++,i}})};h.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new o(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",l)){var i=new o(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",l))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",c)},h.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},h.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition(),a=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,a,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=i.row,r.autoInsertedLineEnd=n+a.substr(i.column),r.autoInsertedBrackets++},h.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition(),a=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,a)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=i.row,r.maybeInsertedLineStart=a.substr(0,i.column)+n,r.maybeInsertedLineEnd=a.substr(i.column),r.maybeInsertedBrackets++},h.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},h.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},h.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},h.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},i.inherits(h,a),t.CstyleBehaviour=h}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../../range").Range,a=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(o,a),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i=e.getLine(n);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(e,i,n);var a=i.match(this.foldingStartMarker);if(a){var o=a.index;if(a[1])return this.openingBracketBlock(e,a[1],n,o);var s=e.getCommentFoldRange(n,o+a[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t){var a=i.match(this.foldingStopMarker);if(a){var o=a.index+a[0].length;return a[1]?this.closingBracketBlock(e,a[1],n,o):e.getCommentFoldRange(n,o,-1)}}},this.getSectionRange=function(e,t){var n=e.getLine(t),r=n.search(/\S/),a=t,o=n.length;t+=1;for(var s=t,l=e.getLength();++t<l;){n=e.getLine(t);var c=n.search(/\S/);if(-1!==c){if(r>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=a)break;if(u.isMultiLine())t=u.end.row;else if(r==c)break}s=t}}return new i(a,o,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),a=e.getLength(),o=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<a;){t=e.getLine(n);var c=s.exec(t);if(c&&(c[1]?l--:l++,!l))break}var u=n;return u>o?new i(o,r,u,t.length):void 0}}.call(o.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t,r){"use strict";var i=e("../lib/oop"),a=e("./text").Mode,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,l=(e("../range").Range,e("../worker/worker_client").WorkerClient),c=e("./behaviour/cstyle").CstyleBehaviour,u=e("./folding/cstyle").FoldMode,d=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new c,this.foldingRules=new u};i.inherits(d,a),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e),a=i.tokens,o=i.state;if(a.length&&"comment"==a[a.length-1].type)return r;if("start"==e||"no_regex"==e){var s=t.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);s&&(r+=n)}else if("doc-start"==e){if("start"==o||"no_regex"==o)return"";var s=t.match(/^\s*(\/?)\*/);s&&(s[1]&&(r+=" "),r+="* ")}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new l(["ace"],n(221),"JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript"}.call(d.prototype),t.Mode=d}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,a=function(e){var t="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.xml-decl.xml","keyword.xml-decl.xml"],regex:"(<\\?)(xml)(?=[\\s])",next:"xml_decl",caseInsensitive:!0},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],xml_decl:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:"(?:"+t+":)?"+t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],processing_instruction:[{token:"punctuation.instruction.xml",regex:"\\?>",next:"start"},{defaultToken:"instruction.xml"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:"(?:"+t+":)?"+t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===a&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(i.prototype),r.inherits(a,i),t.XmlHighlightRules=a}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";function r(e,t){return e.type.lastIndexOf(t+".xml")>-1}var i=e("../../lib/oop"),a=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,s=(e("../../lib/lang"),function(){this.add("string_dquotes","insertion",function(e,t,n,i,a){if('"'==a||"'"==a){var s=a,l=i.doc.getTextRange(n.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&n.getWrapBehavioursEnabled())return{text:s+l+s,selection:!1};var c=n.getCursorPosition(),u=i.doc.getLine(c.row),d=u.substring(c.column,c.column+1),p=new o(i,c.row,c.column),h=p.getCurrentToken();if(d==s&&(r(h,"attribute-value")||r(h,"string")))return{text:"",selection:[1,1]};if(h||(h=p.stepBackward()),!h)return;for(;r(h,"tag-whitespace")||r(h,"whitespace");)h=p.stepBackward();var m=!d||d.match(/\s/);if(r(h,"attribute-equals")&&(m||">"==d)||r(h,"decl-attribute-equals")&&(m||"?"==d))return{text:s+s,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(e,t,n,r,i){var a=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==a||"'"==a)){var o=r.doc.getLine(i.start.row),s=o.substring(i.start.column+1,i.start.column+2);if(s==a)return i.end.column++,i}}),this.add("autoclosing","insertion",function(e,t,n,i,a){if(">"==a){var s=n.getCursorPosition(),l=new o(i,s.row,s.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(r(c,"tag-name")||r(c,"tag-whitespace")||r(c,"attribute-name")||r(c,"attribute-equals")||r(c,"attribute-value")))return;if(r(c,"reference.attribute-value"))return;if(r(c,"attribute-value")){var u=c.value.charAt(0);if('"'==u||"'"==u){var d=c.value.charAt(c.value.length-1),p=l.getCurrentTokenColumn()+c.value.length;if(p>s.column||p==s.column&&u!=d)return}}for(;!r(c,"tag-name");)c=l.stepBackward();var h=l.getCurrentTokenRow(),m=l.getCurrentTokenColumn();if(r(l.stepBackward(),"end-tag-open"))return;var f=c.value;if(h==s.row&&(f=f.substring(0,s.column-m)),this.voidElements.hasOwnProperty(f.toLowerCase()))return;return{text:"></"+f+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(e,t,n,r,i){if("\n"==i){var a=n.getCursorPosition(),s=r.getLine(a.row),l=new o(r,a.row,a.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var u=c.value,d=l.getCurrentTokenRow();if(c=l.stepBackward(),!c||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var p=r.getTokenAt(a.row,a.column+1),s=r.getLine(d),h=this.$getIndent(s),m=h+r.getTabString();return p&&"</"===p.value?{text:"\n"+m+"\n"+h,selection:[1,m.length,1,m.length]}:{text:"\n"+m}}}}})});i.inherits(s,a),t.XmlBehaviour=s}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(e,t,n){"use strict";function r(e,t){return e.type.lastIndexOf(t+".xml")>-1}var i=e("../../lib/oop"),a=(e("../../lib/lang"),e("../../range").Range),o=e("./fold_mode").FoldMode,s=e("../../token_iterator").TokenIterator,l=t.FoldMode=function(e,t){o.call(this),this.voidElements=e||{},this.optionalEndTags=i.mixin({},this.voidElements),t&&i.mixin(this.optionalEndTags,t)};i.inherits(l,o);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,n){var r=this._getFirstTagInLine(e,n);return r?r.closing||!r.tagName&&r.selfClosing?"markbeginend"==t?"end":"":!r.tagName||r.selfClosing||this.voidElements.hasOwnProperty(r.tagName.toLowerCase())?"":this._findEndTagInLine(e,n,r.tagName,r.end.column)?"":"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),i=new c,a=0;a<n.length;a++){var o=n[a];if(r(o,"tag-open")){if(i.end.column=i.start.column+o.value.length,i.closing=r(o,"end-tag-open"),o=n[++a],!o)return null;for(i.tagName=o.value,i.end.column+=o.value.length,a++;a<n.length;a++)if(o=n[a],i.end.column+=o.value.length,r(o,"tag-close")){i.selfClosing="/>"==o.value;break}return i}if(r(o,"tag-close"))return i.selfClosing="/>"==o.value,i;i.start.column+=o.value.length}return null},this._findEndTagInLine=function(e,t,n,i){for(var a=e.getTokens(t),o=0,s=0;s<a.length;s++){var l=a[s];if(o+=l.value.length,!(i>o)&&r(l,"end-tag-open")&&(l=a[s+1],l&&l.value==n))return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new c;do if(r(t,"tag-open"))n.closing=r(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn();else if(r(t,"tag-name"))n.tagName=t.value;else if(r(t,"tag-close"))return n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),n;while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new c;do{if(r(t,"tag-open"))return n.closing=r(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn(),e.stepBackward(),n;r(t,"tag-name")?n.tagName=t.value:r(t,"tag-close")&&(n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(t&&n.tagName!=t.tagName){if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,n){var r=this._getFirstTagInLine(e,n);if(!r)return null;var i,o=r.closing||r.selfClosing,l=[];if(o)for(var c=new s(e,n,r.end.column),u={row:n,column:r.start.column};i=this._readTagBackward(c);){if(i.selfClosing){if(l.length)continue;return i.start.column+=i.tagName.length+2,i.end.column-=2,a.fromPoints(i.start,i.end)}if(i.closing)l.push(i);else if(this._pop(l,i),0==l.length)return i.start.column+=i.tagName.length+2,i.start.row==i.end.row&&i.start.column<i.end.column&&(i.start.column=i.end.column),a.fromPoints(i.start,u)}else{var c=new s(e,n,r.start.column),d={row:n,column:r.start.column+r.tagName.length+2};for(r.start.row==r.end.row&&(d.column=r.end.column);i=this._readTagForward(c);){if(i.selfClosing){if(l.length)continue;return i.start.column+=i.tagName.length+2,i.end.column-=2,a.fromPoints(i.start,i.end)}if(i.closing){if(this._pop(l,i),0==l.length)return a.fromPoints(d,i.start)}else l.push(i)}}}}).call(l.prototype)}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],function(e,t,r){"use strict";var i=e("../lib/oop"),a=e("../lib/lang"),o=e("./text").Mode,s=e("./xml_highlight_rules").XmlHighlightRules,l=e("./behaviour/xml").XmlBehaviour,c=e("./folding/xml").FoldMode,u=e("../worker/worker_client").WorkerClient,d=function(){this.HighlightRules=s,this.$behaviour=new l,this.foldingRules=new c};i.inherits(d,o),function(){this.voidElements=a.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.createWorker=function(e){
var t=new u(["ace"],n(222),"Worker");return t.attachToDocument(e.getDocument()),t.on("error",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/xml"}.call(d.prototype),t.Mode=d}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),a=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|min-height|min-width|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",o=t.supportFunction="rgb|rgba|url|attr|counter|counters",s=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",l=t.supportConstantColor="aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",d=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",p=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|acequired|root|target|valid|visited)\\b",h=function(){var e=this.createKeywordMapper({"support.function":o,"support.constant":s,"support.type":a,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"@.*?{",push:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"\\}",next:"pop"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}],ruleset:[{token:"paren.rparen",regex:"\\}",next:"pop"},{token:"comment",regex:"\\/\\*",push:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:d},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:p},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}]},this.normalizeRules()};r.inherits(h,i),t.CssHighlightRules=h}),ace.define("ace/mode/css_completions",["require","exports","module"],function(e,t,n){"use strict";var r={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,"double":2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{"default":1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},"float":{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,"static":1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},i=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var n=t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});r.hasOwnProperty(n)||(r[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,r){this.completionsDefined||this.defineCompletions();var i=t.getTokenAt(n.row,n.column);if(!i)return[];if("ruleset"===e){var a=t.getLine(n.row).substr(0,n.column);return/:[^;]+$/.test(a)?(/([\w\-]+):[^:]*$/.test(a),this.getPropertyValueCompletions(e,t,n,r)):this.getPropertyCompletions(e,t,n,r)}return[]},this.getPropertyCompletions=function(e,t,n,i){var a=Object.keys(r);return a.map(function(e){return{caption:e,snippet:e+": $0",meta:"property",score:Number.MAX_VALUE}})},this.getPropertyValueCompletions=function(e,t,n,i){var a=t.getLine(n.row).substr(0,n.column),o=(/([\w\-]+):[^:]*$/.exec(a)||{})[1];if(!o)return[];var s=[];return o in r&&"object"==typeof r[o]&&(s=Object.keys(r[o])),s.map(function(e){return{caption:e,snippet:e,meta:"property value",score:Number.MAX_VALUE}})}}).call(i.prototype),t.CssCompletions=i}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),a=e("../../token_iterator").TokenIterator,o=function(){this.inherit(i),this.add("colon","insertion",function(e,t,n,r,i){if(":"===i){var o=n.getCursorPosition(),s=new a(r,o.row,o.column),l=s.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=s.stepBackward()),l&&"support.type"===l.type){var c=r.doc.getLine(o.row),u=c.substring(o.column,o.column+1);if(":"===u)return{text:"",selection:[1,1]};if(!c.substring(o.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&":"===o){var s=n.getCursorPosition(),l=new a(r,s.row,s.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type){var u=r.doc.getLine(i.start.row),d=u.substring(i.end.column,i.end.column+1);if(";"===d)return i.end.column++,i}}}),this.add("semicolon","insertion",function(e,t,n,r,i){if(";"===i){var a=n.getCursorPosition(),o=r.doc.getLine(a.row),s=o.substring(a.column,a.column+1);if(";"===s)return{text:"",selection:[1,1]}}})};r.inherits(o,i),t.CssBehaviour=o}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(e,t,r){"use strict";var i=e("../lib/oop"),a=e("./text").Mode,o=e("./css_highlight_rules").CssHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("../worker/worker_client").WorkerClient,c=e("./css_completions").CssCompletions,u=e("./behaviour/css").CssBehaviour,d=e("./folding/cstyle").FoldMode,p=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new u,this.$completer=new c,this.foldingRules=new d};i.inherits(p,a),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e).tokens;if(i.length&&"comment"==i[i.length-1].type)return r;var a=t.match(/^.*\{\s*$/);return a&&(r+=n),r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){var t=new l(["ace"],n(223),"Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/css"}.call(p.prototype),t.Mode=p}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/lang"),a=e("./css_highlight_rules").CssHighlightRules,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./xml_highlight_rules").XmlHighlightRules,l=i.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){s.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(a,"css-","style"),this.embedTagRules(new o({noJSX:!0}).getRules(),"js-","script"),this.constructor===c&&this.normalizeRules()};r.inherits(c,s),t.HtmlHighlightRules=c}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("./fold_mode").FoldMode,a=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};r.inherits(a,i),function(){this.$getMode=function(e){"string"!=typeof e&&(e=e[0]);for(var t in this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,r){var i=this.$getMode(e);return i?i.getFoldWidget(t,n,r):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var r=this.$getMode(e.getState(n-1));return r&&r.getFoldWidget(e,t,n)||(r=this.$getMode(e.getState(n))),r&&r.getFoldWidget(e,t,n)||(r=this.defaultMode),r.getFoldWidgetRange(e,t,n)}}.call(a.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("./mixed").FoldMode,a=e("./xml").FoldMode,o=e("./cstyle").FoldMode,s=t.FoldMode=function(e,t){i.call(this,new a(e,t),{"js-":new o,"css-":new o})};r.inherits(s,i)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(e,t,n){"use strict";function r(e,t){return e.type.lastIndexOf(t+".xml")>-1}function i(e,t){for(var n=new o(e,t.row,t.column),i=n.getCurrentToken();i&&!r(i,"tag-name");)i=n.stepBackward();return i?i.value:void 0}function a(e,t){for(var n=new o(e,t.row,t.column),i=n.getCurrentToken();i&&!r(i,"attribute-name");)i=n.stepBackward();return i?i.value:void 0}var o=e("../token_iterator").TokenIterator,s=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],l=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],c=s.concat(l),u={html:{manifest:1},head:{},title:{},base:{href:1,target:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},noscript:{href:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},section:{},nav:{},article:{pubdate:1},aside:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},header:{},footer:{},address:{},main:{},p:{},hr:{},pre:{},blockquote:{cite:1},ol:{start:1,reversed:1},ul:{},li:{value:1},dl:{},dt:{},dd:{},figure:{},figcaption:{},div:{},a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},em:{},strong:{},small:{},s:{},cite:{},q:{cite:1},dfn:{},abbr:{},data:{},time:{datetime:1},code:{},"var":{},samp:{},kbd:{},sub:{},sup:{},i:{},b:{},u:{},mark:{},ruby:{},rt:{},rp:{},bdi:{},bdo:{},span:{},br:{},wbr:{},ins:{cite:1,datetime:1},del:{cite:1,datetime:1},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},embed:{src:1,height:1,width:1,type:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},param:{name:1,value:1},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},source:{src:1,type:1,media:1},track:{kind:1,src:1,srclang:1,label:1,"default":1},canvas:{width:1,height:1},map:{name:1},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},svg:{},math:{},table:{summary:1},caption:{},colgroup:{span:1},col:{span:1},tbody:{},thead:{},tfoot:{},tr:{},td:{headers:1,rowspan:1,colspan:1},th:{headers:1,rowspan:1,colspan:1,scope:1},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},fieldset:{disabled:1,form:1,name:1},legend:{},label:{form:1,"for":1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},pattern:1,placeholder:1,readonly:{readonly:1},acequired:{acequired:1},size:1,src:1,step:1,width:1,files:1,value:1},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},datalist:{},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},acequired:{acequired:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},output:{"for":1,form:1,name:1},progress:{value:1,max:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},details:{open:1},summary:{},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},menu:{type:1,label:1},dialog:{open:1}},d=Object.keys(u),p=function(){};(function(){this.getCompletions=function(e,t,n,i){var a=t.getTokenAt(n.row,n.column);if(!a)return[];if(r(a,"tag-name")||r(a,"tag-open")||r(a,"end-tag-open"))return this.getTagCompletions(e,t,n,i);if(r(a,"tag-whitespace")||r(a,"attribute-name"))return this.getAttributeCompletions(e,t,n,i);if(r(a,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,i);var o=t.getLine(n.row).substr(0,n.column);return/&[A-z]*$/i.test(o)?this.getHTMLEntityCompletions(e,t,n,i):[]},this.getTagCompletions=function(e,t,n,r){return d.map(function(e){return{value:e,meta:"tag",score:Number.MAX_VALUE}})},this.getAttributeCompletions=function(e,t,n,r){var a=i(t,n);if(!a)return[];var o=c;return a in u&&(o=o.concat(Object.keys(u[a]))),o.map(function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:Number.MAX_VALUE}})},this.getAttributeValueCompletions=function(e,t,n,r){var o=i(t,n),s=a(t,n);if(!o)return[];var l=[];return o in u&&s in u[o]&&"object"==typeof u[o][s]&&(l=Object.keys(u[o][s])),l.map(function(e){return{caption:e,snippet:e,meta:"attribute value",score:Number.MAX_VALUE}})},this.getHTMLEntityCompletions=function(e,t,n,r){var i=["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"];return i.map(function(e){return{caption:e,snippet:e,meta:"html entity",score:Number.MAX_VALUE}})}}).call(p.prototype),t.HtmlCompletions=p}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(e,t,r){"use strict";var i=e("../lib/oop"),a=e("../lib/lang"),o=e("./text").Mode,s=e("./javascript").Mode,l=e("./css").Mode,c=e("./html_highlight_rules").HtmlHighlightRules,u=e("./behaviour/xml").XmlBehaviour,d=e("./folding/html").FoldMode,p=e("./html_completions").HtmlCompletions,h=e("../worker/worker_client").WorkerClient,m=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],f=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],g=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=c,this.$behaviour=new u,this.$completer=new p,this.createModeDelegates({"js-":s,"css-":l}),this.foldingRules=new d(this.voidElements,a.arrayToMap(f))};i.inherits(g,o),function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=a.arrayToMap(m),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,r){return this.$completer.getCompletions(e,t,n,r)},this.createWorker=function(e){if(this.constructor==g){var t=new h(["ace"],n(224),"Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t}},this.$id="ace/mode/html"}.call(g.prototype),t.Mode=g}),ace.define("ace/mode/markdown_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules","ace/mode/html_highlight_rules","ace/mode/css_highlight_rules"],function(e,t,n){"use strict";function r(e,t){return{token:"support.function",regex:"^\\s*```"+e+"\\s*$",push:t+"start"}}var i=e("../lib/oop"),a=e("../lib/lang"),o=e("./text_highlight_rules").TextHighlightRules,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,l=e("./xml_highlight_rules").XmlHighlightRules,c=e("./html_highlight_rules").HtmlHighlightRules,u=e("./css_highlight_rules").CssHighlightRules,d=function(e){return"(?:[^"+a.escapeRegExp(e)+"\\\\]|\\\\.)*"},p=function(){c.call(this),this.$rules.start.unshift({token:"empty_line",regex:"^$",next:"allowBlock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(e){return"markup.heading."+e.length},regex:/^#{1,6}(?=\s*[^ #]|\s+#.)/,next:"header"},r("(?:javascript|js)","jscode-"),r("xml","xmlcode-"),r("html","htmlcode-"),r("css","csscode-"),{token:"support.function",regex:"^\\s*```\\s*\\S*(?:{.*?\\})?\\s*$",next:"githubblock"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"constant",regex:"^ {0,2}(?:(?: ?\\* ?){3,}|(?: ?\\- ?){3,}|(?: ?\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic"}),this.addRules({basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:"support.function",regex:"(`+)(.*?[^`])(\\1)"},{token:["text","constant","text","url","string","text"],regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","string","text","constant","text"],regex:"(\\[)("+d("]")+")(\\]s*\\[)("+d("]")+")(\\])"},{token:["text","string","text","markup.underline","string","text"],regex:"(\\[)("+d("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+d('"')+'"\\s*)?(\\))'},{token:"string.strong",regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:"string.emphasis",regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","url","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty_line",regex:"^$",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"support.variable",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},{token:"support.function",regex:"^\\s*```\\s*[a-zA-Z]*(?:{.*?\\})?\\s*$",
next:"githubblock"},{defaultToken:"list"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:[{token:"support.function",regex:"^\\s*```",next:"start"},{token:"support.function",regex:".+"}]}),this.embedRules(s,"jscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.embedRules(c,"htmlcode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.embedRules(u,"csscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.embedRules(l,"xmlcode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.normalizeRules()};i.inherits(p,o),t.MarkdownHighlightRules=p}),ace.define("ace/mode/folding/markdown",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("./fold_mode").FoldMode,a=e("../../range").Range,o=t.FoldMode=function(){};r.inherits(o,i),function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"`"==r[0]&&"start"==e.bgTokenizer.getState(n)?"end":"start":""},this.getFoldWidgetRange=function(e,t,n){function r(t){return d=e.getTokens(t)[0],d&&0===d.type.lastIndexOf(p,0)}function i(){var e=d.value[0];return"="==e?6:"-"==e?5:7-d.value.search(/[^#]/)}var o=e.getLine(n),s=o.length,l=e.getLength(),c=n,u=n;if(o.match(this.foldingStartMarker)){if("`"==o[0]){if("start"!==e.bgTokenizer.getState(n)){for(;++n<l&&(o=e.getLine(n),!("`"==o[0]&"```"==o.substring(0,3))););return new a(c,s,n,0)}for(;n-- >0&&(o=e.getLine(n),!("`"==o[0]&"```"==o.substring(0,3))););return new a(n,o.length,c,0)}var d,p="markup.heading";if(r(n)){for(var h=i();++n<l;)if(r(n)){var m=i();if(m>=h)break}if(u=n-(d&&-1!=["=","-"].indexOf(d.value[0])?2:1),u>c)for(;u>c&&/^\s*$/.test(e.getLine(u));)u--;if(u>c){var f=e.getLine(u).length;return new a(c,s,u,f)}}}}}.call(o.prototype)}),ace.define("ace/mode/markdown",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript","ace/mode/xml","ace/mode/html","ace/mode/markdown_highlight_rules","ace/mode/folding/markdown"],function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text").Mode,a=e("./javascript").Mode,o=e("./xml").Mode,s=e("./html").Mode,l=e("./markdown_highlight_rules").MarkdownHighlightRules,c=e("./folding/markdown").FoldMode,u=function(){this.HighlightRules=l,this.createModeDelegates({"js-":a,"xml-":o,"html-":s}),this.foldingRules=new c};r.inherits(u,i),function(){this.type="text",this.blockComment={start:"<!--",end:"-->"},this.getNextLineIndent=function(e,t,n){if("listblock"==e){var r=/^(\s*)(?:([-+*])|(\d+)\.)(\s+)/.exec(t);if(!r)return"";var i=r[2];return i||(i=parseInt(r[3],10)+1+"."),r[1]+i+r[4]}return this.$getIndent(t)},this.$id="ace/mode/markdown"}.call(u.prototype),t.Mode=u})},function(e,t){e.exports.id="ace/mode/javascript_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}var cons=obj.constructor;if(cons===RegExp)return obj;copy=cons();for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/javascript/jshint",["require","exports","module"],function(acequire,exports,module){module.exports=function outer(modules,cache,entry){function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire="function"==typeof acequire&&acequire;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);var err=Error("Cannot find module \'"+name+"\'");throw err.code="MODULE_NOT_FOUND",err}var m=cache[name]={exports:{}};modules[name][0].call(m.exports,function(x){var id=modules[name][1][x];return newRequire(id?id:x)},m,m.exports,outer,modules,cache,entry)}return cache[name].exports}for(var previousRequire="function"==typeof acequire&&acequire,i=0;entry.length>i;i++)newRequire(entry[i]);return newRequire(entry[0])}({"/node_modules/browserify/node_modules/events/events.js":[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError(\'Uncaught, unspecified "error" event.\')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this\n}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],"/node_modules/jshint/data/ascii-identifier-data.js":[function(_dereq_,module){for(var identifierStartTable=[],i=0;128>i;i++)identifierStartTable[i]=36===i||i>=65&&90>=i||95===i||i>=97&&122>=i;for(var identifierPartTable=[],i=0;128>i;i++)identifierPartTable[i]=identifierStartTable[i]||i>=48&&57>=i;module.exports={asciiIdentifierStartTable:identifierStartTable,asciiIdentifierPartTable:identifierPartTable}},{}],"/node_modules/jshint/lodash.js":[function(_dereq_,module,exports){(function(global){(function(){function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:length>++index;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;length>++index;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return"string"==typeof value?value:null==value?"":value+""}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:length>++index;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&"object"==typeof value}function lodash(){}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));length>++index;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;length>++index&&iteratee(array[index],index,array)!==!1;);return array}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];length>++index;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);length>++index;)result[index]=iteratee(array[index],index,array);return result}function arrayMax(array){for(var index=-1,length=array.length,result=NEGATIVE_INFINITY;length>++index;){var value=array[index];value>result&&(result=value)}return result}function arraySome(array,predicate){for(var index=-1,length=array.length;length>++index;)if(predicate(array[index],index,array))return!0;return!1}function assignWith(object,source,customizer){var props=keys(source);push.apply(props,getSymbols(source));for(var index=-1,length=props.length;length>++index;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;length>++index;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=-1,length=path.length;null!=object&&length>++index;)var result=object=object[path[index]];return result}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other)return 0!==value||1/value==1/other;var valType=typeof value,othType=typeof other;return"function"!=valType&&"object"!=valType&&"function"!=othType&&"object"!=othType||null==value||null==other?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var valWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(valWrapped||othWrapped)return equalFunc(valWrapped?object.value():object,othWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,props,values,strictCompareFlags,customizer){for(var index=-1,length=props.length,noCustomizer=!customizer;length>++index;)if(noCustomizer&&strictCompareFlags[index]?values[index]!==object[props[index]]:!(props[index]in object))return!1;for(index=-1;length>++index;){var key=props[index],objValue=object[key],srcValue=values[index];if(noCustomizer&&strictCompareFlags[index])var result=objValue!==undefined||key in object;else result=customizer?customizer(objValue,srcValue,key):undefined,result===undefined&&(result=baseIsEqual(srcValue,objValue,customizer,!0));if(!result)return!1}return!0}function baseMatches(source){var props=keys(source),length=props.length;if(!length)return constant(!0);if(1==length){var key=props[0],value=source[key];if(isStrictComparable(value))return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}for(var values=Array(length),strictCompareFlags=Array(length);length--;)value=source[props[length]],values[length]=value,strictCompareFlags[length]=isStrictComparable(value);return function(object){return null!=object&&baseIsMatch(toObject(object),props,values,strictCompareFlags)}}function baseMatchesProperty(path,value){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(value),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),!(!isArr&&isCommon||key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===value?value!==undefined||key in object:baseIsEqual(value,object[key],null,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isLength(source.length)&&(isArray(source)||isTypedArray(source));if(!isSrcArr){var props=keys(source);push.apply(props,getSymbols(source))}return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),!isSrcArr&&result===undefined||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return object[key]=stackB[length],undefined;var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isLength(srcValue.length)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:getLength(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);length>++index;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);length>++index;)result[index]=object[props[index]];return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsUndef=value===undefined;high>low;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsUndef?isReflexive&&(retHighest||computed!==undefined):retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2&&sources[length-2],guard=length>2&&sources[2],thisArg=length>1&&sources[length-1];for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer="function"==typeof thisArg?thisArg:null,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?null:customizer,length=1);length>++index;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:length>++index)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:length>++index;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length,result=!0;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;result&&arrLength>++index;){var arrValue=array[index],othValue=other[index];if(result=undefined,customizer&&(result=isLoose?customizer(othValue,arrValue,index):customizer(arrValue,othValue,index)),result===undefined)if(isLoose)for(var othIndex=othLength;othIndex--&&(othValue=other[othIndex],!(result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))););else result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}return!!result}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:0==object?1/object==1/other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var skipCtor=isLoose,index=-1;objLength>++index;){var key=objProps[index],result=isLoose?key in other:hasOwnProperty.call(other,key);if(result){var objValue=object[key],othValue=other[key];result=undefined,customizer&&(result=isLoose?customizer(othValue,objValue,key):customizer(objValue,othValue,key)),result===undefined&&(result=objValue&&objValue===othValue||equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB))}if(!result)return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function isIndex(value,length){return value=+value,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&0==value%1&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type)var length=getLength(object),prereq=isLength(length)&&isIndex(index,length);else prereq="string"==type&&index in object;if(prereq){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLength(value){return"number"==typeof value&&value>-1&&0==value%1&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&(0===value?1/value>0:!isObject(value))}function shimIsPlainObject(value){var Ctor;if(lodash.support,!isObjectLike(value)||objToString.call(value)!=objectTag||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,support=lodash.support,allowIndexes=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object)),index=-1,result=[];propsLength>++index;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value===value?value===other:other!==other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function unzip(array){for(var index=-1,length=(array&&array.length&&arrayMax(arrayMap(array,getLength)))>>>0,result=Array(length);length>++index;)result[index]=arrayMap(array,baseProperty(index));return result}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),length?(fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?length>fromIndex&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1):!1}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),("function"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);length>++index;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;start>++index;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function clone(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),customizer="function"==typeof customizer&&bindCallback(customizer,thisArg,1),baseClone(value,isDeep,customizer)}function isArguments(value){var length=isObjectLike(value)?value.length:undefined;return isLength(length)&&objToString.call(value)==argsTag}function isEmpty(value){if(null==value)return!0;var length=getLength(value);return isLength(length)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!length:!keys(value).length}function isObject(value){var type=typeof value;return"function"==type||!!value&&"object"==type}function isNative(value){return null==value?!1:objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function toPlainObject(value){return baseCopy(value,keysIn(value))}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);return result||isKey(path)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path),result=null!=object&&hasOwnProperty.call(object,path)),result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;length>++index;)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function values(object){return baseValues(object,keys(object))}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,"\\\\$&"):string}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}var undefined,VERSION="3.7.0",FUNC_ERROR_TEXT="Expected a function",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reIsDeepProp=/\\.|\\[(?:[^[\\]]+|(["\'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?)\\1\\]/,reIsPlainProp=/^\\w*$/,rePropName=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,reRegExpChars=/[.*+?^${}()|[\\]\\/\\\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reEscapeChar=/\\\\(\\\\)?/g,reFlags=/\\w*$/,reIsHostCtor=/^\\[object .+?Constructor\\]$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var objectTypes={"function":!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,arrayProto=Array.prototype,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$"),ArrayBuffer=isNative(ArrayBuffer=root.ArrayBuffer)&&ArrayBuffer,bufferSlice=isNative(bufferSlice=ArrayBuffer&&new ArrayBuffer(0).slice)&&bufferSlice,floor=Math.floor,getOwnPropertySymbols=isNative(getOwnPropertySymbols=Object.getOwnPropertySymbols)&&getOwnPropertySymbols,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,push=arrayProto.push,preventExtensions=isNative(Object.preventExtensions=Object.preventExtensions)&&preventExtensions,propertyIsEnumerable=objectProto.propertyIsEnumerable,Uint8Array=isNative(Uint8Array=root.Uint8Array)&&Uint8Array,Float64Array=function(){try{var func=isNative(func=root.Float64Array)&&func,result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result}(),nativeAssign=function(){var object={1:0},func=preventExtensions&&isNative(func=Object.assign)&&func;try{func(preventExtensions(object),"xo")}catch(e){}return!object[1]&&func}(),nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=Math.pow(2,53)-1,support=lodash.support={};(function(x){var Ctor=function(){this.x=x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);support.funcDecomp=/\\bthis\\b/.test(function(){return this}),support.funcNames="string"==typeof Function.name;try{support.nonEnumArgs=!propertyIsEnumerable.call(arguments,1)}catch(e){support.nonEnumArgs=!0}})(1,0);var baseAssign=nativeAssign||function(object,source){return null==source?object:baseCopy(source,getSymbols(source),baseCopy(source,keys(source),object))},baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor();bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset),view.set(new Uint8Array(buffer,offset))),result}:constant(null));var getLength=baseProperty("length"),getSymbols=getOwnPropertySymbols?function(object){return getOwnPropertySymbols(toObject(object))}:constant([]),findLastIndex=createFindIndex(!0),zip=restParam(unzip),forEach=createForEach(arrayEach,baseEach),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction,isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag)return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),keys=nativeKeys?function(object){if(object)var Ctor=object.constructor,length=object.length;return"function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isLength(length)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,merge=createAssigner(baseMerge);lodash.assign=assign,lodash.callback=callback,lodash.constant=constant,lodash.forEach=forEach,lodash.keys=keys,lodash.keysIn=keysIn,lodash.merge=merge,lodash.property=property,lodash.reject=reject,lodash.restParam=restParam,lodash.slice=slice,lodash.toPlainObject=toPlainObject,lodash.unzip=unzip,lodash.values=values,lodash.zip=zip,lodash.each=forEach,lodash.extend=assign,lodash.iteratee=callback,lodash.clone=clone,lodash.escapeRegExp=escapeRegExp,lodash.findLastIndex=findLastIndex,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isEmpty=isEmpty,lodash.isFunction=isFunction,lodash.isNative=isNative,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.last=last,lodash.some=some,lodash.any=some,lodash.contains=includes,lodash.include=includes,lodash.VERSION=VERSION,freeExports&&freeModule?moduleExports?(freeModule.exports=lodash)._=lodash:freeExports._=lodash:root._=lodash\n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/node_modules/jshint/src/jshint.js":[function(_dereq_,module,exports){var _=_dereq_("../lodash"),events=_dereq_("events"),vars=_dereq_("./vars.js"),messages=_dereq_("./messages.js"),Lexer=_dereq_("./lex.js").Lexer,reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,style=_dereq_("./style.js"),options=_dereq_("./options.js"),scopeManager=_dereq_("./scope-manager.js"),JSHINT=function(){"use strict";function checkOption(name,t){return name=name.trim(),/^[+-]W\\d{3}$/g.test(name)?!0:-1!==options.validNames.indexOf(name)||"jslint"===t.type||_.has(options.removed,name)?!0:(error("E001",t,name),!1)}function isString(obj){return"[object String]"===Object.prototype.toString.call(obj)}function isIdentifier(tkn,value){return tkn?tkn.identifier&&tkn.value===value?!0:!1:!1}function isReserved(token){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(token.isProperty)return!1}return!0}function supplant(str,data){return str.replace(/\\{([^{}]*)\\}/g,function(a,b){var r=data[b];return"string"==typeof r||"number"==typeof r?r:a})}function combine(dest,src){Object.keys(src).forEach(function(name){_.has(JSHINT.blacklist,name)||(dest[name]=src[name])})}function processenforceall(){if(state.option.enforceall){for(var enforceopt in options.bool.enforcing)void 0!==state.option[enforceopt]||options.noenforceall[enforceopt]||(state.option[enforceopt]=!0);for(var relaxopt in options.bool.relaxing)void 0===state.option[relaxopt]&&(state.option[relaxopt]=!1)}}function assume(){processenforceall(),state.option.esversion||state.option.moz||(state.option.esversion=state.option.es3?3:state.option.esnext?6:5),state.inES5()&&combine(predefined,vars.ecmaIdentifiers[5]),state.inES6()&&combine(predefined,vars.ecmaIdentifiers[6]),state.option.module&&(state.option.strict===!0&&(state.option.strict="global"),state.inES6()||warning("W134",state.tokens.next,"module",6)),state.option.couch&&combine(predefined,vars.couch),state.option.qunit&&combine(predefined,vars.qunit),state.option.rhino&&combine(predefined,vars.rhino),state.option.shelljs&&(combine(predefined,vars.shelljs),combine(predefined,vars.node)),state.option.typed&&combine(predefined,vars.typed),state.option.phantom&&(combine(predefined,vars.phantom),state.option.strict===!0&&(state.option.strict="global")),state.option.prototypejs&&combine(predefined,vars.prototypejs),state.option.node&&(combine(predefined,vars.node),combine(predefined,vars.typed),state.option.strict===!0&&(state.option.strict="global")),state.option.devel&&combine(predefined,vars.devel),state.option.dojo&&combine(predefined,vars.dojo),state.option.browser&&(combine(predefined,vars.browser),combine(predefined,vars.typed)),state.option.browserify&&(combine(predefined,vars.browser),combine(predefined,vars.typed),combine(predefined,vars.browserify),state.option.strict===!0&&(state.option.strict="global")),state.option.nonstandard&&combine(predefined,vars.nonstandard),state.option.jasmine&&combine(predefined,vars.jasmine),state.option.jquery&&combine(predefined,vars.jquery),state.option.mootools&&combine(predefined,vars.mootools),state.option.worker&&combine(predefined,vars.worker),state.option.wsh&&combine(predefined,vars.wsh),state.option.globalstrict&&state.option.strict!==!1&&(state.option.strict="global"),state.option.yui&&combine(predefined,vars.yui),state.option.mocha&&combine(predefined,vars.mocha)}function quit(code,line,chr){var percentage=Math.floor(100*(line/state.lines.length)),message=messages.errors[code].desc;throw{name:"JSHintError",line:line,character:chr,message:message+" ("+percentage+"% scanned).",raw:message,code:code}}function removeIgnoredMessages(){var ignored=state.ignoredLines;_.isEmpty(ignored)||(JSHINT.errors=_.reject(JSHINT.errors,function(err){return ignored[err.line]}))}function warning(code,t,a,b,c,d){var ch,l,w,msg;if(/^W\\d{3}$/.test(code)){if(state.ignored[code])return;msg=messages.warnings[code]}else/E\\d{3}/.test(code)?msg=messages.errors[code]:/I\\d{3}/.test(code)&&(msg=messages.info[code]);return t=t||state.tokens.next||{},"(end)"===t.id&&(t=state.tokens.curr),l=t.line||0,ch=t.from||0,w={id:"(error)",raw:msg.desc,code:msg.code,evidence:state.lines[l-1]||"",line:l,character:ch,scope:JSHINT.scope,a:a,b:b,c:c,d:d},w.reason=supplant(msg.desc,w),JSHINT.errors.push(w),removeIgnoredMessages(),JSHINT.errors.length>=state.option.maxerr&&quit("E043",l,ch),w}function warningAt(m,l,ch,a,b,c,d){return warning(m,{line:l,from:ch},a,b,c,d)}function error(m,t,a,b,c,d){warning(m,t,a,b,c,d)}function errorAt(m,l,ch,a,b,c,d){return error(m,{line:l,from:ch},a,b,c,d)}function addInternalSrc(elem,src){var i;return i={id:"(internal)",elem:elem,value:src},JSHINT.internals.push(i),i}function doOption(){var nt=state.tokens.next,body=nt.body.match(/(-\\s+)?[^\\s,:]+(?:\\s*:\\s*(-\\s+)?[^\\s,]+)?/g)||[],predef={};if("globals"===nt.type){body.forEach(function(g,idx){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();if("-"===key||!key.length){if(idx>0&&idx===body.length-1)return;return error("E002",nt),void 0}"-"===key.charAt(0)?(key=key.slice(1),val=!1,JSHINT.blacklist[key]=key,delete predefined[key]):predef[key]="true"===val}),combine(predefined,predef);for(var key in predef)_.has(predef,key)&&(declared[key]=nt)}"exported"===nt.type&&body.forEach(function(e,idx){if(!e.length){if(idx>0&&idx===body.length-1)return;return error("E002",nt),void 0}state.funct["(scope)"].addExported(e)}),"members"===nt.type&&(membersOnly=membersOnly||{},body.forEach(function(m){var ch1=m.charAt(0),ch2=m.charAt(m.length-1);ch1!==ch2||\'"\'!==ch1&&"\'"!==ch1||(m=m.substr(1,m.length-2).replace(\'\\\\"\',\'"\')),membersOnly[m]=!1}));var numvals=["maxstatements","maxparams","maxdepth","maxcomplexity","maxerr","maxlen","indent"];("jshint"===nt.type||"jslint"===nt.type)&&(body.forEach(function(g){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();if(checkOption(key,nt))if(numvals.indexOf(key)>=0)if("false"!==val){if(val=+val,"number"!=typeof val||!isFinite(val)||0>=val||Math.floor(val)!==val)return error("E032",nt,g[1].trim()),void 0;state.option[key]=val}else state.option[key]="indent"===key?4:!1;else{if("validthis"===key)return state.funct["(global)"]?void error("E009"):"true"!==val&&"false"!==val?void error("E002",nt):(state.option.validthis="true"===val,void 0);if("quotmark"!==key)if("shadow"!==key)if("unused"!==key)if("latedef"!==key)if("ignore"!==key)if("strict"!==key){"module"===key&&(hasParsedCode(state.funct)||error("E055",state.tokens.next,"module"));var esversions={es3:3,es5:5,esnext:6};if(!_.has(esversions,key)){if("esversion"===key){switch(val){case"5":state.inES5(!0)&&warning("I003");case"3":case"6":state.option.moz=!1,state.option.esversion=+val;break;case"2015":state.option.moz=!1,state.option.esversion=6;break;default:error("E002",nt)}return hasParsedCode(state.funct)||error("E055",state.tokens.next,"esversion"),void 0}var match=/^([+-])(W\\d{3})$/g.exec(key);if(match)return state.ignored[match[2]]="-"===match[1],void 0;var tn;return"true"===val||"false"===val?("jslint"===nt.type?(tn=options.renamed[key]||key,state.option[tn]="true"===val,void 0!==options.inverted[tn]&&(state.option[tn]=!state.option[tn])):state.option[key]="true"===val,"newcap"===key&&(state.option["(explicitNewcap)"]=!0),void 0):(error("E002",nt),void 0)}switch(val){case"true":state.option.moz=!1,state.option.esversion=esversions[key];break;case"false":state.option.moz||(state.option.esversion=5);break;default:error("E002",nt)}}else switch(val){case"true":state.option.strict=!0;break;case"false":state.option.strict=!1;break;case"func":case"global":case"implied":state.option.strict=val;break;default:error("E002",nt)}else switch(val){case"line":state.ignoredLines[nt.line]=!0,removeIgnoredMessages();break;default:error("E002",nt)}else switch(val){case"true":state.option.latedef=!0;break;case"false":state.option.latedef=!1;break;case"nofunc":state.option.latedef="nofunc";break;default:error("E002",nt)}else switch(val){case"true":state.option.unused=!0;break;case"false":state.option.unused=!1;break;case"vars":case"strict":state.option.unused=val;break;default:error("E002",nt)}else switch(val){case"true":state.option.shadow=!0;break;case"outer":state.option.shadow="outer";break;case"false":case"inner":state.option.shadow="inner";break;default:error("E002",nt)}else switch(val){case"true":case"false":state.option.quotmark="true"===val;break;case"double":case"single":state.option.quotmark=val;break;default:error("E002",nt)}}}),assume())}function peek(p){var t,i=p||0,j=lookahead.length;if(j>i)return lookahead[i];for(;i>=j;)t=lookahead[j],t||(t=lookahead[j]=lex.token()),j+=1;return t||"(end)"!==state.tokens.next.id?t:state.tokens.next}function peekIgnoreEOL(){var t,i=0;do t=peek(i++);while("(endline)"===t.id);return t}function advance(id,t){switch(state.tokens.curr.id){case"(number)":"."===state.tokens.next.id&&warning("W005",state.tokens.curr);break;case"-":("-"===state.tokens.next.id||"--"===state.tokens.next.id)&&warning("W006");break;case"+":("+"===state.tokens.next.id||"++"===state.tokens.next.id)&&warning("W007")}for(id&&state.tokens.next.id!==id&&(t?"(end)"===state.tokens.next.id?error("E019",t,t.id):error("E020",state.tokens.next,id,t.id,t.line,state.tokens.next.value):("(identifier)"!==state.tokens.next.type||state.tokens.next.value!==id)&&warning("W116",state.tokens.next,id,state.tokens.next.value)),state.tokens.prev=state.tokens.curr,state.tokens.curr=state.tokens.next;;){if(state.tokens.next=lookahead.shift()||lex.token(),state.tokens.next||quit("E041",state.tokens.curr.line),"(end)"===state.tokens.next.id||"(error)"===state.tokens.next.id)return;if(state.tokens.next.check&&state.tokens.next.check(),state.tokens.next.isSpecial)"falls through"===state.tokens.next.type?state.tokens.curr.caseFallsThrough=!0:doOption();else if("(endline)"!==state.tokens.next.id)break}}function isInfix(token){return token.infix||!token.identifier&&!token.template&&!!token.led}function isEndOfExpr(){var curr=state.tokens.curr,next=state.tokens.next;return";"===next.id||"}"===next.id||":"===next.id?!0:isInfix(next)===isInfix(curr)||"yield"===curr.id&&state.inMoz()?curr.line!==startLine(next):!1}function isBeginOfExpr(prev){return!prev.left&&"unary"!==prev.arity}function expression(rbp,initial){var left,isArray=!1,isObject=!1,isLetExpr=!1;state.nameStack.push(),initial||"let"!==state.tokens.next.value||"("!==peek(0).value||(state.inMoz()||warning("W118",state.tokens.next,"let expressions"),isLetExpr=!0,state.funct["(scope)"].stack(),advance("let"),advance("("),state.tokens.prev.fud(),advance(")")),"(end)"===state.tokens.next.id&&error("E006",state.tokens.curr);var isDangerous=state.option.asi&&state.tokens.prev.line!==startLine(state.tokens.curr)&&_.contains(["]",")"],state.tokens.prev.id)&&_.contains(["[","("],state.tokens.curr.id);if(isDangerous&&warning("W014",state.tokens.curr,state.tokens.curr.id),advance(),initial&&(state.funct["(verb)"]=state.tokens.curr.value,state.tokens.curr.beginsStmt=!0),initial===!0&&state.tokens.curr.fud)left=state.tokens.curr.fud();else for(state.tokens.curr.nud?left=state.tokens.curr.nud():error("E030",state.tokens.curr,state.tokens.curr.id);(state.tokens.next.lbp>rbp||"(template)"===state.tokens.next.type)&&!isEndOfExpr();)isArray="Array"===state.tokens.curr.value,isObject="Object"===state.tokens.curr.value,left&&(left.value||left.first&&left.first.value)&&("new"!==left.value||left.first&&left.first.value&&"."===left.first.value)&&(isArray=!1,left.value!==state.tokens.curr.value&&(isObject=!1)),advance(),isArray&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W009",state.tokens.curr),isObject&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W010",state.tokens.curr),left&&state.tokens.curr.led?left=state.tokens.curr.led(left):error("E033",state.tokens.curr,state.tokens.curr.id);return isLetExpr&&state.funct["(scope)"].unstack(),state.nameStack.pop(),left}function startLine(token){return token.startLine||token.line}function nobreaknonadjacent(left,right){left=left||state.tokens.curr,right=right||state.tokens.next,state.option.laxbreak||left.line===startLine(right)||warning("W014",right,right.value)}function nolinebreak(t){t=t||state.tokens.curr,t.line!==startLine(state.tokens.next)&&warning("E022",t,t.value)}function nobreakcomma(left,right){left.line!==startLine(right)&&(state.option.laxcomma||(comma.first&&(warning("I001"),comma.first=!1),warning("W014",left,right.value)))}function comma(opts){if(opts=opts||{},opts.peek?nobreakcomma(state.tokens.prev,state.tokens.curr):(nobreakcomma(state.tokens.curr,state.tokens.next),advance(",")),state.tokens.next.identifier&&(!opts.property||!state.inES5()))switch(state.tokens.next.value){case"break":case"case":case"catch":case"continue":case"default":case"do":case"else":case"finally":case"for":case"if":case"in":case"instanceof":case"return":case"switch":case"throw":case"try":case"var":case"let":case"while":case"with":return error("E024",state.tokens.next,state.tokens.next.value),!1}if("(punctuator)"===state.tokens.next.type)switch(state.tokens.next.value){case"}":case"]":case",":if(opts.allowTrailing)return!0;case")":return error("E024",state.tokens.next,state.tokens.next.value),!1}return!0}function symbol(s,p){var x=state.syntax[s];return x&&"object"==typeof x||(state.syntax[s]=x={id:s,lbp:p,value:s}),x}function delim(s){var x=symbol(s,0);return x.delim=!0,x}function stmt(s,f){var x=delim(s);return x.identifier=x.reserved=!0,x.fud=f,x}function blockstmt(s,f){var x=stmt(s,f);return x.block=!0,x}function reserveName(x){var c=x.id.charAt(0);return(c>="a"&&"z">=c||c>="A"&&"Z">=c)&&(x.identifier=x.reserved=!0),x}function prefix(s,f){var x=symbol(s,150);return reserveName(x),x.nud="function"==typeof f?f:function(){return this.arity="unary",this.right=expression(150),("++"===this.id||"--"===this.id)&&(state.option.plusplus?warning("W016",this,this.id):!this.right||this.right.identifier&&!isReserved(this.right)||"."===this.right.id||"["===this.right.id||warning("W017",this),this.right&&this.right.isMetaProperty?error("E031",this):this.right&&this.right.identifier&&state.funct["(scope)"].block.modify(this.right.value,this)),this},x}function type(s,f){var x=delim(s);return x.type=s,x.nud=f,x}function reserve(name,func){var x=type(name,func);return x.identifier=!0,x.reserved=!0,x}function FutureReservedWord(name,meta){var x=type(name,meta&&meta.nud||function(){return this});return meta=meta||{},meta.isFutureReservedWord=!0,x.value=name,x.identifier=!0,x.reserved=!0,x.meta=meta,x}function reservevar(s,v){return reserve(s,function(){return"function"==typeof v&&v(this),this})}function infix(s,f,p,w){var x=symbol(s,p);return reserveName(x),x.infix=!0,x.led=function(left){return w||nobreaknonadjacent(state.tokens.prev,state.tokens.curr),"in"!==s&&"instanceof"!==s||"!"!==left.id||warning("W018",left,"!"),"function"==typeof f?f(left,this):(this.left=left,this.right=expression(p),this)},x}function application(s){var x=symbol(s,42);return x.led=function(left){return nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left,this.right=doFunction({type:"arrow",loneArg:left}),this},x}function relation(s,f){var x=symbol(s,100);return x.led=function(left){nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left;var right=this.right=expression(100);return isIdentifier(left,"NaN")||isIdentifier(right,"NaN")?warning("W019",this):f&&f.apply(this,[left,right]),left&&right||quit("E041",state.tokens.curr.line),"!"===left.id&&warning("W018",left,"!"),"!"===right.id&&warning("W018",right,"!"),this},x}function isPoorRelation(node){return node&&("(number)"===node.type&&0===+node.value||"(string)"===node.type&&""===node.value||"null"===node.type&&!state.option.eqnull||"true"===node.type||"false"===node.type||"undefined"===node.type)}function isTypoTypeof(left,right,state){var values;return state.option.notypeof?!1:left&&right?(values=state.inES6()?typeofValues.es6:typeofValues.es3,"(identifier)"===right.type&&"typeof"===right.value&&"(string)"===left.type?!_.contains(values,left.value):!1):!1}function isGlobalEval(left,state){var isGlobal=!1;return"this"===left.type&&null===state.funct["(context)"]?isGlobal=!0:"(identifier)"===left.type&&(state.option.node&&"global"===left.value?isGlobal=!0:!state.option.browser||"window"!==left.value&&"document"!==left.value||(isGlobal=!0)),isGlobal}function findNativePrototype(left){function walkPrototype(obj){return"object"==typeof obj?"prototype"===obj.right?obj:walkPrototype(obj.left):void 0}function walkNative(obj){for(;!obj.identifier&&"object"==typeof obj.left;)obj=obj.left;return obj.identifier&&natives.indexOf(obj.value)>=0?obj.value:void 0}var natives=["Array","ArrayBuffer","Boolean","Collator","DataView","Date","DateTimeFormat","Error","EvalError","Float32Array","Float64Array","Function","Infinity","Intl","Int16Array","Int32Array","Int8Array","Iterator","Number","NumberFormat","Object","RangeError","ReferenceError","RegExp","StopIteration","String","SyntaxError","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError"],prototype=walkPrototype(left);return prototype?walkNative(prototype):void 0}function checkLeftSideAssign(left,assignToken,options){var allowDestructuring=options&&options.allowDestructuring;if(assignToken=assignToken||left,state.option.freeze){var nativeObject=findNativePrototype(left);nativeObject&&warning("W121",left,nativeObject)}return left.identifier&&!left.isMetaProperty&&state.funct["(scope)"].block.reassign(left.value,left),"."===left.id?((!left.left||"arguments"===left.left.value&&!state.isStrict())&&warning("E031",assignToken),state.nameStack.set(state.tokens.prev),!0):"{"===left.id||"["===left.id?(allowDestructuring&&state.tokens.curr.left.destructAssign?state.tokens.curr.left.destructAssign.forEach(function(t){t.id&&state.funct["(scope)"].block.modify(t.id,t.token)}):"{"!==left.id&&left.left?"arguments"!==left.left.value||state.isStrict()||warning("E031",assignToken):warning("E031",assignToken),"["===left.id&&state.nameStack.set(left.right),!0):left.isMetaProperty?(error("E031",assignToken),!0):left.identifier&&!isReserved(left)?("exception"===state.funct["(scope)"].labeltype(left.value)&&warning("W022",left),state.nameStack.set(left),!0):(left===state.syntax["function"]&&warning("W023",state.tokens.curr),!1)}function assignop(s,f,p){var x=infix(s,"function"==typeof f?f:function(left,that){return that.left=left,left&&checkLeftSideAssign(left,that,{allowDestructuring:!0})?(that.right=expression(10),that):(error("E031",that),void 0)},p);return x.exps=!0,x.assign=!0,x}function bitwise(s,f,p){var x=symbol(s,p);return reserveName(x),x.led="function"==typeof f?f:function(left){return state.option.bitwise&&warning("W016",this,this.id),this.left=left,this.right=expression(p),this},x}function bitwiseassignop(s){return assignop(s,function(left,that){return state.option.bitwise&&warning("W016",that,that.id),left&&checkLeftSideAssign(left,that)?(that.right=expression(10),that):(error("E031",that),void 0)},20)}function suffix(s){var x=symbol(s,150);return x.led=function(left){return state.option.plusplus?warning("W016",this,this.id):left.identifier&&!isReserved(left)||"."===left.id||"["===left.id||warning("W017",this),left.isMetaProperty?error("E031",this):left&&left.identifier&&state.funct["(scope)"].block.modify(left.value,left),this.left=left,this},x}function optionalidentifier(fnparam,prop,preserve){if(state.tokens.next.identifier){preserve||advance();var curr=state.tokens.curr,val=state.tokens.curr.value;return isReserved(curr)?prop&&state.inES5()?val:fnparam&&"undefined"===val?val:(warning("W024",state.tokens.curr,state.tokens.curr.id),val):val}}function identifier(fnparam,prop){var i=optionalidentifier(fnparam,prop,!1);if(i)return i;if("..."===state.tokens.next.value){if(state.inES6(!0)||warning("W119",state.tokens.next,"spread/rest operator","6"),advance(),checkPunctuator(state.tokens.next,"..."))for(warning("E024",state.tokens.next,"...");checkPunctuator(state.tokens.next,"...");)advance();return state.tokens.next.identifier?identifier(fnparam,prop):(warning("E024",state.tokens.curr,"..."),void 0)}error("E030",state.tokens.next,state.tokens.next.value),";"!==state.tokens.next.id&&advance()}function reachable(controlToken){var t,i=0;if(";"===state.tokens.next.id&&!controlToken.inBracelessBlock)for(;;){do t=peek(i),i+=1;while("(end)"!==t.id&&"(comment)"===t.id);if(t.reach)return;if("(endline)"!==t.id){if("function"===t.id){state.option.latedef===!0&&warning("W026",t);break}warning("W027",t,t.value,controlToken.value);break}}}function parseFinalSemicolon(){if(";"!==state.tokens.next.id){if(state.tokens.next.isUnclosed)return advance();var sameLine=startLine(state.tokens.next)===state.tokens.curr.line&&"(end)"!==state.tokens.next.id,blockEnd=checkPunctuator(state.tokens.next,"}");sameLine&&!blockEnd?errorAt("E058",state.tokens.curr.line,state.tokens.curr.character):state.option.asi||(blockEnd&&!state.option.lastsemic||!sameLine)&&warningAt("W033",state.tokens.curr.line,state.tokens.curr.character)}else advance(";")}function statement(){var r,i=indent,t=state.tokens.next,hasOwnScope=!1;if(";"===t.id)return advance(";"),void 0;var res=isReserved(t);if(res&&t.meta&&t.meta.isFutureReservedWord&&":"===peek().id&&(warning("W024",t,t.id),res=!1),t.identifier&&!res&&":"===peek().id&&(advance(),advance(":"),hasOwnScope=!0,state.funct["(scope)"].stack(),state.funct["(scope)"].block.addBreakLabel(t.value,{token:state.tokens.curr}),state.tokens.next.labelled||"{"===state.tokens.next.value||warning("W028",state.tokens.next,t.value,state.tokens.next.value),state.tokens.next.label=t.value,t=state.tokens.next),"{"===t.id){var iscase="case"===state.funct["(verb)"]&&":"===state.tokens.curr.value;return block(!0,!0,!1,!1,iscase),void 0}return r=expression(0,!0),!r||r.identifier&&"function"===r.value||"(punctuator)"===r.type&&r.left&&r.left.identifier&&"function"===r.left.value||state.isStrict()||"global"!==state.option.strict||warning("E007"),t.block||(state.option.expr||r&&r.exps?state.option.nonew&&r&&r.left&&"("===r.id&&"new"===r.left.id&&warning("W031",t):warning("W030",state.tokens.curr),parseFinalSemicolon()),indent=i,hasOwnScope&&state.funct["(scope)"].unstack(),r}function statements(){for(var p,a=[];!state.tokens.next.reach&&"(end)"!==state.tokens.next.id;)";"===state.tokens.next.id?(p=peek(),(!p||"("!==p.id&&"["!==p.id)&&warning("W032"),advance(";")):a.push(statement());return a}function directives(){for(var i,p,pn;"(string)"===state.tokens.next.id;){if(p=peek(0),"(endline)"===p.id){i=1;do pn=peek(i++);while("(endline)"===pn.id);if(";"===pn.id)p=pn;else{if("["===pn.value||"."===pn.value)break;state.option.asi&&"("!==pn.value||warning("W033",state.tokens.next)}}else{if("."===p.id||"["===p.id)break;";"!==p.id&&warning("W033",p)}advance();var directive=state.tokens.curr.value;(state.directive[directive]||"use strict"===directive&&"implied"===state.option.strict)&&warning("W034",state.tokens.curr,directive),state.directive[directive]=!0,";"===p.id&&advance(";")}state.isStrict()&&(state.option["(explicitNewcap)"]||(state.option.newcap=!0),state.option.undef=!0)}function block(ordinary,stmt,isfunc,isfatarrow,iscase){var a,m,t,line,d,b=inblock,old_indent=indent;inblock=ordinary,t=state.tokens.next;var metrics=state.funct["(metrics)"];if(metrics.nestedBlockDepth+=1,metrics.verifyMaxNestedBlockDepthPerFunction(),"{"===state.tokens.next.id){if(advance("{"),state.funct["(scope)"].stack(),line=state.tokens.curr.line,"}"!==state.tokens.next.id){for(indent+=state.option.indent;!ordinary&&state.tokens.next.from>indent;)indent+=state.option.indent;if(isfunc){m={};for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);directives(),state.option.strict&&state.funct["(context)"]["(global)"]&&(m["use strict"]||state.isStrict()||warning("E007"))}a=statements(),metrics.statementCount+=a.length,indent-=state.option.indent}advance("}",t),isfunc&&(state.funct["(scope)"].validateParams(),m&&(state.directive=m)),state.funct["(scope)"].unstack(),indent=old_indent}else if(ordinary)state.funct["(noblockscopedvar)"]="for"!==state.tokens.next.id,state.funct["(scope)"].stack(),(!stmt||state.option.curly)&&warning("W116",state.tokens.next,"{",state.tokens.next.value),state.tokens.next.inBracelessBlock=!0,indent+=state.option.indent,a=[statement()],indent-=state.option.indent,state.funct["(scope)"].unstack(),delete state.funct["(noblockscopedvar)"];else if(isfunc){if(state.funct["(scope)"].stack(),m={},!stmt||isfatarrow||state.inMoz()||error("W118",state.tokens.curr,"function closure expressions"),!stmt)for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);expression(10),state.option.strict&&state.funct["(context)"]["(global)"]&&(m["use strict"]||state.isStrict()||warning("E007")),state.funct["(scope)"].unstack()}else error("E021",state.tokens.next,"{",state.tokens.next.value);switch(state.funct["(verb)"]){case"break":case"continue":case"return":case"throw":if(iscase)break;default:state.funct["(verb)"]=null}return inblock=b,!ordinary||!state.option.noempty||a&&0!==a.length||warning("W035",state.tokens.prev),metrics.nestedBlockDepth-=1,a}function countMember(m){membersOnly&&"boolean"!=typeof membersOnly[m]&&warning("W036",state.tokens.curr,m),"number"==typeof member[m]?member[m]+=1:member[m]=1}function comprehensiveArrayExpression(){var res={};res.exps=!0,state.funct["(comparray)"].stack();var reversed=!1;return"for"!==state.tokens.next.value&&(reversed=!0,state.inMoz()||warning("W116",state.tokens.next,"for",state.tokens.next.value),state.funct["(comparray)"].setState("use"),res.right=expression(10)),advance("for"),"each"===state.tokens.next.value&&(advance("each"),state.inMoz()||warning("W118",state.tokens.curr,"for each")),advance("("),state.funct["(comparray)"].setState("define"),res.left=expression(130),_.contains(["in","of"],state.tokens.next.value)?advance():error("E045",state.tokens.curr),state.funct["(comparray)"].setState("generate"),expression(10),advance(")"),"if"===state.tokens.next.value&&(advance("if"),advance("("),state.funct["(comparray)"].setState("filter"),res.filter=expression(10),advance(")")),reversed||(state.funct["(comparray)"].setState("use"),res.right=expression(10)),advance("]"),state.funct["(comparray)"].unstack(),res}function isMethod(){return state.funct["(statement)"]&&"class"===state.funct["(statement)"].type||state.funct["(context)"]&&"class"===state.funct["(context)"]["(verb)"]}function isPropertyName(token){return token.identifier||"(string)"===token.id||"(number)"===token.id}function propertyName(preserveOrToken){var id,preserve=!0;return"object"==typeof preserveOrToken?id=preserveOrToken:(preserve=preserveOrToken,id=optionalidentifier(!1,!0,preserve)),id?"object"==typeof id&&("(string)"===id.id||"(identifier)"===id.id?id=id.value:"(number)"===id.id&&(id=""+id.value)):"(string)"===state.tokens.next.id?(id=state.tokens.next.value,preserve||advance()):"(number)"===state.tokens.next.id&&(id=""+state.tokens.next.value,preserve||advance()),"hasOwnProperty"===id&&warning("W001"),id}function functionparams(options){function addParam(addParamArgs){state.funct["(scope)"].addParam.apply(state.funct["(scope)"],addParamArgs)}var next,ident,t,paramsIds=[],tokens=[],pastDefault=!1,pastRest=!1,arity=0,loneArg=options&&options.loneArg;if(loneArg&&loneArg.identifier===!0)return state.funct["(scope)"].addParam(loneArg.value,loneArg),{arity:1,params:[loneArg.value]};if(next=state.tokens.next,options&&options.parsedOpening||advance("("),")"===state.tokens.next.id)return advance(")"),void 0;for(;;){arity++;var currentParams=[];if(_.contains(["{","["],state.tokens.next.id)){tokens=destructuringPattern();for(t in tokens)t=tokens[t],t.id&&(paramsIds.push(t.id),currentParams.push([t.id,t.token]))}else if(checkPunctuator(state.tokens.next,"...")&&(pastRest=!0),ident=identifier(!0))paramsIds.push(ident),currentParams.push([ident,state.tokens.curr]);else for(;!checkPunctuators(state.tokens.next,[",",")"]);)advance();if(pastDefault&&"="!==state.tokens.next.id&&error("W138",state.tokens.current),"="===state.tokens.next.id&&(state.inES6()||warning("W119",state.tokens.next,"default parameters","6"),advance("="),pastDefault=!0,expression(10)),currentParams.forEach(addParam),","!==state.tokens.next.id)return advance(")",next),{arity:arity,params:paramsIds};pastRest&&warning("W131",state.tokens.next),comma()}}function functor(name,token,overwrites){var funct={"(name)":name,"(breakage)":0,"(loopage)":0,"(tokens)":{},"(properties)":{},"(catch)":!1,"(global)":!1,"(line)":null,"(character)":null,"(metrics)":null,"(statement)":null,"(context)":null,"(scope)":null,"(comparray)":null,"(generator)":null,"(arrow)":null,"(params)":null};return token&&_.extend(funct,{"(line)":token.line,"(character)":token.character,"(metrics)":createMetrics(token)}),_.extend(funct,overwrites),funct["(context)"]&&(funct["(scope)"]=funct["(context)"]["(scope)"],funct["(comparray)"]=funct["(context)"]["(comparray)"]),funct}function isFunctor(token){return"(scope)"in token}function hasParsedCode(funct){return funct["(global)"]&&!funct["(verb)"]}function doTemplateLiteral(left){function end(){if(state.tokens.curr.template&&state.tokens.curr.tail&&state.tokens.curr.context===ctx)return!0;var complete=state.tokens.next.template&&state.tokens.next.tail&&state.tokens.next.context===ctx;return complete&&advance(),complete||state.tokens.next.isUnclosed}var ctx=this.context,noSubst=this.noSubst,depth=this.depth;if(!noSubst)for(;!end();)!state.tokens.next.template||state.tokens.next.depth>depth?expression(0):advance();return{id:"(template)",type:"(template)",tag:left}}function doFunction(options){var f,token,name,statement,classExprBinding,isGenerator,isArrow,ignoreLoopFunc,oldOption=state.option,oldIgnored=state.ignored;options&&(name=options.name,statement=options.statement,classExprBinding=options.classExprBinding,isGenerator="generator"===options.type,isArrow="arrow"===options.type,ignoreLoopFunc=options.ignoreLoopFunc),state.option=Object.create(state.option),state.ignored=Object.create(state.ignored),state.funct=functor(name||state.nameStack.infer(),state.tokens.next,{"(statement)":statement,"(context)":state.funct,"(arrow)":isArrow,"(generator)":isGenerator}),f=state.funct,token=state.tokens.curr,token.funct=state.funct,functions.push(state.funct),state.funct["(scope)"].stack("functionouter");var internallyAccessibleName=name||classExprBinding;internallyAccessibleName&&state.funct["(scope)"].block.add(internallyAccessibleName,classExprBinding?"class":"function",state.tokens.curr,!1),state.funct["(scope)"].stack("functionparams");var paramsInfo=functionparams(options);return paramsInfo?(state.funct["(params)"]=paramsInfo.params,state.funct["(metrics)"].arity=paramsInfo.arity,state.funct["(metrics)"].verifyMaxParametersPerFunction()):state.funct["(metrics)"].arity=0,isArrow&&(state.inES6(!0)||warning("W119",state.tokens.curr,"arrow function syntax (=>)","6"),options.loneArg||advance("=>")),block(!1,!0,!0,isArrow),!state.option.noyield&&isGenerator&&"yielded"!==state.funct["(generator)"]&&warning("W124",state.tokens.curr),state.funct["(metrics)"].verifyMaxStatementsPerFunction(),state.funct["(metrics)"].verifyMaxComplexityPerFunction(),state.funct["(unusedOption)"]=state.option.unused,state.option=oldOption,state.ignored=oldIgnored,state.funct["(last)"]=state.tokens.curr.line,state.funct["(lastcharacter)"]=state.tokens.curr.character,state.funct["(scope)"].unstack(),state.funct["(scope)"].unstack(),state.funct=state.funct["(context)"],ignoreLoopFunc||state.option.loopfunc||!state.funct["(loopage)"]||f["(isCapturing)"]&&warning("W083",token),f}function createMetrics(functionStartToken){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,arity:0,verifyMaxStatementsPerFunction:function(){state.option.maxstatements&&this.statementCount>state.option.maxstatements&&warning("W071",functionStartToken,this.statementCount)\n},verifyMaxParametersPerFunction:function(){_.isNumber(state.option.maxparams)&&this.arity>state.option.maxparams&&warning("W072",functionStartToken,this.arity)},verifyMaxNestedBlockDepthPerFunction:function(){state.option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===state.option.maxdepth+1&&warning("W073",null,this.nestedBlockDepth)},verifyMaxComplexityPerFunction:function(){var max=state.option.maxcomplexity,cc=this.ComplexityCount;max&&cc>max&&warning("W074",functionStartToken,cc)}}}function increaseComplexityCount(){state.funct["(metrics)"].ComplexityCount+=1}function checkCondAssignment(expr){var id,paren;switch(expr&&(id=expr.id,paren=expr.paren,","===id&&(expr=expr.exprs[expr.exprs.length-1])&&(id=expr.id,paren=paren||expr.paren)),id){case"=":case"+=":case"-=":case"*=":case"%=":case"&=":case"|=":case"^=":case"/=":paren||state.option.boss||warning("W084")}}function checkProperties(props){if(state.inES5())for(var name in props)props[name]&&props[name].setterToken&&!props[name].getterToken&&warning("W078",props[name].setterToken)}function metaProperty(name,c){if(checkPunctuator(state.tokens.next,".")){var left=state.tokens.curr.id;advance(".");var id=identifier();return state.tokens.curr.isMetaProperty=!0,name!==id?error("E057",state.tokens.prev,left,id):c(),state.tokens.curr}}function destructuringPattern(options){var isAssignment=options&&options.assignment;return state.inES6()||warning("W104",state.tokens.curr,isAssignment?"destructuring assignment":"destructuring binding","6"),destructuringPatternRecursive(options)}function destructuringPatternRecursive(options){var ids,identifiers=[],openingParsed=options&&options.openingParsed,isAssignment=options&&options.assignment,recursiveOptions=isAssignment?{assignment:isAssignment}:null,firstToken=openingParsed?state.tokens.curr:state.tokens.next,nextInnerDE=function(){var ident;if(checkPunctuators(state.tokens.next,["[","{"])){ids=destructuringPatternRecursive(recursiveOptions);for(var id in ids)id=ids[id],identifiers.push({id:id.id,token:id.token})}else if(checkPunctuator(state.tokens.next,","))identifiers.push({id:null,token:state.tokens.curr});else{if(!checkPunctuator(state.tokens.next,"(")){var is_rest=checkPunctuator(state.tokens.next,"...");if(isAssignment){var identifierToken=is_rest?peek(0):state.tokens.next;identifierToken.identifier||warning("E030",identifierToken,identifierToken.value);var assignTarget=expression(155);assignTarget&&(checkLeftSideAssign(assignTarget),assignTarget.identifier&&(ident=assignTarget.value))}else ident=identifier();return ident&&identifiers.push({id:ident,token:state.tokens.curr}),is_rest}advance("("),nextInnerDE(),advance(")")}return!1},assignmentProperty=function(){var id;checkPunctuator(state.tokens.next,"[")?(advance("["),expression(10),advance("]"),advance(":"),nextInnerDE()):"(string)"===state.tokens.next.id||"(number)"===state.tokens.next.id?(advance(),advance(":"),nextInnerDE()):(id=identifier(),checkPunctuator(state.tokens.next,":")?(advance(":"),nextInnerDE()):id&&(isAssignment&&checkLeftSideAssign(state.tokens.curr),identifiers.push({id:id,token:state.tokens.curr})))};if(checkPunctuator(firstToken,"[")){openingParsed||advance("["),checkPunctuator(state.tokens.next,"]")&&warning("W137",state.tokens.curr);for(var element_after_rest=!1;!checkPunctuator(state.tokens.next,"]");)nextInnerDE()&&!element_after_rest&&checkPunctuator(state.tokens.next,",")&&(warning("W130",state.tokens.next),element_after_rest=!0),checkPunctuator(state.tokens.next,"=")&&(checkPunctuator(state.tokens.prev,"...")?advance("]"):advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,"]")||advance(",");advance("]")}else if(checkPunctuator(firstToken,"{")){for(openingParsed||advance("{"),checkPunctuator(state.tokens.next,"}")&&warning("W137",state.tokens.curr);!checkPunctuator(state.tokens.next,"}")&&(assignmentProperty(),checkPunctuator(state.tokens.next,"=")&&(advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,"}")||(advance(","),!checkPunctuator(state.tokens.next,"}"))););advance("}")}return identifiers}function destructuringPatternMatch(tokens,value){var first=value.first;first&&_.zip(tokens,Array.isArray(first)?first:[first]).forEach(function(val){var token=val[0],value=val[1];token&&value?token.first=value:token&&token.first&&!value&&warning("W080",token.first,token.first.value)})}function blockVariableStatement(type,statement,context){var tokens,lone,value,letblock,prefix=context&&context.prefix,inexport=context&&context.inexport,isLet="let"===type,isConst="const"===type;for(state.inES6()||warning("W104",state.tokens.curr,type,"6"),isLet&&"("===state.tokens.next.value?(state.inMoz()||warning("W118",state.tokens.next,"let block"),advance("("),state.funct["(scope)"].stack(),letblock=!0):state.funct["(noblockscopedvar)"]&&error("E048",state.tokens.curr,isConst?"Const":"Let"),statement.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),!prefix&&isConst&&"="!==state.tokens.next.id&&warning("E012",state.tokens.curr,state.tokens.curr.value);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],state.funct["(scope)"].block.isGlobal()&&predefined[t.id]===!1&&warning("W079",t.token,t.id),t.id&&!state.funct["(noblockscopedvar)"]&&(state.funct["(scope)"].addlabel(t.id,{type:type,token:t.token}),names.push(t.token),lone&&inexport&&state.funct["(scope)"].setExported(t.token.value,t.token)));if("="===state.tokens.next.id&&(advance("="),prefix||"undefined"!==state.tokens.next.id||warning("W080",state.tokens.prev,state.tokens.prev.value),!prefix&&"="===peek(0).id&&state.tokens.next.identifier&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),statement.first=statement.first.concat(names),","!==state.tokens.next.id)break;comma()}return letblock&&(advance(")"),block(!0,!0),statement.block=!0,state.funct["(scope)"].unstack()),statement}function classdef(isStatement){return state.inES6()||warning("W104",state.tokens.curr,"class","6"),isStatement?(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"class",token:state.tokens.curr})):state.tokens.next.identifier&&"extends"!==state.tokens.next.value?(this.name=identifier(),this.namedExpr=!0):this.name=state.nameStack.infer(),classtail(this),this}function classtail(c){var wasInClassBody=state.inClassBody;"extends"===state.tokens.next.value&&(advance("extends"),c.heritage=expression(10)),state.inClassBody=!0,advance("{"),c.body=classbody(c),advance("}"),state.inClassBody=wasInClassBody}function classbody(c){for(var name,isStatic,isGenerator,getset,computed,props=Object.create(null),staticProps=Object.create(null),i=0;"}"!==state.tokens.next.id;++i)if(name=state.tokens.next,isStatic=!1,isGenerator=!1,getset=null,";"!==name.id){if("*"===name.id&&(isGenerator=!0,advance("*"),name=state.tokens.next),"["===name.id)name=computedPropertyName(),computed=!0;else{if(!isPropertyName(name)){warning("W052",state.tokens.next,state.tokens.next.value||state.tokens.next.type),advance();continue}advance(),computed=!1,name.identifier&&"static"===name.value&&(checkPunctuator(state.tokens.next,"*")&&(isGenerator=!0,advance("*")),(isPropertyName(state.tokens.next)||"["===state.tokens.next.id)&&(computed="["===state.tokens.next.id,isStatic=!0,name=state.tokens.next,"["===state.tokens.next.id?name=computedPropertyName():advance())),!name.identifier||"get"!==name.value&&"set"!==name.value||(isPropertyName(state.tokens.next)||"["===state.tokens.next.id)&&(computed="["===state.tokens.next.id,getset=name,name=state.tokens.next,"["===state.tokens.next.id?name=computedPropertyName():advance())}if(!checkPunctuator(state.tokens.next,"(")){for(error("E054",state.tokens.next,state.tokens.next.value);"}"!==state.tokens.next.id&&!checkPunctuator(state.tokens.next,"(");)advance();"("!==state.tokens.next.value&&doFunction({statement:c})}if(computed||(getset?saveAccessor(getset.value,isStatic?staticProps:props,name.value,name,!0,isStatic):("constructor"===name.value?state.nameStack.set(c):state.nameStack.set(name),saveProperty(isStatic?staticProps:props,name.value,name,!0,isStatic))),getset&&"constructor"===name.value){var propDesc="get"===getset.value?"class getter method":"class setter method";error("E049",name,propDesc,"constructor")}else"prototype"===name.value&&error("E049",name,"class method","prototype");propertyName(name),doFunction({statement:c,type:isGenerator?"generator":null,classExprBinding:c.namedExpr?c.name:null})}else warning("W032"),advance(";");checkProperties(props)}function saveProperty(props,name,tkn,isClass,isStatic){var msg=["key","class method","static class method"];msg=msg[(isClass||!1)+(isStatic||!1)],tkn.identifier&&(name=tkn.value),props[name]&&"__proto__"!==name?warning("W075",state.tokens.next,msg,name):props[name]=Object.create(null),props[name].basic=!0,props[name].basictkn=tkn}function saveAccessor(accessorType,props,name,tkn,isClass,isStatic){var flagName="get"===accessorType?"getterToken":"setterToken",msg="";isClass?(isStatic&&(msg+="static "),msg+=accessorType+"ter method"):msg="key",state.tokens.curr.accessorType=accessorType,state.nameStack.set(tkn),props[name]?(props[name].basic||props[name][flagName])&&"__proto__"!==name&&warning("W075",state.tokens.next,msg,name):props[name]=Object.create(null),props[name][flagName]=tkn}function computedPropertyName(){advance("["),state.inES6()||warning("W119",state.tokens.curr,"computed property names","6");var value=expression(10);return advance("]"),value}function checkPunctuators(token,values){return"(punctuator)"===token.type?_.contains(values,token.value):!1}function checkPunctuator(token,value){return"(punctuator)"===token.type&&token.value===value}function destructuringAssignOrJsonValue(){var block=lookupBlockType();block.notJson?(!state.inES6()&&block.isDestAssign&&warning("W104",state.tokens.curr,"destructuring assignment","6"),statements()):(state.option.laxbreak=!0,state.jsonMode=!0,jsonValue())}function jsonValue(){function jsonObject(){var o={},t=state.tokens.next;if(advance("{"),"}"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E026",state.tokens.next,t.line);else{if("}"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id?error("E028",state.tokens.next):"(string)"!==state.tokens.next.id&&warning("W095",state.tokens.next,state.tokens.next.value)}if(o[state.tokens.next.value]===!0?warning("W075",state.tokens.next,"key",state.tokens.next.value):"__proto__"===state.tokens.next.value&&!state.option.proto||"__iterator__"===state.tokens.next.value&&!state.option.iterator?warning("W096",state.tokens.next,state.tokens.next.value):o[state.tokens.next.value]=!0,advance(),advance(":"),jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("}")}function jsonArray(){var t=state.tokens.next;if(advance("["),"]"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E027",state.tokens.next,t.line);else{if("]"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id&&error("E028",state.tokens.next)}if(jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("]")}switch(state.tokens.next.id){case"{":jsonObject();break;case"[":jsonArray();break;case"true":case"false":case"null":case"(number)":case"(string)":advance();break;case"-":advance("-"),advance("(number)");break;default:error("E003",state.tokens.next)}}var api,declared,functions,inblock,indent,lookahead,lex,member,membersOnly,predefined,stack,urls,bang={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},functionicity=["closure","exception","global","label","outer","unused","var"],extraModules=[],emitter=new events.EventEmitter,typeofValues={};typeofValues.legacy=["xml","unknown"],typeofValues.es3=["undefined","boolean","number","string","function","object"],typeofValues.es3=typeofValues.es3.concat(typeofValues.legacy),typeofValues.es6=typeofValues.es3.concat("symbol"),type("(number)",function(){return this}),type("(string)",function(){return this}),state.syntax["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var v=this.value;return"=>"===state.tokens.next.id?this:(state.funct["(comparray)"].check(v)||state.funct["(scope)"].block.use(v,state.tokens.curr),this)},led:function(){error("E033",state.tokens.next,state.tokens.next.value)}};var baseTemplateSyntax={lbp:0,identifier:!1,template:!0};state.syntax["(template)"]=_.extend({type:"(template)",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!1},baseTemplateSyntax),state.syntax["(template middle)"]=_.extend({type:"(template middle)",middle:!0,noSubst:!1},baseTemplateSyntax),state.syntax["(template tail)"]=_.extend({type:"(template tail)",tail:!0,noSubst:!1},baseTemplateSyntax),state.syntax["(no subst template)"]=_.extend({type:"(template)",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!0,tail:!0},baseTemplateSyntax),type("(regexp)",function(){return this}),delim("(endline)"),delim("(begin)"),delim("(end)").reach=!0,delim("(error)").reach=!0,delim("}").reach=!0,delim(")"),delim("]"),delim(\'"\').reach=!0,delim("\'").reach=!0,delim(";"),delim(":").reach=!0,delim("#"),reserve("else"),reserve("case").reach=!0,reserve("catch"),reserve("default").reach=!0,reserve("finally"),reservevar("arguments",function(x){state.isStrict()&&state.funct["(global)"]&&warning("E008",x)}),reservevar("eval"),reservevar("false"),reservevar("Infinity"),reservevar("null"),reservevar("this",function(x){state.isStrict()&&!isMethod()&&!state.option.validthis&&(state.funct["(statement)"]&&state.funct["(name)"].charAt(0)>"Z"||state.funct["(global)"])&&warning("W040",x)}),reservevar("true"),reservevar("undefined"),assignop("=","assign",20),assignop("+=","assignadd",20),assignop("-=","assignsub",20),assignop("*=","assignmult",20),assignop("/=","assigndiv",20).nud=function(){error("E014")},assignop("%=","assignmod",20),bitwiseassignop("&="),bitwiseassignop("|="),bitwiseassignop("^="),bitwiseassignop("<<="),bitwiseassignop(">>="),bitwiseassignop(">>>="),infix(",",function(left,that){var expr;if(that.exprs=[left],state.option.nocomma&&warning("W127"),!comma({peek:!0}))return that;for(;;){if(!(expr=expression(10)))break;if(that.exprs.push(expr),","!==state.tokens.next.value||!comma())break}return that},10,!0),infix("?",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(10),advance(":"),that["else"]=expression(10),that},30);var orPrecendence=40;infix("||",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(orPrecendence),that},orPrecendence),infix("&&","and",50),bitwise("|","bitor",70),bitwise("^","bitxor",80),bitwise("&","bitand",90),relation("==",function(left,right){var eqnull=state.option.eqnull&&("null"===(left&&left.value)||"null"===(right&&right.value));switch(!0){case!eqnull&&state.option.eqeqeq:this.from=this.character,warning("W116",this,"===","==");break;case isPoorRelation(left):warning("W041",this,"===",left.value);break;case isPoorRelation(right):warning("W041",this,"===",right.value);break;case isTypoTypeof(right,left,state):warning("W122",this,right.value);break;case isTypoTypeof(left,right,state):warning("W122",this,left.value)}return this}),relation("===",function(left,right){return isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("!=",function(left,right){var eqnull=state.option.eqnull&&("null"===(left&&left.value)||"null"===(right&&right.value));return!eqnull&&state.option.eqeqeq?(this.from=this.character,warning("W116",this,"!==","!=")):isPoorRelation(left)?warning("W041",this,"!==",left.value):isPoorRelation(right)?warning("W041",this,"!==",right.value):isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("!==",function(left,right){return isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("<"),relation(">"),relation("<="),relation(">="),bitwise("<<","shiftleft",120),bitwise(">>","shiftright",120),bitwise(">>>","shiftrightunsigned",120),infix("in","in",120),infix("instanceof","instanceof",120),infix("+",function(left,that){var right;return that.left=left,that.right=right=expression(130),left&&right&&"(string)"===left.id&&"(string)"===right.id?(left.value+=right.value,left.character=right.character,!state.option.scripturl&&reg.javascriptURL.test(left.value)&&warning("W050",left),left):that},130),prefix("+","num"),prefix("+++",function(){return warning("W007"),this.arity="unary",this.right=expression(150),this}),infix("+++",function(left){return warning("W007"),this.left=left,this.right=expression(130),this},130),infix("-","sub",130),prefix("-","neg"),prefix("---",function(){return warning("W006"),this.arity="unary",this.right=expression(150),this}),infix("---",function(left){return warning("W006"),this.left=left,this.right=expression(130),this},130),infix("*","mult",140),infix("/","div",140),infix("%","mod",140),suffix("++"),prefix("++","preinc"),state.syntax["++"].exps=!0,suffix("--"),prefix("--","predec"),state.syntax["--"].exps=!0,prefix("delete",function(){var p=expression(10);return p?("."!==p.id&&"["!==p.id&&warning("W051"),this.first=p,p.identifier&&!state.isStrict()&&(p.forgiveUndef=!0),this):this}).exps=!0,prefix("~",function(){return state.option.bitwise&&warning("W016",this,"~"),this.arity="unary",this.right=expression(150),this}),prefix("...",function(){return state.inES6(!0)||warning("W119",this,"spread/rest operator","6"),state.tokens.next.identifier||"(string)"===state.tokens.next.type||checkPunctuators(state.tokens.next,["[","("])||error("E030",state.tokens.next,state.tokens.next.value),expression(150),this}),prefix("!",function(){return this.arity="unary",this.right=expression(150),this.right||quit("E041",this.line||0),bang[this.right.id]===!0&&warning("W018",this,"!"),this}),prefix("typeof",function(){var p=expression(150);return this.first=this.right=p,p||quit("E041",this.line||0,this.character||0),p.identifier&&(p.forgiveUndef=!0),this}),prefix("new",function(){var mp=metaProperty("target",function(){state.inES6(!0)||warning("W119",state.tokens.prev,"new.target","6");for(var inFunction,c=state.funct;c&&(inFunction=!c["(global)"],c["(arrow)"]);)c=c["(context)"];inFunction||warning("W136",state.tokens.prev,"new.target")});if(mp)return mp;var i,c=expression(155);if(c&&"function"!==c.id)if(c.identifier)switch(c["new"]=!0,c.value){case"Number":case"String":case"Boolean":case"Math":case"JSON":warning("W053",state.tokens.prev,c.value);break;case"Symbol":state.inES6()&&warning("W053",state.tokens.prev,c.value);break;case"Function":state.option.evil||warning("W054");break;case"Date":case"RegExp":case"this":break;default:"function"!==c.id&&(i=c.value.substr(0,1),state.option.newcap&&("A">i||i>"Z")&&!state.funct["(scope)"].isPredefined(c.value)&&warning("W055",state.tokens.curr))}else"."!==c.id&&"["!==c.id&&"("!==c.id&&warning("W056",state.tokens.curr);else state.option.supernew||warning("W057",this);return"("===state.tokens.next.id||state.option.supernew||warning("W058",state.tokens.curr,state.tokens.curr.value),this.first=this.right=c,this}),state.syntax["new"].exps=!0,prefix("void").exps=!0,infix(".",function(left,that){var m=identifier(!1,!0);return"string"==typeof m&&countMember(m),that.left=left,that.right=m,m&&"hasOwnProperty"===m&&"="===state.tokens.next.value&&warning("W001"),!left||"arguments"!==left.value||"callee"!==m&&"caller"!==m?state.option.evil||!left||"document"!==left.value||"write"!==m&&"writeln"!==m||warning("W060",left):state.option.noarg?warning("W059",left,m):state.isStrict()&&error("E008"),state.option.evil||"eval"!==m&&"execScript"!==m||isGlobalEval(left,state)&&warning("W061"),that},160,!0),infix("(",function(left,that){state.option.immed&&left&&!left.immed&&"function"===left.id&&warning("W062");var n=0,p=[];if(left&&"(identifier)"===left.type&&left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1==="Array Number String Boolean Date Object Error Symbol".indexOf(left.value)&&("Math"===left.value?warning("W063",left):state.option.newcap&&warning("W064",left)),")"!==state.tokens.next.id)for(;p[p.length]=expression(10),n+=1,","===state.tokens.next.id;)comma();return advance(")"),"object"==typeof left&&(state.inES5()||"parseInt"!==left.value||1!==n||warning("W065",state.tokens.curr),state.option.evil||("eval"===left.value||"Function"===left.value||"execScript"===left.value?(warning("W061",left),p[0]&&"(string)"===[0].id&&addInternalSrc(left,p[0].value)):!p[0]||"(string)"!==p[0].id||"setTimeout"!==left.value&&"setInterval"!==left.value?!p[0]||"(string)"!==p[0].id||"."!==left.value||"window"!==left.left.value||"setTimeout"!==left.right&&"setInterval"!==left.right||(warning("W066",left),addInternalSrc(left,p[0].value)):(warning("W066",left),addInternalSrc(left,p[0].value))),left.identifier||"."===left.id||"["===left.id||"=>"===left.id||"("===left.id||"&&"===left.id||"||"===left.id||"?"===left.id||state.inES6()&&left["(name)"]||warning("W067",that)),that.left=left,that},155,!0).exps=!0,prefix("(",function(){var pn1,ret,triggerFnExpr,first,last,pn=state.tokens.next,i=-1,parens=1,opening=state.tokens.curr,preceeding=state.tokens.prev,isNecessary=!state.option.singleGroups;do"("===pn.value?parens+=1:")"===pn.value&&(parens-=1),i+=1,pn1=pn,pn=peek(i);while((0!==parens||")"!==pn1.value)&&";"!==pn.value&&"(end)"!==pn.type);if("function"===state.tokens.next.id&&(triggerFnExpr=state.tokens.next.immed=!0),"=>"===pn.value)return doFunction({type:"arrow",parsedOpening:!0});var exprs=[];if(")"!==state.tokens.next.id)for(;exprs.push(expression(10)),","===state.tokens.next.id;)state.option.nocomma&&warning("W127"),comma();return advance(")",this),state.option.immed&&exprs[0]&&"function"===exprs[0].id&&"("!==state.tokens.next.id&&"."!==state.tokens.next.id&&"["!==state.tokens.next.id&&warning("W068",this),exprs.length?(exprs.length>1?(ret=Object.create(state.syntax[","]),ret.exprs=exprs,first=exprs[0],last=exprs[exprs.length-1],isNecessary||(isNecessary=preceeding.assign||preceeding.delim)):(ret=first=last=exprs[0],isNecessary||(isNecessary=opening.beginsStmt&&("{"===ret.id||triggerFnExpr||isFunctor(ret))||triggerFnExpr&&(!isEndOfExpr()||"}"!==state.tokens.prev.id)||isFunctor(ret)&&!isEndOfExpr()||"{"===ret.id&&"=>"===preceeding.id||"(number)"===ret.type&&checkPunctuator(pn,".")&&/^\\d+$/.test(ret.value))),ret&&(!isNecessary&&(first.left||first.right||ret.exprs)&&(isNecessary=!isBeginOfExpr(preceeding)&&first.lbp<=preceeding.lbp||!isEndOfExpr()&&last.lbp<state.tokens.next.lbp),isNecessary||warning("W126",opening),ret.paren=!0),ret):void 0}),application("=>"),infix("[",function(left,that){var s,e=expression(10);return e&&"(string)"===e.type&&(state.option.evil||"eval"!==e.value&&"execScript"!==e.value||isGlobalEval(left,state)&&warning("W061"),countMember(e.value),!state.option.sub&&reg.identifier.test(e.value)&&(s=state.syntax[e.value],s&&isReserved(s)||warning("W069",state.tokens.prev,e.value))),advance("]",that),e&&"hasOwnProperty"===e.value&&"="===state.tokens.next.value&&warning("W001"),that.left=left,that.right=e,that},160,!0),prefix("[",function(){var blocktype=lookupBlockType();if(blocktype.isCompArray)return state.option.esnext||state.inMoz()||warning("W118",state.tokens.curr,"array comprehension"),comprehensiveArrayExpression();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;var b=state.tokens.curr.line!==startLine(state.tokens.next);for(this.first=[],b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));"(end)"!==state.tokens.next.id;){for(;","===state.tokens.next.id;){if(!state.option.elision){if(state.inES5()){warning("W128");do advance(",");while(","===state.tokens.next.id);continue}warning("W070")}advance(",")}if("]"===state.tokens.next.id)break;if(this.first.push(expression(10)),","!==state.tokens.next.id)break;if(comma({allowTrailing:!0}),"]"===state.tokens.next.id&&!state.inES5()){warning("W070",state.tokens.curr);break}}return b&&(indent-=state.option.indent),advance("]",this),this}),function(x){x.nud=function(){var b,f,i,p,t,nextVal,isGeneratorMethod=!1,props=Object.create(null);b=state.tokens.curr.line!==startLine(state.tokens.next),b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));var blocktype=lookupBlockType();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;for(;"}"!==state.tokens.next.id;){if(nextVal=state.tokens.next.value,!state.tokens.next.identifier||","!==peekIgnoreEOL().id&&"}"!==peekIgnoreEOL().id)if(":"===peek().id||"get"!==nextVal&&"set"!==nextVal){if("*"===state.tokens.next.value&&"(punctuator)"===state.tokens.next.type?(state.inES6()||warning("W104",state.tokens.next,"generator functions","6"),advance("*"),isGeneratorMethod=!0):isGeneratorMethod=!1,"["===state.tokens.next.id)i=computedPropertyName(),state.nameStack.set(i);else if(state.nameStack.set(state.tokens.next),i=propertyName(),saveProperty(props,i,state.tokens.next),"string"!=typeof i)break;"("===state.tokens.next.value?(state.inES6()||warning("W104",state.tokens.curr,"concise methods","6"),doFunction({type:isGeneratorMethod?"generator":null})):(advance(":"),expression(10))}else advance(nextVal),state.inES5()||error("E034"),i=propertyName(),i||state.inES6()||error("E035"),i&&saveAccessor(nextVal,props,i,state.tokens.curr),t=state.tokens.next,f=doFunction(),p=f["(params)"],"get"===nextVal&&i&&p?warning("W076",t,p[0],i):"set"!==nextVal||!i||p&&1===p.length||warning("W077",t,i);else state.inES6()||warning("W104",state.tokens.next,"object short notation","6"),i=propertyName(!0),saveProperty(props,i,state.tokens.next),expression(10);if(countMember(i),","!==state.tokens.next.id)break;comma({allowTrailing:!0,property:!0}),","===state.tokens.next.id?warning("W070",state.tokens.curr):"}"!==state.tokens.next.id||state.inES5()||warning("W070",state.tokens.curr)}return b&&(indent-=state.option.indent),advance("}",this),checkProperties(props),this},x.fud=function(){error("E036",state.tokens.curr)}}(delim("{"));var conststatement=stmt("const",function(context){return blockVariableStatement("const",this,context)});conststatement.exps=!0;var letstatement=stmt("let",function(context){return blockVariableStatement("let",this,context)});letstatement.exps=!0;var varstatement=stmt("var",function(context){var tokens,lone,value,prefix=context&&context.prefix,inexport=context&&context.inexport,implied=context&&context.implied,report=!(context&&context.ignore);for(this.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),prefix&&implied||!report||!state.option.varstmt||warning("W132",this),this.first=this.first.concat(names);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],!implied&&state.funct["(global)"]&&(predefined[t.id]===!1?warning("W079",t.token,t.id):state.option.futurehostile===!1&&(!state.inES5()&&vars.ecmaIdentifiers[5][t.id]===!1||!state.inES6()&&vars.ecmaIdentifiers[6][t.id]===!1)&&warning("W129",t.token,t.id)),t.id&&("for"===implied?(state.funct["(scope)"].has(t.id)||report&&warning("W088",t.token,t.id),state.funct["(scope)"].block.use(t.id,t.token)):(state.funct["(scope)"].addlabel(t.id,{type:"var",token:t.token}),lone&&inexport&&state.funct["(scope)"].setExported(t.id,t.token)),names.push(t.token)));if("="===state.tokens.next.id&&(state.nameStack.set(state.tokens.curr),advance("="),prefix||!report||state.funct["(loopage)"]||"undefined"!==state.tokens.next.id||warning("W080",state.tokens.prev,state.tokens.prev.value),"="===peek(0).id&&state.tokens.next.identifier&&(!prefix&&report&&!state.funct["(params)"]||-1===state.funct["(params)"].indexOf(state.tokens.next.value))&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),","!==state.tokens.next.id)break;comma()}return this});varstatement.exps=!0,blockstmt("class",function(){return classdef.call(this,!0)}),blockstmt("function",function(context){var inexport=context&&context.inexport,generator=!1;"*"===state.tokens.next.value&&(advance("*"),state.inES6({strict:!0})?generator=!0:warning("W119",state.tokens.curr,"function*","6")),inblock&&warning("W082",state.tokens.curr);var i=optionalidentifier();return state.funct["(scope)"].addlabel(i,{type:"function",token:state.tokens.curr}),void 0===i?warning("W025"):inexport&&state.funct["(scope)"].setExported(i,state.tokens.prev),doFunction({name:i,statement:this,type:generator?"generator":null,ignoreLoopFunc:inblock}),"("===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line&&error("E039"),this}),prefix("function",function(){var generator=!1;"*"===state.tokens.next.value&&(state.inES6()||warning("W119",state.tokens.curr,"function*","6"),advance("*"),generator=!0);var i=optionalidentifier();return doFunction({name:i,type:generator?"generator":null}),this}),blockstmt("if",function(){var t=state.tokens.next;increaseComplexityCount(),state.condition=!0,advance("(");var expr=expression(0);checkCondAssignment(expr);var forinifcheck=null;state.option.forin&&state.forinifcheckneeded&&(state.forinifcheckneeded=!1,forinifcheck=state.forinifchecks[state.forinifchecks.length-1],forinifcheck.type="(punctuator)"===expr.type&&"!"===expr.value?"(negative)":"(positive)"),advance(")",t),state.condition=!1;var s=block(!0,!0);return forinifcheck&&"(negative)"===forinifcheck.type&&s&&s[0]&&"(identifier)"===s[0].type&&"continue"===s[0].value&&(forinifcheck.type="(negative-with-continue)"),"else"===state.tokens.next.id&&(advance("else"),"if"===state.tokens.next.id||"switch"===state.tokens.next.id?statement():block(!0,!0)),this}),blockstmt("try",function(){function doCatch(){if(advance("catch"),advance("("),state.funct["(scope)"].stack("catchparams"),checkPunctuators(state.tokens.next,["[","{"])){var tokens=destructuringPattern();_.each(tokens,function(token){token.id&&state.funct["(scope)"].addParam(token.id,token,"exception")})}else"(identifier)"!==state.tokens.next.type?warning("E030",state.tokens.next,state.tokens.next.value):state.funct["(scope)"].addParam(identifier(),state.tokens.curr,"exception");"if"===state.tokens.next.value&&(state.inMoz()||warning("W118",state.tokens.curr,"catch filter"),advance("if"),expression(0)),advance(")"),block(!1),state.funct["(scope)"].unstack()}var b;for(block(!0);"catch"===state.tokens.next.id;)increaseComplexityCount(),b&&!state.inMoz()&&warning("W118",state.tokens.next,"multiple catch blocks"),doCatch(),b=!0;return"finally"===state.tokens.next.id?(advance("finally"),block(!0),void 0):(b||error("E021",state.tokens.next,"catch",state.tokens.next.value),this)}),blockstmt("while",function(){var t=state.tokens.next;return state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,increaseComplexityCount(),advance("("),checkCondAssignment(expression(0)),advance(")",t),block(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this}).labelled=!0,blockstmt("with",function(){var t=state.tokens.next;return state.isStrict()?error("E010",state.tokens.curr):state.option.withstmt||warning("W085",state.tokens.curr),advance("("),expression(0),advance(")",t),block(!0,!0),this}),blockstmt("switch",function(){var t=state.tokens.next,g=!1,noindent=!1;\nfor(state.funct["(breakage)"]+=1,advance("("),checkCondAssignment(expression(0)),advance(")",t),t=state.tokens.next,advance("{"),state.tokens.next.from===indent&&(noindent=!0),noindent||(indent+=state.option.indent),this.cases=[];;)switch(state.tokens.next.id){case"case":switch(state.funct["(verb)"]){case"yield":case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:state.tokens.curr.caseFallsThrough||warning("W086",state.tokens.curr,"case")}advance("case"),this.cases.push(expression(0)),increaseComplexityCount(),g=!0,advance(":"),state.funct["(verb)"]="case";break;case"default":switch(state.funct["(verb)"]){case"yield":case"break":case"continue":case"return":case"throw":break;default:this.cases.length&&(state.tokens.curr.caseFallsThrough||warning("W086",state.tokens.curr,"default"))}advance("default"),g=!0,advance(":");break;case"}":return noindent||(indent-=state.option.indent),advance("}",t),state.funct["(breakage)"]-=1,state.funct["(verb)"]=void 0,void 0;case"(end)":return error("E023",state.tokens.next,"}"),void 0;default:if(indent+=state.option.indent,g)switch(state.tokens.curr.id){case",":return error("E040"),void 0;case":":g=!1,statements();break;default:return error("E025",state.tokens.curr),void 0}else{if(":"!==state.tokens.curr.id)return error("E021",state.tokens.next,"case",state.tokens.next.value),void 0;advance(":"),error("E024",state.tokens.curr,":"),statements()}indent-=state.option.indent}return this}).labelled=!0,stmt("debugger",function(){return state.option.debug||warning("W087",this),this}).exps=!0,function(){var x=stmt("do",function(){state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,increaseComplexityCount(),this.first=block(!0,!0),advance("while");var t=state.tokens.next;return advance("("),checkCondAssignment(expression(0)),advance(")",t),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this});x.labelled=!0,x.exps=!0}(),blockstmt("for",function(){var s,t=state.tokens.next,letscope=!1,foreachtok=null;"each"===t.value&&(foreachtok=t,advance("each"),state.inMoz()||warning("W118",state.tokens.curr,"for each")),increaseComplexityCount(),advance("(");var nextop,comma,initializer,i=0,inof=["in","of"],level=0;checkPunctuators(state.tokens.next,["{","["])&&++level;do{if(nextop=peek(i),++i,checkPunctuators(nextop,["{","["])?++level:checkPunctuators(nextop,["}","]"])&&--level,0>level)break;0===level&&(!comma&&checkPunctuator(nextop,",")?comma=nextop:!initializer&&checkPunctuator(nextop,"=")&&(initializer=nextop))}while(level>0||!_.contains(inof,nextop.value)&&";"!==nextop.value&&"(end)"!==nextop.type);if(_.contains(inof,nextop.value)){state.inES6()||"of"!==nextop.value||warning("W104",nextop,"for of","6");var ok=!(initializer||comma);if(initializer&&error("W133",comma,nextop.value,"initializer is forbidden"),comma&&error("W133",comma,nextop.value,"more than one ForBinding"),"var"===state.tokens.next.id?(advance("var"),state.tokens.curr.fud({prefix:!0})):"let"===state.tokens.next.id||"const"===state.tokens.next.id?(advance(state.tokens.next.id),letscope=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud({prefix:!0})):Object.create(varstatement).fud({prefix:!0,implied:"for",ignore:!ok}),advance(nextop.value),expression(20),advance(")",t),"in"===nextop.value&&state.option.forin&&(state.forinifcheckneeded=!0,void 0===state.forinifchecks&&(state.forinifchecks=[]),state.forinifchecks.push({type:"(none)"})),state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,s=block(!0,!0),"in"===nextop.value&&state.option.forin){if(state.forinifchecks&&state.forinifchecks.length>0){var check=state.forinifchecks.pop();(s&&s.length>0&&("object"!=typeof s[0]||"if"!==s[0].value)||"(positive)"===check.type&&s.length>1||"(negative)"===check.type)&&warning("W089",this)}state.forinifcheckneeded=!1}state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}else{if(foreachtok&&error("E045",foreachtok),";"!==state.tokens.next.id)if("var"===state.tokens.next.id)advance("var"),state.tokens.curr.fud();else if("let"===state.tokens.next.id)advance("let"),letscope=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud();else for(;expression(0,"for"),","===state.tokens.next.id;)comma();if(nolinebreak(state.tokens.curr),advance(";"),state.funct["(loopage)"]+=1,";"!==state.tokens.next.id&&checkCondAssignment(expression(0)),nolinebreak(state.tokens.curr),advance(";"),";"===state.tokens.next.id&&error("E021",state.tokens.next,")",";"),")"!==state.tokens.next.id)for(;expression(0,"for"),","===state.tokens.next.id;)comma();advance(")",t),state.funct["(breakage)"]+=1,block(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}return letscope&&state.funct["(scope)"].unstack(),this}).labelled=!0,stmt("break",function(){var v=state.tokens.next.value;return state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line!==startLine(state.tokens.next)?0===state.funct["(breakage)"]&&warning("W052",state.tokens.next,this.value):(state.funct["(scope)"].funct.hasBreakLabel(v)||warning("W090",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt("continue",function(){var v=state.tokens.next.value;return 0===state.funct["(breakage)"]&&warning("W052",state.tokens.next,this.value),state.funct["(loopage)"]||warning("W052",state.tokens.next,this.value),state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line===startLine(state.tokens.next)&&(state.funct["(scope)"].funct.hasBreakLabel(v)||warning("W090",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt("return",function(){return this.line===startLine(state.tokens.next)?";"===state.tokens.next.id||state.tokens.next.reach||(this.first=expression(0),!this.first||"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)):"(punctuator)"===state.tokens.next.type&&["[","{","+","-"].indexOf(state.tokens.next.value)>-1&&nolinebreak(this),reachable(this),this}).exps=!0,function(x){x.exps=!0,x.lbp=25}(prefix("yield",function(){var prev=state.tokens.prev;state.inES6(!0)&&!state.funct["(generator)"]?"(catch)"===state.funct["(name)"]&&state.funct["(context)"]["(generator)"]||error("E046",state.tokens.curr,"yield"):state.inES6()||warning("W104",state.tokens.curr,"yield","6"),state.funct["(generator)"]="yielded";var delegatingYield=!1;return"*"===state.tokens.next.value&&(delegatingYield=!0,advance("*")),this.line!==startLine(state.tokens.next)&&state.inMoz()?state.option.asi||nolinebreak(this):((delegatingYield||";"!==state.tokens.next.id&&!state.option.asi&&!state.tokens.next.reach&&state.tokens.next.nud)&&(nobreaknonadjacent(state.tokens.curr,state.tokens.next),this.first=expression(10),"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)),state.inMoz()&&")"!==state.tokens.next.id&&(prev.lbp>30||!prev.assign&&!isEndOfExpr()||"yield"===prev.id)&&error("E050",this)),this})),stmt("throw",function(){return nolinebreak(this),this.first=expression(20),reachable(this),this}).exps=!0,stmt("import",function(){if(state.inES6()||warning("W119",state.tokens.curr,"import","6"),"(string)"===state.tokens.next.type)return advance("(string)"),this;if(state.tokens.next.identifier){if(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"const",token:state.tokens.curr}),","!==state.tokens.next.value)return advance("from"),advance("(string)"),this;advance(",")}if("*"===state.tokens.next.id)advance("*"),advance("as"),state.tokens.next.identifier&&(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"const",token:state.tokens.curr}));else for(advance("{");;){if("}"===state.tokens.next.value){advance("}");break}var importName;if("default"===state.tokens.next.type?(importName="default",advance("default")):importName=identifier(),"as"===state.tokens.next.value&&(advance("as"),importName=identifier()),state.funct["(scope)"].addlabel(importName,{type:"const",token:state.tokens.curr}),","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return advance("from"),advance("(string)"),this}).exps=!0,stmt("export",function(){var token,identifier,ok=!0;if(state.inES6()||(warning("W119",state.tokens.curr,"export","6"),ok=!1),state.funct["(scope)"].block.isGlobal()||(error("E053",state.tokens.curr),ok=!1),"*"===state.tokens.next.value)return advance("*"),advance("from"),advance("(string)"),this;if("default"===state.tokens.next.type){state.nameStack.set(state.tokens.next),advance("default");var exportType=state.tokens.next.id;return("function"===exportType||"class"===exportType)&&(this.block=!0),token=peek(),expression(10),identifier=token.value,this.block&&(state.funct["(scope)"].addlabel(identifier,{type:exportType,token:token}),state.funct["(scope)"].setExported(identifier,token)),this}if("{"===state.tokens.next.value){advance("{");for(var exportedTokens=[];;){if(state.tokens.next.identifier||error("E030",state.tokens.next,state.tokens.next.value),advance(),exportedTokens.push(state.tokens.curr),"as"===state.tokens.next.value&&(advance("as"),state.tokens.next.identifier||error("E030",state.tokens.next,state.tokens.next.value),advance()),","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return"from"===state.tokens.next.value?(advance("from"),advance("(string)")):ok&&exportedTokens.forEach(function(token){state.funct["(scope)"].setExported(token.value,token)}),this}if("var"===state.tokens.next.id)advance("var"),state.tokens.curr.fud({inexport:!0});else if("let"===state.tokens.next.id)advance("let"),state.tokens.curr.fud({inexport:!0});else if("const"===state.tokens.next.id)advance("const"),state.tokens.curr.fud({inexport:!0});else if("function"===state.tokens.next.id)this.block=!0,advance("function"),state.syntax["function"].fud({inexport:!0});else if("class"===state.tokens.next.id){this.block=!0,advance("class");var classNameToken=state.tokens.next;state.syntax["class"].fud(),state.funct["(scope)"].setExported(classNameToken.value,classNameToken)}else error("E024",state.tokens.next,state.tokens.next.value);return this}).exps=!0,FutureReservedWord("abstract"),FutureReservedWord("boolean"),FutureReservedWord("byte"),FutureReservedWord("char"),FutureReservedWord("class",{es5:!0,nud:classdef}),FutureReservedWord("double"),FutureReservedWord("enum",{es5:!0}),FutureReservedWord("export",{es5:!0}),FutureReservedWord("extends",{es5:!0}),FutureReservedWord("final"),FutureReservedWord("float"),FutureReservedWord("goto"),FutureReservedWord("implements",{es5:!0,strictOnly:!0}),FutureReservedWord("import",{es5:!0}),FutureReservedWord("int"),FutureReservedWord("interface",{es5:!0,strictOnly:!0}),FutureReservedWord("long"),FutureReservedWord("native"),FutureReservedWord("package",{es5:!0,strictOnly:!0}),FutureReservedWord("private",{es5:!0,strictOnly:!0}),FutureReservedWord("protected",{es5:!0,strictOnly:!0}),FutureReservedWord("public",{es5:!0,strictOnly:!0}),FutureReservedWord("short"),FutureReservedWord("static",{es5:!0,strictOnly:!0}),FutureReservedWord("super",{es5:!0}),FutureReservedWord("synchronized"),FutureReservedWord("transient"),FutureReservedWord("volatile");var lookupBlockType=function(){var pn,pn1,prev,i=-1,bracketStack=0,ret={};checkPunctuators(state.tokens.curr,["[","{"])&&(bracketStack+=1);do{if(prev=-1===i?state.tokens.curr:pn,pn=-1===i?state.tokens.next:peek(i),pn1=peek(i+1),i+=1,checkPunctuators(pn,["[","{"])?bracketStack+=1:checkPunctuators(pn,["]","}"])&&(bracketStack-=1),1===bracketStack&&pn.identifier&&"for"===pn.value&&!checkPunctuator(prev,".")){ret.isCompArray=!0,ret.notJson=!0;break}if(0===bracketStack&&checkPunctuators(pn,["}","]"])){if("="===pn1.value){ret.isDestAssign=!0,ret.notJson=!0;break}if("."===pn1.value){ret.notJson=!0;break}}checkPunctuator(pn,";")&&(ret.isBlock=!0,ret.notJson=!0)}while(bracketStack>0&&"(end)"!==pn.id);return ret},arrayComprehension=function(){function declare(v){var l=_current.variables.filter(function(elt){return elt.value===v?(elt.undef=!1,v):void 0}).length;return 0!==l}function use(v){var l=_current.variables.filter(function(elt){return elt.value!==v||elt.undef?void 0:(elt.unused===!0&&(elt.unused=!1),v)}).length;return 0===l}var _current,CompArray=function(){this.mode="use",this.variables=[]},_carrays=[];return{stack:function(){_current=new CompArray,_carrays.push(_current)},unstack:function(){_current.variables.filter(function(v){v.unused&&warning("W098",v.token,v.raw_text||v.value),v.undef&&state.funct["(scope)"].block.use(v.value,v.token)}),_carrays.splice(-1,1),_current=_carrays[_carrays.length-1]},setState:function(s){_.contains(["use","define","generate","filter"],s)&&(_current.mode=s)},check:function(v){return _current?_current&&"use"===_current.mode?(use(v)&&_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!0,unused:!1}),!0):_current&&"define"===_current.mode?(declare(v)||_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!1,unused:!0}),!0):_current&&"generate"===_current.mode?(state.funct["(scope)"].block.use(v,state.tokens.curr),!0):_current&&"filter"===_current.mode?(use(v)&&state.funct["(scope)"].block.use(v,state.tokens.curr),!0):!1:void 0}}},escapeRegex=function(str){return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&")},itself=function(s,o,g){function each(obj,cb){obj&&(Array.isArray(obj)||"object"!=typeof obj||(obj=Object.keys(obj)),obj.forEach(cb))}var i,k,x,reIgnoreStr,reIgnore,optionKeys,newOptionObj={},newIgnoredObj={};o=_.clone(o),state.reset(),o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope="(main)"),predefined=Object.create(null),combine(predefined,vars.ecmaIdentifiers[3]),combine(predefined,vars.reservedVars),combine(predefined,g||{}),declared=Object.create(null);var exported=Object.create(null);if(o)for(each(o.predef||null,function(item){var slice,prop;"-"===item[0]?(slice=item.slice(1),JSHINT.blacklist[slice]=slice,delete predefined[slice]):(prop=Object.getOwnPropertyDescriptor(o.predef,item),predefined[item]=prop?prop.value:!1)}),each(o.exported||null,function(item){exported[item]=!0}),delete o.predef,delete o.exported,optionKeys=Object.keys(o),x=0;optionKeys.length>x;x++)if(/^-W\\d{3}$/g.test(optionKeys[x]))newIgnoredObj[optionKeys[x].slice(1)]=!0;else{var optionKey=optionKeys[x];newOptionObj[optionKey]=o[optionKey],("esversion"===optionKey&&5===o[optionKey]||"es5"===optionKey&&o[optionKey])&&warning("I003"),"newcap"===optionKeys[x]&&o[optionKey]===!1&&(newOptionObj["(explicitNewcap)"]=!0)}state.option=newOptionObj,state.ignored=newIgnoredObj,state.option.indent=state.option.indent||4,state.option.maxerr=state.option.maxerr||50,indent=1;var scopeManagerInst=scopeManager(state,predefined,exported,declared);if(scopeManagerInst.on("warning",function(ev){warning.apply(null,[ev.code,ev.token].concat(ev.data))}),scopeManagerInst.on("error",function(ev){error.apply(null,[ev.code,ev.token].concat(ev.data))}),state.funct=functor("(global)",null,{"(global)":!0,"(scope)":scopeManagerInst,"(comparray)":arrayComprehension(),"(metrics)":createMetrics(state.tokens.next)}),functions=[state.funct],urls=[],stack=null,member={},membersOnly=null,inblock=!1,lookahead=[],!isString(s)&&!Array.isArray(s))return errorAt("E004",0),!1;api={get isJSON(){return state.jsonMode},getOption:function(name){return state.option[name]||null},getCache:function(name){return state.cache[name]},setCache:function(name,value){state.cache[name]=value},warn:function(code,data){warningAt.apply(null,[code,data.line,data.char].concat(data.data))},on:function(names,listener){names.split(" ").forEach(function(name){emitter.on(name,listener)}.bind(this))}},emitter.removeAllListeners(),(extraModules||[]).forEach(function(func){func(api)}),state.tokens.prev=state.tokens.curr=state.tokens.next=state.syntax["(begin)"],o&&o.ignoreDelimiters&&(Array.isArray(o.ignoreDelimiters)||(o.ignoreDelimiters=[o.ignoreDelimiters]),o.ignoreDelimiters.forEach(function(delimiterPair){delimiterPair.start&&delimiterPair.end&&(reIgnoreStr=escapeRegex(delimiterPair.start)+"[\\\\s\\\\S]*?"+escapeRegex(delimiterPair.end),reIgnore=RegExp(reIgnoreStr,"ig"),s=s.replace(reIgnore,function(match){return match.replace(/./g," ")}))})),lex=new Lexer(s),lex.on("warning",function(ev){warningAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("error",function(ev){errorAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("fatal",function(ev){quit("E041",ev.line,ev.from)}),lex.on("Identifier",function(ev){emitter.emit("Identifier",ev)}),lex.on("String",function(ev){emitter.emit("String",ev)}),lex.on("Number",function(ev){emitter.emit("Number",ev)}),lex.start();for(var name in o)_.has(o,name)&&checkOption(name,state.tokens.curr);assume(),combine(predefined,g||{}),comma.first=!0;try{switch(advance(),state.tokens.next.id){case"{":case"[":destructuringAssignOrJsonValue();break;default:directives(),state.directive["use strict"]&&"global"!==state.option.strict&&warning("W097",state.tokens.prev),statements()}"(end)"!==state.tokens.next.id&&quit("E041",state.tokens.curr.line),state.funct["(scope)"].unstack()}catch(err){if(!err||"JSHintError"!==err.name)throw err;var nt=state.tokens.next||{};JSHINT.errors.push({scope:"(main)",raw:err.raw,code:err.code,reason:err.message,line:err.line||nt.line,character:err.character||nt.from},null)}if("(main)"===JSHINT.scope)for(o=o||{},i=0;JSHINT.internals.length>i;i+=1)k=JSHINT.internals[i],o.scope=k.elem,itself(k.value,o,g);return 0===JSHINT.errors.length};return itself.addModule=function(func){extraModules.push(func)},itself.addModule(style.register),itself.data=function(){var fu,f,i,j,n,globals,data={functions:[],options:state.option};itself.errors.length&&(data.errors=itself.errors),state.jsonMode&&(data.json=!0);var impliedGlobals=state.funct["(scope)"].getImpliedGlobals();for(impliedGlobals.length>0&&(data.implieds=impliedGlobals),urls.length>0&&(data.urls=urls),globals=state.funct["(scope)"].getUsedOrDefinedGlobals(),globals.length>0&&(data.globals=globals),i=1;functions.length>i;i+=1){for(f=functions[i],fu={},j=0;functionicity.length>j;j+=1)fu[functionicity[j]]=[];for(j=0;functionicity.length>j;j+=1)0===fu[functionicity[j]].length&&delete fu[functionicity[j]];fu.name=f["(name)"],fu.param=f["(params)"],fu.line=f["(line)"],fu.character=f["(character)"],fu.last=f["(last)"],fu.lastcharacter=f["(lastcharacter)"],fu.metrics={complexity:f["(metrics)"].ComplexityCount,parameters:f["(metrics)"].arity,statements:f["(metrics)"].statementCount},data.functions.push(fu)}var unuseds=state.funct["(scope)"].getUnuseds();unuseds.length>0&&(data.unused=unuseds);for(n in member)if("number"==typeof member[n]){data.member=member;break}return data},itself.jshint=itself,itself}();"object"==typeof exports&&exports&&(exports.JSHINT=JSHINT)},{"../lodash":"/node_modules/jshint/lodash.js","./lex.js":"/node_modules/jshint/src/lex.js","./messages.js":"/node_modules/jshint/src/messages.js","./options.js":"/node_modules/jshint/src/options.js","./reg.js":"/node_modules/jshint/src/reg.js","./scope-manager.js":"/node_modules/jshint/src/scope-manager.js","./state.js":"/node_modules/jshint/src/state.js","./style.js":"/node_modules/jshint/src/style.js","./vars.js":"/node_modules/jshint/src/vars.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/lex.js":[function(_dereq_,module,exports){"use strict";function asyncTrigger(){var _checks=[];return{push:function(fn){_checks.push(fn)},check:function(){for(var check=0;_checks.length>check;++check)_checks[check]();_checks.splice(0,_checks.length)}}}function Lexer(source){var lines=source;"string"==typeof lines&&(lines=lines.replace(/\\r\\n/g,"\\n").replace(/\\r/g,"\\n").split("\\n")),lines[0]&&"#!"===lines[0].substr(0,2)&&(-1!==lines[0].indexOf("node")&&(state.option.node=!0),lines[0]=""),this.emitter=new events.EventEmitter,this.source=source,this.setLines(lines),this.prereg=!0,this.line=0,this.char=1,this.from=1,this.input="",this.inComment=!1,this.context=[],this.templateStarts=[];for(var i=0;state.option.indent>i;i+=1)state.tab+=" ";this.ignoreLinterErrors=!1}var _=_dereq_("../lodash"),events=_dereq_("events"),reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,unicodeData=_dereq_("../data/ascii-identifier-data.js"),asciiIdentifierStartTable=unicodeData.asciiIdentifierStartTable,asciiIdentifierPartTable=unicodeData.asciiIdentifierPartTable,Token={Identifier:1,Punctuator:2,NumericLiteral:3,StringLiteral:4,Comment:5,Keyword:6,NullLiteral:7,BooleanLiteral:8,RegExp:9,TemplateHead:10,TemplateMiddle:11,TemplateTail:12,NoSubstTemplate:13},Context={Block:1,Template:2};Lexer.prototype={_lines:[],inContext:function(ctxType){return this.context.length>0&&this.context[this.context.length-1].type===ctxType},pushContext:function(ctxType){this.context.push({type:ctxType})},popContext:function(){return this.context.pop()},isContext:function(context){return this.context.length>0&&this.context[this.context.length-1]===context},currentContext:function(){return this.context.length>0&&this.context[this.context.length-1]},getLines:function(){return this._lines=state.lines,this._lines},setLines:function(val){this._lines=val,state.lines=this._lines},peek:function(i){return this.input.charAt(i||0)},skip:function(i){i=i||1,this.char+=i,this.input=this.input.slice(i)},on:function(names,listener){names.split(" ").forEach(function(name){this.emitter.on(name,listener)}.bind(this))},trigger:function(){this.emitter.emit.apply(this.emitter,Array.prototype.slice.call(arguments))},triggerAsync:function(type,args,checks,fn){checks.push(function(){fn()&&this.trigger(type,args)}.bind(this))},scanPunctuator:function(){var ch2,ch3,ch4,ch1=this.peek();switch(ch1){case".":if(/^[0-9]$/.test(this.peek(1)))return null;if("."===this.peek(1)&&"."===this.peek(2))return{type:Token.Punctuator,value:"..."};case"(":case")":case";":case",":case"[":case"]":case":":case"~":case"?":return{type:Token.Punctuator,value:ch1};case"{":return this.pushContext(Context.Block),{type:Token.Punctuator,value:ch1};case"}":return this.inContext(Context.Block)&&this.popContext(),{type:Token.Punctuator,value:ch1};case"#":return{type:Token.Punctuator,value:ch1};case"":return null}return ch2=this.peek(1),ch3=this.peek(2),ch4=this.peek(3),">"===ch1&&">"===ch2&&">"===ch3&&"="===ch4?{type:Token.Punctuator,value:">>>="}:"="===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"==="}:"!"===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"!=="}:">"===ch1&&">"===ch2&&">"===ch3?{type:Token.Punctuator,value:">>>"}:"<"===ch1&&"<"===ch2&&"="===ch3?{type:Token.Punctuator,value:"<<="}:">"===ch1&&">"===ch2&&"="===ch3?{type:Token.Punctuator,value:">>="}:"="===ch1&&">"===ch2?{type:Token.Punctuator,value:ch1+ch2}:ch1===ch2&&"+-<>&|".indexOf(ch1)>=0?{type:Token.Punctuator,value:ch1+ch2}:"<>=!+-*%&|^".indexOf(ch1)>=0?"="===ch2?{type:Token.Punctuator,value:ch1+ch2}:{type:Token.Punctuator,value:ch1}:"/"===ch1?"="===ch2?{type:Token.Punctuator,value:"/="}:{type:Token.Punctuator,value:"/"}:null},scanComments:function(){function commentToken(label,body,opt){var special=["jshint","jslint","members","member","globals","global","exported"],isSpecial=!1,value=label+body,commentType="plain";return opt=opt||{},opt.isMultiline&&(value+="*/"),body=body.replace(/\\n/g," "),"/*"===label&&reg.fallsThrough.test(body)&&(isSpecial=!0,commentType="falls through"),special.forEach(function(str){if(!isSpecial&&("//"!==label||"jshint"===str)&&(" "===body.charAt(str.length)&&body.substr(0,str.length)===str&&(isSpecial=!0,label+=str,body=body.substr(str.length)),isSpecial||" "!==body.charAt(0)||" "!==body.charAt(str.length+1)||body.substr(1,str.length)!==str||(isSpecial=!0,label=label+" "+str,body=body.substr(str.length+1)),isSpecial))switch(str){case"member":commentType="members";break;case"global":commentType="globals";break;default:var options=body.split(":").map(function(v){return v.replace(/^\\s+/,"").replace(/\\s+$/,"")});if(2===options.length)switch(options[0]){case"ignore":switch(options[1]){case"start":self.ignoringLinterErrors=!0,isSpecial=!1;break;case"end":self.ignoringLinterErrors=!1,isSpecial=!1}}commentType=str}}),{type:Token.Comment,commentType:commentType,value:value,body:body,isSpecial:isSpecial,isMultiline:opt.isMultiline||!1,isMalformed:opt.isMalformed||!1}}var ch1=this.peek(),ch2=this.peek(1),rest=this.input.substr(2),startLine=this.line,startChar=this.char,self=this;if("*"===ch1&&"/"===ch2)return this.trigger("error",{code:"E018",line:startLine,character:startChar}),this.skip(2),null;if("/"!==ch1||"*"!==ch2&&"/"!==ch2)return null;if("/"===ch2)return this.skip(this.input.length),commentToken("//",rest);var body="";if("*"===ch2){for(this.inComment=!0,this.skip(2);"*"!==this.peek()||"/"!==this.peek(1);)if(""===this.peek()){if(body+="\\n",!this.nextLine())return this.trigger("error",{code:"E017",line:startLine,character:startChar}),this.inComment=!1,commentToken("/*",body,{isMultiline:!0,isMalformed:!0})}else body+=this.peek(),this.skip();return this.skip(2),this.inComment=!1,commentToken("/*",body,{isMultiline:!0})}},scanKeyword:function(){var result=/^[a-zA-Z_$][a-zA-Z0-9_$]*/.exec(this.input),keywords=["if","in","do","var","for","new","try","let","this","else","case","void","with","enum","while","break","catch","throw","const","yield","class","super","return","typeof","delete","switch","export","import","default","finally","extends","function","continue","debugger","instanceof"];return result&&keywords.indexOf(result[0])>=0?{type:Token.Keyword,value:result[0]}:null},scanIdentifier:function(){function isNonAsciiIdentifierStart(code){return code>256}function isNonAsciiIdentifierPart(code){return code>256}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function removeEscapeSequences(id){return id.replace(/\\\\u([0-9a-fA-F]{4})/g,function(m0,codepoint){return String.fromCharCode(parseInt(codepoint,16))})}var type,char,id="",index=0,readUnicodeEscapeSequence=function(){if(index+=1,"u"!==this.peek(index))return null;var code,ch1=this.peek(index+1),ch2=this.peek(index+2),ch3=this.peek(index+3),ch4=this.peek(index+4);return isHexDigit(ch1)&&isHexDigit(ch2)&&isHexDigit(ch3)&&isHexDigit(ch4)?(code=parseInt(ch1+ch2+ch3+ch4,16),asciiIdentifierPartTable[code]||isNonAsciiIdentifierPart(code)?(index+=5,"\\\\u"+ch1+ch2+ch3+ch4):null):null}.bind(this),getIdentifierStart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierStartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierStart(code)?(index+=1,chr):null}.bind(this),getIdentifierPart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierPartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierPart(code)?(index+=1,chr):null}.bind(this);if(char=getIdentifierStart(),null===char)return null;for(id=char;char=getIdentifierPart(),null!==char;)id+=char;switch(id){case"true":case"false":type=Token.BooleanLiteral;break;case"null":type=Token.NullLiteral;break;default:type=Token.Identifier}return{type:type,value:removeEscapeSequences(id),text:id,tokenLength:id.length}},scanNumericLiteral:function(){function isDecimalDigit(str){return/^[0-9]$/.test(str)}function isOctalDigit(str){return/^[0-7]$/.test(str)}function isBinaryDigit(str){return/^[01]$/.test(str)}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function isIdentifierStart(ch){return"$"===ch||"_"===ch||"\\\\"===ch||ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch}var bad,index=0,value="",length=this.input.length,char=this.peek(index),isAllowedDigit=isDecimalDigit,base=10,isLegacy=!1;if("."!==char&&!isDecimalDigit(char))return null;if("."!==char){for(value=this.peek(index),index+=1,char=this.peek(index),"0"===value&&(("x"===char||"X"===char)&&(isAllowedDigit=isHexDigit,base=16,index+=1,value+=char),("o"===char||"O"===char)&&(isAllowedDigit=isOctalDigit,base=8,state.inES6(!0)||this.trigger("warning",{code:"W119",line:this.line,character:this.char,data:["Octal integer literal","6"]}),index+=1,value+=char),("b"===char||"B"===char)&&(isAllowedDigit=isBinaryDigit,base=2,state.inES6(!0)||this.trigger("warning",{code:"W119",line:this.line,character:this.char,data:["Binary integer literal","6"]}),index+=1,value+=char),isOctalDigit(char)&&(isAllowedDigit=isOctalDigit,base=8,isLegacy=!0,bad=!1,index+=1,value+=char),!isOctalDigit(char)&&isDecimalDigit(char)&&(index+=1,value+=char));length>index;){if(char=this.peek(index),isLegacy&&isDecimalDigit(char))bad=!0;else if(!isAllowedDigit(char))break;value+=char,index+=1}if(isAllowedDigit!==isDecimalDigit)return!isLegacy&&2>=value.length?{type:Token.NumericLiteral,value:value,isMalformed:!0}:length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isLegacy:isLegacy,isMalformed:!1}}if("."===char)for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1;if("e"===char||"E"===char){if(value+=char,index+=1,char=this.peek(index),("+"===char||"-"===char)&&(value+=this.peek(index),index+=1),char=this.peek(index),!isDecimalDigit(char))return null;for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1}return length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isMalformed:!isFinite(value)}},scanEscapeSequence:function(checks){var allowNewLine=!1,jump=1;this.skip();var char=this.peek();switch(char){case"\'":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\\'"]},checks,function(){return state.jsonMode});break;case"b":char="\\\\b";break;case"f":char="\\\\f";break;case"n":char="\\\\n";break;case"r":char="\\\\r";break;case"t":char="\\\\t";break;case"0":char="\\\\0";var n=parseInt(this.peek(1),10);this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return n>=0&&7>=n&&state.isStrict()});break;case"u":var hexCode=this.input.substr(1,4),code=parseInt(hexCode,16);isNaN(code)&&this.trigger("warning",{code:"W052",line:this.line,character:this.char,data:["u"+hexCode]}),char=String.fromCharCode(code),jump=5;break;case"v":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\v"]},checks,function(){return state.jsonMode}),char="\x0B";break;case"x":var x=parseInt(this.input.substr(1,2),16);this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\x-"]},checks,function(){return state.jsonMode}),char=String.fromCharCode(x),jump=3;break;case"\\\\":char="\\\\\\\\";break;case\'"\':char=\'\\\\"\';break;case"/":break;case"":allowNewLine=!0,char=""}return{"char":char,jump:jump,allowNewLine:allowNewLine}},scanTemplateLiteral:function(checks){var tokenType,ch,value="",startLine=this.line,startChar=this.char,depth=this.templateStarts.length;if(!state.inES6(!0))return null;if("`"===this.peek())tokenType=Token.TemplateHead,this.templateStarts.push({line:this.line,"char":this.char}),depth=this.templateStarts.length,this.skip(1),this.pushContext(Context.Template);else{if(!this.inContext(Context.Template)||"}"!==this.peek())return null;tokenType=Token.TemplateMiddle}for(;"`"!==this.peek();){for(;""===(ch=this.peek());)if(value+="\\n",!this.nextLine()){var startPos=this.templateStarts.pop();return this.trigger("error",{code:"E052",line:startPos.line,character:startPos.char}),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,depth:depth,context:this.popContext()}}if("$"===ch&&"{"===this.peek(1))return value+="${",this.skip(2),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.currentContext()};\nif("\\\\"===ch){var escape=this.scanEscapeSequence(checks);value+=escape.char,this.skip(escape.jump)}else"`"!==ch&&(value+=ch,this.skip(1))}return tokenType=tokenType===Token.TemplateHead?Token.NoSubstTemplate:Token.TemplateTail,this.skip(1),this.templateStarts.pop(),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.popContext()}},scanStringLiteral:function(checks){var quote=this.peek();if(\'"\'!==quote&&"\'"!==quote)return null;this.triggerAsync("warning",{code:"W108",line:this.line,character:this.char},checks,function(){return state.jsonMode&&\'"\'!==quote});var value="",startLine=this.line,startChar=this.char,allowNewLine=!1;for(this.skip();this.peek()!==quote;)if(""===this.peek()){if(allowNewLine?(allowNewLine=!1,this.triggerAsync("warning",{code:"W043",line:this.line,character:this.char},checks,function(){return!state.option.multistr}),this.triggerAsync("warning",{code:"W042",line:this.line,character:this.char},checks,function(){return state.jsonMode&&state.option.multistr})):this.trigger("warning",{code:"W112",line:this.line,character:this.char}),!this.nextLine())return this.trigger("error",{code:"E029",line:startLine,character:startChar}),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,quote:quote}}else{allowNewLine=!1;var char=this.peek(),jump=1;if(" ">char&&this.trigger("warning",{code:"W113",line:this.line,character:this.char,data:["<non-printable>"]}),"\\\\"===char){var parsed=this.scanEscapeSequence(checks);char=parsed.char,jump=parsed.jump,allowNewLine=parsed.allowNewLine}value+=char,this.skip(jump)}return this.skip(),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,quote:quote}},scanRegExp:function(){var terminated,index=0,length=this.input.length,char=this.peek(),value=char,body="",flags=[],malformed=!1,isCharSet=!1,scanUnexpectedChars=function(){" ">char&&(malformed=!0,this.trigger("warning",{code:"W048",line:this.line,character:this.char})),"<"===char&&(malformed=!0,this.trigger("warning",{code:"W049",line:this.line,character:this.char,data:[char]}))}.bind(this);if(!this.prereg||"/"!==char)return null;for(index+=1,terminated=!1;length>index;)if(char=this.peek(index),value+=char,body+=char,isCharSet)"]"===char&&("\\\\"!==this.peek(index-1)||"\\\\"===this.peek(index-2))&&(isCharSet=!1),"\\\\"===char&&(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars()),index+=1;else{if("\\\\"===char){if(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars(),"/"===char){index+=1;continue}if("["===char){index+=1;continue}}if("["!==char){if("/"===char){body=body.substr(0,body.length-1),terminated=!0,index+=1;break}index+=1}else isCharSet=!0,index+=1}if(!terminated)return this.trigger("error",{code:"E015",line:this.line,character:this.from}),void this.trigger("fatal",{line:this.line,from:this.from});for(;length>index&&(char=this.peek(index),/[gim]/.test(char));)flags.push(char),value+=char,index+=1;try{RegExp(body,flags.join(""))}catch(err){malformed=!0,this.trigger("error",{code:"E016",line:this.line,character:this.char,data:[err.message]})}return{type:Token.RegExp,value:value,flags:flags,isMalformed:malformed}},scanNonBreakingSpaces:function(){return state.option.nonbsp?this.input.search(/(\\u00A0)/):-1},scanUnsafeChars:function(){return this.input.search(reg.unsafeChars)},next:function(checks){this.from=this.char;var start;if(/\\s/.test(this.peek()))for(start=this.char;/\\s/.test(this.peek());)this.from+=1,this.skip();var match=this.scanComments()||this.scanStringLiteral(checks)||this.scanTemplateLiteral(checks);return match?match:(match=this.scanRegExp()||this.scanPunctuator()||this.scanKeyword()||this.scanIdentifier()||this.scanNumericLiteral(),match?(this.skip(match.tokenLength||match.value.length),match):null)},nextLine:function(){var char;if(this.line>=this.getLines().length)return!1;this.input=this.getLines()[this.line],this.line+=1,this.char=1,this.from=1;var inputTrimmed=this.input.trim(),startsWith=function(){return _.some(arguments,function(prefix){return 0===inputTrimmed.indexOf(prefix)})},endsWith=function(){return _.some(arguments,function(suffix){return-1!==inputTrimmed.indexOf(suffix,inputTrimmed.length-suffix.length)})};if(this.ignoringLinterErrors===!0&&(startsWith("/*","//")||this.inComment&&endsWith("*/")||(this.input="")),char=this.scanNonBreakingSpaces(),char>=0&&this.trigger("warning",{code:"W125",line:this.line,character:char+1}),this.input=this.input.replace(/\\t/g,state.tab),char=this.scanUnsafeChars(),char>=0&&this.trigger("warning",{code:"W100",line:this.line,character:char}),!this.ignoringLinterErrors&&state.option.maxlen&&state.option.maxlen<this.input.length){var inComment=this.inComment||startsWith.call(inputTrimmed,"//")||startsWith.call(inputTrimmed,"/*"),shouldTriggerError=!inComment||!reg.maxlenException.test(inputTrimmed);shouldTriggerError&&this.trigger("warning",{code:"W101",line:this.line,character:this.input.length})}return!0},start:function(){this.nextLine()},token:function(){function isReserved(token,isProperty){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(isProperty)return!1}return!0}for(var token,checks=asyncTrigger(),create=function(type,value,isProperty,token){var obj;if("(endline)"!==type&&"(end)"!==type&&(this.prereg=!1),"(punctuator)"===type){switch(value){case".":case")":case"~":case"#":case"]":case"++":case"--":this.prereg=!1;break;default:this.prereg=!0}obj=Object.create(state.syntax[value]||state.syntax["(error)"])}return"(identifier)"===type&&(("return"===value||"case"===value||"typeof"===value)&&(this.prereg=!0),_.has(state.syntax,value)&&(obj=Object.create(state.syntax[value]||state.syntax["(error)"]),isReserved(obj,isProperty&&"(identifier)"===type)||(obj=null))),obj||(obj=Object.create(state.syntax[type])),obj.identifier="(identifier)"===type,obj.type=obj.type||type,obj.value=value,obj.line=this.line,obj.character=this.char,obj.from=this.from,obj.identifier&&token&&(obj.raw_text=token.text||token.value),token&&token.startLine&&token.startLine!==this.line&&(obj.startLine=token.startLine),token&&token.context&&(obj.context=token.context),token&&token.depth&&(obj.depth=token.depth),token&&token.isUnclosed&&(obj.isUnclosed=token.isUnclosed),isProperty&&obj.identifier&&(obj.isProperty=isProperty),obj.check=checks.check,obj}.bind(this);;){if(!this.input.length)return this.nextLine()?create("(endline)",""):this.exhausted?null:(this.exhausted=!0,create("(end)",""));if(token=this.next(checks))switch(token.type){case Token.StringLiteral:return this.triggerAsync("String",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value,quote:token.quote},checks,function(){return!0}),create("(string)",token.value,null,token);case Token.TemplateHead:return this.trigger("TemplateHead",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template)",token.value,null,token);case Token.TemplateMiddle:return this.trigger("TemplateMiddle",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template middle)",token.value,null,token);case Token.TemplateTail:return this.trigger("TemplateTail",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template tail)",token.value,null,token);case Token.NoSubstTemplate:return this.trigger("NoSubstTemplate",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(no subst template)",token.value,null,token);case Token.Identifier:this.triggerAsync("Identifier",{line:this.line,"char":this.char,from:this.form,name:token.value,raw_name:token.text,isProperty:"."===state.tokens.curr.id},checks,function(){return!0});case Token.Keyword:case Token.NullLiteral:case Token.BooleanLiteral:return create("(identifier)",token.value,"."===state.tokens.curr.id,token);case Token.NumericLiteral:return token.isMalformed&&this.trigger("warning",{code:"W045",line:this.line,character:this.char,data:[token.value]}),this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["0x-"]},checks,function(){return 16===token.base&&state.jsonMode}),this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return state.isStrict()&&8===token.base&&token.isLegacy}),this.trigger("Number",{line:this.line,"char":this.char,from:this.from,value:token.value,base:token.base,isMalformed:token.malformed}),create("(number)",token.value);case Token.RegExp:return create("(regexp)",token.value);case Token.Comment:if(state.tokens.curr.comment=!0,token.isSpecial)return{id:"(comment)",value:token.value,body:token.body,type:token.commentType,isSpecial:token.isSpecial,line:this.line,character:this.char,from:this.from};break;case"":break;default:return create("(punctuator)",token.value)}else this.input.length&&(this.trigger("error",{code:"E024",line:this.line,character:this.char,data:[this.peek()]}),this.input="")}}},exports.Lexer=Lexer,exports.Context=Context},{"../data/ascii-identifier-data.js":"/node_modules/jshint/data/ascii-identifier-data.js","../lodash":"/node_modules/jshint/lodash.js","./reg.js":"/node_modules/jshint/src/reg.js","./state.js":"/node_modules/jshint/src/state.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/messages.js":[function(_dereq_,module,exports){"use strict";var _=_dereq_("../lodash"),errors={E001:"Bad option: \'{a}\'.",E002:"Bad option value.",E003:"Expected a JSON value.",E004:"Input is neither a string nor an array of strings.",E005:"Input is empty.",E006:"Unexpected early end of program.",E007:\'Missing "use strict" statement.\',E008:"Strict violation.",E009:"Option \'validthis\' can\'t be used in a global scope.",E010:"\'with\' is not allowed in strict mode.",E011:"\'{a}\' has already been declared.",E012:"const \'{a}\' is initialized to \'undefined\'.",E013:"Attempting to override \'{a}\' which is a constant.",E014:"A regular expression literal can be confused with \'/=\'.",E015:"Unclosed regular expression.",E016:"Invalid regular expression.",E017:"Unclosed comment.",E018:"Unbegun comment.",E019:"Unmatched \'{a}\'.",E020:"Expected \'{a}\' to match \'{b}\' from line {c} and instead saw \'{d}\'.",E021:"Expected \'{a}\' and instead saw \'{b}\'.",E022:"Line breaking error \'{a}\'.",E023:"Missing \'{a}\'.",E024:"Unexpected \'{a}\'.",E025:"Missing \':\' on a case clause.",E026:"Missing \'}\' to match \'{\' from line {a}.",E027:"Missing \']\' to match \'[\' from line {a}.",E028:"Illegal comma.",E029:"Unclosed string.",E030:"Expected an identifier and instead saw \'{a}\'.",E031:"Bad assignment.",E032:"Expected a small integer or \'false\' and instead saw \'{a}\'.",E033:"Expected an operator and instead saw \'{a}\'.",E034:"get/set are ES5 features.",E035:"Missing property name.",E036:"Expected to see a statement and instead saw a block.",E037:null,E038:null,E039:"Function declarations are not invocable. Wrap the whole function invocation in parens.",E040:"Each value should have its own case label.",E041:"Unrecoverable syntax error.",E042:"Stopping.",E043:"Too many errors.",E044:null,E045:"Invalid for each loop.",E046:"A yield statement shall be within a generator function (with syntax: `function*`)",E047:null,E048:"{a} declaration not directly within block.",E049:"A {a} cannot be named \'{b}\'.",E050:"Mozilla acequires the yield expression to be parenthesized here.",E051:null,E052:"Unclosed template literal.",E053:"Export declaration must be in global scope.",E054:"Class properties must be methods. Expected \'(\' but instead saw \'{a}\'.",E055:"The \'{a}\' option cannot be set after any executable code.",E056:"\'{a}\' was used before it was declared, which is illegal for \'{b}\' variables.",E057:"Invalid meta property: \'{a}.{b}\'.",E058:"Missing semicolon."},warnings={W001:"\'hasOwnProperty\' is a really bad name.",W002:"Value of \'{a}\' may be overwritten in IE 8 and earlier.",W003:"\'{a}\' was used before it was defined.",W004:"\'{a}\' is already defined.",W005:"A dot following a number can be confused with a decimal point.",W006:"Confusing minuses.",W007:"Confusing plusses.",W008:"A leading decimal point can be confused with a dot: \'{a}\'.",W009:"The array literal notation [] is preferable.",W010:"The object literal notation {} is preferable.",W011:null,W012:null,W013:null,W014:"Bad line breaking before \'{a}\'.",W015:null,W016:"Unexpected use of \'{a}\'.",W017:"Bad operand.",W018:"Confusing use of \'{a}\'.",W019:"Use the isNaN function to compare with NaN.",W020:"Read only.",W021:"Reassignment of \'{a}\', which is is a {b}. Use \'var\' or \'let\' to declare bindings that may change.",W022:"Do not assign to the exception parameter.",W023:"Expected an identifier in an assignment and instead saw a function invocation.",W024:"Expected an identifier and instead saw \'{a}\' (a reserved word).",W025:"Missing name in function declaration.",W026:"Inner functions should be listed at the top of the outer function.",W027:"Unreachable \'{a}\' after \'{b}\'.",W028:"Label \'{a}\' on {b} statement.",W030:"Expected an assignment or function call and instead saw an expression.",W031:"Do not use \'new\' for side effects.",W032:"Unnecessary semicolon.",W033:"Missing semicolon.",W034:\'Unnecessary directive "{a}".\',W035:"Empty block.",W036:"Unexpected /*member \'{a}\'.",W037:"\'{a}\' is a statement label.",W038:"\'{a}\' used out of scope.",W039:"\'{a}\' is not allowed.",W040:"Possible strict violation.",W041:"Use \'{a}\' to compare with \'{b}\'.",W042:"Avoid EOL escaping.",W043:"Bad escaping of EOL. Use option multistr if needed.",W044:"Bad or unnecessary escaping.",W045:"Bad number \'{a}\'.",W046:"Don\'t use extra leading zeros \'{a}\'.",W047:"A trailing decimal point can be confused with a dot: \'{a}\'.",W048:"Unexpected control character in regular expression.",W049:"Unexpected escaped character \'{a}\' in regular expression.",W050:"JavaScript URL.",W051:"Variables should not be deleted.",W052:"Unexpected \'{a}\'.",W053:"Do not use {a} as a constructor.",W054:"The Function constructor is a form of eval.",W055:"A constructor name should start with an uppercase letter.",W056:"Bad constructor.",W057:"Weird construction. Is \'new\' necessary?",W058:"Missing \'()\' invoking a constructor.",W059:"Avoid arguments.{a}.",W060:"document.write can be a form of eval.",W061:"eval can be harmful.",W062:"Wrap an immediate function invocation in parens to assist the reader in understanding that the expression is the result of a function, and not the function itself.",W063:"Math is not a function.",W064:"Missing \'new\' prefix when invoking a constructor.",W065:"Missing radix parameter.",W066:"Implied eval. Consider passing a function instead of a string.",W067:"Bad invocation.",W068:"Wrapping non-IIFE function literals in parens is unnecessary.",W069:"[\'{a}\'] is better written in dot notation.",W070:"Extra comma. (it breaks older versions of IE)",W071:"This function has too many statements. ({a})",W072:"This function has too many parameters. ({a})",W073:"Blocks are nested too deeply. ({a})",W074:"This function\'s cyclomatic complexity is too high. ({a})",W075:"Duplicate {a} \'{b}\'.",W076:"Unexpected parameter \'{a}\' in get {b} function.",W077:"Expected a single parameter in set {a} function.",W078:"Setter is defined without getter.",W079:"Redefinition of \'{a}\'.",W080:"It\'s not necessary to initialize \'{a}\' to \'undefined\'.",W081:null,W082:"Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",W083:"Don\'t make functions within a loop.",W084:"Assignment in conditional expression",W085:"Don\'t use \'with\'.",W086:"Expected a \'break\' statement before \'{a}\'.",W087:"Forgotten \'debugger\' statement?",W088:"Creating global \'for\' variable. Should be \'for (var {a} ...\'.",W089:"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",W090:"\'{a}\' is not a statement label.",W091:null,W093:"Did you mean to return a conditional instead of an assignment?",W094:"Unexpected comma.",W095:"Expected a string and instead saw {a}.",W096:"The \'{a}\' key may produce unexpected results.",W097:\'Use the function form of "use strict".\',W098:"\'{a}\' is defined but never used.",W099:null,W100:"This character may get silently deleted by one or more browsers.",W101:"Line is too long.",W102:null,W103:"The \'{a}\' property is deprecated.",W104:"\'{a}\' is available in ES{b} (use \'esversion: {b}\') or Mozilla JS extensions (use moz).",W105:"Unexpected {a} in \'{b}\'.",W106:"Identifier \'{a}\' is not in camel case.",W107:"Script URL.",W108:"Strings must use doublequote.",W109:"Strings must use singlequote.",W110:"Mixed double and single quotes.",W112:"Unclosed string.",W113:"Control character in string: {a}.",W114:"Avoid {a}.",W115:"Octal literals are not allowed in strict mode.",W116:"Expected \'{a}\' and instead saw \'{b}\'.",W117:"\'{a}\' is not defined.",W118:"\'{a}\' is only available in Mozilla JavaScript extensions (use moz option).",W119:"\'{a}\' is only available in ES{b} (use \'esversion: {b}\').",W120:"You might be leaking a variable ({a}) here.",W121:"Extending prototype of native object: \'{a}\'.",W122:"Invalid typeof value \'{a}\'",W123:"\'{a}\' is already defined in outer scope.",W124:"A generator function shall contain a yield statement.",W125:"This line contains non-breaking spaces: http://jshint.com/doc/options/#nonbsp",W126:"Unnecessary grouping operator.",W127:"Unexpected use of a comma operator.",W128:"Empty array elements acequire elision=true.",W129:"\'{a}\' is defined in a future version of JavaScript. Use a different variable name to avoid migration issues.",W130:"Invalid element after rest element.",W131:"Invalid parameter after rest parameter.",W132:"`var` declarations are forbidden. Use `let` or `const` instead.",W133:"Invalid for-{a} loop left-hand-side: {b}.",W134:"The \'{a}\' option is only available when linting ECMAScript {b} code.",W135:"{a} may not be supported by non-browser environments.",W136:"\'{a}\' must be in function scope.",W137:"Empty destructuring.",W138:"Regular parameters should not come after default parameters."},info={I001:"Comma warnings can be turned off with \'laxcomma\'.",I002:null,I003:"ES5 option is now set per default"};exports.errors={},exports.warnings={},exports.info={},_.each(errors,function(desc,code){exports.errors[code]={code:code,desc:desc}}),_.each(warnings,function(desc,code){exports.warnings[code]={code:code,desc:desc}}),_.each(info,function(desc,code){exports.info[code]={code:code,desc:desc}})},{"../lodash":"/node_modules/jshint/lodash.js"}],"/node_modules/jshint/src/name-stack.js":[function(_dereq_,module){"use strict";function NameStack(){this._stack=[]}Object.defineProperty(NameStack.prototype,"length",{get:function(){return this._stack.length}}),NameStack.prototype.push=function(){this._stack.push(null)},NameStack.prototype.pop=function(){this._stack.pop()},NameStack.prototype.set=function(token){this._stack[this.length-1]=token},NameStack.prototype.infer=function(){var type,nameToken=this._stack[this.length-1],prefix="";return nameToken&&"class"!==nameToken.type||(nameToken=this._stack[this.length-2]),nameToken?(type=nameToken.type,"(string)"!==type&&"(number)"!==type&&"(identifier)"!==type&&"default"!==type?"(expression)":(nameToken.accessorType&&(prefix=nameToken.accessorType+" "),prefix+nameToken.value)):"(empty)"},module.exports=NameStack},{}],"/node_modules/jshint/src/options.js":[function(_dereq_,module,exports){"use strict";exports.bool={enforcing:{bitwise:!0,freeze:!0,camelcase:!0,curly:!0,eqeqeq:!0,futurehostile:!0,notypeof:!0,es3:!0,es5:!0,forin:!0,funcscope:!0,immed:!0,iterator:!0,newcap:!0,noarg:!0,nocomma:!0,noempty:!0,nonbsp:!0,nonew:!0,undef:!0,singleGroups:!1,varstmt:!1,enforceall:!1},relaxing:{asi:!0,multistr:!0,debug:!0,boss:!0,evil:!0,globalstrict:!0,plusplus:!0,proto:!0,scripturl:!0,sub:!0,supernew:!0,laxbreak:!0,laxcomma:!0,validthis:!0,withstmt:!0,moz:!0,noyield:!0,eqnull:!0,lastsemic:!0,loopfunc:!0,expr:!0,esnext:!0,elision:!0},environments:{mootools:!0,couch:!0,jasmine:!0,jquery:!0,node:!0,qunit:!0,rhino:!0,shelljs:!0,prototypejs:!0,yui:!0,mocha:!0,module:!0,wsh:!0,worker:!0,nonstandard:!0,browser:!0,browserify:!0,devel:!0,dojo:!0,typed:!0,phantom:!0},obsolete:{onecase:!0,regexp:!0,regexdash:!0}},exports.val={maxlen:!1,indent:!1,maxerr:!1,predef:!1,globals:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1,shadow:!1,strict:!0,unused:!0,latedef:!1,ignore:!1,ignoreDelimiters:!1,esversion:5},exports.inverted={bitwise:!0,forin:!0,newcap:!0,plusplus:!0,regexp:!0,undef:!0,eqeqeq:!0,strict:!0},exports.validNames=Object.keys(exports.val).concat(Object.keys(exports.bool.relaxing)).concat(Object.keys(exports.bool.enforcing)).concat(Object.keys(exports.bool.obsolete)).concat(Object.keys(exports.bool.environments)),exports.renamed={eqeq:"eqeqeq",windows:"wsh",sloppy:"strict"},exports.removed={nomen:!0,onevar:!0,passfail:!0,white:!0,gcl:!0,smarttabs:!0,trailing:!0},exports.noenforceall={varstmt:!0,strict:!0}},{}],"/node_modules/jshint/src/reg.js":[function(_dereq_,module,exports){"use strict";exports.unsafeString=/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i,exports.unsafeChars=/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEsc=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEscGlobal=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,exports.starSlash=/\\*\\//,exports.identifier=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,exports.javascriptURL=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i,exports.fallsThrough=/^\\s*falls?\\sthrough\\s*$/,exports.maxlenException=/^(?:(?:\\/\\/|\\/\\*|\\*) ?)?[^ ]+$/},{}],"/node_modules/jshint/src/scope-manager.js":[function(_dereq_,module){"use strict";var _=_dereq_("../lodash"),events=_dereq_("events"),marker={},scopeManager=function(state,predefined,exported,declared){function _newScope(type){_current={"(labels)":Object.create(null),"(usages)":Object.create(null),"(breakLabels)":Object.create(null),"(parent)":_current,"(type)":type,"(params)":"functionparams"===type||"catchparams"===type?[]:null},_scopeStack.push(_current)}function warning(code,token){emitter.emit("warning",{code:code,token:token,data:_.slice(arguments,2)})}function error(code,token){emitter.emit("warning",{code:code,token:token,data:_.slice(arguments,2)})}function _setupUsages(labelName){_current["(usages)"][labelName]||(_current["(usages)"][labelName]={"(modified)":[],"(reassigned)":[],"(tokens)":[]})}function _checkForUnused(){if("functionparams"===_current["(type)"])return _checkParams(),void 0;var curentLabels=_current["(labels)"];for(var labelName in curentLabels)curentLabels[labelName]&&"exception"!==curentLabels[labelName]["(type)"]&&curentLabels[labelName]["(unused)"]&&_warnUnused(labelName,curentLabels[labelName]["(token)"],"var")}function _checkParams(){var params=_current["(params)"];if(params)for(var unused_opt,param=params.pop();param;){var label=_current["(labels)"][param];if(unused_opt=_getUnusedOption(state.funct["(unusedOption)"]),"undefined"===param)return;if(label["(unused)"])_warnUnused(param,label["(token)"],"param",state.funct["(unusedOption)"]);else if("last-param"===unused_opt)return;param=params.pop()}}function _getLabel(labelName){for(var i=_scopeStack.length-1;i>=0;--i){var scopeLabels=_scopeStack[i]["(labels)"];if(scopeLabels[labelName])return scopeLabels}}function usedSoFarInCurrentFunction(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current["(usages)"][labelName])return current["(usages)"][labelName];if(current===_currentFunctBody)break}return!1}function _checkOuterShadow(labelName,token){if("outer"===state.option.shadow)for(var isGlobal="global"===_currentFunctBody["(type)"],isNewFunction="functionparams"===_current["(type)"],outsideCurrentFunction=!isGlobal,i=0;_scopeStack.length>i;i++){var stackItem=_scopeStack[i];isNewFunction||_scopeStack[i+1]!==_currentFunctBody||(outsideCurrentFunction=!1),outsideCurrentFunction&&stackItem["(labels)"][labelName]&&warning("W123",token,labelName),stackItem["(breakLabels)"][labelName]&&warning("W123",token,labelName)}}function _latedefWarning(type,labelName,token){state.option.latedef&&(state.option.latedef===!0&&"function"===type||"function"!==type)&&warning("W003",token,labelName)}var _current,_scopeStack=[];_newScope("global"),_current["(predefined)"]=predefined;var _currentFunctBody=_current,usedPredefinedAndGlobals=Object.create(null),impliedGlobals=Object.create(null),unuseds=[],emitter=new events.EventEmitter,_getUnusedOption=function(unused_opt){return void 0===unused_opt&&(unused_opt=state.option.unused),unused_opt===!0&&(unused_opt="last-param"),unused_opt},_warnUnused=function(name,tkn,type,unused_opt){var line=tkn.line,chr=tkn.from,raw_name=tkn.raw_text||name;unused_opt=_getUnusedOption(unused_opt);var warnable_types={vars:["var"],"last-param":["var","param"],strict:["var","param","last-param"]};unused_opt&&warnable_types[unused_opt]&&-1!==warnable_types[unused_opt].indexOf(type)&&warning("W098",{line:line,from:chr},raw_name),(unused_opt||"var"===type)&&unuseds.push({name:name,line:line,character:chr})},scopeManagerInst={on:function(names,listener){names.split(" ").forEach(function(name){emitter.on(name,listener)})},isPredefined:function(labelName){return!this.has(labelName)&&_.has(_scopeStack[0]["(predefined)"],labelName)},stack:function(type){var previousScope=_current;_newScope(type),type||"functionparams"!==previousScope["(type)"]||(_current["(isFuncBody)"]=!0,_current["(context)"]=_currentFunctBody,_currentFunctBody=_current)},unstack:function(){var i,j,subScope=_scopeStack.length>1?_scopeStack[_scopeStack.length-2]:null,isUnstackingFunctionBody=_current===_currentFunctBody,isUnstackingFunctionParams="functionparams"===_current["(type)"],isUnstackingFunctionOuter="functionouter"===_current["(type)"],currentUsages=_current["(usages)"],currentLabels=_current["(labels)"],usedLabelNameList=Object.keys(currentUsages);for(currentUsages.__proto__&&-1===usedLabelNameList.indexOf("__proto__")&&usedLabelNameList.push("__proto__"),i=0;usedLabelNameList.length>i;i++){var usedLabelName=usedLabelNameList[i],usage=currentUsages[usedLabelName],usedLabel=currentLabels[usedLabelName];if(usedLabel){var usedLabelType=usedLabel["(type)"];if(usedLabel["(useOutsideOfScope)"]&&!state.option.funcscope){var usedTokens=usage["(tokens)"];if(usedTokens)for(j=0;usedTokens.length>j;j++)usedLabel["(function)"]===usedTokens[j]["(function)"]&&error("W038",usedTokens[j],usedLabelName)}if(_current["(labels)"][usedLabelName]["(unused)"]=!1,"const"===usedLabelType&&usage["(modified)"])for(j=0;usage["(modified)"].length>j;j++)error("E013",usage["(modified)"][j],usedLabelName);if(("function"===usedLabelType||"class"===usedLabelType)&&usage["(reassigned)"])for(j=0;usage["(reassigned)"].length>j;j++)error("W021",usage["(reassigned)"][j],usedLabelName,usedLabelType)}else if(isUnstackingFunctionOuter&&(state.funct["(isCapturing)"]=!0),subScope)if(subScope["(usages)"][usedLabelName]){var subScopeUsage=subScope["(usages)"][usedLabelName];subScopeUsage["(modified)"]=subScopeUsage["(modified)"].concat(usage["(modified)"]),subScopeUsage["(tokens)"]=subScopeUsage["(tokens)"].concat(usage["(tokens)"]),subScopeUsage["(reassigned)"]=subScopeUsage["(reassigned)"].concat(usage["(reassigned)"]),subScopeUsage["(onlyUsedSubFunction)"]=!1}else subScope["(usages)"][usedLabelName]=usage,isUnstackingFunctionBody&&(subScope["(usages)"][usedLabelName]["(onlyUsedSubFunction)"]=!0);else if("boolean"==typeof _current["(predefined)"][usedLabelName]){if(delete declared[usedLabelName],usedPredefinedAndGlobals[usedLabelName]=marker,_current["(predefined)"][usedLabelName]===!1&&usage["(reassigned)"])for(j=0;usage["(reassigned)"].length>j;j++)warning("W020",usage["(reassigned)"][j])}else if(usage["(tokens)"])for(j=0;usage["(tokens)"].length>j;j++){var undefinedToken=usage["(tokens)"][j];undefinedToken.forgiveUndef||(state.option.undef&&!undefinedToken.ignoreUndef&&warning("W117",undefinedToken,usedLabelName),impliedGlobals[usedLabelName]?impliedGlobals[usedLabelName].line.push(undefinedToken.line):impliedGlobals[usedLabelName]={name:usedLabelName,line:[undefinedToken.line]})}}if(subScope||Object.keys(declared).forEach(function(labelNotUsed){_warnUnused(labelNotUsed,declared[labelNotUsed],"var")}),subScope&&!isUnstackingFunctionBody&&!isUnstackingFunctionParams&&!isUnstackingFunctionOuter){var labelNames=Object.keys(currentLabels);for(i=0;labelNames.length>i;i++){var defLabelName=labelNames[i];currentLabels[defLabelName]["(blockscoped)"]||"exception"===currentLabels[defLabelName]["(type)"]||this.funct.has(defLabelName,{excludeCurrent:!0})||(subScope["(labels)"][defLabelName]=currentLabels[defLabelName],"global"!==_currentFunctBody["(type)"]&&(subScope["(labels)"][defLabelName]["(useOutsideOfScope)"]=!0),delete currentLabels[defLabelName])}}_checkForUnused(),_scopeStack.pop(),isUnstackingFunctionBody&&(_currentFunctBody=_scopeStack[_.findLastIndex(_scopeStack,function(scope){return scope["(isFuncBody)"]||"global"===scope["(type)"]})]),_current=subScope},addParam:function(labelName,token,type){if(type=type||"param","exception"===type){var previouslyDefinedLabelType=this.funct.labeltype(labelName);previouslyDefinedLabelType&&"exception"!==previouslyDefinedLabelType&&(state.option.node||warning("W002",state.tokens.next,labelName))}if(_.has(_current["(labels)"],labelName)?_current["(labels)"][labelName].duplicated=!0:(_checkOuterShadow(labelName,token,type),_current["(labels)"][labelName]={"(type)":type,"(token)":token,"(unused)":!0},_current["(params)"].push(labelName)),_.has(_current["(usages)"],labelName)){var usage=_current["(usages)"][labelName];usage["(onlyUsedSubFunction)"]?_latedefWarning(type,labelName,token):warning("E056",token,labelName,type)}},validateParams:function(){if("global"!==_currentFunctBody["(type)"]){var isStrict=state.isStrict(),currentFunctParamScope=_currentFunctBody["(parent)"];currentFunctParamScope["(params)"]&&currentFunctParamScope["(params)"].forEach(function(labelName){var label=currentFunctParamScope["(labels)"][labelName];label&&label.duplicated&&(isStrict?warning("E011",label["(token)"],labelName):state.option.shadow!==!0&&warning("W004",label["(token)"],labelName))})}},getUsedOrDefinedGlobals:function(){var list=Object.keys(usedPredefinedAndGlobals);return usedPredefinedAndGlobals.__proto__===marker&&-1===list.indexOf("__proto__")&&list.push("__proto__"),list},getImpliedGlobals:function(){var values=_.values(impliedGlobals),hasProto=!1;return impliedGlobals.__proto__&&(hasProto=values.some(function(value){return"__proto__"===value.name}),hasProto||values.push(impliedGlobals.__proto__)),values},getUnuseds:function(){return unuseds},has:function(labelName){return Boolean(_getLabel(labelName))},labeltype:function(labelName){var scopeLabels=_getLabel(labelName);return scopeLabels?scopeLabels[labelName]["(type)"]:null},addExported:function(labelName){var globalLabels=_scopeStack[0]["(labels)"];if(_.has(declared,labelName))delete declared[labelName];else if(_.has(globalLabels,labelName))globalLabels[labelName]["(unused)"]=!1;else{for(var i=1;_scopeStack.length>i;i++){var scope=_scopeStack[i];if(scope["(type)"])break;if(_.has(scope["(labels)"],labelName)&&!scope["(labels)"][labelName]["(blockscoped)"])return scope["(labels)"][labelName]["(unused)"]=!1,void 0}exported[labelName]=!0}},setExported:function(labelName,token){this.block.use(labelName,token)\n},addlabel:function(labelName,opts){var type=opts.type,token=opts.token,isblockscoped="let"===type||"const"===type||"class"===type,isexported="global"===(isblockscoped?_current:_currentFunctBody)["(type)"]&&_.has(exported,labelName);if(_checkOuterShadow(labelName,token,type),isblockscoped){var declaredInCurrentScope=_current["(labels)"][labelName];if(declaredInCurrentScope||_current!==_currentFunctBody||"global"===_current["(type)"]||(declaredInCurrentScope=!!_currentFunctBody["(parent)"]["(labels)"][labelName]),!declaredInCurrentScope&&_current["(usages)"][labelName]){var usage=_current["(usages)"][labelName];usage["(onlyUsedSubFunction)"]?_latedefWarning(type,labelName,token):warning("E056",token,labelName,type)}declaredInCurrentScope?warning("E011",token,labelName):"outer"===state.option.shadow&&scopeManagerInst.funct.has(labelName)&&warning("W004",token,labelName),scopeManagerInst.block.add(labelName,type,token,!isexported)}else{var declaredInCurrentFunctionScope=scopeManagerInst.funct.has(labelName);!declaredInCurrentFunctionScope&&usedSoFarInCurrentFunction(labelName)&&_latedefWarning(type,labelName,token),scopeManagerInst.funct.has(labelName,{onlyBlockscoped:!0})?warning("E011",token,labelName):state.option.shadow!==!0&&declaredInCurrentFunctionScope&&"__proto__"!==labelName&&"global"!==_currentFunctBody["(type)"]&&warning("W004",token,labelName),scopeManagerInst.funct.add(labelName,type,token,!isexported),"global"===_currentFunctBody["(type)"]&&(usedPredefinedAndGlobals[labelName]=marker)}},funct:{labeltype:function(labelName,options){for(var onlyBlockscoped=options&&options.onlyBlockscoped,excludeParams=options&&options.excludeParams,currentScopeIndex=_scopeStack.length-(options&&options.excludeCurrent?2:1),i=currentScopeIndex;i>=0;i--){var current=_scopeStack[i];if(current["(labels)"][labelName]&&(!onlyBlockscoped||current["(labels)"][labelName]["(blockscoped)"]))return current["(labels)"][labelName]["(type)"];var scopeCheck=excludeParams?_scopeStack[i-1]:current;if(scopeCheck&&"functionparams"===scopeCheck["(type)"])return null}return null},hasBreakLabel:function(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current["(breakLabels)"][labelName])return!0;if("functionparams"===current["(type)"])return!1}return!1},has:function(labelName,options){return Boolean(this.labeltype(labelName,options))},add:function(labelName,type,tok,unused){_current["(labels)"][labelName]={"(type)":type,"(token)":tok,"(blockscoped)":!1,"(function)":_currentFunctBody,"(unused)":unused}}},block:{isGlobal:function(){return"global"===_current["(type)"]},use:function(labelName,token){var paramScope=_currentFunctBody["(parent)"];paramScope&&paramScope["(labels)"][labelName]&&"param"===paramScope["(labels)"][labelName]["(type)"]&&(scopeManagerInst.funct.has(labelName,{excludeParams:!0,onlyBlockscoped:!0})||(paramScope["(labels)"][labelName]["(unused)"]=!1)),token&&(state.ignored.W117||state.option.undef===!1)&&(token.ignoreUndef=!0),_setupUsages(labelName),token&&(token["(function)"]=_currentFunctBody,_current["(usages)"][labelName]["(tokens)"].push(token))},reassign:function(labelName,token){this.modify(labelName,token),_current["(usages)"][labelName]["(reassigned)"].push(token)},modify:function(labelName,token){_setupUsages(labelName),_current["(usages)"][labelName]["(modified)"].push(token)},add:function(labelName,type,tok,unused){_current["(labels)"][labelName]={"(type)":type,"(token)":tok,"(blockscoped)":!0,"(unused)":unused}},addBreakLabel:function(labelName,opts){var token=opts.token;scopeManagerInst.funct.hasBreakLabel(labelName)?warning("E011",token,labelName):"outer"===state.option.shadow&&(scopeManagerInst.funct.has(labelName)?warning("W004",token,labelName):_checkOuterShadow(labelName,token)),_current["(breakLabels)"][labelName]=token}}};return scopeManagerInst};module.exports=scopeManager},{"../lodash":"/node_modules/jshint/lodash.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/state.js":[function(_dereq_,module,exports){"use strict";var NameStack=_dereq_("./name-stack.js"),state={syntax:{},isStrict:function(){return this.directive["use strict"]||this.inClassBody||this.option.module||"implied"===this.option.strict},inMoz:function(){return this.option.moz},inES6:function(){return this.option.moz||this.option.esversion>=6},inES5:function(strict){return strict?!(this.option.esversion&&5!==this.option.esversion||this.option.moz):!this.option.esversion||this.option.esversion>=5||this.option.moz},reset:function(){this.tokens={prev:null,next:null,curr:null},this.option={},this.funct=null,this.ignored={},this.directive={},this.jsonMode=!1,this.jsonWarnings=[],this.lines=[],this.tab="",this.cache={},this.ignoredLines={},this.forinifcheckneeded=!1,this.nameStack=new NameStack,this.inClassBody=!1}};exports.state=state},{"./name-stack.js":"/node_modules/jshint/src/name-stack.js"}],"/node_modules/jshint/src/style.js":[function(_dereq_,module,exports){"use strict";exports.register=function(linter){linter.on("Identifier",function(data){linter.getOption("proto")||"__proto__"===data.name&&linter.warn("W103",{line:data.line,"char":data.char,data:[data.name,"6"]})}),linter.on("Identifier",function(data){linter.getOption("iterator")||"__iterator__"===data.name&&linter.warn("W103",{line:data.line,"char":data.char,data:[data.name]})}),linter.on("Identifier",function(data){linter.getOption("camelcase")&&data.name.replace(/^_+|_+$/g,"").indexOf("_")>-1&&!data.name.match(/^[A-Z0-9_]*$/)&&linter.warn("W106",{line:data.line,"char":data.from,data:[data.name]})}),linter.on("String",function(data){var code,quotmark=linter.getOption("quotmark");quotmark&&("single"===quotmark&&"\'"!==data.quote&&(code="W109"),"double"===quotmark&&\'"\'!==data.quote&&(code="W108"),quotmark===!0&&(linter.getCache("quotmark")||linter.setCache("quotmark",data.quote),linter.getCache("quotmark")!==data.quote&&(code="W110")),code&&linter.warn(code,{line:data.line,"char":data.char}))}),linter.on("Number",function(data){"."===data.value.charAt(0)&&linter.warn("W008",{line:data.line,"char":data.char,data:[data.value]}),"."===data.value.substr(data.value.length-1)&&linter.warn("W047",{line:data.line,"char":data.char,data:[data.value]}),/^00+/.test(data.value)&&linter.warn("W046",{line:data.line,"char":data.char,data:[data.value]})}),linter.on("String",function(data){var re=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i;linter.getOption("scripturl")||re.test(data.value)&&linter.warn("W107",{line:data.line,"char":data.char})})}},{}],"/node_modules/jshint/src/vars.js":[function(_dereq_,module,exports){"use strict";exports.reservedVars={arguments:!1,NaN:!1},exports.ecmaIdentifiers={3:{Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},5:{JSON:!1},6:{Map:!1,Promise:!1,Proxy:!1,Reflect:!1,Set:!1,Symbol:!1,WeakMap:!1,WeakSet:!1}},exports.browser={Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,cancelAnimationFrame:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,CSS:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,Comment:!1,CustomEvent:!1,DOMParser:!1,defaultStatus:!1,Document:!1,document:!1,DocumentFragment:!1,Element:!1,ElementTimeControl:!1,Event:!1,event:!1,fetch:!1,FileReader:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLCollection:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTemplateElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Image:!1,Intl:!1,length:!1,localStorage:!1,location:!1,matchMedia:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,NodeList:!1,Notification:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,performance:!1,print:!1,Range:!1,requestAnimationFrame:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,SVGAElement:!1,SVGAltGlyphDefElement:!1,SVGAltGlyphElement:!1,SVGAltGlyphItemElement:!1,SVGAngle:!1,SVGAnimateColorElement:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPathData:!1,SVGAnimatedPoints:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimationElement:!1,SVGCSSRule:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGColor:!1,SVGColorProfileElement:!1,SVGColorProfileRule:!1,SVGComponentTransferFunctionElement:!1,SVGCursorElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDocument:!1,SVGElement:!1,SVGElementInstance:!1,SVGElementInstanceList:!1,SVGEllipseElement:!1,SVGExternalResourcesRequired:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGFilterPrimitiveStandardAttributes:!1,SVGFitToViewBox:!1,SVGFontElement:!1,SVGFontFaceElement:!1,SVGFontFaceFormatElement:!1,SVGFontFaceNameElement:!1,SVGFontFaceSrcElement:!1,SVGFontFaceUriElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGlyphElement:!1,SVGGlyphRefElement:!1,SVGGradientElement:!1,SVGHKernElement:!1,SVGICCColor:!1,SVGImageElement:!1,SVGLangSpace:!1,SVGLength:!1,SVGLengthList:!1,SVGLineElement:!1,SVGLinearGradientElement:!1,SVGLocatable:!1,SVGMPathElement:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMissingGlyphElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPaint:!1,SVGPathElement:!1,SVGPathSeg:!1,SVGPathSegArcAbs:!1,SVGPathSegArcRel:!1,SVGPathSegClosePath:!1,SVGPathSegCurvetoCubicAbs:!1,SVGPathSegCurvetoCubicRel:!1,SVGPathSegCurvetoCubicSmoothAbs:!1,SVGPathSegCurvetoCubicSmoothRel:!1,SVGPathSegCurvetoQuadraticAbs:!1,SVGPathSegCurvetoQuadraticRel:!1,SVGPathSegCurvetoQuadraticSmoothAbs:!1,SVGPathSegCurvetoQuadraticSmoothRel:!1,SVGPathSegLinetoAbs:!1,SVGPathSegLinetoHorizontalAbs:!1,SVGPathSegLinetoHorizontalRel:!1,SVGPathSegLinetoRel:!1,SVGPathSegLinetoVerticalAbs:!1,SVGPathSegLinetoVerticalRel:!1,SVGPathSegList:!1,SVGPathSegMovetoAbs:!1,SVGPathSegMovetoRel:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGRenderingIntent:!1,SVGSVGElement:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStylable:!1,SVGStyleElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTRefElement:!1,SVGTSpanElement:!1,SVGTests:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformList:!1,SVGTransformable:!1,SVGURIReference:!1,SVGUnitTypes:!1,SVGUseElement:!1,SVGVKernElement:!1,SVGViewElement:!1,SVGViewSpec:!1,SVGZoomAndPan:!1,Text:!1,TextDecoder:!1,TextEncoder:!1,TimeEvent:!1,top:!1,URL:!1,WebGLActiveInfo:!1,WebGLBuffer:!1,WebGLContextEvent:!1,WebGLFramebuffer:!1,WebGLProgram:!1,WebGLRenderbuffer:!1,WebGLRenderingContext:!1,WebGLShader:!1,WebGLShaderPrecisionFormat:!1,WebGLTexture:!1,WebGLUniformLocation:!1,WebSocket:!1,window:!1,Window:!1,Worker:!1,XDomainRequest:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},exports.devel={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},exports.worker={importScripts:!0,postMessage:!0,self:!0,FileReaderSync:!0},exports.nonstandard={escape:!1,unescape:!1},exports.couch={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},exports.node={__filename:!1,__dirname:!1,GLOBAL:!1,global:!1,module:!1,acequire:!1,Buffer:!0,console:!0,exports:!0,process:!0,setTimeout:!0,clearTimeout:!0,setInterval:!0,clearInterval:!0,setImmediate:!0,clearImmediate:!0},exports.browserify={__filename:!1,__dirname:!1,global:!1,module:!1,acequire:!1,Buffer:!0,exports:!0,process:!0},exports.phantom={phantom:!0,acequire:!0,WebPage:!0,console:!0,exports:!0},exports.qunit={asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,"throws":!1},exports.rhino={defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},exports.shelljs={target:!1,echo:!1,exit:!1,cd:!1,pwd:!1,ls:!1,find:!1,cp:!1,rm:!1,mv:!1,mkdir:!1,test:!1,cat:!1,sed:!1,grep:!1,which:!1,dirs:!1,pushd:!1,popd:!1,env:!1,exec:!1,chmod:!1,config:!1,error:!1,tempdir:!1},exports.typed={ArrayBuffer:!1,ArrayBufferView:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1},exports.wsh={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},exports.dojo={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},exports.jquery={$:!1,jQuery:!1},exports.mootools={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,IFrame:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},exports.prototypejs={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},exports.yui={YUI:!1,Y:!1,YUI_config:!1},exports.mocha={mocha:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,context:!1,xcontext:!1,before:!1,after:!1,beforeEach:!1,afterEach:!1,suite:!1,test:!1,setup:!1,teardown:!1,suiteSetup:!1,suiteTeardown:!1},exports.jasmine={jasmine:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,beforeEach:!1,afterEach:!1,setFixtures:!1,loadFixtures:!1,spyOn:!1,expect:!1,runs:!1,waitsFor:!1,waits:!1,beforeAll:!1,afterAll:!1,fail:!1,fdescribe:!1,fit:!1,pending:!1}},{}]},{},["/node_modules/jshint/src/jshint.js"])}),ace.define("ace/mode/javascript_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/javascript/jshint"],function(acequire,exports,module){"use strict";function startRegex(arr){return RegExp("^("+arr.join("|")+")")}var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,lint=acequire("./javascript/jshint").JSHINT,disabledWarningsRe=startRegex(["Bad for in variable \'(.+)\'.",\'Missing "use strict"\']),errorsRe=startRegex(["Unexpected","Expected ","Confusing (plus|minus)","\\\\{a\\\\} unterminated regular expression","Unclosed ","Unmatched ","Unbegun comment","Bad invocation","Missing space after","Missing operator at"]),infoRe=startRegex(["Expected an assignment","Bad escapement of EOL","Unexpected comma","Unexpected space","Missing radix parameter.","A leading decimal point can","\\\\[\'{a}\'\\\\] is better written in dot notation.","\'{a}\' used out of scope"]),JavaScriptWorker=exports.JavaScriptWorker=function(sender){Mirror.call(this,sender),this.setTimeout(500),this.setOptions()};oop.inherits(JavaScriptWorker,Mirror),function(){this.setOptions=function(options){this.options=options||{esnext:!0,moz:!0,devel:!0,browser:!0,node:!0,laxcomma:!0,laxbreak:!0,lastsemic:!0,onevar:!1,passfail:!1,maxerr:100,expr:!0,multistr:!0,globalstrict:!0},this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.changeOptions=function(newOptions){oop.mixin(this.options,newOptions),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.isValidJS=function(str){try{eval("throw 0;"+str)}catch(e){if(0===e)return!0}return!1},this.onUpdate=function(){var value=this.doc.getValue();if(value=value.replace(/^#!.*\\n/,"\\n"),!value)return this.sender.emit("annotate",[]);var errors=[],maxErrorLevel=this.isValidJS(value)?"warning":"error";lint(value,this.options);for(var results=lint.errors,errorAdded=!1,i=0;results.length>i;i++){var error=results[i];if(error){var raw=error.raw,type="warning";if("Missing semicolon."==raw){var str=error.evidence.substr(error.character);str=str.charAt(str.search(/\\S/)),"error"==maxErrorLevel&&str&&/[\\w\\d{([\'"]/.test(str)?(error.reason=\'Missing ";" before statement\',type="error"):type="info"}else{if(disabledWarningsRe.test(raw))continue;infoRe.test(raw)?type="info":errorsRe.test(raw)?(errorAdded=!0,type=maxErrorLevel):"\'{a}\' is not defined."==raw?type="warning":"\'{a}\' is defined but never used."==raw&&(type="info")}errors.push({row:error.line-1,column:error.character-1,text:error.reason,type:type,raw:raw})}}this.sender.emit("annotate",errors)}}.call(JavaScriptWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="	\\n\x0B\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},function(e,t){e.exports.id="ace/mode/xml_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}var cons=obj.constructor;if(cons===RegExp)return obj;copy=cons();for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/xml/sax",["require","exports","module"],function(){function XMLReader(){}function parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){function fixedFromCharCode(code){if(code>65535){code-=65536;var surrogate1=55296+(code>>10),surrogate2=56320+(1023&code);return String.fromCharCode(surrogate1,surrogate2)}return String.fromCharCode(code)}function entityReplacer(a){var k=a.slice(1,-1);return k in entityMap?entityMap[k]:"#"===k.charAt(0)?fixedFromCharCode(parseInt(k.substr(1).replace("x","0x"))):(errorHandler.error("entity not found:"+a),a)}function appendText(end){var xt=source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);locator&&position(start),domBuilder.characters(xt,0,end-start),start=end}function position(start,m){for(;start>=endPos&&(m=linePattern.exec(source));)startPos=m.index,endPos=startPos+m[0].length,locator.lineNumber++;locator.columnNumber=start-startPos+1}for(var startPos=0,endPos=0,linePattern=/.+(?:\\r\\n?|\\n)|.*$/g,locator=domBuilder.locator,parseStack=[{currentNSMap:defaultNSMapCopy}],closeMap={},start=0;;){var i=source.indexOf("<",start);if(0>i){if(!source.substr(start).match(/^\\s*$/)){var doc=domBuilder.document,text=doc.createTextNode(source.substr(start));doc.appendChild(text),domBuilder.currentElement=text}return}switch(i>start&&appendText(i),source.charAt(i+1)){case"/":var config,end=source.indexOf(">",i+3),tagName=source.substring(i+2,end);if(!(parseStack.length>1)){errorHandler.fatalError("end tag name not found for: "+tagName);break}config=parseStack.pop();var localNSMap=config.localNSMap;if(config.tagName!=tagName&&errorHandler.fatalError("end tag name: "+tagName+" does not match the current start tagName: "+config.tagName),domBuilder.endElement(config.uri,config.localName,tagName),localNSMap)for(var prefix in localNSMap)domBuilder.endPrefixMapping(prefix);end++;break;case"?":locator&&position(i),end=parseInstruction(source,i,domBuilder);break;case"!":locator&&position(i),end=parseDCC(source,i,domBuilder,errorHandler);break;default:try{locator&&position(i);var el=new ElementAttributes,end=parseElementStartPart(source,i,el,entityReplacer,errorHandler),len=el.length;if(len&&locator){for(var backup=copyLocator(locator,{}),i=0;len>i;i++){var a=el[i];position(a.offset),a.offset=copyLocator(locator,{})}copyLocator(backup,locator)}!el.closed&&fixSelfClosed(source,end,el.tagName,closeMap)&&(el.closed=!0,entityMap.nbsp||errorHandler.warning("unclosed xml attribute")),appendElement(el,domBuilder,parseStack),"http://www.w3.org/1999/xhtml"!==el.uri||el.closed?end++:end=parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)}catch(e){errorHandler.error("element parse error: "+e),end=-1}}0>end?appendText(i+1):start=end}}function copyLocator(f,t){return t.lineNumber=f.lineNumber,t.columnNumber=f.columnNumber,t}function parseElementStartPart(source,start,el,entityReplacer,errorHandler){for(var attrName,value,p=++start,s=S_TAG;;){var c=source.charAt(p);switch(c){case"=":if(s===S_ATTR)attrName=source.slice(start,p),s=S_EQ;else{if(s!==S_ATTR_S)throw Error("attribute equal must after attrName");s=S_EQ}break;case"\'":case\'"\':if(s===S_EQ){if(start=p+1,p=source.indexOf(c,start),!(p>0))throw Error("attribute value no end \'"+c+"\' match");value=source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer),el.add(attrName,value,start-1),s=S_E}else{if(s!=S_V)throw Error(\'attribute value must after "="\');value=source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer),el.add(attrName,value,start),errorHandler.warning(\'attribute "\'+attrName+\'" missed start quot(\'+c+")!!"),start=p+1,s=S_E}break;case"/":switch(s){case S_TAG:el.setTagName(source.slice(start,p));case S_E:case S_S:case S_C:s=S_C,el.closed=!0;case S_V:case S_ATTR:case S_ATTR_S:break;default:throw Error("attribute invalid close char(\'/\')")}break;case"":errorHandler.error("unexpected end of input");case">":switch(s){case S_TAG:el.setTagName(source.slice(start,p));case S_E:case S_S:case S_C:break;case S_V:case S_ATTR:value=source.slice(start,p),"/"===value.slice(-1)&&(el.closed=!0,value=value.slice(0,-1));case S_ATTR_S:s===S_ATTR_S&&(value=attrName),s==S_V?(errorHandler.warning(\'attribute "\'+value+\'" missed quot(")!!\'),el.add(attrName,value.replace(/&#?\\w+;/g,entityReplacer),start)):(errorHandler.warning(\'attribute "\'+value+\'" missed value!! "\'+value+\'" instead!!\'),el.add(value,value,start));break;case S_EQ:throw Error("attribute value missed!!")}return p;case"":c=" ";default:if(" ">=c)switch(s){case S_TAG:el.setTagName(source.slice(start,p)),s=S_S;break;case S_ATTR:attrName=source.slice(start,p),s=S_ATTR_S;break;case S_V:var value=source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);errorHandler.warning(\'attribute "\'+value+\'" missed quot(")!!\'),el.add(attrName,value,start);case S_E:s=S_S}else switch(s){case S_ATTR_S:errorHandler.warning(\'attribute "\'+attrName+\'" missed value!! "\'+attrName+\'" instead!!\'),el.add(attrName,attrName,start),start=p,s=S_ATTR;\nbreak;case S_E:errorHandler.warning(\'attribute space is acequired"\'+attrName+\'"!!\');case S_S:s=S_ATTR,start=p;break;case S_EQ:s=S_V,start=p;break;case S_C:throw Error("elements closed character \'/\' and \'>\' must be connected to")}}p++}}function appendElement(el,domBuilder,parseStack){for(var tagName=el.tagName,localNSMap=null,currentNSMap=parseStack[parseStack.length-1].currentNSMap,i=el.length;i--;){var a=el[i],qName=a.qName,value=a.value,nsp=qName.indexOf(":");if(nsp>0)var prefix=a.prefix=qName.slice(0,nsp),localName=qName.slice(nsp+1),nsPrefix="xmlns"===prefix&&localName;else localName=qName,prefix=null,nsPrefix="xmlns"===qName&&"";a.localName=localName,nsPrefix!==!1&&(null==localNSMap&&(localNSMap={},_copy(currentNSMap,currentNSMap={})),currentNSMap[nsPrefix]=localNSMap[nsPrefix]=value,a.uri="http://www.w3.org/2000/xmlns/",domBuilder.startPrefixMapping(nsPrefix,value))}for(var i=el.length;i--;){a=el[i];var prefix=a.prefix;prefix&&("xml"===prefix&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==prefix&&(a.uri=currentNSMap[prefix]))}var nsp=tagName.indexOf(":");nsp>0?(prefix=el.prefix=tagName.slice(0,nsp),localName=el.localName=tagName.slice(nsp+1)):(prefix=null,localName=el.localName=tagName);var ns=el.uri=currentNSMap[prefix||""];if(domBuilder.startElement(ns,localName,tagName,el),el.closed){if(domBuilder.endElement(ns,localName,tagName),localNSMap)for(prefix in localNSMap)domBuilder.endPrefixMapping(prefix)}else el.currentNSMap=currentNSMap,el.localNSMap=localNSMap,parseStack.push(el)}function parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){if(/^(?:script|textarea)$/i.test(tagName)){var elEndStart=source.indexOf("</"+tagName+">",elStartEnd),text=source.substring(elStartEnd+1,elEndStart);if(/[&<]/.test(text))return/^script$/i.test(tagName)?(domBuilder.characters(text,0,text.length),elEndStart):(text=text.replace(/&#?\\w+;/g,entityReplacer),domBuilder.characters(text,0,text.length),elEndStart)}return elStartEnd+1}function fixSelfClosed(source,elStartEnd,tagName,closeMap){var pos=closeMap[tagName];return null==pos&&(pos=closeMap[tagName]=source.lastIndexOf("</"+tagName+">")),elStartEnd>pos}function _copy(source,target){for(var n in source)target[n]=source[n]}function parseDCC(source,start,domBuilder,errorHandler){var next=source.charAt(start+2);switch(next){case"-":if("-"===source.charAt(start+3)){var end=source.indexOf("-->",start+4);return end>start?(domBuilder.comment(source,start+4,end-start-4),end+3):(errorHandler.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==source.substr(start+3,6)){var end=source.indexOf("]]>",start+9);return domBuilder.startCDATA(),domBuilder.characters(source,start+9,end-start-9),domBuilder.endCDATA(),end+3}var matchs=split(source,start),len=matchs.length;if(len>1&&/!doctype/i.test(matchs[0][0])){var name=matchs[1][0],pubid=len>3&&/^public$/i.test(matchs[2][0])&&matchs[3][0],sysid=len>4&&matchs[4][0],lastMatch=matchs[len-1];return domBuilder.startDTD(name,pubid&&pubid.replace(/^([\'"])(.*?)\\1$/,"$2"),sysid&&sysid.replace(/^([\'"])(.*?)\\1$/,"$2")),domBuilder.endDTD(),lastMatch.index+lastMatch[0].length}}return-1}function parseInstruction(source,start,domBuilder){var end=source.indexOf("?>",start);if(end){var match=source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);return match?(match[0].length,domBuilder.processingInstruction(match[1],match[2]),end+2):-1}return-1}function ElementAttributes(){}function _set_proto_(thiz,parent){return thiz.__proto__=parent,thiz}function split(source,start){var match,buf=[],reg=/\'[^\']+\'|"[^"]+"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;for(reg.lastIndex=start,reg.exec(source);match=reg.exec(source);)if(buf.push(match),match[1])return buf}var nameStartChar=/[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/,nameChar=RegExp("[\\\\-\\\\.0-9"+nameStartChar.source.slice(1,-1)+"·̀-ͯ\\\\ux203F-⁀]"),tagNamePattern=RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_S=2,S_EQ=3,S_V=4,S_E=5,S_S=6,S_C=7;return XMLReader.prototype={parse:function(source,defaultNSMap,entityMap){var domBuilder=this.domBuilder;domBuilder.startDocument(),_copy(defaultNSMap,defaultNSMap={}),parse(source,defaultNSMap,entityMap,domBuilder,this.errorHandler),domBuilder.endDocument()}},ElementAttributes.prototype={setTagName:function(tagName){if(!tagNamePattern.test(tagName))throw Error("invalid tagName:"+tagName);this.tagName=tagName},add:function(qName,value,offset){if(!tagNamePattern.test(qName))throw Error("invalid attribute:"+qName);this[this.length++]={qName:qName,value:value,offset:offset}},length:0,getLocalName:function(i){return this[i].localName},getOffset:function(i){return this[i].offset},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}},_set_proto_({},_set_proto_.prototype)instanceof _set_proto_||(_set_proto_=function(thiz,parent){function p(){}p.prototype=parent,p=new p;for(parent in thiz)p[parent]=thiz[parent];return p}),XMLReader}),ace.define("ace/mode/xml/dom",["require","exports","module"],function(){function copy(src,dest){for(var p in src)dest[p]=src[p]}function _extends(Class,Super){function t(){}var pt=Class.prototype;if(Object.create){var ppt=Object.create(Super.prototype);pt.__proto__=ppt}pt instanceof Super||(t.prototype=Super.prototype,t=new t,copy(pt,t),Class.prototype=pt=t),pt.constructor!=Class&&("function"!=typeof Class&&console.error("unknow Class:"+Class),pt.constructor=Class)}function DOMException(code,message){if(message instanceof Error)var error=message;else error=this,Error.call(this,ExceptionMessage[code]),this.message=ExceptionMessage[code],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return error.code=code,message&&(this.message=this.message+": "+message),error}function NodeList(){}function LiveNodeList(node,refresh){this._node=node,this._refresh=refresh,_updateLiveList(this)}function _updateLiveList(list){var inc=list._node._inc||list._node.ownerDocument._inc;if(list._inc!=inc){var ls=list._refresh(list._node);__set__(list,"length",ls.length),copy(ls,list),list._inc=inc}}function NamedNodeMap(){}function _findNodeIndex(list,node){for(var i=list.length;i--;)if(list[i]===node)return i}function _addNamedNode(el,list,newAttr,oldAttr){if(oldAttr?list[_findNodeIndex(list,oldAttr)]=newAttr:list[list.length++]=newAttr,el){newAttr.ownerElement=el;var doc=el.ownerDocument;doc&&(oldAttr&&_onRemoveAttribute(doc,el,oldAttr),_onAddAttribute(doc,el,newAttr))}}function _removeNamedNode(el,list,attr){var i=_findNodeIndex(list,attr);if(!(i>=0))throw DOMException(NOT_FOUND_ERR,Error());for(var lastIndex=list.length-1;lastIndex>i;)list[i]=list[++i];if(list.length=lastIndex,el){var doc=el.ownerDocument;doc&&(_onRemoveAttribute(doc,el,attr),attr.ownerElement=null)}}function DOMImplementation(features){if(this._features={},features)for(var feature in features)this._features=features[feature]}function Node(){}function _xmlEncoder(c){return"<"==c&&"&lt;"||">"==c&&"&gt;"||"&"==c&&"&amp;"||\'"\'==c&&"&quot;"||"&#"+c.charCodeAt()+";"}function _visitNode(node,callback){if(callback(node))return!0;if(node=node.firstChild)do if(_visitNode(node,callback))return!0;while(node=node.nextSibling)}function Document(){}function _onAddAttribute(doc,el,newAttr){doc&&doc._inc++;var ns=newAttr.namespaceURI;"http://www.w3.org/2000/xmlns/"==ns&&(el._nsMap[newAttr.prefix?newAttr.localName:""]=newAttr.value)}function _onRemoveAttribute(doc,el,newAttr){doc&&doc._inc++;var ns=newAttr.namespaceURI;"http://www.w3.org/2000/xmlns/"==ns&&delete el._nsMap[newAttr.prefix?newAttr.localName:""]}function _onUpdateChild(doc,el,newChild){if(doc&&doc._inc){doc._inc++;var cs=el.childNodes;if(newChild)cs[cs.length++]=newChild;else{for(var child=el.firstChild,i=0;child;)cs[i++]=child,child=child.nextSibling;cs.length=i}}}function _removeChild(parentNode,child){var previous=child.previousSibling,next=child.nextSibling;return previous?previous.nextSibling=next:parentNode.firstChild=next,next?next.previousSibling=previous:parentNode.lastChild=previous,_onUpdateChild(parentNode.ownerDocument,parentNode),child}function _insertBefore(parentNode,newChild,nextChild){var cp=newChild.parentNode;if(cp&&cp.removeChild(newChild),newChild.nodeType===DOCUMENT_FRAGMENT_NODE){var newFirst=newChild.firstChild;if(null==newFirst)return newChild;var newLast=newChild.lastChild}else newFirst=newLast=newChild;var pre=nextChild?nextChild.previousSibling:parentNode.lastChild;newFirst.previousSibling=pre,newLast.nextSibling=nextChild,pre?pre.nextSibling=newFirst:parentNode.firstChild=newFirst,null==nextChild?parentNode.lastChild=newLast:nextChild.previousSibling=newLast;do newFirst.parentNode=parentNode;while(newFirst!==newLast&&(newFirst=newFirst.nextSibling));return _onUpdateChild(parentNode.ownerDocument||parentNode,parentNode),newChild.nodeType==DOCUMENT_FRAGMENT_NODE&&(newChild.firstChild=newChild.lastChild=null),newChild}function _appendSingleChild(parentNode,newChild){var cp=newChild.parentNode;if(cp){var pre=parentNode.lastChild;cp.removeChild(newChild);var pre=parentNode.lastChild}var pre=parentNode.lastChild;return newChild.parentNode=parentNode,newChild.previousSibling=pre,newChild.nextSibling=null,pre?pre.nextSibling=newChild:parentNode.firstChild=newChild,parentNode.lastChild=newChild,_onUpdateChild(parentNode.ownerDocument,parentNode,newChild),newChild}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function serializeToString(node,buf){switch(node.nodeType){case ELEMENT_NODE:var attrs=node.attributes,len=attrs.length,child=node.firstChild,nodeName=node.tagName,isHTML=htmlns===node.namespaceURI;buf.push("<",nodeName);for(var i=0;len>i;i++)serializeToString(attrs.item(i),buf,isHTML);if(child||isHTML&&!/^(?:meta|link|img|br|hr|input|button)$/i.test(nodeName)){if(buf.push(">"),isHTML&&/^script$/i.test(nodeName))child&&buf.push(child.data);else for(;child;)serializeToString(child,buf),child=child.nextSibling;buf.push("</",nodeName,">")}else buf.push("/>");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(var child=node.firstChild;child;)serializeToString(child,buf),child=child.nextSibling;return;case ATTRIBUTE_NODE:return buf.push(" ",node.name,\'="\',node.value.replace(/[<&"]/g,_xmlEncoder),\'"\');case TEXT_NODE:return buf.push(node.data.replace(/[<&]/g,_xmlEncoder));case CDATA_SECTION_NODE:return buf.push("<![CDATA[",node.data,"]]>");case COMMENT_NODE:return buf.push("<!--",node.data,"-->");case DOCUMENT_TYPE_NODE:var pubid=node.publicId,sysid=node.systemId;if(buf.push("<!DOCTYPE ",node.name),pubid)buf.push(\' PUBLIC "\',pubid),sysid&&"."!=sysid&&buf.push(\'" "\',sysid),buf.push(\'">\');else if(sysid&&"."!=sysid)buf.push(\' SYSTEM "\',sysid,\'">\');else{var sub=node.internalSubset;sub&&buf.push(" [",sub,"]"),buf.push(">")}return;case PROCESSING_INSTRUCTION_NODE:return buf.push("<?",node.target," ",node.data,"?>");case ENTITY_REFERENCE_NODE:return buf.push("&",node.nodeName,";");default:buf.push("??",node.nodeName)}}function importNode(doc,node,deep){var node2;switch(node.nodeType){case ELEMENT_NODE:node2=node.cloneNode(!1),node2.ownerDocument=doc;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:deep=!0}if(node2||(node2=node.cloneNode(!1)),node2.ownerDocument=doc,node2.parentNode=null,deep)for(var child=node.firstChild;child;)node2.appendChild(importNode(doc,child,deep)),child=child.nextSibling;return node2}function cloneNode(doc,node,deep){var node2=new node.constructor;for(var n in node){var v=node[n];"object"!=typeof v&&v!=node2[n]&&(node2[n]=v)}switch(node.childNodes&&(node2.childNodes=new NodeList),node2.ownerDocument=doc,node2.nodeType){case ELEMENT_NODE:var attrs=node.attributes,attrs2=node2.attributes=new NamedNodeMap,len=attrs.length;attrs2._ownerElement=node2;for(var i=0;len>i;i++)node2.setAttributeNode(cloneNode(doc,attrs.item(i),!0));break;case ATTRIBUTE_NODE:deep=!0}if(deep)for(var child=node.firstChild;child;)node2.appendChild(cloneNode(doc,child,deep)),child=child.nextSibling;return node2}function __set__(object,key,value){object[key]=value}function getTextContent(node){switch(node.nodeType){case 1:case 11:var buf=[];for(node=node.firstChild;node;)7!==node.nodeType&&8!==node.nodeType&&buf.push(getTextContent(node)),node=node.nextSibling;return buf.join("");default:return node.nodeValue}}var htmlns="http://www.w3.org/1999/xhtml",NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={};ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1),ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2),ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3),ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4),ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5),ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6),ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7);var NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8);ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9);var INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10);ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11),ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12),ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13),ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14),ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15),DOMException.prototype=Error.prototype,copy(ExceptionCode,DOMException),NodeList.prototype={length:0,item:function(index){return this[index]||null}},LiveNodeList.prototype.item=function(i){return _updateLiveList(this),this[i]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(key){for(var i=this.length;i--;){var attr=this[i];if(attr.nodeName==key)return attr}},setNamedItem:function(attr){var el=attr.ownerElement;if(el&&el!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);var oldAttr=this.getNamedItem(attr.nodeName);return _addNamedNode(this._ownerElement,this,attr,oldAttr),oldAttr},setNamedItemNS:function(attr){var oldAttr,el=attr.ownerElement;if(el&&el!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return oldAttr=this.getNamedItemNS(attr.namespaceURI,attr.localName),_addNamedNode(this._ownerElement,this,attr,oldAttr),oldAttr},removeNamedItem:function(key){var attr=this.getNamedItem(key);return _removeNamedNode(this._ownerElement,this,attr),attr},removeNamedItemNS:function(namespaceURI,localName){var attr=this.getNamedItemNS(namespaceURI,localName);return _removeNamedNode(this._ownerElement,this,attr),attr},getNamedItemNS:function(namespaceURI,localName){for(var i=this.length;i--;){var node=this[i];if(node.localName==localName&&node.namespaceURI==namespaceURI)return node}return null}},DOMImplementation.prototype={hasFeature:function(feature,version){var versions=this._features[feature.toLowerCase()];return versions&&(!version||version in versions)?!0:!1},createDocument:function(namespaceURI,qualifiedName,doctype){var doc=new Document;if(doc.implementation=this,doc.childNodes=new NodeList,doc.doctype=doctype,doctype&&doc.appendChild(doctype),qualifiedName){var root=doc.createElementNS(namespaceURI,qualifiedName);doc.appendChild(root)}return doc},createDocumentType:function(qualifiedName,publicId,systemId){var node=new DocumentType;return node.name=qualifiedName,node.nodeName=qualifiedName,node.publicId=publicId,node.systemId=systemId,node}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(newChild,refChild){return _insertBefore(this,newChild,refChild)},replaceChild:function(newChild,oldChild){this.insertBefore(newChild,oldChild),oldChild&&this.removeChild(oldChild)},removeChild:function(oldChild){return _removeChild(this,oldChild)},appendChild:function(newChild){return this.insertBefore(newChild,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(deep){return cloneNode(this.ownerDocument||this,this,deep)},normalize:function(){for(var child=this.firstChild;child;){var next=child.nextSibling;next&&next.nodeType==TEXT_NODE&&child.nodeType==TEXT_NODE?(this.removeChild(next),child.appendData(next.data)):(child.normalize(),child=next)}},isSupported:function(feature,version){return this.ownerDocument.implementation.hasFeature(feature,version)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(namespaceURI){for(var el=this;el;){var map=el._nsMap;if(map)for(var n in map)if(map[n]==namespaceURI)return n;el=2==el.nodeType?el.ownerDocument:el.parentNode}return null},lookupNamespaceURI:function(prefix){for(var el=this;el;){var map=el._nsMap;if(map&&prefix in map)return map[prefix];el=2==el.nodeType?el.ownerDocument:el.parentNode}return null},isDefaultNamespace:function(namespaceURI){var prefix=this.lookupPrefix(namespaceURI);return null==prefix}},copy(NodeType,Node),copy(NodeType,Node.prototype),Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(newChild,refChild){if(newChild.nodeType==DOCUMENT_FRAGMENT_NODE){for(var child=newChild.firstChild;child;){var next=child.nextSibling;this.insertBefore(child,refChild),child=next}return newChild}return null==this.documentElement&&1==newChild.nodeType&&(this.documentElement=newChild),_insertBefore(this,newChild,refChild),newChild.ownerDocument=this,newChild},removeChild:function(oldChild){return this.documentElement==oldChild&&(this.documentElement=null),_removeChild(this,oldChild)},importNode:function(importedNode,deep){return importNode(this,importedNode,deep)},getElementById:function(id){var rtv=null;return _visitNode(this.documentElement,function(node){return 1==node.nodeType&&node.getAttribute("id")==id?(rtv=node,!0):void 0}),rtv},createElement:function(tagName){var node=new Element;node.ownerDocument=this,node.nodeName=tagName,node.tagName=tagName,node.childNodes=new NodeList;var attrs=node.attributes=new NamedNodeMap;return attrs._ownerElement=node,node},createDocumentFragment:function(){var node=new DocumentFragment;return node.ownerDocument=this,node.childNodes=new NodeList,node},createTextNode:function(data){var node=new Text;return node.ownerDocument=this,node.appendData(data),node},createComment:function(data){var node=new Comment;return node.ownerDocument=this,node.appendData(data),node},createCDATASection:function(data){var node=new CDATASection;return node.ownerDocument=this,node.appendData(data),node},createProcessingInstruction:function(target,data){var node=new ProcessingInstruction;return node.ownerDocument=this,node.tagName=node.target=target,node.nodeValue=node.data=data,node},createAttribute:function(name){var node=new Attr;return node.ownerDocument=this,node.name=name,node.nodeName=name,node.localName=name,node.specified=!0,node},createEntityReference:function(name){var node=new EntityReference;return node.ownerDocument=this,node.nodeName=name,node},createElementNS:function(namespaceURI,qualifiedName){var node=new Element,pl=qualifiedName.split(":"),attrs=node.attributes=new NamedNodeMap;return node.childNodes=new NodeList,node.ownerDocument=this,node.nodeName=qualifiedName,node.tagName=qualifiedName,node.namespaceURI=namespaceURI,2==pl.length?(node.prefix=pl[0],node.localName=pl[1]):node.localName=qualifiedName,attrs._ownerElement=node,node},createAttributeNS:function(namespaceURI,qualifiedName){var node=new Attr,pl=qualifiedName.split(":");return node.ownerDocument=this,node.nodeName=qualifiedName,node.name=qualifiedName,node.namespaceURI=namespaceURI,node.specified=!0,2==pl.length?(node.prefix=pl[0],node.localName=pl[1]):node.localName=qualifiedName,node}},_extends(Document,Node),Element.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(name){return null!=this.getAttributeNode(name)},getAttribute:function(name){var attr=this.getAttributeNode(name);return attr&&attr.value||""},getAttributeNode:function(name){return this.attributes.getNamedItem(name)},setAttribute:function(name,value){var attr=this.ownerDocument.createAttribute(name);attr.value=attr.nodeValue=""+value,this.setAttributeNode(attr)},removeAttribute:function(name){var attr=this.getAttributeNode(name);attr&&this.removeAttributeNode(attr)},appendChild:function(newChild){return newChild.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(newChild,null):_appendSingleChild(this,newChild)},setAttributeNode:function(newAttr){return this.attributes.setNamedItem(newAttr)},setAttributeNodeNS:function(newAttr){return this.attributes.setNamedItemNS(newAttr)},removeAttributeNode:function(oldAttr){return this.attributes.removeNamedItem(oldAttr.nodeName)},removeAttributeNS:function(namespaceURI,localName){var old=this.getAttributeNodeNS(namespaceURI,localName);old&&this.removeAttributeNode(old)},hasAttributeNS:function(namespaceURI,localName){return null!=this.getAttributeNodeNS(namespaceURI,localName)},getAttributeNS:function(namespaceURI,localName){var attr=this.getAttributeNodeNS(namespaceURI,localName);return attr&&attr.value||""},setAttributeNS:function(namespaceURI,qualifiedName,value){var attr=this.ownerDocument.createAttributeNS(namespaceURI,qualifiedName);attr.value=attr.nodeValue=""+value,this.setAttributeNode(attr)},getAttributeNodeNS:function(namespaceURI,localName){return this.attributes.getNamedItemNS(namespaceURI,localName)},getElementsByTagName:function(tagName){return new LiveNodeList(this,function(base){var ls=[];return _visitNode(base,function(node){node===base||node.nodeType!=ELEMENT_NODE||"*"!==tagName&&node.tagName!=tagName||ls.push(node)}),ls})},getElementsByTagNameNS:function(namespaceURI,localName){return new LiveNodeList(this,function(base){var ls=[];return _visitNode(base,function(node){node===base||node.nodeType!==ELEMENT_NODE||"*"!==namespaceURI&&node.namespaceURI!==namespaceURI||"*"!==localName&&node.localName!=localName||ls.push(node)}),ls})}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=ATTRIBUTE_NODE,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(offset,count){return this.data.substring(offset,offset+count)},appendData:function(text){text=this.data+text,this.nodeValue=this.data=text,this.length=text.length},insertData:function(offset,text){this.replaceData(offset,0,text)},appendChild:function(){throw Error(ExceptionMessage[3])},deleteData:function(offset,count){this.replaceData(offset,count,"")},replaceData:function(offset,count,text){var start=this.data.substring(0,offset),end=this.data.substring(offset+count);text=start+text+end,this.nodeValue=this.data=text,this.length=text.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(offset){var text=this.data,newText=text.substring(offset);text=text.substring(0,offset),this.data=this.nodeValue=text,this.length=text.length;var newNode=this.ownerDocument.createTextNode(newText);return this.parentNode&&this.parentNode.insertBefore(newNode,this.nextSibling),newNode}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE,_extends(DocumentType,Node),Notation.prototype.nodeType=NOTATION_NODE,_extends(Notation,Node),Entity.prototype.nodeType=ENTITY_NODE,_extends(Entity,Node),EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE,_extends(ProcessingInstruction,Node),XMLSerializer.prototype.serializeToString=function(node){var buf=[];return serializeToString(node,buf),buf.join("")},Node.prototype.toString=function(){return XMLSerializer.prototype.serializeToString(this)};try{Object.defineProperty&&(Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(data){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(data||data+"")&&this.appendChild(this.ownerDocument.createTextNode(data));break;default:this.data=data,this.value=value,this.nodeValue=data}}}),__set__=function(object,key,value){object["$$"+key]=value})}catch(e){}return DOMImplementation}),ace.define("ace/mode/xml/dom-parser",["require","exports","module","ace/mode/xml/sax","ace/mode/xml/dom"],function(acequire){"use strict";function DOMParser(options){this.options=options||{locator:{}}}function buildErrorHandler(errorImpl,domBuilder,locator){function build(key){var fn=errorImpl[key];if(!fn)if(isCallback)fn=2==errorImpl.length?function(msg){errorImpl(key,msg)}:errorImpl;else for(var i=arguments.length;--i&&!(fn=errorImpl[arguments[i]]););errorHandler[key]=fn&&function(msg){fn(msg+_locator(locator),msg,locator)}||function(){}}if(!errorImpl){if(domBuilder instanceof DOMHandler)return domBuilder;errorImpl=domBuilder}var errorHandler={},isCallback=errorImpl instanceof Function;return locator=locator||{},build("warning","warn"),build("error","warn","warning"),build("fatalError","warn","warning","error"),errorHandler}function DOMHandler(){this.cdata=!1}function position(locator,node){node.lineNumber=locator.lineNumber,node.columnNumber=locator.columnNumber}function _locator(l){return l?"\\n@"+(l.systemId||"")+"#[line:"+l.lineNumber+",col:"+l.columnNumber+"]":void 0}function _toString(chars,start,length){return"string"==typeof chars?chars.substr(start,length):chars.length>=start+length||start?new java.lang.String(chars,start,length)+"":chars}function appendElement(hander,node){hander.currentElement?hander.currentElement.appendChild(node):hander.document.appendChild(node)}var XMLReader=acequire("./sax"),DOMImplementation=acequire("./dom");return DOMParser.prototype.parseFromString=function(source,mimeType){var options=this.options,sax=new XMLReader,domBuilder=options.domBuilder||new DOMHandler,errorHandler=options.errorHandler,locator=options.locator,defaultNSMap=options.xmlns||{},entityMap={lt:"<",gt:">",amp:"&",quot:\'"\',apos:"\'"};return locator&&domBuilder.setDocumentLocator(locator),sax.errorHandler=buildErrorHandler(errorHandler,domBuilder,locator),sax.domBuilder=options.domBuilder||domBuilder,/\\/x?html?$/.test(mimeType)&&(entityMap.nbsp=" ",entityMap.copy="©",defaultNSMap[""]="http://www.w3.org/1999/xhtml"),source?sax.parse(source,defaultNSMap,entityMap):sax.errorHandler.error("invalid document source"),domBuilder.document},DOMHandler.prototype={startDocument:function(){this.document=(new DOMImplementation).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(namespaceURI,localName,qName,attrs){var doc=this.document,el=doc.createElementNS(namespaceURI,qName||localName),len=attrs.length;appendElement(this,el),this.currentElement=el,this.locator&&position(this.locator,el);for(var i=0;len>i;i++){var namespaceURI=attrs.getURI(i),value=attrs.getValue(i),qName=attrs.getQName(i),attr=doc.createAttributeNS(namespaceURI,qName);attr.getOffset&&position(attr.getOffset(1),attr),attr.value=attr.nodeValue=value,el.setAttributeNode(attr)}},endElement:function(){var current=this.currentElement;current.tagName,this.currentElement=current.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:function(target,data){var ins=this.document.createProcessingInstruction(target,data);this.locator&&position(this.locator,ins),appendElement(this,ins)},ignorableWhitespace:function(){},characters:function(chars){if(chars=_toString.apply(this,arguments),this.currentElement&&chars){if(this.cdata){var charNode=this.document.createCDATASection(chars);this.currentElement.appendChild(charNode)}else{var charNode=this.document.createTextNode(chars);this.currentElement.appendChild(charNode)}this.locator&&position(this.locator,charNode)}},skippedEntity:function(){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(locator){(this.locator=locator)&&(locator.lineNumber=0)},comment:function(chars){chars=_toString.apply(this,arguments);var comm=this.document.createComment(chars);this.locator&&position(this.locator,comm),appendElement(this,comm)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(name,publicId,systemId){var impl=this.document.implementation;if(impl&&impl.createDocumentType){var dt=impl.createDocumentType(name,publicId,systemId);this.locator&&position(this.locator,dt),appendElement(this,dt)}},warning:function(error){console.warn(error,_locator(this.locator))},error:function(error){console.error(error,_locator(this.locator))},fatalError:function(error){throw console.error(error,_locator(this.locator)),error}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\\w+/g,function(key){DOMHandler.prototype[key]=function(){return null}}),{DOMParser:DOMParser}}),ace.define("ace/mode/xml_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/xml/dom-parser"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop");acequire("../lib/lang");var Mirror=acequire("../worker/mirror").Mirror,DOMParser=acequire("./xml/dom-parser").DOMParser,Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.context=null};oop.inherits(Worker,Mirror),function(){this.setOptions=function(options){this.context=options.context},this.onUpdate=function(){var value=this.doc.getValue();if(value){var parser=new DOMParser,errors=[];parser.options.errorHandler={fatalError:function(fullMsg,errorMsg,locator){errors.push({row:locator.lineNumber,column:locator.columnNumber,text:errorMsg,type:"error"})},error:function(fullMsg,errorMsg,locator){errors.push({row:locator.lineNumber,column:locator.columnNumber,text:errorMsg,type:"error"})},warning:function(fullMsg,errorMsg,locator){errors.push({row:locator.lineNumber,column:locator.columnNumber,text:errorMsg,type:"warning"})}},parser.parseFromString(value),this.sender.emit("error",errors)}}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object\n}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="	\\n\x0B\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},function(e,t){e.exports.id="ace/mode/css_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}var cons=obj.constructor;if(cons===RegExp)return obj;copy=cons();for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/css/csslint",["require","exports","module"],function(acequire,exports,module){function objectToString(o){return Object.prototype.toString.call(o)}function clone(parent,circular,depth,prototype){function _clone(parent,depth){if(null===parent)return null;if(0==depth)return parent;var child;if("object"!=typeof parent)return parent;if(util.isArray(parent))child=[];else if(util.isRegExp(parent))child=RegExp(parent.source,util.getRegExpFlags(parent)),parent.lastIndex&&(child.lastIndex=parent.lastIndex);else if(util.isDate(parent))child=new Date(parent.getTime());else{if(useBuffer&&Buffer.isBuffer(parent))return child=new Buffer(parent.length),parent.copy(child),child;child=prototype===void 0?Object.create(Object.getPrototypeOf(parent)):Object.create(prototype)}if(circular){var index=allParents.indexOf(parent);if(-1!=index)return allChildren[index];allParents.push(parent),allChildren.push(child)}for(var i in parent)child[i]=_clone(parent[i],depth-1);return child}var allParents=[],allChildren=[],useBuffer="undefined"!=typeof Buffer;return circular===void 0&&(circular=!0),depth===void 0&&(depth=1/0),_clone(parent,depth)}function Reporter(lines,ruleset){this.messages=[],this.stats=[],this.lines=lines,this.ruleset=ruleset}var parserlib={};(function(){function EventTarget(){this._listeners={}}function StringReader(text){this._input=text.replace(/\\n\\r?/g,"\\n"),this._line=1,this._col=1,this._cursor=0}function SyntaxError(message,line,col){this.col=col,this.line=line,this.message=message}function SyntaxUnit(text,line,col,type){this.col=col,this.line=line,this.text=text,this.type=type}function TokenStreamBase(input,tokenData){this._reader=input?new StringReader(""+input):null,this._token=null,this._tokenData=tokenData,this._lt=[],this._ltIndex=0,this._ltIndexCache=[]}EventTarget.prototype={constructor:EventTarget,addListener:function(type,listener){this._listeners[type]||(this._listeners[type]=[]),this._listeners[type].push(listener)},fire:function(event){if("string"==typeof event&&(event={type:event}),event.target!==void 0&&(event.target=this),event.type===void 0)throw Error("Event object missing \'type\' property.");if(this._listeners[event.type])for(var listeners=this._listeners[event.type].concat(),i=0,len=listeners.length;len>i;i++)listeners[i].call(this,event)},removeListener:function(type,listener){if(this._listeners[type])for(var listeners=this._listeners[type],i=0,len=listeners.length;len>i;i++)if(listeners[i]===listener){listeners.splice(i,1);break}}},StringReader.prototype={constructor:StringReader,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return this._cursor==this._input.length},peek:function(count){var c=null;return count=count===void 0?1:count,this._cursor<this._input.length&&(c=this._input.charAt(this._cursor+count-1)),c},read:function(){var c=null;return this._cursor<this._input.length&&("\\n"==this._input.charAt(this._cursor)?(this._line++,this._col=1):this._col++,c=this._input.charAt(this._cursor++)),c},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){this._bookmark&&(this._cursor=this._bookmark.cursor,this._line=this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:function(pattern){for(var c,buffer="";buffer.length<pattern.length||buffer.lastIndexOf(pattern)!=buffer.length-pattern.length;){if(c=this.read(),!c)throw Error(\'Expected "\'+pattern+\'" at line \'+this._line+", col "+this._col+".");buffer+=c}return buffer},readWhile:function(filter){for(var buffer="",c=this.read();null!==c&&filter(c);)buffer+=c,c=this.read();return buffer},readMatch:function(matcher){var source=this._input.substring(this._cursor),value=null;return"string"==typeof matcher?0===source.indexOf(matcher)&&(value=this.readCount(matcher.length)):matcher instanceof RegExp&&matcher.test(source)&&(value=this.readCount(RegExp.lastMatch.length)),value},readCount:function(count){for(var buffer="";count--;)buffer+=this.read();return buffer}},SyntaxError.prototype=Error(),SyntaxUnit.fromToken=function(token){return new SyntaxUnit(token.value,token.startLine,token.startCol)},SyntaxUnit.prototype={constructor:SyntaxUnit,valueOf:function(){return this.text},toString:function(){return this.text}},TokenStreamBase.createTokenData=function(tokens){var nameMap=[],typeMap={},tokenData=tokens.concat([]),i=0,len=tokenData.length+1;for(tokenData.UNKNOWN=-1,tokenData.unshift({name:"EOF"});len>i;i++)nameMap.push(tokenData[i].name),tokenData[tokenData[i].name]=i,tokenData[i].text&&(typeMap[tokenData[i].text]=i);return tokenData.name=function(tt){return nameMap[tt]},tokenData.type=function(c){return typeMap[c]},tokenData},TokenStreamBase.prototype={constructor:TokenStreamBase,match:function(tokenTypes,channel){tokenTypes instanceof Array||(tokenTypes=[tokenTypes]);\nfor(var tt=this.get(channel),i=0,len=tokenTypes.length;len>i;)if(tt==tokenTypes[i++])return!0;return this.unget(),!1},mustMatch:function(tokenTypes){var token;if(tokenTypes instanceof Array||(tokenTypes=[tokenTypes]),!this.match.apply(this,arguments))throw token=this.LT(1),new SyntaxError("Expected "+this._tokenData[tokenTypes[0]].name+" at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},advance:function(tokenTypes,channel){for(;0!==this.LA(0)&&!this.match(tokenTypes,channel);)this.get();return this.LA(0)},get:function(channel){var token,info,tokenInfo=this._tokenData,i=(this._reader,0);if(tokenInfo.length,this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){for(i++,this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type];void 0!==info.channel&&channel!==info.channel&&this._ltIndex<this._lt.length;)this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type],i++;if((void 0===info.channel||channel===info.channel)&&this._ltIndex<=this._lt.length)return this._ltIndexCache.push(i),this._token.type}return token=this._getToken(),token.type>-1&&!tokenInfo[token.type].hide&&(token.channel=tokenInfo[token.type].channel,this._token=token,this._lt.push(token),this._ltIndexCache.push(this._lt.length-this._ltIndex+i),this._lt.length>5&&this._lt.shift(),this._ltIndexCache.length>5&&this._ltIndexCache.shift(),this._ltIndex=this._lt.length),info=tokenInfo[token.type],info&&(info.hide||void 0!==info.channel&&channel!==info.channel)?this.get(channel):token.type},LA:function(index){var tt,total=index;if(index>0){if(index>5)throw Error("Too much lookahead.");for(;total;)tt=this.get(),total--;for(;index>total;)this.unget(),total++}else if(0>index){if(!this._lt[this._ltIndex+index])throw Error("Too much lookbehind.");tt=this._lt[this._ltIndex+index].type}else tt=this._token.type;return tt},LT:function(index){return this.LA(index),this._lt[this._ltIndex+index-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(tokenType){return 0>tokenType||tokenType>this._tokenData.length?"UNKNOWN_TOKEN":this._tokenData[tokenType].name},tokenType:function(tokenName){return this._tokenData[tokenName]||-1},unget:function(){if(!this._ltIndexCache.length)throw Error("Too much lookahead.");this._ltIndex-=this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1]}},parserlib.util={StringReader:StringReader,SyntaxError:SyntaxError,SyntaxUnit:SyntaxUnit,EventTarget:EventTarget,TokenStreamBase:TokenStreamBase}})(),function(){function Combinator(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.COMBINATOR_TYPE),this.type="unknown",/^\\s+$/.test(text)?this.type="descendant":">"==text?this.type="child":"+"==text?this.type="adjacent-sibling":"~"==text&&(this.type="sibling")}function MediaFeature(name,value){SyntaxUnit.call(this,"("+name+(null!==value?":"+value:"")+")",name.startLine,name.startCol,Parser.MEDIA_FEATURE_TYPE),this.name=name,this.value=value}function MediaQuery(modifier,mediaType,features,line,col){SyntaxUnit.call(this,(modifier?modifier+" ":"")+(mediaType?mediaType:"")+(mediaType&&features.length>0?" and ":"")+features.join(" and "),line,col,Parser.MEDIA_QUERY_TYPE),this.modifier=modifier,this.mediaType=mediaType,this.features=features}function Parser(options){EventTarget.call(this),this.options=options||{},this._tokenStream=null}function PropertyName(text,hack,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_NAME_TYPE),this.hack=hack}function PropertyValue(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.PROPERTY_VALUE_TYPE),this.parts=parts}function PropertyValueIterator(value){this._i=0,this._parts=value.parts,this._marks=[],this.value=value}function PropertyValuePart(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_VALUE_PART_TYPE),this.type="unknown";var temp;if(/^([+\\-]?[\\d\\.]+)([a-z]+)$/i.test(text))switch(this.type="dimension",this.value=+RegExp.$1,this.units=RegExp.$2,this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":case"ch":case"vh":case"vw":case"vmax":case"vmin":this.type="length";break;case"deg":case"rad":case"grad":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution"}else/^([+\\-]?[\\d\\.]+)%$/i.test(text)?(this.type="percentage",this.value=+RegExp.$1):/^([+\\-]?\\d+)$/i.test(text)?(this.type="integer",this.value=+RegExp.$1):/^([+\\-]?[\\d\\.]+)$/i.test(text)?(this.type="number",this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(text)?(this.type="color",temp=RegExp.$1,3==temp.length?(this.red=parseInt(temp.charAt(0)+temp.charAt(0),16),this.green=parseInt(temp.charAt(1)+temp.charAt(1),16),this.blue=parseInt(temp.charAt(2)+temp.charAt(2),16)):(this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16))):/^rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3):/^rgb\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100):/^rgba\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this.alpha=+RegExp.$4):/^rgba\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100,this.alpha=+RegExp.$4):/^hsl\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100):/^hsla\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\\(["\']?([^\\)"\']+)["\']?\\)/i.test(text)?(this.type="uri",this.uri=RegExp.$1):/^([^\\(]+)\\(/i.test(text)?(this.type="function",this.name=RegExp.$1,this.value=text):/^["\'][^"\']*["\']/.test(text)?(this.type="string",this.value=eval(text)):Colors[text.toLowerCase()]?(this.type="color",temp=Colors[text.toLowerCase()].substring(1),this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16)):/^[\\,\\/]$/.test(text)?(this.type="operator",this.value=text):/^[a-z\\-_\\u0080-\\uFFFF][a-z0-9\\-_\\u0080-\\uFFFF]*$/i.test(text)&&(this.type="identifier",this.value=text)}function Selector(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.SELECTOR_TYPE),this.parts=parts,this.specificity=Specificity.calculate(this)}function SelectorPart(elementName,modifiers,text,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_PART_TYPE),this.elementName=elementName,this.modifiers=modifiers}function SelectorSubPart(text,type,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_SUB_PART_TYPE),this.type=type,this.args=[]}function Specificity(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function isHexDigit(c){return null!==c&&h.test(c)}function isDigit(c){return null!==c&&/\\d/.test(c)}function isWhitespace(c){return null!==c&&/\\s/.test(c)}function isNewLine(c){return null!==c&&nl.test(c)}function isNameStart(c){return null!==c&&/[a-z_\\u0080-\\uFFFF\\\\]/i.test(c)}function isNameChar(c){return null!==c&&(isNameStart(c)||/[0-9\\-\\\\]/.test(c))}function isIdentStart(c){return null!==c&&(isNameStart(c)||/\\-\\\\/.test(c))}function mix(receiver,supplier){for(var prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return receiver}function TokenStream(input){TokenStreamBase.call(this,input,Tokens)}function ValidationError(message,line,col){this.col=col,this.line=line,this.message=message}var EventTarget=parserlib.util.EventTarget,TokenStreamBase=parserlib.util.TokenStreamBase,StringReader=parserlib.util.StringReader,SyntaxError=parserlib.util.SyntaxError,SyntaxUnit=parserlib.util.SyntaxUnit,Colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",activeBorder:"Active window border.",activecaption:"Active window caption.",appworkspace:"Background color of multiple document interface.",background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box.",graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.",greytext:"Greyed (disabled) text. This color is set to #000 if the current display driver does not support a solid grey color.",highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control.",inactiveborder:"Inactive window border.",inactivecaption:"Inactive window caption.",inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls.",infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus.",scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."};Combinator.prototype=new SyntaxUnit,Combinator.prototype.constructor=Combinator,MediaFeature.prototype=new SyntaxUnit,MediaFeature.prototype.constructor=MediaFeature,MediaQuery.prototype=new SyntaxUnit,MediaQuery.prototype.constructor=MediaQuery,Parser.DEFAULT_TYPE=0,Parser.COMBINATOR_TYPE=1,Parser.MEDIA_FEATURE_TYPE=2,Parser.MEDIA_QUERY_TYPE=3,Parser.PROPERTY_NAME_TYPE=4,Parser.PROPERTY_VALUE_TYPE=5,Parser.PROPERTY_VALUE_PART_TYPE=6,Parser.SELECTOR_TYPE=7,Parser.SELECTOR_PART_TYPE=8,Parser.SELECTOR_SUB_PART_TYPE=9,Parser.prototype=function(){var prop,proto=new EventTarget,additions={constructor:Parser,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var count,token,tt,tokenStream=this._tokenStream;for(this.fire("startstylesheet"),this._charset(),this._skipCruft();tokenStream.peek()==Tokens.IMPORT_SYM;)this._import(),this._skipCruft();for(;tokenStream.peek()==Tokens.NAMESPACE_SYM;)this._namespace(),this._skipCruft();for(tt=tokenStream.peek();tt>Tokens.EOF;){try{switch(tt){case Tokens.MEDIA_SYM:this._media(),this._skipCruft();break;case Tokens.PAGE_SYM:this._page(),this._skipCruft();break;case Tokens.FONT_FACE_SYM:this._font_face(),this._skipCruft();break;case Tokens.KEYFRAMES_SYM:this._keyframes(),this._skipCruft();break;case Tokens.VIEWPORT_SYM:this._viewport(),this._skipCruft();break;case Tokens.UNKNOWN_SYM:if(tokenStream.get(),this.options.strict)throw new SyntaxError("Unknown @ rule.",tokenStream.LT(0).startLine,tokenStream.LT(0).startCol);for(this.fire({type:"error",error:null,message:"Unknown @ rule: "+tokenStream.LT(0).value+".",line:tokenStream.LT(0).startLine,col:tokenStream.LT(0).startCol}),count=0;tokenStream.advance([Tokens.LBRACE,Tokens.RBRACE])==Tokens.LBRACE;)count++;for(;count;)tokenStream.advance([Tokens.RBRACE]),count--;break;case Tokens.S:this._readWhitespace();break;default:if(!this._ruleset())switch(tt){case Tokens.CHARSET_SYM:throw token=tokenStream.LT(1),this._charset(!1),new SyntaxError("@charset not allowed here.",token.startLine,token.startCol);case Tokens.IMPORT_SYM:throw token=tokenStream.LT(1),this._import(!1),new SyntaxError("@import not allowed here.",token.startLine,token.startCol);case Tokens.NAMESPACE_SYM:throw token=tokenStream.LT(1),this._namespace(!1),new SyntaxError("@namespace not allowed here.",token.startLine,token.startCol);default:tokenStream.get(),this._unexpectedToken(tokenStream.token())}}}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col})}tt=tokenStream.peek()}tt!=Tokens.EOF&&this._unexpectedToken(tokenStream.token()),this.fire("endstylesheet")},_charset:function(emit){var charset,token,line,col,tokenStream=this._tokenStream;tokenStream.match(Tokens.CHARSET_SYM)&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.mustMatch(Tokens.STRING),token=tokenStream.token(),charset=token.value,this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),emit!==!1&&this.fire({type:"charset",charset:charset,line:line,col:col}))},_import:function(emit){var uri,importToken,tokenStream=this._tokenStream,mediaList=[];tokenStream.mustMatch(Tokens.IMPORT_SYM),importToken=tokenStream.token(),this._readWhitespace(),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/^(?:url\\()?["\']?([^"\']+?)["\']?\\)?$/,"$1"),this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"import",uri:uri,media:mediaList,line:importToken.startLine,col:importToken.startCol})},_namespace:function(emit){var line,col,prefix,uri,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.NAMESPACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(prefix=tokenStream.token().value,this._readWhitespace()),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/(?:url\\()?["\']([^"\']+)["\']\\)?/,"$1"),this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"namespace",prefix:prefix,uri:uri,line:line,col:col})},_media:function(){var line,col,mediaList,tokenStream=this._tokenStream;for(tokenStream.mustMatch(Tokens.MEDIA_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace(),this.fire({type:"startmedia",media:mediaList,line:line,col:col});;)if(tokenStream.peek()==Tokens.PAGE_SYM)this._page();else if(tokenStream.peek()==Tokens.FONT_FACE_SYM)this._font_face();else if(tokenStream.peek()==Tokens.VIEWPORT_SYM)this._viewport();else if(!this._ruleset())break;tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace(),this.fire({type:"endmedia",media:mediaList,line:line,col:col})},_media_query_list:function(){var tokenStream=this._tokenStream,mediaList=[];for(this._readWhitespace(),(tokenStream.peek()==Tokens.IDENT||tokenStream.peek()==Tokens.LPAREN)&&mediaList.push(this._media_query());tokenStream.match(Tokens.COMMA);)this._readWhitespace(),mediaList.push(this._media_query());return mediaList},_media_query:function(){var tokenStream=this._tokenStream,type=null,ident=null,token=null,expressions=[];if(tokenStream.match(Tokens.IDENT)&&(ident=tokenStream.token().value.toLowerCase(),"only"!=ident&&"not"!=ident?(tokenStream.unget(),ident=null):token=tokenStream.token()),this._readWhitespace(),tokenStream.peek()==Tokens.IDENT?(type=this._media_type(),null===token&&(token=tokenStream.token())):tokenStream.peek()==Tokens.LPAREN&&(null===token&&(token=tokenStream.LT(1)),expressions.push(this._media_expression())),null===type&&0===expressions.length)return null;for(this._readWhitespace();tokenStream.match(Tokens.IDENT);)"and"!=tokenStream.token().value.toLowerCase()&&this._unexpectedToken(tokenStream.token()),this._readWhitespace(),expressions.push(this._media_expression());return new MediaQuery(ident,type,expressions,token.startLine,token.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var token,tokenStream=this._tokenStream,feature=null,expression=null;return tokenStream.mustMatch(Tokens.LPAREN),feature=this._media_feature(),this._readWhitespace(),tokenStream.match(Tokens.COLON)&&(this._readWhitespace(),token=tokenStream.LT(1),expression=this._expression()),tokenStream.mustMatch(Tokens.RPAREN),this._readWhitespace(),new MediaFeature(feature,expression?new SyntaxUnit(expression,token.startLine,token.startCol):null)},_media_feature:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.IDENT),SyntaxUnit.fromToken(tokenStream.token())},_page:function(){var line,col,tokenStream=this._tokenStream,identifier=null,pseudoPage=null;tokenStream.mustMatch(Tokens.PAGE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(identifier=tokenStream.token().value,"auto"===identifier.toLowerCase()&&this._unexpectedToken(tokenStream.token())),tokenStream.peek()==Tokens.COLON&&(pseudoPage=this._pseudo_page()),this._readWhitespace(),this.fire({type:"startpage",id:identifier,pseudo:pseudoPage,line:line,col:col}),this._readDeclarations(!0,!0),this.fire({type:"endpage",id:identifier,pseudo:pseudoPage,line:line,col:col})},_margin:function(){var line,col,tokenStream=this._tokenStream,marginSym=this._margin_sym();return marginSym?(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this.fire({type:"startpagemargin",margin:marginSym,line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endpagemargin",margin:marginSym,line:line,col:col}),!0):!1},_margin_sym:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.TOPLEFTCORNER_SYM,Tokens.TOPLEFT_SYM,Tokens.TOPCENTER_SYM,Tokens.TOPRIGHT_SYM,Tokens.TOPRIGHTCORNER_SYM,Tokens.BOTTOMLEFTCORNER_SYM,Tokens.BOTTOMLEFT_SYM,Tokens.BOTTOMCENTER_SYM,Tokens.BOTTOMRIGHT_SYM,Tokens.BOTTOMRIGHTCORNER_SYM,Tokens.LEFTTOP_SYM,Tokens.LEFTMIDDLE_SYM,Tokens.LEFTBOTTOM_SYM,Tokens.RIGHTTOP_SYM,Tokens.RIGHTMIDDLE_SYM,Tokens.RIGHTBOTTOM_SYM])?SyntaxUnit.fromToken(tokenStream.token()):null},_pseudo_page:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.COLON),tokenStream.mustMatch(Tokens.IDENT),tokenStream.token().value},_font_face:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.FONT_FACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startfontface",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endfontface",line:line,col:col})},_viewport:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.VIEWPORT_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startviewport",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endviewport",line:line,col:col})},_operator:function(inFunction){var tokenStream=this._tokenStream,token=null;return(tokenStream.match([Tokens.SLASH,Tokens.COMMA])||inFunction&&tokenStream.match([Tokens.PLUS,Tokens.STAR,Tokens.MINUS]))&&(token=tokenStream.token(),this._readWhitespace()),token?PropertyValuePart.fromToken(token):null},_combinator:function(){var token,tokenStream=this._tokenStream,value=null;return tokenStream.match([Tokens.PLUS,Tokens.GREATER,Tokens.TILDE])&&(token=tokenStream.token(),value=new Combinator(token.value,token.startLine,token.startCol),this._readWhitespace()),value},_unary_operator:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.MINUS,Tokens.PLUS])?tokenStream.token().value:null},_property:function(){var tokenValue,token,line,col,tokenStream=this._tokenStream,value=null,hack=null;return tokenStream.peek()==Tokens.STAR&&this.options.starHack&&(tokenStream.get(),token=tokenStream.token(),hack=token.value,line=token.startLine,col=token.startCol),tokenStream.match(Tokens.IDENT)&&(token=tokenStream.token(),tokenValue=token.value,"_"==tokenValue.charAt(0)&&this.options.underscoreHack&&(hack="_",tokenValue=tokenValue.substring(1)),value=new PropertyName(tokenValue,hack,line||token.startLine,col||token.startCol),this._readWhitespace()),value},_ruleset:function(){var tt,selectors,tokenStream=this._tokenStream;try{selectors=this._selectors_group()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.RBRACE]),tt!=Tokens.RBRACE)throw ex;return!0}return selectors&&(this.fire({type:"startrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col}),this._readDeclarations(!0),this.fire({type:"endrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col})),selectors},_selectors_group:function(){var selector,tokenStream=this._tokenStream,selectors=[];if(selector=this._selector(),null!==selector)for(selectors.push(selector);tokenStream.match(Tokens.COMMA);)this._readWhitespace(),selector=this._selector(),null!==selector?selectors.push(selector):this._unexpectedToken(tokenStream.LT(1));return selectors.length?selectors:null},_selector:function(){var tokenStream=this._tokenStream,selector=[],nextSelector=null,combinator=null,ws=null;if(nextSelector=this._simple_selector_sequence(),null===nextSelector)return null;for(selector.push(nextSelector);;)if(combinator=this._combinator(),null!==combinator)selector.push(combinator),nextSelector=this._simple_selector_sequence(),null===nextSelector?this._unexpectedToken(tokenStream.LT(1)):selector.push(nextSelector);else{if(!this._readWhitespace())break;ws=new Combinator(tokenStream.token().value,tokenStream.token().startLine,tokenStream.token().startCol),combinator=this._combinator(),nextSelector=this._simple_selector_sequence(),null===nextSelector?null!==combinator&&this._unexpectedToken(tokenStream.LT(1)):(null!==combinator?selector.push(combinator):selector.push(ws),selector.push(nextSelector))}return new Selector(selector,selector[0].line,selector[0].col)},_simple_selector_sequence:function(){var line,col,tokenStream=this._tokenStream,elementName=null,modifiers=[],selectorText="",components=[function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],i=0,len=components.length,component=null;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol,elementName=this._type_selector(),elementName||(elementName=this._universal()),null!==elementName&&(selectorText+=elementName);;){if(tokenStream.peek()===Tokens.S)break;for(;len>i&&null===component;)component=components[i++].call(this);if(null===component){if(""===selectorText)return null;break}i=0,modifiers.push(component),selectorText+=""+component,component=null}return""!==selectorText?new SelectorPart(elementName,modifiers,selectorText,line,col):null},_type_selector:function(){var tokenStream=this._tokenStream,ns=this._namespace_prefix(),elementName=this._element_name();return elementName?(ns&&(elementName.text=ns+elementName.text,elementName.col-=ns.length),elementName):(ns&&(tokenStream.unget(),ns.length>1&&tokenStream.unget()),null)},_class:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.DOT)?(tokenStream.mustMatch(Tokens.IDENT),token=tokenStream.token(),new SelectorSubPart("."+token.value,"class",token.startLine,token.startCol-1)):null},_element_name:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.IDENT)?(token=tokenStream.token(),new SelectorSubPart(token.value,"elementName",token.startLine,token.startCol)):null},_namespace_prefix:function(){var tokenStream=this._tokenStream,value="";return(tokenStream.LA(1)===Tokens.PIPE||tokenStream.LA(2)===Tokens.PIPE)&&(tokenStream.match([Tokens.IDENT,Tokens.STAR])&&(value+=tokenStream.token().value),tokenStream.mustMatch(Tokens.PIPE),value+="|"),value.length?value:null},_universal:function(){var ns,tokenStream=this._tokenStream,value="";return ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.match(Tokens.STAR)&&(value+="*"),value.length?value:null},_attrib:function(){var ns,token,tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.LBRACKET)?(token=tokenStream.token(),value=token.value,value+=this._readWhitespace(),ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.mustMatch(Tokens.IDENT),value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.match([Tokens.PREFIXMATCH,Tokens.SUFFIXMATCH,Tokens.SUBSTRINGMATCH,Tokens.EQUALS,Tokens.INCLUDES,Tokens.DASHMATCH])&&(value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),value+=tokenStream.token().value,value+=this._readWhitespace()),tokenStream.mustMatch(Tokens.RBRACKET),new SelectorSubPart(value+"]","attribute",token.startLine,token.startCol)):null},_pseudo:function(){var line,col,tokenStream=this._tokenStream,pseudo=null,colons=":";return tokenStream.match(Tokens.COLON)&&(tokenStream.match(Tokens.COLON)&&(colons+=":"),tokenStream.match(Tokens.IDENT)?(pseudo=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol-colons.length):tokenStream.peek()==Tokens.FUNCTION&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol-colons.length,pseudo=this._functional_pseudo()),pseudo&&(pseudo=new SelectorSubPart(colons+pseudo,"pseudo",line,col))),pseudo},_functional_pseudo:function(){var tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.FUNCTION)&&(value=tokenStream.token().value,value+=this._readWhitespace(),value+=this._expression(),tokenStream.mustMatch(Tokens.RPAREN),value+=")"),value},_expression:function(){for(var tokenStream=this._tokenStream,value="";tokenStream.match([Tokens.PLUS,Tokens.MINUS,Tokens.DIMENSION,Tokens.NUMBER,Tokens.STRING,Tokens.IDENT,Tokens.LENGTH,Tokens.FREQ,Tokens.ANGLE,Tokens.TIME,Tokens.RESOLUTION,Tokens.SLASH]);)value+=tokenStream.token().value,value+=this._readWhitespace();return value.length?value:null},_negation:function(){var line,col,arg,tokenStream=this._tokenStream,value="",subpart=null;return tokenStream.match(Tokens.NOT)&&(value=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol,value+=this._readWhitespace(),arg=this._negation_arg(),value+=arg,value+=this._readWhitespace(),tokenStream.match(Tokens.RPAREN),value+=tokenStream.token().value,subpart=new SelectorSubPart(value,"not",line,col),subpart.args.push(arg)),subpart},_negation_arg:function(){var line,col,part,tokenStream=this._tokenStream,args=[this._type_selector,this._universal,function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo],arg=null,i=0,len=args.length;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol;len>i&&null===arg;)arg=args[i].call(this),i++;return null===arg&&this._unexpectedToken(tokenStream.LT(1)),part="elementName"==arg.type?new SelectorPart(arg,[],""+arg,line,col):new SelectorPart(null,[arg],""+arg,line,col)},_declaration:function(){var tokenStream=this._tokenStream,property=null,expr=null,prio=null,invalid=null,propertyName="";if(property=this._property(),null!==property){tokenStream.mustMatch(Tokens.COLON),this._readWhitespace(),expr=this._expr(),expr&&0!==expr.length||this._unexpectedToken(tokenStream.LT(1)),prio=this._prio(),propertyName=""+property,(this.options.starHack&&"*"==property.hack||this.options.underscoreHack&&"_"==property.hack)&&(propertyName=property.text);try{this._validateProperty(propertyName,expr)}catch(ex){invalid=ex}return this.fire({type:"property",property:property,value:expr,important:prio,line:property.line,col:property.col,invalid:invalid}),!0}return!1},_prio:function(){var tokenStream=this._tokenStream,result=tokenStream.match(Tokens.IMPORTANT_SYM);return this._readWhitespace(),result},_expr:function(inFunction){var values=(this._tokenStream,[]),value=null,operator=null;if(value=this._term(inFunction),null!==value)for(values.push(value);;){if(operator=this._operator(inFunction),operator&&values.push(operator),value=this._term(inFunction),null===value)break;\nvalues.push(value)}return values.length>0?new PropertyValue(values,values[0].line,values[0].col):null},_term:function(inFunction){var token,line,col,tokenStream=this._tokenStream,unary=null,value=null,endChar=null;return unary=this._unary_operator(),null!==unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.peek()==Tokens.IE_FUNCTION&&this.options.ieFilters?(value=this._ie_function(),null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol)):inFunction&&tokenStream.match([Tokens.LPAREN,Tokens.LBRACE,Tokens.LBRACKET])?(token=tokenStream.token(),endChar=token.endChar,value=token.value+this._expr(inFunction).text,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.mustMatch(Tokens.type(endChar)),value+=endChar,this._readWhitespace()):tokenStream.match([Tokens.NUMBER,Tokens.PERCENTAGE,Tokens.LENGTH,Tokens.ANGLE,Tokens.TIME,Tokens.FREQ,Tokens.STRING,Tokens.IDENT,Tokens.URI,Tokens.UNICODE_RANGE])?(value=tokenStream.token().value,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),this._readWhitespace()):(token=this._hexcolor(),null===token?(null===unary&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol),null===value&&(value=tokenStream.LA(3)==Tokens.EQUALS&&this.options.ieFilters?this._ie_function():this._function())):(value=token.value,null===unary&&(line=token.startLine,col=token.startCol))),null!==value?new PropertyValuePart(null!==unary?unary+value:value,line,col):null},_function:function(){var lt,tokenStream=this._tokenStream,functionText=null,expr=null;if(tokenStream.match(Tokens.FUNCTION)){if(functionText=tokenStream.token().value,this._readWhitespace(),expr=this._expr(!0),functionText+=expr,this.options.ieFilters&&tokenStream.peek()==Tokens.EQUALS)do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_ie_function:function(){var lt,tokenStream=this._tokenStream,functionText=null;if(tokenStream.match([Tokens.IE_FUNCTION,Tokens.FUNCTION])){functionText=tokenStream.token().value;do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_hexcolor:function(){var color,tokenStream=this._tokenStream,token=null;if(tokenStream.match(Tokens.HASH)){if(token=tokenStream.token(),color=token.value,!/#[a-f0-9]{3,6}/i.test(color))throw new SyntaxError("Expected a hex color but found \'"+color+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol);this._readWhitespace()}return token},_keyframes:function(){var token,tt,name,tokenStream=this._tokenStream,prefix="";for(tokenStream.mustMatch(Tokens.KEYFRAMES_SYM),token=tokenStream.token(),/^@\\-([^\\-]+)\\-/.test(token.value)&&(prefix=RegExp.$1),this._readWhitespace(),name=this._keyframe_name(),this._readWhitespace(),tokenStream.mustMatch(Tokens.LBRACE),this.fire({type:"startkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tt=tokenStream.peek();tt==Tokens.IDENT||tt==Tokens.PERCENTAGE;)this._keyframe_rule(),this._readWhitespace(),tt=tokenStream.peek();this.fire({type:"endkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tokenStream.mustMatch(Tokens.RBRACE)},_keyframe_name:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),SyntaxUnit.fromToken(tokenStream.token())},_keyframe_rule:function(){var keyList=(this._tokenStream,this._key_list());this.fire({type:"startkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col}),this._readDeclarations(!0),this.fire({type:"endkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col})},_key_list:function(){var tokenStream=this._tokenStream,keyList=[];for(keyList.push(this._key()),this._readWhitespace();tokenStream.match(Tokens.COMMA);)this._readWhitespace(),keyList.push(this._key()),this._readWhitespace();return keyList},_key:function(){var token,tokenStream=this._tokenStream;if(tokenStream.match(Tokens.PERCENTAGE))return SyntaxUnit.fromToken(tokenStream.token());if(tokenStream.match(Tokens.IDENT)){if(token=tokenStream.token(),/from|to/i.test(token.value))return SyntaxUnit.fromToken(token);tokenStream.unget()}this._unexpectedToken(tokenStream.LT(1))},_skipCruft:function(){for(;this._tokenStream.match([Tokens.S,Tokens.CDO,Tokens.CDC]););},_readDeclarations:function(checkStart,readMargins){var tt,tokenStream=this._tokenStream;this._readWhitespace(),checkStart&&tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace();try{for(;;){if(tokenStream.match(Tokens.SEMICOLON)||readMargins&&this._margin());else{if(!this._declaration())break;if(!tokenStream.match(Tokens.SEMICOLON))break}this._readWhitespace()}tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.SEMICOLON,Tokens.RBRACE]),tt==Tokens.SEMICOLON)this._readDeclarations(!1,readMargins);else if(tt!=Tokens.RBRACE)throw ex}},_readWhitespace:function(){for(var tokenStream=this._tokenStream,ws="";tokenStream.match(Tokens.S);)ws+=tokenStream.token().value;return ws},_unexpectedToken:function(token){throw new SyntaxError("Unexpected token \'"+token.value+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},_verifyEnd:function(){this._tokenStream.LA(1)!=Tokens.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},_validateProperty:function(property,value){Validation.validate(property,value)},parse:function(input){this._tokenStream=new TokenStream(input,Tokens),this._stylesheet()},parseStyleSheet:function(input){return this.parse(input)},parseMediaQuery:function(input){this._tokenStream=new TokenStream(input,Tokens);var result=this._media_query();return this._verifyEnd(),result},parsePropertyValue:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._expr();return this._readWhitespace(),this._verifyEnd(),result},parseRule:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._ruleset();return this._readWhitespace(),this._verifyEnd(),result},parseSelector:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._selector();return this._readWhitespace(),this._verifyEnd(),result},parseStyleAttribute:function(input){input+="}",this._tokenStream=new TokenStream(input,Tokens),this._readDeclarations()}};for(prop in additions)additions.hasOwnProperty(prop)&&(proto[prop]=additions[prop]);return proto}();var Properties={"align-items":"flex-start | flex-end | center | baseline | stretch","align-content":"flex-start | flex-end | center | space-between | space-around | stretch","align-self":"auto | flex-start | flex-end | center | baseline | stretch","-webkit-align-items":"flex-start | flex-end | center | baseline | stretch","-webkit-align-content":"flex-start | flex-end | center | space-between | space-around | stretch","-webkit-align-self":"auto | flex-start | flex-end | center | baseline | stretch","alignment-adjust":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>","alignment-baseline":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",animation:1,"animation-delay":{multi:"<time>",comma:!0},"animation-direction":{multi:"normal | alternate",comma:!0},"animation-duration":{multi:"<time>",comma:!0},"animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"animation-iteration-count":{multi:"<number> | infinite",comma:!0},"animation-name":{multi:"none | <ident>",comma:!0},"animation-play-state":{multi:"running | paused",comma:!0},"animation-timing-function":1,"-moz-animation-delay":{multi:"<time>",comma:!0},"-moz-animation-direction":{multi:"normal | alternate",comma:!0},"-moz-animation-duration":{multi:"<time>",comma:!0},"-moz-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-moz-animation-name":{multi:"none | <ident>",comma:!0},"-moz-animation-play-state":{multi:"running | paused",comma:!0},"-ms-animation-delay":{multi:"<time>",comma:!0},"-ms-animation-direction":{multi:"normal | alternate",comma:!0},"-ms-animation-duration":{multi:"<time>",comma:!0},"-ms-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-ms-animation-name":{multi:"none | <ident>",comma:!0},"-ms-animation-play-state":{multi:"running | paused",comma:!0},"-webkit-animation-delay":{multi:"<time>",comma:!0},"-webkit-animation-direction":{multi:"normal | alternate",comma:!0},"-webkit-animation-duration":{multi:"<time>",comma:!0},"-webkit-animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"-webkit-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-webkit-animation-name":{multi:"none | <ident>",comma:!0},"-webkit-animation-play-state":{multi:"running | paused",comma:!0},"-o-animation-delay":{multi:"<time>",comma:!0},"-o-animation-direction":{multi:"normal | alternate",comma:!0},"-o-animation-duration":{multi:"<time>",comma:!0},"-o-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-o-animation-name":{multi:"none | <ident>",comma:!0},"-o-animation-play-state":{multi:"running | paused",comma:!0},appearance:"icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal | none | inherit",azimuth:function(expression){var part,simple="<angle> | leftwards | rightwards | inherit",direction="left-side | far-left | left | center-left | center | center-right | right | far-right | right-side",behind=!1,valid=!1;if(ValidationTypes.isAny(expression,simple)||(ValidationTypes.isAny(expression,"behind")&&(behind=!0,valid=!0),ValidationTypes.isAny(expression,direction)&&(valid=!0,behind||ValidationTypes.isAny(expression,"behind"))),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'azimuth\'>) but found \'"+part+"\'.",part.line,part.col)},"backface-visibility":"visible | hidden",background:1,"background-attachment":{multi:"<attachment>",comma:!0},"background-clip":{multi:"<box>",comma:!0},"background-color":"<color> | inherit","background-image":{multi:"<bg-image>",comma:!0},"background-origin":{multi:"<box>",comma:!0},"background-position":{multi:"<bg-position>",comma:!0},"background-repeat":{multi:"<repeat-style>"},"background-size":{multi:"<bg-size>",comma:!0},"baseline-shift":"baseline | sub | super | <percentage> | <length>",behavior:1,binding:1,bleed:"<length>","bookmark-label":"<content> | <attr> | <string>","bookmark-level":"none | <integer>","bookmark-state":"open | closed","bookmark-target":"none | <uri> | <attr>",border:"<border-width> || <border-style> || <color>","border-bottom":"<border-width> || <border-style> || <color>","border-bottom-color":"<color> | inherit","border-bottom-left-radius":"<x-one-radius>","border-bottom-right-radius":"<x-one-radius>","border-bottom-style":"<border-style>","border-bottom-width":"<border-width>","border-collapse":"collapse | separate | inherit","border-color":{multi:"<color> | inherit",max:4},"border-image":1,"border-image-outset":{multi:"<length> | <number>",max:4},"border-image-repeat":{multi:"stretch | repeat | round",max:2},"border-image-slice":function(expression){var part,valid=!1,numeric="<number> | <percentage>",fill=!1,count=0,max=4;for(ValidationTypes.isAny(expression,"fill")&&(fill=!0,valid=!0);expression.hasNext()&&max>count&&(valid=ValidationTypes.isAny(expression,numeric));)count++;if(fill?valid=!0:ValidationTypes.isAny(expression,"fill"),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ([<number> | <percentage>]{1,4} && fill?) but found \'"+part+"\'.",part.line,part.col)},"border-image-source":"<image> | none","border-image-width":{multi:"<length> | <percentage> | <number> | auto",max:4},"border-left":"<border-width> || <border-style> || <color>","border-left-color":"<color> | inherit","border-left-style":"<border-style>","border-left-width":"<border-width>","border-radius":function(expression){for(var part,valid=!1,simple="<length> | <percentage> | inherit",slash=!1,count=0,max=8;expression.hasNext()&&max>count;){if(valid=ValidationTypes.isAny(expression,simple),!valid){if(!("/"==expression.peek()&&count>0)||slash)break;slash=!0,max=count+5,expression.next()}count++}if(expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'border-radius\'>) but found \'"+part+"\'.",part.line,part.col)},"border-right":"<border-width> || <border-style> || <color>","border-right-color":"<color> | inherit","border-right-style":"<border-style>","border-right-width":"<border-width>","border-spacing":{multi:"<length> | inherit",max:2},"border-style":{multi:"<border-style>",max:4},"border-top":"<border-width> || <border-style> || <color>","border-top-color":"<color> | inherit","border-top-left-radius":"<x-one-radius>","border-top-right-radius":"<x-one-radius>","border-top-style":"<border-style>","border-top-width":"<border-width>","border-width":{multi:"<border-width>",max:4},bottom:"<margin-width> | inherit","-moz-box-align":"start | end | center | baseline | stretch","-moz-box-decoration-break":"slice |clone","-moz-box-direction":"normal | reverse | inherit","-moz-box-flex":"<number>","-moz-box-flex-group":"<integer>","-moz-box-lines":"single | multiple","-moz-box-ordinal-group":"<integer>","-moz-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-moz-box-pack":"start | end | center | justify","-webkit-box-align":"start | end | center | baseline | stretch","-webkit-box-decoration-break":"slice |clone","-webkit-box-direction":"normal | reverse | inherit","-webkit-box-flex":"<number>","-webkit-box-flex-group":"<integer>","-webkit-box-lines":"single | multiple","-webkit-box-ordinal-group":"<integer>","-webkit-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-webkit-box-pack":"start | end | center | justify","box-shadow":function(expression){var part;if(ValidationTypes.isAny(expression,"none")){if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}else Validation.multiProperty("<shadow>",expression,!0,1/0)},"box-sizing":"content-box | border-box | inherit","break-after":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom | inherit",clear:"none | right | left | both | inherit",clip:1,color:"<color> | inherit","color-profile":1,"column-count":"<integer> | auto","column-fill":"auto | balance","column-gap":"<length> | normal","column-rule":"<border-width> || <border-style> || <color>","column-rule-color":"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>","column-span":"none | all","column-width":"<length> | auto",columns:1,content:1,"counter-increment":1,"counter-reset":1,crop:"<shape> | auto",cue:"cue-after | cue-before | inherit","cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl | inherit",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | grid | inline-grid | none | inherit | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box | -ms-flexbox | -ms-inline-flexbox | flex | -webkit-flex | inline-flex | -webkit-inline-flex","dominant-baseline":1,"drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>","drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>","drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-size":"auto | line | <length> | <percentage>","drop-initial-value":"initial | <integer>",elevation:"<angle> | below | level | above | higher | lower | inherit","empty-cells":"show | hide | inherit",filter:1,fit:"fill | hidden | meet | slice","fit-position":1,flex:"<flex>","flex-basis":"<width>","flex-direction":"row | row-reverse | column | column-reverse","flex-flow":"<flex-direction> || <flex-wrap>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap | wrap | wrap-reverse","-webkit-flex":"<flex>","-webkit-flex-basis":"<width>","-webkit-flex-direction":"row | row-reverse | column | column-reverse","-webkit-flex-flow":"<flex-direction> || <flex-wrap>","-webkit-flex-grow":"<number>","-webkit-flex-shrink":"<number>","-webkit-flex-wrap":"nowrap | wrap | wrap-reverse","-ms-flex":"<flex>","-ms-flex-align":"start | end | center | stretch | baseline","-ms-flex-direction":"row | row-reverse | column | column-reverse | inherit","-ms-flex-order":"<number>","-ms-flex-pack":"start | end | center | justify","-ms-flex-wrap":"nowrap | wrap | wrap-reverse","float":"left | right | none | inherit","float-offset":1,font:1,"font-family":1,"font-size":"<absolute-size> | <relative-size> | <length> | <percentage> | inherit","font-size-adjust":"<number> | none | inherit","font-stretch":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | inherit","font-style":"normal | italic | oblique | inherit","font-variant":"normal | small-caps | inherit","font-weight":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit","grid-cell-stacking":"columns | rows | layer","grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch","grid-column-sizing":1,"grid-column-span":"<integer>","grid-flow":"none | rows | columns","grid-layer":"<integer>","grid-row":1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-span":"<integer>","grid-row-sizing":1,"hanging-punctuation":1,height:"<margin-width> | <content-sizing> | inherit","hyphenate-after":"<integer> | auto","hyphenate-before":"<integer> | auto","hyphenate-character":"<string> | auto","hyphenate-lines":"no-limit | <integer>","hyphenate-resource":1,hyphens:"none | manual | auto",icon:1,"image-orientation":"angle | auto","image-rendering":1,"image-resolution":1,"inline-box-align":"initial | last | <integer>","justify-content":"flex-start | flex-end | center | space-between | space-around","-webkit-justify-content":"flex-start | flex-end | center | space-between | space-around",left:"<margin-width> | inherit","letter-spacing":"<length> | normal | inherit","line-height":"<number> | <length> | <percentage> | normal | inherit","line-break":"auto | loose | normal | strict","line-stacking":1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts","line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height","list-style":1,"list-style-image":"<uri> | none | inherit","list-style-position":"inside | outside | inherit","list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit",margin:{multi:"<margin-width> | inherit",max:4},"margin-bottom":"<margin-width> | inherit","margin-left":"<margin-width> | inherit","margin-right":"<margin-width> | inherit","margin-top":"<margin-width> | inherit",mark:1,"mark-after":1,"mark-before":1,marks:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":"<length> | <percentage> | <content-sizing> | none | inherit","max-width":"<length> | <percentage> | <content-sizing> | none | inherit","min-height":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","min-width":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,opacity:"<number> | inherit",order:"<integer>","-webkit-order":"<integer>",orphans:"<integer> | inherit",outline:1,"outline-color":"<color> | invert | inherit","outline-offset":1,"outline-style":"<border-style> | inherit","outline-width":"<border-width> | inherit",overflow:"visible | hidden | scroll | auto | inherit","overflow-style":1,"overflow-wrap":"normal | break-word","overflow-x":1,"overflow-y":1,padding:{multi:"<padding-width> | inherit",max:4},"padding-bottom":"<padding-width> | inherit","padding-left":"<padding-width> | inherit","padding-right":"<padding-width> | inherit","padding-top":"<padding-width> | inherit",page:1,"page-break-after":"auto | always | avoid | left | right | inherit","page-break-before":"auto | always | avoid | left | right | inherit","page-break-inside":"auto | avoid | inherit","page-policy":1,pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | fixed | inherit","presentation-level":1,"punctuation-trim":1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,richness:1,right:"<margin-width> | inherit",rotation:1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,size:1,speak:"normal | none | spell-out | inherit","speak-header":"once | always | inherit","speak-numeral":"digits | continuous | inherit","speak-punctuation":"code | none | inherit","speech-rate":1,src:1,stress:1,"string-set":1,"table-layout":"auto | fixed | inherit","tab-size":"<integer> | <length>",target:1,"target-name":1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | inherit","text-align-last":1,"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":"<length> | <percentage> | inherit","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida","text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision | inherit","text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none | inherit","text-wrap":"normal | none | avoid",top:"<margin-width> | inherit","-ms-touch-action":"auto | none | pan-x | pan-y","touch-action":"auto | none | pan-x | pan-y",transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext | inherit","user-modify":"read-only | read-write | write-only | inherit","user-select":"none | text | toggle | element | elements | all | inherit","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length>",visibility:"visible | hidden | collapse | inherit","voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | inherit | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap","white-space-collapse":1,widows:"<integer> | inherit",width:"<length> | <percentage> | <content-sizing> | auto | inherit","word-break":"normal | keep-all | break-all","word-spacing":"<length> | normal | inherit","word-wrap":"normal | break-word","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | lr-tb | rl-tb | tb-rl | bt-rl | tb-lr | bt-lr | lr-bt | rl-bt | lr | rl | tb | inherit","z-index":"<integer> | auto | inherit",zoom:"<number> | <percentage> | normal"};PropertyName.prototype=new SyntaxUnit,PropertyName.prototype.constructor=PropertyName,PropertyName.prototype.toString=function(){return(this.hack?this.hack:"")+this.text},PropertyValue.prototype=new SyntaxUnit,PropertyValue.prototype.constructor=PropertyValue,PropertyValueIterator.prototype.count=function(){return this._parts.length},PropertyValueIterator.prototype.isFirst=function(){return 0===this._i},PropertyValueIterator.prototype.hasNext=function(){return this._i<this._parts.length},PropertyValueIterator.prototype.mark=function(){this._marks.push(this._i)},PropertyValueIterator.prototype.peek=function(count){return this.hasNext()?this._parts[this._i+(count||0)]:null},PropertyValueIterator.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null},PropertyValueIterator.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null},PropertyValueIterator.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())},PropertyValuePart.prototype=new SyntaxUnit,PropertyValuePart.prototype.constructor=PropertyValuePart,PropertyValuePart.fromToken=function(token){return new PropertyValuePart(token.value,token.startLine,token.startCol)};var Pseudos={":first-letter":1,":first-line":1,":before":1,":after":1};Pseudos.ELEMENT=1,Pseudos.CLASS=2,Pseudos.isElement=function(pseudo){return 0===pseudo.indexOf("::")||Pseudos[pseudo.toLowerCase()]==Pseudos.ELEMENT},Selector.prototype=new SyntaxUnit,Selector.prototype.constructor=Selector,SelectorPart.prototype=new SyntaxUnit,SelectorPart.prototype.constructor=SelectorPart,SelectorSubPart.prototype=new SyntaxUnit,SelectorSubPart.prototype.constructor=SelectorSubPart,Specificity.prototype={constructor:Specificity,compare:function(other){var i,len,comps=["a","b","c","d"];for(i=0,len=comps.length;len>i;i++){if(this[comps[i]]<other[comps[i]])return-1;if(this[comps[i]]>other[comps[i]])return 1}return 0},valueOf:function(){return 1e3*this.a+100*this.b+10*this.c+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+this.d}},Specificity.calculate=function(selector){function updateValues(part){var i,j,len,num,modifier,elementName=part.elementName?part.elementName.text:"";for(elementName&&"*"!=elementName.charAt(elementName.length-1)&&d++,i=0,len=part.modifiers.length;len>i;i++)switch(modifier=part.modifiers[i],modifier.type){case"class":case"attribute":c++;break;case"id":b++;break;case"pseudo":Pseudos.isElement(modifier.text)?d++:c++;break;case"not":for(j=0,num=modifier.args.length;num>j;j++)updateValues(modifier.args[j])}}var i,len,part,b=0,c=0,d=0;for(i=0,len=selector.parts.length;len>i;i++)part=selector.parts[i],part instanceof SelectorPart&&updateValues(part);return new Specificity(0,b,c,d)};var h=/^[0-9a-fA-F]$/,nonascii=/^[\\u0080-\\uFFFF]$/,nl=/\\n|\\r\\n|\\r|\\f/;TokenStream.prototype=mix(new TokenStreamBase,{_getToken:function(){var c,reader=this._reader,token=null,startLine=reader.getLine(),startCol=reader.getCol();for(c=reader.read();c;){switch(c){case"/":token="*"==reader.peek()?this.commentToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"|":case"~":case"^":case"$":case"*":token="="==reader.peek()?this.comparisonToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case\'"\':case"\'":token=this.stringToken(c,startLine,startCol);break;case"#":token=isNameChar(reader.peek())?this.hashToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case".":token=isDigit(reader.peek())?this.numberToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"-":token="-"==reader.peek()?this.htmlCommentEndToken(c,startLine,startCol):isNameStart(reader.peek())?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"!":token=this.importantToken(c,startLine,startCol);break;case"@":token=this.atRuleToken(c,startLine,startCol);break;case":":token=this.notToken(c,startLine,startCol);break;case"<":token=this.htmlCommentStartToken(c,startLine,startCol);break;case"U":case"u":if("+"==reader.peek()){token=this.unicodeRangeToken(c,startLine,startCol);break}default:token=isDigit(c)?this.numberToken(c,startLine,startCol):isWhitespace(c)?this.whitespaceToken(c,startLine,startCol):isIdentStart(c)?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol)}break}return token||null!==c||(token=this.createToken(Tokens.EOF,null,startLine,startCol)),token},createToken:function(tt,value,startLine,startCol,options){var reader=this._reader;return options=options||{},{value:value,type:tt,channel:options.channel,endChar:options.endChar,hide:options.hide||!1,startLine:startLine,startCol:startCol,endLine:reader.getLine(),endCol:reader.getCol()}},atRuleToken:function(first,startLine,startCol){var ident,rule=first,reader=this._reader,tt=Tokens.CHAR;return reader.mark(),ident=this.readName(),rule=first+ident,tt=Tokens.type(rule.toLowerCase()),(tt==Tokens.CHAR||tt==Tokens.UNKNOWN)&&(rule.length>1?tt=Tokens.UNKNOWN_SYM:(tt=Tokens.CHAR,rule=first,reader.reset())),this.createToken(tt,rule,startLine,startCol)},charToken:function(c,startLine,startCol){var tt=Tokens.type(c),opts={};return-1==tt?tt=Tokens.CHAR:opts.endChar=Tokens[tt].endChar,this.createToken(tt,c,startLine,startCol,opts)},commentToken:function(first,startLine,startCol){var comment=(this._reader,this.readComment(first));return this.createToken(Tokens.COMMENT,comment,startLine,startCol)},comparisonToken:function(c,startLine,startCol){var reader=this._reader,comparison=c+reader.read(),tt=Tokens.type(comparison)||Tokens.CHAR;return this.createToken(tt,comparison,startLine,startCol)},hashToken:function(first,startLine,startCol){var name=(this._reader,this.readName(first));return this.createToken(Tokens.HASH,name,startLine,startCol)\n},htmlCommentStartToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(3),"<!--"==text?this.createToken(Tokens.CDO,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},htmlCommentEndToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(2),"-->"==text?this.createToken(Tokens.CDC,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},identOrFunctionToken:function(first,startLine,startCol){var reader=this._reader,ident=this.readName(first),tt=Tokens.IDENT;return"("==reader.peek()?(ident+=reader.read(),"url("==ident.toLowerCase()?(tt=Tokens.URI,ident=this.readURI(ident),"url("==ident.toLowerCase()&&(tt=Tokens.FUNCTION)):tt=Tokens.FUNCTION):":"==reader.peek()&&"progid"==ident.toLowerCase()&&(ident+=reader.readTo("("),tt=Tokens.IE_FUNCTION),this.createToken(tt,ident,startLine,startCol)},importantToken:function(first,startLine,startCol){var temp,c,reader=this._reader,important=first,tt=Tokens.CHAR;for(reader.mark(),c=reader.read();c;){if("/"==c){if("*"!=reader.peek())break;if(temp=this.readComment(c),""===temp)break}else{if(!isWhitespace(c)){if(/i/i.test(c)){temp=reader.readCount(8),/mportant/i.test(temp)&&(important+=c+temp,tt=Tokens.IMPORTANT_SYM);break}break}important+=c+this.readWhitespace()}c=reader.read()}return tt==Tokens.CHAR?(reader.reset(),this.charToken(first,startLine,startCol)):this.createToken(tt,important,startLine,startCol)},notToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(4),":not("==text.toLowerCase()?this.createToken(Tokens.NOT,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},numberToken:function(first,startLine,startCol){var ident,reader=this._reader,value=this.readNumber(first),tt=Tokens.NUMBER,c=reader.peek();return isIdentStart(c)?(ident=this.readName(reader.read()),value+=ident,tt=/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vmax$|^vmin$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(ident)?Tokens.LENGTH:/^deg|^rad$|^grad$/i.test(ident)?Tokens.ANGLE:/^ms$|^s$/i.test(ident)?Tokens.TIME:/^hz$|^khz$/i.test(ident)?Tokens.FREQ:/^dpi$|^dpcm$/i.test(ident)?Tokens.RESOLUTION:Tokens.DIMENSION):"%"==c&&(value+=reader.read(),tt=Tokens.PERCENTAGE),this.createToken(tt,value,startLine,startCol)},stringToken:function(first,startLine,startCol){for(var delim=first,string=first,reader=this._reader,prev=first,tt=Tokens.STRING,c=reader.read();c&&(string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){tt=Tokens.INVALID;break}prev=c,c=reader.read()}return null===c&&(tt=Tokens.INVALID),this.createToken(tt,string,startLine,startCol)},unicodeRangeToken:function(first,startLine,startCol){var temp,reader=this._reader,value=first,tt=Tokens.CHAR;return"+"==reader.peek()&&(reader.mark(),value+=reader.read(),value+=this.readUnicodeRangePart(!0),2==value.length?reader.reset():(tt=Tokens.UNICODE_RANGE,-1==value.indexOf("?")&&"-"==reader.peek()&&(reader.mark(),temp=reader.read(),temp+=this.readUnicodeRangePart(!1),1==temp.length?reader.reset():value+=temp))),this.createToken(tt,value,startLine,startCol)},whitespaceToken:function(first,startLine,startCol){var value=(this._reader,first+this.readWhitespace());return this.createToken(Tokens.S,value,startLine,startCol)},readUnicodeRangePart:function(allowQuestionMark){for(var reader=this._reader,part="",c=reader.peek();isHexDigit(c)&&6>part.length;)reader.read(),part+=c,c=reader.peek();if(allowQuestionMark)for(;"?"==c&&6>part.length;)reader.read(),part+=c,c=reader.peek();return part},readWhitespace:function(){for(var reader=this._reader,whitespace="",c=reader.peek();isWhitespace(c);)reader.read(),whitespace+=c,c=reader.peek();return whitespace},readNumber:function(first){for(var reader=this._reader,number=first,hasDot="."==first,c=reader.peek();c;){if(isDigit(c))number+=reader.read();else{if("."!=c)break;if(hasDot)break;hasDot=!0,number+=reader.read()}c=reader.peek()}return number},readString:function(){for(var reader=this._reader,delim=reader.read(),string=delim,prev=delim,c=reader.peek();c&&(c=reader.read(),string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){string="";break}prev=c,c=reader.peek()}return null===c&&(string=""),string},readURI:function(first){var reader=this._reader,uri=first,inner="",c=reader.peek();for(reader.mark();c&&isWhitespace(c);)reader.read(),c=reader.peek();for(inner="\'"==c||\'"\'==c?this.readString():this.readURL(),c=reader.peek();c&&isWhitespace(c);)reader.read(),c=reader.peek();return""===inner||")"!=c?(uri=first,reader.reset()):uri+=inner+reader.read(),uri},readURL:function(){for(var reader=this._reader,url="",c=reader.peek();/^[!#$%&\\\\*-~]$/.test(c);)url+=reader.read(),c=reader.peek();return url},readName:function(first){for(var reader=this._reader,ident=first||"",c=reader.peek();;)if("\\\\"==c)ident+=this.readEscape(reader.read()),c=reader.peek();else{if(!c||!isNameChar(c))break;ident+=reader.read(),c=reader.peek()}return ident},readEscape:function(first){var reader=this._reader,cssEscape=first||"",i=0,c=reader.peek();if(isHexDigit(c))do cssEscape+=reader.read(),c=reader.peek();while(c&&isHexDigit(c)&&6>++i);return 3==cssEscape.length&&/\\s/.test(c)||7==cssEscape.length||1==cssEscape.length?reader.read():c="",cssEscape+c},readComment:function(first){var reader=this._reader,comment=first||"",c=reader.read();if("*"==c){for(;c;){if(comment+=c,comment.length>2&&"*"==c&&"/"==reader.peek()){comment+=reader.read();break}c=reader.read()}return comment}return""}});var Tokens=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"VIEWPORT_SYM",text:["@viewport","@-ms-viewport"]},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",endChar:"}",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",endChar:"]",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",endChar:")",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];(function(){var nameMap=[],typeMap={};Tokens.UNKNOWN=-1,Tokens.unshift({name:"EOF"});for(var i=0,len=Tokens.length;len>i;i++)if(nameMap.push(Tokens[i].name),Tokens[Tokens[i].name]=i,Tokens[i].text)if(Tokens[i].text instanceof Array)for(var j=0;Tokens[i].text.length>j;j++)typeMap[Tokens[i].text[j]]=i;else typeMap[Tokens[i].text]=i;Tokens.name=function(tt){return nameMap[tt]},Tokens.type=function(c){return typeMap[c]||-1}})();var Validation={validate:function(property,value){var name=(""+property).toLowerCase(),expression=(value.parts,new PropertyValueIterator(value)),spec=Properties[name];if(spec)"number"!=typeof spec&&("string"==typeof spec?spec.indexOf("||")>-1?this.groupProperty(spec,expression):this.singleProperty(spec,expression,1):spec.multi?this.multiProperty(spec.multi,expression,spec.comma,spec.max||1/0):"function"==typeof spec&&spec(expression));else if(0!==name.indexOf("-"))throw new ValidationError("Unknown property \'"+property+"\'.",property.line,property.col)},singleProperty:function(types,expression,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&max>count&&(result=ValidationTypes.isAny(expression,types));)count++;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},multiProperty:function(types,expression,comma,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&!result&&max>count&&ValidationTypes.isAny(expression,types);)if(count++,expression.hasNext()){if(comma){if(","!=expression.peek())break;part=expression.next()}}else result=!0;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):(part=expression.previous(),comma&&","==part?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col));if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},groupProperty:function(types,expression){for(var name,part,result=!1,value=expression.value,typeCount=types.split("||").length,groups={count:0},partial=!1;expression.hasNext()&&!result&&(name=ValidationTypes.isAnyOfGroup(expression,types))&&!groups[name];)groups[name]=1,groups.count++,partial=!0,groups.count!=typeCount&&expression.hasNext()||(result=!0);if(!result)throw partial&&expression.hasNext()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}};ValidationError.prototype=Error();var ValidationTypes={isLiteral:function(part,literals){var i,len,text=(""+part.text).toLowerCase(),args=literals.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)text==args[i].toLowerCase()&&(found=!0);return found},isSimple:function(type){return!!this.simple[type]},isComplex:function(type){return!!this.complex[type]},isAny:function(expression,types){var i,len,args=types.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found&&expression.hasNext();i++)found=this.isType(expression,args[i]);return found},isAnyOfGroup:function(expression,types){var i,len,args=types.split(" || "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)found=this.isType(expression,args[i]);return found?args[i-1]:!1},isType:function(expression,type){var part=expression.peek(),result=!1;return"<"!=type.charAt(0)?(result=this.isLiteral(part,type),result&&expression.next()):this.simple[type]?(result=this.simple[type](part),result&&expression.next()):result=this.complex[type](expression),result},simple:{"<absolute-size>":function(part){return ValidationTypes.isLiteral(part,"xx-small | x-small | small | medium | large | x-large | xx-large")},"<attachment>":function(part){return ValidationTypes.isLiteral(part,"scroll | fixed | local")},"<attr>":function(part){return"function"==part.type&&"attr"==part.name},"<bg-image>":function(part){return this["<image>"](part)||this["<gradient>"](part)||"none"==part},"<gradient>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?(?:repeating\\-)?(?:radial\\-|linear\\-)?gradient/i.test(part)},"<box>":function(part){return ValidationTypes.isLiteral(part,"padding-box | border-box | content-box")},"<content>":function(part){return"function"==part.type&&"content"==part.name},"<relative-size>":function(part){return ValidationTypes.isLiteral(part,"smaller | larger")},"<ident>":function(part){return"identifier"==part.type},"<length>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?calc/i.test(part)?!0:"length"==part.type||"number"==part.type||"integer"==part.type||"0"==part},"<color>":function(part){return"color"==part.type||"transparent"==part},"<number>":function(part){return"number"==part.type||this["<integer>"](part)},"<integer>":function(part){return"integer"==part.type},"<line>":function(part){return"integer"==part.type},"<angle>":function(part){return"angle"==part.type},"<uri>":function(part){return"uri"==part.type},"<image>":function(part){return this["<uri>"](part)},"<percentage>":function(part){return"percentage"==part.type||"0"==part},"<border-width>":function(part){return this["<length>"](part)||ValidationTypes.isLiteral(part,"thin | medium | thick")},"<border-style>":function(part){return ValidationTypes.isLiteral(part,"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset")},"<content-sizing>":function(part){return ValidationTypes.isLiteral(part,"fill-available | -moz-available | -webkit-fill-available | max-content | -moz-max-content | -webkit-max-content | min-content | -moz-min-content | -webkit-min-content | fit-content | -moz-fit-content | -webkit-fit-content")},"<margin-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)||ValidationTypes.isLiteral(part,"auto")},"<padding-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)},"<shape>":function(part){return"function"==part.type&&("rect"==part.name||"inset-rect"==part.name)},"<time>":function(part){return"time"==part.type},"<flex-grow>":function(part){return this["<number>"](part)},"<flex-shrink>":function(part){return this["<number>"](part)},"<width>":function(part){return this["<margin-width>"](part)},"<flex-basis>":function(part){return this["<width>"](part)},"<flex-direction>":function(part){return ValidationTypes.isLiteral(part,"row | row-reverse | column | column-reverse")},"<flex-wrap>":function(part){return ValidationTypes.isLiteral(part,"nowrap | wrap | wrap-reverse")}},complex:{"<bg-position>":function(expression){for(var result=!1,numeric="<percentage> | <length>",xDir="left | right",yDir="top | bottom",count=0;expression.peek(count)&&","!=expression.peek(count);)count++;return 3>count?ValidationTypes.isAny(expression,xDir+" | center | "+numeric)?(result=!0,ValidationTypes.isAny(expression,yDir+" | center | "+numeric)):ValidationTypes.isAny(expression,yDir)&&(result=!0,ValidationTypes.isAny(expression,xDir+" | center")):ValidationTypes.isAny(expression,xDir)?ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,yDir)?ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,"center")&&ValidationTypes.isAny(expression,xDir+" | "+yDir)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<bg-size>":function(expression){var result=!1,numeric="<percentage> | <length> | auto";return ValidationTypes.isAny(expression,"cover | contain")?result=!0:ValidationTypes.isAny(expression,numeric)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<repeat-style>":function(expression){var part,result=!1,values="repeat | space | round | no-repeat";return expression.hasNext()&&(part=expression.next(),ValidationTypes.isLiteral(part,"repeat-x | repeat-y")?result=!0:ValidationTypes.isLiteral(part,values)&&(result=!0,expression.hasNext()&&ValidationTypes.isLiteral(expression.peek(),values)&&expression.next())),result},"<shadow>":function(expression){var result=!1,count=0,inset=!1,color=!1;if(expression.hasNext()){for(ValidationTypes.isAny(expression,"inset")&&(inset=!0),ValidationTypes.isAny(expression,"<color>")&&(color=!0);ValidationTypes.isAny(expression,"<length>")&&4>count;)count++;expression.hasNext()&&(color||ValidationTypes.isAny(expression,"<color>"),inset||ValidationTypes.isAny(expression,"inset")),result=count>=2&&4>=count}return result},"<x-one-radius>":function(expression){var result=!1,simple="<length> | <percentage> | inherit";return ValidationTypes.isAny(expression,simple)&&(result=!0,ValidationTypes.isAny(expression,simple)),result},"<flex>":function(expression){var part,result=!1;if(ValidationTypes.isAny(expression,"none | inherit")?result=!0:ValidationTypes.isType(expression,"<flex-grow>")?expression.peek()?ValidationTypes.isType(expression,"<flex-shrink>")?result=expression.peek()?ValidationTypes.isType(expression,"<flex-basis>"):!0:ValidationTypes.isType(expression,"<flex-basis>")&&(result=null===expression.peek()):result=!0:ValidationTypes.isType(expression,"<flex-basis>")&&(result=!0),!result)throw part=expression.peek(),new ValidationError("Expected (none | [ <flex-grow> <flex-shrink>? || <flex-basis> ]) but found \'"+expression.value.text+"\'.",part.line,part.col);return result}}};parserlib.css={Colors:Colors,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,Specificity:Specificity,TokenStream:TokenStream,Tokens:Tokens,ValidationError:ValidationError}}(),function(){for(var prop in parserlib)exports[prop]=parserlib[prop]}();var util={isArray:function(ar){return Array.isArray(ar)||"object"==typeof ar&&"[object Array]"===objectToString(ar)},isDate:function(d){return"object"==typeof d&&"[object Date]"===objectToString(d)},isRegExp:function(re){return"object"==typeof re&&"[object RegExp]"===objectToString(re)},getRegExpFlags:function(re){var flags="";return re.global&&(flags+="g"),re.ignoreCase&&(flags+="i"),re.multiline&&(flags+="m"),flags}};"object"==typeof module&&(module.exports=clone),clone.clonePrototype=function(parent){if(null===parent)return null;var c=function(){};return c.prototype=parent,new c};var CSSLint=function(){function applyEmbeddedRuleset(text,ruleset){var valueMap,embedded=text&&text.match(embeddedRuleset),rules=embedded&&embedded[1];return rules&&(valueMap={"true":2,"":1,"false":0,2:2,1:1,0:0},rules.toLowerCase().split(",").forEach(function(rule){var pair=rule.split(":"),property=pair[0]||"",value=pair[1]||"";ruleset[property.trim()]=valueMap[value.trim()]})),ruleset}var rules=[],formatters=[],embeddedRuleset=/\\/\\*csslint([^\\*]*)\\*\\//,api=new parserlib.util.EventTarget;return api.version="@VERSION@",api.addRule=function(rule){rules.push(rule),rules[rule.id]=rule},api.clearRules=function(){rules=[]},api.getRules=function(){return[].concat(rules).sort(function(a,b){return a.id>b.id?1:0})},api.getRuleset=function(){for(var ruleset={},i=0,len=rules.length;len>i;)ruleset[rules[i++].id]=1;return ruleset},api.addFormatter=function(formatter){formatters[formatter.id]=formatter},api.getFormatter=function(formatId){return formatters[formatId]},api.format=function(results,filename,formatId,options){var formatter=this.getFormatter(formatId),result=null;return formatter&&(result=formatter.startFormat(),result+=formatter.formatResults(results,filename,options||{}),result+=formatter.endFormat()),result},api.hasFormat=function(formatId){return formatters.hasOwnProperty(formatId)},api.verify=function(text,ruleset){var reporter,lines,report,i=0,parser=new parserlib.css.Parser({starHack:!0,ieFilters:!0,underscoreHack:!0,strict:!1});lines=text.replace(/\\n\\r?/g,"$split$").split("$split$"),ruleset||(ruleset=this.getRuleset()),embeddedRuleset.test(text)&&(ruleset=clone(ruleset),ruleset=applyEmbeddedRuleset(text,ruleset)),reporter=new Reporter(lines,ruleset),ruleset.errors=2;for(i in ruleset)ruleset.hasOwnProperty(i)&&ruleset[i]&&rules[i]&&rules[i].init(parser,reporter);try{parser.parse(text)}catch(ex){reporter.error("Fatal error, cannot continue: "+ex.message,ex.line,ex.col,{})}return report={messages:reporter.messages,stats:reporter.stats,ruleset:reporter.ruleset},report.messages.sort(function(a,b){return a.rollup&&!b.rollup?1:!a.rollup&&b.rollup?-1:a.line-b.line}),report},api}();Reporter.prototype={constructor:Reporter,error:function(message,line,col,rule){this.messages.push({type:"error",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule||{}})},warn:function(message,line,col,rule){this.report(message,line,col,rule)},report:function(message,line,col,rule){this.messages.push({type:2===this.ruleset[rule.id]?"error":"warning",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},info:function(message,line,col,rule){this.messages.push({type:"info",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},rollupError:function(message,rule){this.messages.push({type:"error",rollup:!0,message:message,rule:rule})},rollupWarn:function(message,rule){this.messages.push({type:"warning",rollup:!0,message:message,rule:rule})},stat:function(name,value){this.stats[name]=value}},CSSLint._Reporter=Reporter,CSSLint.Util={mix:function(receiver,supplier){var prop;for(prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return prop},indexOf:function(values,value){if(values.indexOf)return values.indexOf(value);for(var i=0,len=values.length;len>i;i++)if(values[i]===value)return i;return-1},forEach:function(values,func){if(values.forEach)return values.forEach(func);for(var i=0,len=values.length;len>i;i++)func(values[i],i,values)}},CSSLint.addRule({id:"adjoining-classes",name:"Disallow adjoining classes",desc:"Don\'t use adjoining classes.",browsers:"IE6",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,classCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(classCount=0,k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"class"===modifier.type&&classCount++,classCount>1&&reporter.report("Don\'t use adjoining classes.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"box-model",name:"Beware of broken box size",desc:"Don\'t use width or height when using padding or border.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},boxSizing=!1}function endRule(){var prop,value;if(!boxSizing){if(properties.height)for(prop in heightProperties)heightProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!==prop||2!==value.parts.length||0!==value.parts[0].value)&&reporter.report("Using height with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule));if(properties.width)for(prop in widthProperties)widthProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!==prop||2!==value.parts.length||0!==value.parts[1].value)&&reporter.report("Using width with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule))}}var properties,rule=this,widthProperties={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},heightProperties={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,"padding-top":1},boxSizing=!1;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();heightProperties[name]||widthProperties[name]?/^0\\S*$/.test(event.value)||"border"===name&&"none"==""+event.value||(properties[name]={line:event.property.line,col:event.property.col,value:event.value}):/^(width|height)/i.test(name)&&/^(length|percentage)/.test(event.value.parts[0].type)?properties[name]=1:"box-sizing"===name&&(boxSizing=!0)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn\'t supported in IE6 and IE7.",browsers:"IE6, IE7",tags:["Compatibility"],init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var name=event.property.text.toLowerCase();"box-sizing"===name&&reporter.report("The box-sizing property isn\'t supported in IE6 and IE7.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"bulletproof-font-face",name:"Use the bulletproof @font-face syntax",desc:"Use the bulletproof @font-face syntax to avoid 404\'s in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax).",browsers:"All",init:function(parser,reporter){var line,col,rule=this,fontFaceRule=!1,firstSrc=!0,ruleFailed=!1;parser.addListener("startfontface",function(){fontFaceRule=!0}),parser.addListener("property",function(event){if(fontFaceRule){var propertyName=(""+event.property).toLowerCase(),value=""+event.value;if(line=event.line,col=event.col,"src"===propertyName){var regex=/^\\s?url\\([\'"].+\\.eot\\?.*[\'"]\\)\\s*format\\([\'"]embedded-opentype[\'"]\\).*$/i;!value.match(regex)&&firstSrc?(ruleFailed=!0,firstSrc=!1):value.match(regex)&&!firstSrc&&(ruleFailed=!1)}}}),parser.addListener("endfontface",function(){fontFaceRule=!1,ruleFailed&&reporter.report("@font-face declaration doesn\'t follow the fontspring bulletproof syntax.",line,col,rule)})}}),CSSLint.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",browsers:"All",init:function(parser,reporter){var compatiblePrefixes,properties,prop,variations,prefixed,i,len,rule=this,inKeyFrame=!1,arrayPush=Array.prototype.push,applyTo=[];compatiblePrefixes={animation:"webkit moz","animation-delay":"webkit moz","animation-direction":"webkit moz","animation-duration":"webkit moz","animation-fill-mode":"webkit moz","animation-iteration-count":"webkit moz","animation-name":"webkit moz","animation-play-state":"webkit moz","animation-timing-function":"webkit moz",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit","border-start":"webkit moz","border-start-color":"webkit moz","border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"webkit moz","box-shadow":"webkit moz","column-count":"webkit moz ms","column-gap":"webkit moz ms","column-rule":"webkit moz ms","column-rule-color":"webkit moz ms","column-rule-style":"webkit moz ms","column-rule-width":"webkit moz ms","column-width":"webkit moz ms",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms",transform:"webkit moz ms o","transform-origin":"webkit moz ms o",transition:"webkit moz o","transition-delay":"webkit moz o","transition-duration":"webkit moz o","transition-property":"webkit moz o","transition-timing-function":"webkit moz o","user-modify":"webkit moz","user-select":"webkit moz ms","word-break":"epub ms","writing-mode":"epub ms"};for(prop in compatiblePrefixes)if(compatiblePrefixes.hasOwnProperty(prop)){for(variations=[],prefixed=compatiblePrefixes[prop].split(" "),i=0,len=prefixed.length;len>i;i++)variations.push("-"+prefixed[i]+"-"+prop);compatiblePrefixes[prop]=variations,arrayPush.apply(applyTo,variations)}parser.addListener("startrule",function(){properties=[]}),parser.addListener("startkeyframes",function(event){inKeyFrame=event.prefix||!0}),parser.addListener("endkeyframes",function(){inKeyFrame=!1}),parser.addListener("property",function(event){var name=event.property;CSSLint.Util.indexOf(applyTo,name.text)>-1&&(inKeyFrame&&"string"==typeof inKeyFrame&&0===name.text.indexOf("-"+inKeyFrame+"-")||properties.push(name))}),parser.addListener("endrule",function(){if(properties.length){var i,len,name,prop,variations,value,full,actual,item,propertiesSpecified,propertyGroups={};for(i=0,len=properties.length;len>i;i++){name=properties[i];for(prop in compatiblePrefixes)compatiblePrefixes.hasOwnProperty(prop)&&(variations=compatiblePrefixes[prop],CSSLint.Util.indexOf(variations,name.text)>-1&&(propertyGroups[prop]||(propertyGroups[prop]={full:variations.slice(0),actual:[],actualNodes:[]}),-1===CSSLint.Util.indexOf(propertyGroups[prop].actual,name.text)&&(propertyGroups[prop].actual.push(name.text),propertyGroups[prop].actualNodes.push(name))))}for(prop in propertyGroups)if(propertyGroups.hasOwnProperty(prop)&&(value=propertyGroups[prop],full=value.full,actual=value.actual,full.length>actual.length))for(i=0,len=full.length;len>i;i++)item=full[i],-1===CSSLint.Util.indexOf(actual,item)&&(propertiesSpecified=1===actual.length?actual[0]:2===actual.length?actual.join(" and "):actual.join(", "),reporter.report("The property "+item+" is compatible with "+propertiesSpecified+" and should be included as well.",value.actualNodes[0].line,value.actualNodes[0].col,rule))}})}}),CSSLint.addRule({id:"display-property-grouping",name:"Require properties appropriate for display",desc:"Certain properties shouldn\'t be used with certain display property values.",browsers:"All",init:function(parser,reporter){function reportProperty(name,display,msg){properties[name]&&("string"!=typeof propertiesToCheck[name]||properties[name].value.toLowerCase()!==propertiesToCheck[name])&&reporter.report(msg||name+" can\'t be used with display: "+display+".",properties[name].line,properties[name].col,rule)}function startRule(){properties={}}function endRule(){var display=properties.display?properties.display.value:null;if(display)switch(display){case"inline":reportProperty("height",display),reportProperty("width",display),reportProperty("margin",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case"block":reportProperty("vertical-align",display);break;case"inline-block":reportProperty("float",display);break;default:0===display.indexOf("table-")&&(reportProperty("margin",display),reportProperty("margin-left",display),reportProperty("margin-right",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display))\n}}var properties,rule=this,propertiesToCheck={display:1,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startpage",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();propertiesToCheck[name]&&(properties[name]={value:event.value.text,line:event.property.line,col:event.property.col})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endkeyframerule",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endpage",endRule)}}),CSSLint.addRule({id:"duplicate-background-images",name:"Disallow duplicate background images",desc:"Every background-image should be unique. Use a common class for e.g. sprites.",browsers:"All",init:function(parser,reporter){var rule=this,stack={};parser.addListener("property",function(event){var i,len,name=event.property.text,value=event.value;if(name.match(/background/i))for(i=0,len=value.parts.length;len>i;i++)"uri"===value.parts[i].type&&(stack[value.parts[i].uri]===void 0?stack[value.parts[i].uri]=event:reporter.report("Background image \'"+value.parts[i].uri+"\' was used multiple times, first declared at line "+stack[value.parts[i].uri].line+", col "+stack[value.parts[i].uri].col+".",event.line,event.col,rule))})}}),CSSLint.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}var properties,lastProperty,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase();!properties[name]||lastProperty===name&&properties[name]!==event.value.text||reporter.report("Duplicate property \'"+event.property+"\' found.",event.line,event.col,rule),properties[name]=event.value.text,lastProperty=name})}}),CSSLint.addRule({id:"empty-rules",name:"Disallow empty rules",desc:"Rules without any properties specified should be removed.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(){count=0}),parser.addListener("property",function(){count++}),parser.addListener("endrule",function(event){var selectors=event.selectors;0===count&&reporter.report("Rule is empty.",selectors[0].line,selectors[0].col,rule)})}}),CSSLint.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("error",function(event){reporter.error(event.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"fallback-colors",name:"Require fallback colors",desc:"For older browsers that don\'t support RGBA, HSL, or HSLA, provide a fallback color.",browsers:"IE6,IE7,IE8",init:function(parser,reporter){function startRule(){properties={},lastProperty=null}var lastProperty,properties,rule=this,propertiesToCheck={color:1,background:1,"border-color":1,"border-top-color":1,"border-right-color":1,"border-bottom-color":1,"border-left-color":1,border:1,"border-top":1,"border-right":1,"border-bottom":1,"border-left":1,"background-color":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase(),parts=event.value.parts,i=0,colorType="",len=parts.length;if(propertiesToCheck[name])for(;len>i;)"color"===parts[i].type&&("alpha"in parts[i]||"hue"in parts[i]?(/([^\\)]+)\\(/.test(parts[i])&&(colorType=RegExp.$1.toUpperCase()),lastProperty&&lastProperty.property.text.toLowerCase()===name&&"compat"===lastProperty.colorType||reporter.report("Fallback "+name+" (hex or RGB) should precede "+colorType+" "+name+".",event.line,event.col,rule)):event.colorType="compat"),i++;lastProperty=event})}}),CSSLint.addRule({id:"floats",name:"Disallow too many floats",desc:"This rule tests if the float property is used too many times",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"float"===event.property.text.toLowerCase()&&"none"!==event.value.text.toLowerCase()&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("floats",count),count>=10&&reporter.rollupWarn("Too many floats ("+count+"), you\'re probably using them for layout. Consider using a grid system instead.",rule)})}}),CSSLint.addRule({id:"font-faces",name:"Don\'t use too many web fonts",desc:"Too many different web fonts in the same stylesheet.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startfontface",function(){count++}),parser.addListener("endstylesheet",function(){count>5&&reporter.rollupWarn("Too many @font-face declarations ("+count+").",rule)})}}),CSSLint.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc:"Checks the number of font-size declarations.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"font-size"==""+event.property&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("font-sizes",count),count>=10&&reporter.rollupWarn("Too many font-size declarations ("+count+"), abstraction needed.",rule)})}}),CSSLint.addRule({id:"gradients",name:"Require all gradient definitions",desc:"When using a vendor-prefixed gradient, make sure to use them all.",browsers:"All",init:function(parser,reporter){var gradients,rule=this;parser.addListener("startrule",function(){gradients={moz:0,webkit:0,oldWebkit:0,o:0}}),parser.addListener("property",function(event){/\\-(moz|o|webkit)(?:\\-(?:linear|radial))\\-gradient/i.test(event.value)?gradients[RegExp.$1]=1:/\\-webkit\\-gradient/i.test(event.value)&&(gradients.oldWebkit=1)}),parser.addListener("endrule",function(event){var missing=[];gradients.moz||missing.push("Firefox 3.6+"),gradients.webkit||missing.push("Webkit (Safari 5+, Chrome)"),gradients.oldWebkit||missing.push("Old Webkit (Safari 4+, Chrome)"),gradients.o||missing.push("Opera 11.1+"),missing.length&&4>missing.length&&reporter.report("Missing vendor-prefixed CSS gradients for "+missing.join(", ")+".",event.selectors[0].line,event.selectors[0].col,rule)})}}),CSSLint.addRule({id:"ids",name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,idCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++){for(selector=selectors[i],idCount=0,j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"id"===modifier.type&&idCount++;1===idCount?reporter.report("Don\'t use IDs in selectors.",selector.line,selector.col,rule):idCount>1&&reporter.report(idCount+" IDs in the selector, really?",selector.line,selector.col,rule)}})}}),CSSLint.addRule({id:"import",name:"Disallow @import",desc:"Don\'t use @import, use <link> instead.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("import",function(event){reporter.report("@import prevents parallel downloads, use <link> instead.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){event.important===!0&&(count++,reporter.report("Use of !important",event.line,event.col,rule))}),parser.addListener("endstylesheet",function(){reporter.stat("important",count),count>=10&&reporter.rollupWarn("Too many !important declarations ("+count+"), try to use less than 10 to avoid specificity issues.",rule)})}}),CSSLint.addRule({id:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){event.invalid&&reporter.report(event.invalid.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"order-alphabetical",name:"Alphabetical order",desc:"Assure properties are in alphabetical order",browsers:"All",init:function(parser,reporter){var properties,rule=this,startRule=function(){properties=[]};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text,lowerCasePrefixLessName=name.toLowerCase().replace(/^-.*?-/,"");properties.push(lowerCasePrefixLessName)}),parser.addListener("endrule",function(event){var currentProperties=properties.join(","),expectedProperties=properties.sort().join(",");currentProperties!==expectedProperties&&reporter.report("Rule doesn\'t have all its properties in alphabetical ordered.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules.",browsers:"All",tags:["Accessibility"],init:function(parser,reporter){function startRule(event){lastRule=event.selectors?{line:event.line,col:event.col,selectors:event.selectors,propCount:0,outline:!1}:null}function endRule(){lastRule&&lastRule.outline&&(-1===(""+lastRule.selectors).toLowerCase().indexOf(":focus")?reporter.report("Outlines should only be modified using :focus.",lastRule.line,lastRule.col,rule):1===lastRule.propCount&&reporter.report("Outlines shouldn\'t be hidden unless other visual changes are made.",lastRule.line,lastRule.col,rule))}var lastRule,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase(),value=event.value;lastRule&&(lastRule.propCount++,"outline"!==name||"none"!=""+value&&"0"!=""+value||(lastRule.outline=!0))}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don\'t use classes or IDs with elements (a.foo or a#foo).",browsers:"All",init:function(parser,reporter){var rule=this,classes={};parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],part.elementName&&"id"===modifier.type?reporter.report("Element ("+part+") is overqualified, just use "+modifier+" without element name.",part.line,part.col,rule):"class"===modifier.type&&(classes[modifier]||(classes[modifier]=[]),classes[modifier].push({modifier:modifier,part:part}))}),parser.addListener("endstylesheet",function(){var prop;for(prop in classes)classes.hasOwnProperty(prop)&&1===classes[prop].length&&classes[prop][0].part.elementName&&reporter.report("Element ("+classes[prop][0].part+") is overqualified, just use "+classes[prop][0].modifier+" without element name.",classes[prop][0].part.line,classes[prop][0].part.col,rule)})}}),CSSLint.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced).",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE&&part.elementName&&/h[1-6]/.test(""+part.elementName)&&j>0&&reporter.report("Heading ("+part.elementName+") should not be qualified.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs",desc:"Selectors that look like regular expressions are slow and should be avoided.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"===modifier.type&&/([\\~\\|\\^\\$\\*]=)/.test(modifier)&&reporter.report("Attribute selectors with "+RegExp.$1+" are slow!",modifier.line,modifier.col,rule)})}}),CSSLint.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(parser,reporter){var count=0;parser.addListener("startrule",function(){count++}),parser.addListener("endstylesheet",function(){reporter.stat("rule-count",count)})}}),CSSLint.addRule({id:"selector-max-approaching",name:"Warn when approaching the 4095 selector limit for IE",desc:"Will warn when selector count is >= 3800 selectors.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>=3800&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"selector-max",name:"Error when past the 4095 selector limit for IE",desc:"Will error when selector count is > 4095.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>4095&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"selector-newline",name:"Disallow new-line characters in selectors",desc:"New-line characters in selectors are usually a forgotten comma and not a descendant combinator.",browsers:"All",init:function(parser,reporter){function startRule(event){var i,len,selector,p,n,pLen,part,part2,type,currentLine,nextLine,selectors=event.selectors;for(i=0,len=selectors.length;len>i;i++)for(selector=selectors[i],p=0,pLen=selector.parts.length;pLen>p;p++)for(n=p+1;pLen>n;n++)part=selector.parts[p],part2=selector.parts[n],type=part.type,currentLine=part.line,nextLine=part2.line,"descendant"===type&&nextLine>currentLine&&reporter.report("newline character found in selector (forgot a comma?)",currentLine,selectors[i].parts[0].col,rule)}var rule=this;parser.addListener("startrule",startRule)}}),CSSLint.addRule({id:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}function endRule(event){var prop,i,len,total;for(prop in mapping)if(mapping.hasOwnProperty(prop)){for(total=0,i=0,len=mapping[prop].length;len>i;i++)total+=properties[mapping[prop][i]]?1:0;total===mapping[prop].length&&reporter.report("The properties "+mapping[prop].join(", ")+" can be replaced by "+prop+".",event.line,event.col,rule)}}var prop,i,len,properties,rule=this,propertiesToCheck={},mapping={margin:["margin-top","margin-bottom","margin-left","margin-right"],padding:["padding-top","padding-bottom","padding-left","padding-right"]};for(prop in mapping)if(mapping.hasOwnProperty(prop))for(i=0,len=mapping[prop].length;len>i;i++)propertiesToCheck[mapping[prop][i]]=prop;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase();propertiesToCheck[name]&&(properties[name]=1)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"star-property-hack",name:"Disallow properties with a star prefix",desc:"Checks for the star property hack (targets IE6/7)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"*"===property.hack&&reporter.report("Property with star prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"text-indent",name:"Disallow negative text-indent",desc:"Checks for text indent less than -99px",browsers:"All",init:function(parser,reporter){function startRule(){textIndent=!1,direction="inherit"}function endRule(){textIndent&&"ltr"!==direction&&reporter.report("Negative text-indent doesn\'t work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr.",textIndent.line,textIndent.col,rule)}var textIndent,direction,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase(),value=event.value;"text-indent"===name&&-99>value.parts[0].value?textIndent=event.property:"direction"===name&&"ltr"==""+value&&(direction="ltr")}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"underscore-property-hack",name:"Disallow properties with an underscore prefix",desc:"Checks for the underscore property hack (targets IE6)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"_"===property.hack&&reporter.report("Property with underscore prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"unique-headings",name:"Headings should only be defined once",desc:"Headings should be defined only once.",browsers:"All",init:function(parser,reporter){var rule=this,headings={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};parser.addListener("startrule",function(event){var selector,part,pseudo,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.elementName&&/(h[1-6])/i.test(""+part.elementName)){for(j=0;part.modifiers.length>j;j++)if("pseudo"===part.modifiers[j].type){pseudo=!0;break}pseudo||(headings[RegExp.$1]++,headings[RegExp.$1]>1&&reporter.report("Heading ("+part.elementName+") has already been defined.",part.line,part.col,rule))}}),parser.addListener("endstylesheet",function(){var prop,messages=[];for(prop in headings)headings.hasOwnProperty(prop)&&headings[prop]>1&&messages.push(headings[prop]+" "+prop+"s");messages.length&&reporter.rollupWarn("You have "+messages.join(", ")+" defined in this stylesheet.",rule)})}}),CSSLint.addRule({id:"universal-selector",name:"Disallow universal selector",desc:"The universal selector (*) is known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,selectors=event.selectors;for(i=0;selectors.length>i;i++)selector=selectors[i],part=selector.parts[selector.parts.length-1],"*"===part.elementName&&reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"unqualified-attributes",name:"Disallow unqualified attribute selectors",desc:"Unqualified attribute selectors are known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"!==modifier.type||part.elementName&&"*"!==part.elementName||reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"vendor-prefix",name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},num=1}function endRule(){var prop,i,len,needed,actual,needsStandard=[];for(prop in properties)propertiesToCheck[prop]&&needsStandard.push({actual:prop,needed:propertiesToCheck[prop]});for(i=0,len=needsStandard.length;len>i;i++)needed=needsStandard[i].needed,actual=needsStandard[i].actual,properties[needed]?properties[needed][0].pos<properties[actual][0].pos&&reporter.report("Standard property \'"+needed+"\' should come after vendor-prefixed property \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule):reporter.report("Missing standard property \'"+needed+"\' to go along with \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule)}var properties,num,rule=this,propertiesToCheck={"-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius","-o-border-radius":"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius":"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius","-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius":"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-column-count":"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap","-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule":"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style":"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color":"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width":"column-rule-width","-moz-column-width":"column-width","-webkit-column-width":"column-width","-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin":"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin":"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing"};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();properties[name]||(properties[name]=[]),properties[name].push({name:event.property,value:event.value,pos:num++})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"zero-units",name:"Disallow units for 0 values",desc:"You don\'t need to specify units when a value is 0.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){for(var parts=event.value.parts,i=0,len=parts.length;len>i;)!parts[i].units&&"percentage"!==parts[i].type||0!==parts[i].value||"time"===parts[i].type||reporter.report("Values of 0 shouldn\'t have units specified.",parts[i].line,parts[i].col,rule),i++})}}),function(){var xmlEscape=function(str){return str&&str.constructor===String?str.replace(/[\\"&><]/g,function(match){switch(match){case\'"\':return"&quot;";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}}):""};CSSLint.addFormatter({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><checkstyle>\'},endFormat:function(){return"</checkstyle>"},readError:function(filename,message){return\'<file name="\'+xmlEscape(filename)+\'"><error line="0" column="0" severty="error" message="\'+xmlEscape(message)+\'"></error></file>\'},formatResults:function(results,filename){var messages=results.messages,output=[],generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup||output.push(\'<error line="\'+message.line+\'" column="\'+message.col+\'" severity="\'+message.type+\'"\'+\' message="\'+xmlEscape(message.message)+\'" source="\'+generateSource(message.rule)+\'"/>\')}),output.push("</file>")),output.join("")}})}(),CSSLint.addFormatter({id:"compact",name:"Compact, \'porcelain\' format",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";options=options||{};var capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1)};return 0===messages.length?options.quiet?"":filename+": Lint Free!":(CSSLint.Util.forEach(messages,function(message){output+=message.rollup?filename+": "+capitalize(message.type)+" - "+message.message+"\\n":filename+": "+"line "+message.line+", col "+message.col+", "+capitalize(message.type)+" - "+message.message+" ("+message.rule.id+")\\n"}),output)}}),CSSLint.addFormatter({id:"csslint-xml",name:"CSSLint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><csslint>\'},endFormat:function(){return"</csslint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"junit-xml",name:"JUNIT XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><testsuites>\'},endFormat:function(){return"</testsuites>"},formatResults:function(results,filename){var messages=results.messages,output=[],tests={error:0,failure:0},generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""},escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(messages.forEach(function(message){var type="warning"===message.type?"error":message.type;message.rollup||(output.push(\'<testcase time="0" name="\'+generateSource(message.rule)+\'">\'),output.push("<"+type+\' message="\'+escapeSpecialCharacters(message.message)+\'"><![CDATA[\'+message.line+":"+message.col+":"+escapeSpecialCharacters(message.evidence)+"]]></"+type+">"),output.push("</testcase>"),tests[type]+=1)}),output.unshift(\'<testsuite time="0" tests="\'+messages.length+\'" skipped="0" errors="\'+tests.error+\'" failures="\'+tests.failure+\'" package="net.csslint" name="\'+filename+\'">\'),output.push("</testsuite>")),output.join("")}}),CSSLint.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><lint>\'},endFormat:function(){return"</lint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";if(options=options||{},0===messages.length)return options.quiet?"":"\\n\\ncsslint: No errors in "+filename+".";output="\\n\\ncsslint: There ",output+=1===messages.length?"is 1 problem":"are "+messages.length+" problems",output+=" in "+filename+".";var pos=filename.lastIndexOf("/"),shortFilename=filename;return-1===pos&&(pos=filename.lastIndexOf("\\\\")),pos>-1&&(shortFilename=filename.substring(pos+1)),CSSLint.Util.forEach(messages,function(message,i){output=output+"\\n\\n"+shortFilename,message.rollup?(output+="\\n"+(i+1)+": "+message.type,output+="\\n"+message.message):(output+="\\n"+(i+1)+": "+message.type+" at line "+message.line+", col "+message.col,output+="\\n"+message.message,output+="\\n"+message.evidence)}),output}}),module.exports.CSSLint=CSSLint}),ace.define("ace/mode/css_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/css/csslint"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),lang=acequire("../lib/lang"),Mirror=acequire("../worker/mirror").Mirror,CSSLint=acequire("./css/csslint").CSSLint,Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.ruleset=null,this.setDisabledRules("ids|order-alphabetical"),this.setInfoRules("adjoining-classes|qualified-headings|zero-units|gradients|import|outline-none|vendor-prefix")};oop.inherits(Worker,Mirror),function(){this.setInfoRules=function(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|")),this.infoRules=lang.arrayToMap(ruleNames),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.setDisabledRules=function(ruleNames){if(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|"));var all={};CSSLint.getRules().forEach(function(x){all[x.id]=!0}),ruleNames.forEach(function(x){delete all[x]}),this.ruleset=all}else this.ruleset=null;this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.onUpdate=function(){var value=this.doc.getValue();\nif(!value)return this.sender.emit("annotate",[]);var infoRules=this.infoRules,result=CSSLint.verify(value,this.ruleset);this.sender.emit("annotate",result.messages.map(function(msg){return{row:msg.line-1,column:msg.col-1,text:msg.message,type:infoRules[msg.rule.id]?"info":msg.type,rule:msg.rule.name}}))}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="	\\n\x0B\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},function(e,t){e.exports.id="ace/mode/html_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}var cons=obj.constructor;if(cons===RegExp)return obj;copy=cons();for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/html/saxparser",["require","exports","module"],function(acequire,exports,module){module.exports=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof acequire&&acequire;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw Error("Cannot find module \'"+o+"\'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof acequire&&acequire,o=0;r.length>o;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){function isScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI?"applet"===node.localName||"caption"===node.localName||"marquee"===node.localName||"object"===node.localName||"table"===node.localName||"td"===node.localName||"th"===node.localName:"http://www.w3.org/1998/Math/MathML"===node.namespaceURI?"mi"===node.localName||"mo"===node.localName||"mn"===node.localName||"ms"===node.localName||"mtext"===node.localName||"annotation-xml"===node.localName:"http://www.w3.org/2000/svg"===node.namespaceURI?"foreignObject"===node.localName||"desc"===node.localName||"title"===node.localName:void 0}function isListItemScopeMarker(node){return isScopeMarker(node)||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"ol"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"ul"===node.localName}function isTableScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"table"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isTableBodyScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tbody"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tfoot"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"thead"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isTableRowScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tr"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isButtonScopeMarker(node){return isScopeMarker(node)||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"button"===node.localName}function isSelectScopeMarker(node){return!("http://www.w3.org/1999/xhtml"===node.namespaceURI&&"optgroup"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"option"===node.localName)}function ElementStack(){this.elements=[],this.rootNode=null,this.headElement=null,this.bodyElement=null}ElementStack.prototype._inScope=function(localName,isMarker){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.localName===localName)return!0;if(isMarker(node))return!1}},ElementStack.prototype.push=function(item){this.elements.push(item)},ElementStack.prototype.pushHtmlElement=function(item){this.rootNode=item.node,this.push(item)},ElementStack.prototype.pushHeadElement=function(item){this.headElement=item.node,this.push(item)},ElementStack.prototype.pushBodyElement=function(item){this.bodyElement=item.node,this.push(item)},ElementStack.prototype.pop=function(){return this.elements.pop()},ElementStack.prototype.remove=function(item){this.elements.splice(this.elements.indexOf(item),1)},ElementStack.prototype.popUntilPopped=function(localName){var element;do element=this.pop();while(element.localName!=localName)},ElementStack.prototype.popUntilTableScopeMarker=function(){for(;!isTableScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableBodyScopeMarker=function(){for(;!isTableBodyScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableRowScopeMarker=function(){for(;!isTableRowScopeMarker(this.top);)this.pop()},ElementStack.prototype.item=function(index){return this.elements[index]},ElementStack.prototype.contains=function(element){return-1!==this.elements.indexOf(element)},ElementStack.prototype.inScope=function(localName){return this._inScope(localName,isScopeMarker)},ElementStack.prototype.inListItemScope=function(localName){return this._inScope(localName,isListItemScopeMarker)},ElementStack.prototype.inTableScope=function(localName){return this._inScope(localName,isTableScopeMarker)},ElementStack.prototype.inButtonScope=function(localName){return this._inScope(localName,isButtonScopeMarker)},ElementStack.prototype.inSelectScope=function(localName){return this._inScope(localName,isSelectScopeMarker)},ElementStack.prototype.hasNumberedHeaderElementInScope=function(){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.isNumberedHeader())return!0;if(isScopeMarker(node))return!1}},ElementStack.prototype.furthestBlockForFormattingElement=function(element){for(var furthestBlock=null,i=this.elements.length-1;i>=0;i--){var node=this.elements[i];\nif(node.node===element)break;node.isSpecial()&&(furthestBlock=node)}return furthestBlock},ElementStack.prototype.findIndex=function(localName){for(var i=this.elements.length-1;i>=0;i--)if(this.elements[i].localName==localName)return i;return-1},ElementStack.prototype.remove_openElements_until=function(callback){for(var element,finished=!1;!finished;)element=this.elements.pop(),finished=callback(element);return element},Object.defineProperty(ElementStack.prototype,"top",{get:function(){return this.elements[this.elements.length-1]}}),Object.defineProperty(ElementStack.prototype,"length",{get:function(){return this.elements.length}}),exports.ElementStack=ElementStack},{}],2:[function(_dereq_,module,exports){function isAlphaNumeric(c){return c>="0"&&"9">=c||c>="a"&&"z">=c||c>="A"&&"Z">=c}function isHexDigit(c){return c>="0"&&"9">=c||c>="a"&&"f">=c||c>="A"&&"F">=c}function isDecimalDigit(c){return c>="0"&&"9">=c}var entities=_dereq_("html5-entities"),InputStream=_dereq_("./InputStream").InputStream,namedEntityPrefixes={};Object.keys(entities).forEach(function(entityKey){for(var i=0;entityKey.length>i;i++)namedEntityPrefixes[entityKey.substring(0,i+1)]=!0});var EntityParser={};EntityParser.consumeEntity=function(buffer,tokenizer,additionalAllowedCharacter){var decodedCharacter="",consumedCharacters="",ch=buffer.char();if(ch===InputStream.EOF)return!1;if(consumedCharacters+=ch,"	"==ch||"\\n"==ch||"\x0B"==ch||" "==ch||"<"==ch||"&"==ch)return buffer.unget(consumedCharacters),!1;if(additionalAllowedCharacter===ch)return buffer.unget(consumedCharacters),!1;if("#"==ch){if(ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError("expected-numeric-entity-but-got-eof"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch;var radix=10,isDigit=isDecimalDigit;if("x"==ch||"X"==ch){if(radix=16,isDigit=isHexDigit,ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError("expected-numeric-entity-but-got-eof"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch}if(isDigit(ch)){for(var code="";ch!==InputStream.EOF&&isDigit(ch);)code+=ch,ch=buffer.char();code=parseInt(code,radix);var replacement=this.replaceEntityNumbers(code);if(replacement&&(tokenizer._parseError("invalid-numeric-entity-replaced"),code=replacement),code>65535&&1114111>=code){code-=65536;var first=((1047552&code)>>10)+55296,second=(1023&code)+56320;decodedCharacter=String.fromCharCode(first,second)}else decodedCharacter=String.fromCharCode(code);return";"!==ch&&(tokenizer._parseError("numeric-entity-without-semicolon"),buffer.unget(ch)),decodedCharacter}return buffer.unget(consumedCharacters),tokenizer._parseError("expected-numeric-entity"),!1}if(ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch){for(var mostRecentMatch="";namedEntityPrefixes[consumedCharacters]&&(entities[consumedCharacters]&&(mostRecentMatch=consumedCharacters),";"!=ch)&&(ch=buffer.char(),ch!==InputStream.EOF);)consumedCharacters+=ch;return mostRecentMatch?(decodedCharacter=entities[mostRecentMatch],";"===ch||!additionalAllowedCharacter||!isAlphaNumeric(ch)&&"="!==ch?(consumedCharacters.length>mostRecentMatch.length&&buffer.unget(consumedCharacters.substring(mostRecentMatch.length)),";"!==ch&&tokenizer._parseError("named-entity-without-semicolon"),decodedCharacter):(buffer.unget(consumedCharacters),!1)):(tokenizer._parseError("expected-named-entity"),buffer.unget(consumedCharacters),!1)}},EntityParser.replaceEntityNumbers=function(c){switch(c){case 0:return 65533;case 19:return 16;case 128:return 8364;case 129:return 129;case 130:return 8218;case 131:return 402;case 132:return 8222;case 133:return 8230;case 134:return 8224;case 135:return 8225;case 136:return 710;case 137:return 8240;case 138:return 352;case 139:return 8249;case 140:return 338;case 141:return 141;case 142:return 381;case 143:return 143;case 144:return 144;case 145:return 8216;case 146:return 8217;case 147:return 8220;case 148:return 8221;case 149:return 8226;case 150:return 8211;case 151:return 8212;case 152:return 732;case 153:return 8482;case 154:return 353;case 155:return 8250;case 156:return 339;case 157:return 157;case 158:return 382;case 159:return 376;default:if(c>=55296&&57343>=c||c>1114111)return 65533;if(c>=1&&8>=c||c>=14&&31>=c||c>=127&&159>=c||c>=64976&&65007>=c||11==c||65534==c||131070==c||3145726==c||196607==c||262142==c||262143==c||327678==c||327679==c||393214==c||393215==c||458750==c||458751==c||524286==c||524287==c||589822==c||589823==c||655358==c||655359==c||720894==c||720895==c||786430==c||786431==c||851966==c||851967==c||917502==c||917503==c||983038==c||983039==c||1048574==c||1048575==c||1114110==c||1114111==c)return c}},exports.EntityParser=EntityParser},{"./InputStream":3,"html5-entities":12}],3:[function(_dereq_,module,exports){function InputStream(){this.data="",this.start=0,this.committed=0,this.eof=!1,this.lastLocation={line:0,column:0}}InputStream.EOF=-1,InputStream.DRAIN=-2,InputStream.prototype={slice:function(){if(this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}return this.data.slice(this.start,this.data.length)},"char":function(){if(!this.eof&&this.start>=this.data.length-1)throw InputStream.DRAIN;if(this.start>=this.data.length)return InputStream.EOF;var ch=this.data[this.start++];return"\\r"===ch&&(ch="\\n"),ch},advance:function(amount){if(this.start+=amount,this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}this.committed>this.data.length/2&&(this.lastLocation=this.location(),this.data=this.data.slice(this.committed),this.start=this.start-this.committed,this.committed=0)},matchWhile:function(re){if(this.eof&&this.start>=this.data.length)return"";var r=RegExp("^"+re+"+"),m=r.exec(this.slice());if(m){if(!this.eof&&m[0].length==this.data.length-this.start)throw InputStream.DRAIN;return this.advance(m[0].length),m[0]}return""},matchUntil:function(re){var m,s;if(s=this.slice(),s===InputStream.EOF)return"";if(m=RegExp(re+(this.eof?"|$":"")).exec(s)){var t=this.data.slice(this.start,this.start+m.index);return this.advance(m.index),t.replace(/\\r/g,"\\n").replace(/\\n{2,}/g,"\\n")}throw InputStream.DRAIN},append:function(data){this.data+=data},shift:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;if(this.eof&&this.start>=this.data.length)return InputStream.EOF;var d=""+this.data.slice(this.start,this.start+n);return this.advance(Math.min(n,this.data.length-this.start)),d},peek:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;return this.eof&&this.start>=this.data.length?InputStream.EOF:""+this.data.slice(this.start,Math.min(this.start+n,this.data.length))},length:function(){return this.data.length-this.start-1},unget:function(d){d!==InputStream.EOF&&(this.start-=d.length)},undo:function(){this.start=this.committed},commit:function(){this.committed=this.start},location:function(){var lastLine=this.lastLocation.line,lastColumn=this.lastLocation.column,read=this.data.slice(0,this.committed),newlines=read.match(/\\n/g),line=newlines?lastLine+newlines.length:lastLine,column=newlines?read.length-read.lastIndexOf("\\n")-1:lastColumn+read.length;return{line:line,column:column}}},exports.InputStream=InputStream},{}],4:[function(_dereq_,module,exports){function StackItem(namespaceURI,localName,attributes,node){this.localName=localName,this.namespaceURI=namespaceURI,this.attributes=attributes,this.node=node}function getAttribute(item,name){for(var i=0;item.attributes.length>i;i++)if(item.attributes[i].nodeName==name)return item.attributes[i].nodeValue;return null}var SpecialElements={"http://www.w3.org/1999/xhtml":["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],"http://www.w3.org/1998/Math/MathML":["mi","mo","mn","ms","mtext","annotation-xml"],"http://www.w3.org/2000/svg":["foreignObject","desc","title"]};StackItem.prototype.isSpecial=function(){return this.namespaceURI in SpecialElements&&SpecialElements[this.namespaceURI].indexOf(this.localName)>-1},StackItem.prototype.isFosterParenting=function(){return"http://www.w3.org/1999/xhtml"===this.namespaceURI?"table"===this.localName||"tbody"===this.localName||"tfoot"===this.localName||"thead"===this.localName||"tr"===this.localName:!1},StackItem.prototype.isNumberedHeader=function(){return"http://www.w3.org/1999/xhtml"===this.namespaceURI?"h1"===this.localName||"h2"===this.localName||"h3"===this.localName||"h4"===this.localName||"h5"===this.localName||"h6"===this.localName:!1},StackItem.prototype.isForeign=function(){return"http://www.w3.org/1999/xhtml"!=this.namespaceURI},StackItem.prototype.isHtmlIntegrationPoint=function(){if("http://www.w3.org/1998/Math/MathML"===this.namespaceURI){if("annotation-xml"!==this.localName)return!1;var encoding=getAttribute(this,"encoding");return encoding?(encoding=encoding.toLowerCase(),"text/html"===encoding||"application/xhtml+xml"===encoding):!1}return"http://www.w3.org/2000/svg"===this.namespaceURI?"foreignObject"===this.localName||"desc"===this.localName||"title"===this.localName:!1},StackItem.prototype.isMathMLTextIntegrationPoint=function(){return"http://www.w3.org/1998/Math/MathML"===this.namespaceURI?"mi"===this.localName||"mo"===this.localName||"mn"===this.localName||"ms"===this.localName||"mtext"===this.localName:!1},exports.StackItem=StackItem},{}],5:[function(_dereq_,module,exports){function isWhitespace(c){return" "===c||"\\n"===c||"	"===c||"\\r"===c||"\\f"===c}function isAlpha(c){return c>="A"&&"Z">=c||c>="a"&&"z">=c}function Tokenizer(tokenHandler){this._tokenHandler=tokenHandler,this._state=Tokenizer.DATA,this._inputStream=new InputStream,this._currentToken=null,this._temporaryBuffer="",this._additionalAllowedCharacter=""}var InputStream=_dereq_("./InputStream").InputStream,EntityParser=_dereq_("./EntityParser").EntityParser;Tokenizer.prototype._parseError=function(code,args){this._tokenHandler.parseError(code,args)},Tokenizer.prototype._emitToken=function(token){if("StartTag"===token.type)for(var i=1;token.data.length>i;i++)token.data[i].nodeName||token.data.splice(i--,1);else"EndTag"===token.type&&(token.selfClosing&&this._parseError("self-closing-flag-on-end-tag"),0!==token.data.length&&this._parseError("attributes-in-end-tag"));this._tokenHandler.processToken(token),"StartTag"===token.type&&token.selfClosing&&!this._tokenHandler.isSelfClosingFlagAcknowledged()&&this._parseError("non-void-element-with-trailing-solidus",{name:token.name})},Tokenizer.prototype._emitCurrentToken=function(){this._state=Tokenizer.DATA,this._emitToken(this._currentToken)},Tokenizer.prototype._currentAttribute=function(){return this._currentToken.data[this._currentToken.data.length-1]},Tokenizer.prototype.setState=function(state){this._state=state},Tokenizer.prototype.tokenize=function(source){function data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("&"===data)tokenizer.setState(character_reference_in_data_state);else if("<"===data)tokenizer.setState(tag_open_state);else if("\\0"===data)tokenizer._emitToken({type:"Characters",data:data}),buffer.commit();else{var chars=buffer.matchUntil("&|<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars}),buffer.commit()}return!0}function character_reference_in_data_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(data_state),tokenizer._emitToken({type:"Characters",data:character||"&"}),!0}function rcdata_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("&"===data)tokenizer.setState(character_reference_in_rcdata_state);else if("<"===data)tokenizer.setState(rcdata_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit();else{var chars=buffer.matchUntil("&|<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars}),buffer.commit()}return!0}function character_reference_in_rcdata_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(rcdata_state),tokenizer._emitToken({type:"Characters",data:character||"&"}),!0}function rawtext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("<"===data)tokenizer.setState(rawtext_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit();else{var chars=buffer.matchUntil("<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function plaintext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit();else{var chars=buffer.matchUntil("\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function script_data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("<"===data)tokenizer.setState(script_data_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit();else{var chars=buffer.matchUntil("<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function rcdata_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(rcdata_end_tag_open_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rcdata_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rawtext_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(rawtext_end_tag_open_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rawtext_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function script_data_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(script_data_end_tag_open_state)):"!"===data?(tokenizer._emitToken({type:"Characters",data:"<!"}),tokenizer.setState(script_data_escape_start_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(script_data_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_state(buffer){var data=buffer.char();return"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escape_start_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_dash_state(buffer){var data=buffer.char();return"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escaped_state(buffer){var data=buffer.char();if(data===InputStream.EOF)buffer.unget(data),tokenizer.setState(data_state);else if("-"===data)tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_state);else if("<"===data)tokenizer.setState(script_data_escaped_less_then_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit();else{var chars=buffer.matchUntil("<|-|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function script_data_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_dash_state)):"<"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"<"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):">"===data?(tokenizer._emitToken({type:"Characters",data:">"}),tokenizer.setState(script_data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_less_then_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(script_data_escaped_end_tag_open_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:"<"+data}),this._temporaryBuffer=data,tokenizer.setState(script_data_double_escape_start_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer=data,tokenizer.setState(script_data_escaped_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escape_start_state(buffer){var data=buffer.char();return isWhitespace(data)||"/"===data||">"===data?(tokenizer._emitToken({type:"Characters",data:data}),"script"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_double_escaped_state):tokenizer.setState(script_data_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escaped_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_double_escaped_dash_state)):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),buffer.commit()):(tokenizer._emitToken({type:"Characters",data:data}),buffer.commit()),!0}function script_data_double_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_double_escaped_dash_dash_state)):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),buffer.commit()):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):">"===data?(tokenizer._emitToken({type:"Characters",data:">"}),tokenizer.setState(script_data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"�"}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(tokenizer._emitToken({type:"Characters",data:"/"}),this._temporaryBuffer="",tokenizer.setState(script_data_double_escape_end_state)):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escape_end_state(buffer){var data=buffer.char();return isWhitespace(data)||"/"===data||">"===data?(tokenizer._emitToken({type:"Characters",data:data}),"script"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_escaped_state):tokenizer.setState(script_data_double_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("bare-less-than-sign-at-eof"),tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:"StartTag",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):"!"===data?tokenizer.setState(markup_declaration_open_state):"/"===data?tokenizer.setState(close_tag_open_state):">"===data?(tokenizer._parseError("expected-tag-name-but-got-right-bracket"),tokenizer._emitToken({type:"Characters",data:"<>"}),tokenizer.setState(data_state)):"?"===data?(tokenizer._parseError("expected-tag-name-but-got-question-mark"),buffer.unget(data),tokenizer.setState(bogus_comment_state)):(tokenizer._parseError("expected-tag-name"),tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(data_state)),!0}function close_tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-closing-tag-but-got-eof"),tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:"EndTag",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):">"===data?(tokenizer._parseError("expected-closing-tag-but-got-right-bracket"),tokenizer.setState(data_state)):(tokenizer._parseError("expected-closing-tag-but-got-char",{data:data}),buffer.unget(data),tokenizer.setState(bogus_comment_state)),!0}function tag_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-tag-name"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):isAlpha(data)?tokenizer._currentToken.name+=data.toLowerCase():">"===data?tokenizer._emitCurrentToken():"/"===data?tokenizer.setState(self_closing_tag_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.name+="�"):tokenizer._currentToken.name+=data,buffer.commit(),!0}function before_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-attribute-name-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data.toLowerCase(),nodeValue:""}),tokenizer.setState(attribute_name_state)):">"===data?tokenizer._emitCurrentToken():"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data||"="===data||"<"===data?(tokenizer._parseError("invalid-character-in-attribute-name"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data.push({nodeName:"�",nodeValue:""})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state))}return!0}function attribute_name_state(buffer){var data=buffer.char(),leavingThisState=!0,shouldEmit=!1;if(data===InputStream.EOF?(tokenizer._parseError("eof-in-attribute-name"),buffer.unget(data),tokenizer.setState(data_state),shouldEmit=!0):"="===data?tokenizer.setState(before_attribute_value_state):isAlpha(data)?(tokenizer._currentAttribute().nodeName+=data.toLowerCase(),leavingThisState=!1):">"===data?shouldEmit=!0:isWhitespace(data)?tokenizer.setState(after_attribute_name_state):"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data?(tokenizer._parseError("invalid-character-in-attribute-name"),tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeName+="�"):(tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1),leavingThisState){for(var attributes=tokenizer._currentToken.data,currentAttribute=attributes[attributes.length-1],i=attributes.length-2;i>=0;i--)if(currentAttribute.nodeName===attributes[i].nodeName){tokenizer._parseError("duplicate-attribute",{name:currentAttribute.nodeName}),currentAttribute.nodeName=null;break}shouldEmit&&tokenizer._emitCurrentToken()}else buffer.commit();return!0}function after_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-end-of-tag-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;"="===data?tokenizer.setState(before_attribute_value_state):">"===data?tokenizer._emitCurrentToken():isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data||"<"===data?(tokenizer._parseError("invalid-character-after-attribute-name"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data.push({nodeName:"�",nodeValue:""})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state))}return!0}function before_attribute_value_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-attribute-value-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;\'"\'===data?tokenizer.setState(attribute_value_double_quoted_state):"&"===data?(tokenizer.setState(attribute_value_unquoted_state),buffer.unget(data)):"\'"===data?tokenizer.setState(attribute_value_single_quoted_state):">"===data?(tokenizer._parseError("expected-attribute-value-but-got-right-bracket"),tokenizer._emitCurrentToken()):"="===data||"<"===data||"`"===data?(tokenizer._parseError("unexpected-character-in-unquoted-attribute-value"),tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="�"):(tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state))}return!0\n}function attribute_value_double_quoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("eof-in-attribute-value-double-quote"),buffer.unget(data),tokenizer.setState(data_state);else if(\'"\'===data)tokenizer.setState(after_attribute_value_state);else if("&"===data)this._additionalAllowedCharacter=\'"\',tokenizer.setState(character_reference_in_attribute_value_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="�";else{var s=buffer.matchUntil(\'[\\0"&]\');data+=s,tokenizer._currentAttribute().nodeValue+=data}return!0}function attribute_value_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-attribute-value-single-quote"),buffer.unget(data),tokenizer.setState(data_state)):"\'"===data?tokenizer.setState(after_attribute_value_state):"&"===data?(this._additionalAllowedCharacter="\'",tokenizer.setState(character_reference_in_attribute_value_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="�"):tokenizer._currentAttribute().nodeValue+=data+buffer.matchUntil("\\0|[\'&]"),!0}function attribute_value_unquoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("eof-after-attribute-value"),buffer.unget(data),tokenizer.setState(data_state);else if(isWhitespace(data))tokenizer.setState(before_attribute_name_state);else if("&"===data)this._additionalAllowedCharacter=">",tokenizer.setState(character_reference_in_attribute_value_state);else if(">"===data)tokenizer._emitCurrentToken();else if(\'"\'===data||"\'"===data||"="===data||"`"===data||"<"===data)tokenizer._parseError("unexpected-character-in-unquoted-attribute-value"),tokenizer._currentAttribute().nodeValue+=data,buffer.commit();else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="�";else{var o=buffer.matchUntil("\\0|[	\\n\x0B\\f \\r&<>\\"\'=`]");o===InputStream.EOF&&(tokenizer._parseError("eof-in-attribute-value-no-quotes"),tokenizer._emitCurrentToken()),buffer.commit(),tokenizer._currentAttribute().nodeValue+=data+o}return!0}function character_reference_in_attribute_value_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer,this._additionalAllowedCharacter);return this._currentAttribute().nodeValue+=character||"&",\'"\'===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_double_quoted_state):"\'"===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_single_quoted_state):">"===this._additionalAllowedCharacter&&tokenizer.setState(attribute_value_unquoted_state),!0}function after_attribute_value_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-after-attribute-value"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):"/"===data?tokenizer.setState(self_closing_tag_state):(tokenizer._parseError("unexpected-character-after-attribute-value"),buffer.unget(data),tokenizer.setState(before_attribute_name_state)),!0}function self_closing_tag_state(buffer){var c=buffer.char();return c===InputStream.EOF?(tokenizer._parseError("unexpected-eof-after-solidus-in-tag"),buffer.unget(c),tokenizer.setState(data_state)):">"===c?(tokenizer._currentToken.selfClosing=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("unexpected-character-after-solidus-in-tag"),buffer.unget(c),tokenizer.setState(before_attribute_name_state)),!0}function bogus_comment_state(buffer){var data=buffer.matchUntil(">");return data=data.replace(/\\u0000/g,"�"),buffer.char(),tokenizer._emitToken({type:"Comment",data:data}),tokenizer.setState(data_state),!0}function markup_declaration_open_state(buffer){var chars=buffer.shift(2);if("--"===chars)tokenizer._currentToken={type:"Comment",data:""},tokenizer.setState(comment_start_state);else{var newchars=buffer.shift(5);if(newchars===InputStream.EOF||chars===InputStream.EOF)return tokenizer._parseError("expected-dashes-or-doctype"),tokenizer.setState(bogus_comment_state),buffer.unget(chars),!0;chars+=newchars,"DOCTYPE"===chars.toUpperCase()?(tokenizer._currentToken={type:"Doctype",name:"",publicId:null,systemId:null,forceQuirks:!1},tokenizer.setState(doctype_state)):tokenizer._tokenHandler.isCdataSectionAllowed()&&"[CDATA["===chars?tokenizer.setState(cdata_section_state):(tokenizer._parseError("expected-dashes-or-doctype"),buffer.unget(chars),tokenizer.setState(bogus_comment_state))}return!0}function cdata_section_state(buffer){var data=buffer.matchUntil("]]>");return buffer.shift(3),data&&tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(data_state),!0}function comment_start_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_start_dash_state):">"===data?(tokenizer._parseError("incorrect-comment"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="�"):(tokenizer._currentToken.data+=data,tokenizer.setState(comment_state)),!0}function comment_start_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_state):">"===data?(tokenizer._parseError("incorrect-comment"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="�"):(tokenizer._currentToken.data+="-"+data,tokenizer.setState(comment_state)),!0}function comment_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_dash_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="�"):(tokenizer._currentToken.data+=data,buffer.commit()),!0}function comment_end_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-end-dash"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="-�",tokenizer.setState(comment_state)):(tokenizer._currentToken.data+="-"+data+buffer.matchUntil("\\0|-"),buffer.char()),!0}function comment_end_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-double-dash"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):">"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"!"===data?(tokenizer._parseError("unexpected-bang-after-double-dash-in-comment"),tokenizer.setState(comment_end_bang_state)):"-"===data?(tokenizer._parseError("unexpected-dash-after-double-dash-in-comment"),tokenizer._currentToken.data+=data):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="--�",tokenizer.setState(comment_state)):(tokenizer._parseError("unexpected-char-in-comment"),tokenizer._currentToken.data+="--"+data,tokenizer.setState(comment_state)),!0}function comment_end_bang_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-end-bang-state"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):">"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"-"===data?(tokenizer._currentToken.data+="--!",tokenizer.setState(comment_end_dash_state)):(tokenizer._currentToken.data+="--!"+data,tokenizer.setState(comment_state)),!0}function doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-doctype-name-but-got-eof"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_name_state):(tokenizer._parseError("need-space-after-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_name_state)),!0}function before_doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-doctype-name-but-got-eof"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||(">"===data?(tokenizer._parseError("expected-doctype-name-but-got-right-bracket"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name=data,tokenizer.setState(doctype_name_state))),!0}function doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError("eof-in-doctype-name"),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(after_doctype_name_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name+=data,buffer.commit()),!0}function after_doctype_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError("eof-in-doctype"),tokenizer.setState(data_state),tokenizer._emitCurrentToken();else if(isWhitespace(data));else if(">"===data)tokenizer.setState(data_state),tokenizer._emitCurrentToken();else{if(["p","P"].indexOf(data)>-1){var expected=[["u","U"],["b","B"],["l","L"],["i","I"],["c","C"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_public_keyword_state),!0}else if(["s","S"].indexOf(data)>-1){var expected=[["y","Y"],["s","S"],["t","T"],["e","E"],["m","M"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_system_keyword_state),!0}buffer.unget(data),tokenizer._currentToken.forceQuirks=!0,data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("expected-space-or-right-bracket-in-doctype",{data:data}),tokenizer.setState(bogus_doctype_state))}return!0}function after_doctype_public_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_public_identifier_state):"\'"===data||\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)),!0}function before_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||(\'"\'===data?(tokenizer._currentToken.publicId="",tokenizer.setState(doctype_public_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.publicId="",tokenizer.setState(doctype_public_identifier_single_quoted_state)):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_public_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\'"\'===data?tokenizer.setState(after_doctype_public_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function doctype_public_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):"\'"===data?tokenizer.setState(after_doctype_public_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function after_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(between_doctype_public_and_system_identifiers_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state)),!0}function between_doctype_public_and_system_identifiers_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(">"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):\'"\'===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function after_doctype_system_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_doctype_system_identifier_state):"\'"===data||\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)),!0}function before_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(\'"\'===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_system_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):\'"\'===data?tokenizer.setState(after_doctype_system_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function doctype_system_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):"\'"===data?tokenizer.setState(after_doctype_system_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function after_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(">"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer.setState(bogus_doctype_state))),!0}function bogus_doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):">"===data&&(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)),!0}Tokenizer.DATA=data_state,Tokenizer.RCDATA=rcdata_state,Tokenizer.RAWTEXT=rawtext_state,Tokenizer.SCRIPT_DATA=script_data_state,Tokenizer.PLAINTEXT=plaintext_state,this._state=Tokenizer.DATA,this._inputStream.append(source),this._tokenHandler.startTokenization(this),this._inputStream.eof=!0;for(var tokenizer=this;this._state.call(this,this._inputStream););},Object.defineProperty(Tokenizer.prototype,"lineNumber",{get:function(){return this._inputStream.location().line}}),Object.defineProperty(Tokenizer.prototype,"columnNumber",{get:function(){return this._inputStream.location().column}}),exports.Tokenizer=Tokenizer},{"./EntityParser":2,"./InputStream":3}],6:[function(_dereq_,module,exports){function isWhitespace(ch){return" "===ch||"\\n"===ch||"	"===ch||"\\r"===ch||"\\f"===ch}function isWhitespaceOrReplacementCharacter(ch){return isWhitespace(ch)||"�"===ch}function isAllWhitespace(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespace(ch))return!1}return!0}function isAllWhitespaceOrReplacementCharacters(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespaceOrReplacementCharacter(ch))return!1}return!0}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute}return null}function CharacterBuffer(characters){this.characters=characters,this.current=0,this.end=this.characters.length}function TreeBuilder(){this.tokenizer=null,this.errorHandler=null,this.scriptingEnabled=!1,this.document=null,this.head=null,this.form=null,this.openElements=new ElementStack,this.activeFormattingElements=[],this.insertionMode=null,this.insertionModeName="",this.originalInsertionMode="",this.inQuirksMode=!1,this.compatMode="no quirks",this.framesetOk=!0,this.redirectAttachToFosterParent=!1,this.selfClosingFlagAcknowledged=!1,this.context="",this.pendingTableCharacters=[],this.shouldSkipLeadingNewline=!1;var tree=this,modes=this.insertionModes={};modes.base={end_tag_handlers:{"-default":"endTagOther"},start_tag_handlers:{"-default":"startTagOther"},processEOF:function(){tree.generateImpliedEndTags(),tree.openElements.length>2?tree.parseError("expected-closing-tag-but-got-eof"):2==tree.openElements.length&&"body"!=tree.openElements.item(1).localName?tree.parseError("expected-closing-tag-but-got-eof"):tree.context&&tree.openElements.length>1},processComment:function(data){tree.insertComment(data,tree.currentStackItem().node)},processDoctype:function(){tree.parseError("unexpected-doctype")},processStartTag:function(name,attributes,selfClosing){if(this[this.start_tag_handlers[name]])this[this.start_tag_handlers[name]](name,attributes,selfClosing);else{if(!this[this.start_tag_handlers["-default"]])throw Error("No handler found for "+name);this[this.start_tag_handlers["-default"]](name,attributes,selfClosing)}},processEndTag:function(name){if(this[this.end_tag_handlers[name]])this[this.end_tag_handlers[name]](name);else{if(!this[this.end_tag_handlers["-default"]])throw Error("No handler found for "+name);this[this.end_tag_handlers["-default"]](name)}},startTagHtml:function(name,attributes){modes.inBody.startTagHtml(name,attributes)}},modes.initial=Object.create(modes.base),modes.initial.processEOF=function(){tree.parseError("expected-doctype-but-got-eof"),this.anythingElse(),tree.insertionMode.processEOF()},modes.initial.processComment=function(data){tree.insertComment(data,tree.document)},modes.initial.processDoctype=function(name,publicId,systemId,forceQuirks){function publicIdStartsWith(string){return 0===publicId.toLowerCase().indexOf(string)}tree.insertDoctype(name||"",publicId||"",systemId||""),forceQuirks||"html"!=name||null!=publicId&&(["+//silmaril//dtd html pro v0r11 19970101//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//as//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html strict//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//ietf//dtd html//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o\'reilly and associates//dtd html 2.0//","-//o\'reilly and associates//dtd html extended 1.0//","-//spyglass//dtd html 2.0 extended//","-//sq//dtd html 2.0 hotmetal + extensions//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//","html"].some(publicIdStartsWith)||["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"].indexOf(publicId.toLowerCase())>-1||null==systemId&&["-//w3c//dtd html 4.01 transitional//","-//w3c//dtd html 4.01 frameset//"].some(publicIdStartsWith))||null!=systemId&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"==systemId.toLowerCase()?(tree.compatMode="quirks",tree.parseError("quirky-doctype")):null!=publicId&&(["-//w3c//dtd xhtml 1.0 transitional//","-//w3c//dtd xhtml 1.0 frameset//"].some(publicIdStartsWith)||null!=systemId&&["-//w3c//dtd html 4.01 transitional//","-//w3c//dtd html 4.01 frameset//"].indexOf(publicId.toLowerCase())>-1)?(tree.compatMode="limited quirks",tree.parseError("almost-standards-doctype")):"-//W3C//DTD HTML 4.0//EN"==publicId&&(null==systemId||"http://www.w3.org/TR/REC-html40/strict.dtd"==systemId)||"-//W3C//DTD HTML 4.01//EN"==publicId&&(null==systemId||"http://www.w3.org/TR/html4/strict.dtd"==systemId)||"-//W3C//DTD XHTML 1.0 Strict//EN"==publicId&&"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"==systemId||"-//W3C//DTD XHTML 1.1//EN"==publicId&&"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"==systemId||(null!=systemId&&"about:legacy-compat"!=systemId||null!=publicId)&&tree.parseError("unknown-doctype"),tree.setInsertionMode("beforeHTML")},modes.initial.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(tree.parseError("expected-doctype-but-got-chars"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.initial.processStartTag=function(name,attributes,selfClosing){tree.parseError("expected-doctype-but-got-start-tag",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.initial.processEndTag=function(name){tree.parseError("expected-doctype-but-got-end-tag",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.initial.anythingElse=function(){tree.compatMode="quirks",tree.setInsertionMode("beforeHTML")},modes.beforeHTML=Object.create(modes.base),modes.beforeHTML.start_tag_handlers={html:"startTagHtml","-default":"startTagOther"},modes.beforeHTML.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.beforeHTML.processComment=function(data){tree.insertComment(data,tree.document)},modes.beforeHTML.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.beforeHTML.startTagHtml=function(name,attributes){tree.insertHtmlElement(attributes),tree.setInsertionMode("beforeHead")},modes.beforeHTML.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHTML.processEndTag=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.beforeHTML.anythingElse=function(){tree.insertHtmlElement(),tree.setInsertionMode("beforeHead")},modes.afterAfterBody=Object.create(modes.base),modes.afterAfterBody.start_tag_handlers={html:"startTagHtml","-default":"startTagOther"},modes.afterAfterBody.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterBody.processDoctype=function(data){modes.inBody.processDoctype(data)},modes.afterAfterBody.startTagHtml=function(data,attributes){modes.inBody.startTagHtml(data,attributes)},modes.afterAfterBody.startTagOther=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterAfterBody.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processEndTag(name)},modes.afterAfterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError("unexpected-char-after-body"),tree.setInsertionMode("inBody"),tree.insertionMode.processCharacters(data))},modes.afterBody=Object.create(modes.base),modes.afterBody.end_tag_handlers={html:"endTagHtml","-default":"endTagOther"},modes.afterBody.processComment=function(data){tree.insertComment(data,tree.openElements.rootNode)},modes.afterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError("unexpected-char-after-body"),tree.setInsertionMode("inBody"),tree.insertionMode.processCharacters(data))},modes.afterBody.processStartTag=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-after-body",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterBody.endTagHtml=function(){tree.context?tree.parseError("end-html-in-innerhtml"):tree.setInsertionMode("afterAfterBody")},modes.afterBody.endTagOther=function(name){tree.parseError("unexpected-end-tag-after-body",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processEndTag(name)},modes.afterFrameset=Object.create(modes.base),modes.afterFrameset.start_tag_handlers={html:"startTagHtml",noframes:"startTagNoframes","-default":"startTagOther"},modes.afterFrameset.end_tag_handlers={html:"endTagHtml","-default":"endTagOther"},modes.afterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace="",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&tree.insertText(whitespace),whitespace.length<characters.length&&tree.parseError("expected-eof-but-got-char")},modes.afterFrameset.startTagNoframes=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterFrameset.startTagOther=function(name){tree.parseError("unexpected-start-tag-after-frameset",{name:name})},modes.afterFrameset.endTagHtml=function(){tree.setInsertionMode("afterAfterFrameset")},modes.afterFrameset.endTagOther=function(name){tree.parseError("unexpected-end-tag-after-frameset",{name:name})},modes.beforeHead=Object.create(modes.base),modes.beforeHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead","-default":"startTagOther"},modes.beforeHead.end_tag_handlers={html:"endTagImplyHead",head:"endTagImplyHead",body:"endTagImplyHead",br:"endTagImplyHead","-default":"endTagOther"},modes.beforeHead.processEOF=function(){this.startTagHead("head",[]),tree.insertionMode.processEOF()},modes.beforeHead.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.startTagHead("head",[]),tree.insertionMode.processCharacters(buffer))},modes.beforeHead.startTagHead=function(name,attributes){tree.insertHeadElement(attributes),tree.setInsertionMode("inHead")},modes.beforeHead.startTagOther=function(name,attributes,selfClosing){this.startTagHead("head",[]),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHead.endTagImplyHead=function(name){this.startTagHead("head",[]),tree.insertionMode.processEndTag(name)},modes.beforeHead.endTagOther=function(name){tree.parseError("end-tag-after-implied-root",{name:name})},modes.inHead=Object.create(modes.base),modes.inHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead",title:"startTagTitle",script:"startTagScript",style:"startTagNoFramesStyle",noscript:"startTagNoScript",noframes:"startTagNoFramesStyle",base:"startTagBaseBasefontBgsoundLink",basefont:"startTagBaseBasefontBgsoundLink",bgsound:"startTagBaseBasefontBgsoundLink",link:"startTagBaseBasefontBgsoundLink",meta:"startTagMeta","-default":"startTagOther"},modes.inHead.end_tag_handlers={head:"endTagHead",html:"endTagHtmlBodyBr",body:"endTagHtmlBodyBr",br:"endTagHtmlBodyBr","-default":"endTagOther"},modes.inHead.processEOF=function(){var name=tree.currentStackItem().localName;\n-1!=["title","style","script"].indexOf(name)&&(tree.parseError("expected-named-closing-tag-but-got-eof",{name:name}),tree.popElement()),this.anythingElse(),tree.insertionMode.processEOF()},modes.inHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inHead.startTagHead=function(){tree.parseError("two-heads-are-not-better-than-one")},modes.inHead.startTagTitle=function(name,attributes){tree.processGenericRCDATAStartTag(name,attributes)},modes.inHead.startTagNoScript=function(name,attributes){return tree.scriptingEnabled?tree.processGenericRawTextStartTag(name,attributes):(tree.insertElement(name,attributes),tree.setInsertionMode("inHeadNoscript"),void 0)},modes.inHead.startTagNoFramesStyle=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inHead.startTagScript=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.SCRIPT_DATA),tree.originalInsertionMode=tree.insertionModeName,tree.setInsertionMode("text")},modes.inHead.startTagBaseBasefontBgsoundLink=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagMeta=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inHead.endTagHead=function(){"head"==tree.openElements.item(tree.openElements.length-1).localName?tree.openElements.pop():tree.parseError("unexpected-end-tag",{name:"head"}),tree.setInsertionMode("afterHead")},modes.inHead.endTagHtmlBodyBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.inHead.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inHead.anythingElse=function(){this.endTagHead("head")},modes.afterHead=Object.create(modes.base),modes.afterHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead",body:"startTagBody",frameset:"startTagFrameset",base:"startTagFromHead",link:"startTagFromHead",meta:"startTagFromHead",script:"startTagFromHead",style:"startTagFromHead",title:"startTagFromHead","-default":"startTagOther"},modes.afterHead.end_tag_handlers={body:"endTagBodyHtmlBr",html:"endTagBodyHtmlBr",br:"endTagBodyHtmlBr","-default":"endTagOther"},modes.afterHead.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.afterHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.afterHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.afterHead.startTagBody=function(name,attributes){tree.framesetOk=!1,tree.insertBodyElement(attributes),tree.setInsertionMode("inBody")},modes.afterHead.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes),tree.setInsertionMode("inFrameset")},modes.afterHead.startTagFromHead=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-out-of-my-head",{name:name}),tree.openElements.push(tree.head),modes.inHead.processStartTag(name,attributes,selfClosing),tree.openElements.remove(tree.head)},modes.afterHead.startTagHead=function(name){tree.parseError("unexpected-start-tag",{name:name})},modes.afterHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterHead.endTagBodyHtmlBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.afterHead.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.afterHead.anythingElse=function(){tree.insertBodyElement([]),tree.setInsertionMode("inBody"),tree.framesetOk=!0},modes.inBody=Object.create(modes.base),modes.inBody.start_tag_handlers={html:"startTagHtml",head:"startTagMisplaced",base:"startTagProcessInHead",basefont:"startTagProcessInHead",bgsound:"startTagProcessInHead",link:"startTagProcessInHead",meta:"startTagProcessInHead",noframes:"startTagProcessInHead",script:"startTagProcessInHead",style:"startTagProcessInHead",title:"startTagProcessInHead",body:"startTagBody",form:"startTagForm",plaintext:"startTagPlaintext",a:"startTagA",button:"startTagButton",xmp:"startTagXmp",table:"startTagTable",hr:"startTagHr",image:"startTagImage",input:"startTagInput",textarea:"startTagTextarea",select:"startTagSelect",isindex:"startTagIsindex",applet:"startTagAppletMarqueeObject",marquee:"startTagAppletMarqueeObject",object:"startTagAppletMarqueeObject",li:"startTagListItem",dd:"startTagListItem",dt:"startTagListItem",address:"startTagCloseP",article:"startTagCloseP",aside:"startTagCloseP",blockquote:"startTagCloseP",center:"startTagCloseP",details:"startTagCloseP",dir:"startTagCloseP",div:"startTagCloseP",dl:"startTagCloseP",fieldset:"startTagCloseP",figcaption:"startTagCloseP",figure:"startTagCloseP",footer:"startTagCloseP",header:"startTagCloseP",hgroup:"startTagCloseP",main:"startTagCloseP",menu:"startTagCloseP",nav:"startTagCloseP",ol:"startTagCloseP",p:"startTagCloseP",section:"startTagCloseP",summary:"startTagCloseP",ul:"startTagCloseP",listing:"startTagPreListing",pre:"startTagPreListing",b:"startTagFormatting",big:"startTagFormatting",code:"startTagFormatting",em:"startTagFormatting",font:"startTagFormatting",i:"startTagFormatting",s:"startTagFormatting",small:"startTagFormatting",strike:"startTagFormatting",strong:"startTagFormatting",tt:"startTagFormatting",u:"startTagFormatting",nobr:"startTagNobr",area:"startTagVoidFormatting",br:"startTagVoidFormatting",embed:"startTagVoidFormatting",img:"startTagVoidFormatting",keygen:"startTagVoidFormatting",wbr:"startTagVoidFormatting",param:"startTagParamSourceTrack",source:"startTagParamSourceTrack",track:"startTagParamSourceTrack",iframe:"startTagIFrame",noembed:"startTagRawText",noscript:"startTagRawText",h1:"startTagHeading",h2:"startTagHeading",h3:"startTagHeading",h4:"startTagHeading",h5:"startTagHeading",h6:"startTagHeading",caption:"startTagMisplaced",col:"startTagMisplaced",colgroup:"startTagMisplaced",frame:"startTagMisplaced",frameset:"startTagFrameset",tbody:"startTagMisplaced",td:"startTagMisplaced",tfoot:"startTagMisplaced",th:"startTagMisplaced",thead:"startTagMisplaced",tr:"startTagMisplaced",option:"startTagOptionOptgroup",optgroup:"startTagOptionOptgroup",math:"startTagMath",svg:"startTagSVG",rt:"startTagRpRt",rp:"startTagRpRt","-default":"startTagOther"},modes.inBody.end_tag_handlers={p:"endTagP",body:"endTagBody",html:"endTagHtml",address:"endTagBlock",article:"endTagBlock",aside:"endTagBlock",blockquote:"endTagBlock",button:"endTagBlock",center:"endTagBlock",details:"endTagBlock",dir:"endTagBlock",div:"endTagBlock",dl:"endTagBlock",fieldset:"endTagBlock",figcaption:"endTagBlock",figure:"endTagBlock",footer:"endTagBlock",header:"endTagBlock",hgroup:"endTagBlock",listing:"endTagBlock",main:"endTagBlock",menu:"endTagBlock",nav:"endTagBlock",ol:"endTagBlock",pre:"endTagBlock",section:"endTagBlock",summary:"endTagBlock",ul:"endTagBlock",form:"endTagForm",applet:"endTagAppletMarqueeObject",marquee:"endTagAppletMarqueeObject",object:"endTagAppletMarqueeObject",dd:"endTagListItem",dt:"endTagListItem",li:"endTagListItem",h1:"endTagHeading",h2:"endTagHeading",h3:"endTagHeading",h4:"endTagHeading",h5:"endTagHeading",h6:"endTagHeading",a:"endTagFormatting",b:"endTagFormatting",big:"endTagFormatting",code:"endTagFormatting",em:"endTagFormatting",font:"endTagFormatting",i:"endTagFormatting",nobr:"endTagFormatting",s:"endTagFormatting",small:"endTagFormatting",strike:"endTagFormatting",strong:"endTagFormatting",tt:"endTagFormatting",u:"endTagFormatting",br:"endTagBr","-default":"endTagOther"},modes.inBody.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline()),tree.reconstructActiveFormattingElements();var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),characters&&(tree.insertText(characters),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1))},modes.inBody.startTagHtml=function(name,attributes){tree.parseError("non-html-root"),tree.addAttributesToElement(tree.openElements.rootNode,attributes)},modes.inBody.startTagProcessInHead=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inBody.startTagBody=function(name,attributes){tree.parseError("unexpected-start-tag",{name:"body"}),1==tree.openElements.length||"body"!=tree.openElements.item(1).localName?assert.ok(tree.context):(tree.framesetOk=!1,tree.addAttributesToElement(tree.openElements.bodyElement,attributes))},modes.inBody.startTagFrameset=function(name,attributes){if(tree.parseError("unexpected-start-tag",{name:"frameset"}),1==tree.openElements.length||"body"!=tree.openElements.item(1).localName)assert.ok(tree.context);else if(tree.framesetOk){for(tree.detachFromParent(tree.openElements.bodyElement);tree.openElements.length>1;)tree.openElements.pop();tree.insertElement(name,attributes),tree.setInsertionMode("inFrameset")}},modes.inBody.startTagCloseP=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes)},modes.inBody.startTagPreListing=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.framesetOk=!1,tree.shouldSkipLeadingNewline=!0},modes.inBody.startTagForm=function(name,attributes){tree.form?tree.parseError("unexpected-start-tag",{name:name}):(tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.form=tree.currentStackItem())},modes.inBody.startTagRpRt=function(name,attributes){tree.openElements.inScope("ruby")&&(tree.generateImpliedEndTags(),"ruby"!=tree.currentStackItem().localName&&tree.parseError("unexpected-start-tag",{name:name})),tree.insertElement(name,attributes)},modes.inBody.startTagListItem=function(name,attributes){for(var stopNames={li:["li"],dd:["dd","dt"],dt:["dd","dt"]},stopName=stopNames[name],els=tree.openElements,i=els.length-1;i>=0;i--){var node=els.item(i);if(-1!=stopName.indexOf(node.localName)){tree.insertionMode.processEndTag(node.localName);break}if(node.isSpecial()&&"p"!==node.localName&&"address"!==node.localName&&"div"!==node.localName)break}tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagPlaintext=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.PLAINTEXT)},modes.inBody.startTagHeading=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.currentStackItem().isNumberedHeader()&&(tree.parseError("unexpected-start-tag",{name:name}),tree.popElement()),tree.insertElement(name,attributes)},modes.inBody.startTagA=function(name,attributes){var activeA=tree.elementInActiveFormattingElements("a");activeA&&(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"a",endName:"a"}),tree.adoptionAgencyEndTag("a"),tree.openElements.contains(activeA)&&tree.openElements.remove(activeA),tree.removeElementFromActiveFormattingElements(activeA)),tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagNobr=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.openElements.inScope("nobr")&&(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"nobr",endName:"nobr"}),this.processEndTag("nobr"),tree.reconstructActiveFormattingElements()),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagButton=function(name,attributes){tree.openElements.inScope("button")?(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"button",endName:"button"}),this.processEndTag("button"),tree.insertionMode.processStartTag(name,attributes)):(tree.framesetOk=!1,tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes))},modes.inBody.startTagAppletMarqueeObject=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.activeFormattingElements.push(Marker),tree.framesetOk=!1},modes.inBody.endTagAppletMarqueeObject=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name),tree.clearActiveFormattingElements()):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.startTagXmp=function(name,attributes){tree.openElements.inButtonScope("p")&&this.processEndTag("p"),tree.reconstructActiveFormattingElements(),tree.processGenericRawTextStartTag(name,attributes),tree.framesetOk=!1},modes.inBody.startTagTable=function(name,attributes){"quirks"!==tree.compatMode&&tree.openElements.inButtonScope("p")&&this.processEndTag("p"),tree.insertElement(name,attributes),tree.setInsertionMode("inTable"),tree.framesetOk=!1},modes.inBody.startTagVoidFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagParamSourceTrack=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inBody.startTagHr=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagImage=function(name,attributes){tree.parseError("unexpected-start-tag-treated-as",{originalName:"image",newName:"img"}),this.processStartTag("img",attributes)},modes.inBody.startTagInput=function(name,attributes){var currentFramesetOk=tree.framesetOk;this.startTagVoidFormatting(name,attributes);for(var key in attributes)if("type"==attributes[key].nodeName){"hidden"==attributes[key].nodeValue.toLowerCase()&&(tree.framesetOk=currentFramesetOk);break}},modes.inBody.startTagIsindex=function(name,attributes){if(tree.parseError("deprecated-tag",{name:"isindex"}),tree.selfClosingFlagAcknowledged=!0,!tree.form){var formAttributes=[],inputAttributes=[],prompt="This is a searchable index. Enter search keywords: ";for(var key in attributes)switch(attributes[key].nodeName){case"action":formAttributes.push({nodeName:"action",nodeValue:attributes[key].nodeValue});break;case"prompt":prompt=attributes[key].nodeValue;break;case"name":break;default:inputAttributes.push({nodeName:attributes[key].nodeName,nodeValue:attributes[key].nodeValue})}inputAttributes.push({nodeName:"name",nodeValue:"isindex"}),this.processStartTag("form",formAttributes),this.processStartTag("hr"),this.processStartTag("label"),this.processCharacters(new CharacterBuffer(prompt)),this.processStartTag("input",inputAttributes),this.processEndTag("label"),this.processStartTag("hr"),this.processEndTag("form")}},modes.inBody.startTagTextarea=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.RCDATA),tree.originalInsertionMode=tree.insertionModeName,tree.shouldSkipLeadingNewline=!0,tree.framesetOk=!1,tree.setInsertionMode("text")},modes.inBody.startTagIFrame=function(name,attributes){tree.framesetOk=!1,this.startTagRawText(name,attributes)},modes.inBody.startTagRawText=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inBody.startTagSelect=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.framesetOk=!1;var insertionModeName=tree.insertionModeName;"inTable"==insertionModeName||"inCaption"==insertionModeName||"inColumnGroup"==insertionModeName||"inTableBody"==insertionModeName||"inRow"==insertionModeName||"inCell"==insertionModeName?tree.setInsertionMode("inSelectInTable"):tree.setInsertionMode("inSelect")},modes.inBody.startTagMisplaced=function(name){tree.parseError("unexpected-start-tag-ignored",{name:name})},modes.inBody.endTagMisplaced=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagBr=function(name){tree.parseError("unexpected-end-tag-treated-as",{originalName:"br",newName:"br element"}),tree.reconstructActiveFormattingElements(),tree.insertElement(name,[]),tree.popElement()},modes.inBody.startTagOptionOptgroup=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.startTagOther=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.endTagOther=function(name){for(var node,i=tree.openElements.length-1;i>0;i--){if(node=tree.openElements.item(i),node.localName==name){tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError("unexpected-end-tag",{name:name}),tree.openElements.remove_openElements_until(function(x){return x===node});break}if(node.isSpecial()){tree.parseError("unexpected-end-tag",{name:name});break}}},modes.inBody.startTagMath=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustMathMLAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,"http://www.w3.org/1998/Math/MathML",selfClosing)},modes.inBody.startTagSVG=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustSVGAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,"http://www.w3.org/2000/svg",selfClosing)},modes.inBody.endTagP=function(name){tree.openElements.inButtonScope("p")?(tree.generateImpliedEndTags("p"),"p"!=tree.currentStackItem().localName&&tree.parseError("unexpected-implied-end-tag",{name:"p"}),tree.openElements.popUntilPopped(name)):(tree.parseError("unexpected-end-tag",{name:"p"}),this.startTagCloseP("p",[]),this.endTagP("p"))},modes.inBody.endTagBody=function(name){return tree.openElements.inScope("body")?("body"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode("afterBody"),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagHtml=function(name){return tree.openElements.inScope("body")?("body"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode("afterBody"),tree.insertionMode.processEndTag(name),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagBlock=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagForm=function(name){var node=tree.form;tree.form=null,node&&tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem()!=node&&tree.parseError("end-tag-too-early-ignored",{name:"form"}),tree.openElements.remove(node)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagListItem=function(name){tree.openElements.inListItemScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagHeading=function(name){return tree.openElements.hasNumberedHeaderElementInScope()?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.remove_openElements_until(function(e){return e.isNumberedHeader()}),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagFormatting=function(name,attributes){tree.adoptionAgencyEndTag(name)||this.endTagOther(name,attributes)},modes.inCaption=Object.create(modes.base),modes.inCaption.start_tag_handlers={html:"startTagHtml",caption:"startTagTableElement",col:"startTagTableElement",colgroup:"startTagTableElement",tbody:"startTagTableElement",td:"startTagTableElement",tfoot:"startTagTableElement",thead:"startTagTableElement",tr:"startTagTableElement","-default":"startTagOther"},modes.inCaption.end_tag_handlers={caption:"endTagCaption",table:"endTagTable",body:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",tbody:"endTagIgnore",td:"endTagIgnore",tfood:"endTagIgnore",thead:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inCaption.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCaption.startTagTableElement=function(name,attributes){tree.parseError("unexpected-end-tag",{name:name});var ignoreEndTag=!tree.openElements.inTableScope("caption");tree.insertionMode.processEndTag("caption"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inCaption.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCaption.endTagCaption=function(name){tree.openElements.inTableScope("caption")?(tree.generateImpliedEndTags(),"caption"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{gotName:"caption",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped("caption"),tree.clearActiveFormattingElements(),tree.setInsertionMode("inTable")):(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name}))},modes.inCaption.endTagTable=function(name){tree.parseError("unexpected-end-table-in-caption");var ignoreEndTag=!tree.openElements.inTableScope("caption");tree.insertionMode.processEndTag("caption"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inCaption.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inCaption.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell=Object.create(modes.base),modes.inCell.start_tag_handlers={html:"startTagHtml",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",td:"startTagTableOther",tfoot:"startTagTableOther",th:"startTagTableOther",thead:"startTagTableOther",tr:"startTagTableOther","-default":"startTagOther"},modes.inCell.end_tag_handlers={td:"endTagTableCell",th:"endTagTableCell",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",table:"endTagImply",tbody:"endTagImply",tfoot:"endTagImply",thead:"endTagImply",tr:"endTagImply","-default":"endTagOther"},modes.inCell.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCell.startTagTableOther=function(name,attributes,selfClosing){tree.openElements.inTableScope("td")||tree.openElements.inTableScope("th")?(this.closeCell(),tree.insertionMode.processStartTag(name,attributes,selfClosing)):tree.parseError("unexpected-start-tag",{name:name})},modes.inCell.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCell.endTagTableCell=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name.toLowerCase()?(tree.parseError("unexpected-cell-end-tag",{name:name}),tree.openElements.popUntilPopped(name)):tree.popElement(),tree.clearActiveFormattingElements(),tree.setInsertionMode("inRow")):tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagImply=function(name){tree.openElements.inTableScope(name)?(this.closeCell(),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell.closeCell=function(){tree.openElements.inTableScope("td")?this.endTagTableCell("td"):tree.openElements.inTableScope("th")&&this.endTagTableCell("th")},modes.inColumnGroup=Object.create(modes.base),modes.inColumnGroup.start_tag_handlers={html:"startTagHtml",col:"startTagCol","-default":"startTagOther"},modes.inColumnGroup.end_tag_handlers={colgroup:"endTagColgroup",col:"endTagCol","-default":"endTagOther"},modes.inColumnGroup.ignoreEndTagColgroup=function(){return"html"==tree.currentStackItem().localName},modes.inColumnGroup.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();if(leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processCharacters(buffer)}},modes.inColumnGroup.startTagCol=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inColumnGroup.startTagOther=function(name,attributes,selfClosing){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inColumnGroup.endTagColgroup=function(name){this.ignoreEndTagColgroup()?(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name})):(tree.popElement(),tree.setInsertionMode("inTable"))},modes.inColumnGroup.endTagCol=function(){tree.parseError("no-end-tag",{name:"col"})},modes.inColumnGroup.endTagOther=function(name){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inForeignContent=Object.create(modes.base),modes.inForeignContent.processStartTag=function(name,attributes,selfClosing){if(-1!=["b","big","blockquote","body","br","center","code","dd","div","dl","dt","em","embed","h1","h2","h3","h4","h5","h6","head","hr","i","img","li","listing","menu","meta","nobr","ol","p","pre","ruby","s","small","span","strong","strike","sub","sup","table","tt","u","ul","var"].indexOf(name)||"font"==name&&attributes.some(function(attr){return["color","face","size"].indexOf(attr.nodeName)>=0})){for(tree.parseError("unexpected-html-element-in-foreign-content",{name:name});tree.currentStackItem().isForeign()&&!tree.currentStackItem().isHtmlIntegrationPoint()&&!tree.currentStackItem().isMathMLTextIntegrationPoint();)tree.openElements.pop();return tree.insertionMode.processStartTag(name,attributes,selfClosing),void 0}"http://www.w3.org/1998/Math/MathML"==tree.currentStackItem().namespaceURI&&(attributes=tree.adjustMathMLAttributes(attributes)),"http://www.w3.org/2000/svg"==tree.currentStackItem().namespaceURI&&(name=tree.adjustSVGTagNameCase(name),attributes=tree.adjustSVGAttributes(attributes)),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,tree.currentStackItem().namespaceURI,selfClosing)},modes.inForeignContent.processEndTag=function(name){var node=tree.currentStackItem(),index=tree.openElements.length-1;for(node.localName.toLowerCase()!=name&&tree.parseError("unexpected-end-tag",{name:name});;){if(0===index)break;if(node.localName.toLowerCase()==name){for(;tree.openElements.pop()!=node;);break}if(index-=1,node=tree.openElements.item(index),!node.isForeign()){tree.insertionMode.processEndTag(name);break}}},modes.inForeignContent.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),"�"}),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1),tree.insertText(characters)},modes.inHeadNoscript=Object.create(modes.base),modes.inHeadNoscript.start_tag_handlers={html:"startTagHtml",basefont:"startTagBasefontBgsoundLinkMetaNoframesStyle",bgsound:"startTagBasefontBgsoundLinkMetaNoframesStyle",link:"startTagBasefontBgsoundLinkMetaNoframesStyle",meta:"startTagBasefontBgsoundLinkMetaNoframesStyle",noframes:"startTagBasefontBgsoundLinkMetaNoframesStyle",style:"startTagBasefontBgsoundLinkMetaNoframesStyle",head:"startTagHeadNoscript",noscript:"startTagHeadNoscript","-default":"startTagOther"},modes.inHeadNoscript.end_tag_handlers={noscript:"endTagNoscript",br:"endTagBr","-default":"endTagOther"},modes.inHeadNoscript.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(tree.parseError("unexpected-char-in-frameset"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHeadNoscript.processComment=function(data){modes.inHead.processComment(data)},modes.inHeadNoscript.startTagBasefontBgsoundLinkMetaNoframesStyle=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inHeadNoscript.startTagHeadNoscript=function(name){tree.parseError("unexpected-start-tag-in-frameset",{name:name})},modes.inHeadNoscript.startTagOther=function(name,attributes){tree.parseError("unexpected-start-tag-in-frameset",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes)},modes.inHeadNoscript.endTagBr=function(name,attributes){tree.parseError("unexpected-end-tag-in-frameset",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name,attributes)},modes.inHeadNoscript.endTagNoscript=function(){tree.popElement(),tree.setInsertionMode("inHead")},modes.inHeadNoscript.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-frameset",{name:name})},modes.inHeadNoscript.anythingElse=function(){tree.popElement(),tree.setInsertionMode("inHead")},modes.inFrameset=Object.create(modes.base),modes.inFrameset.start_tag_handlers={html:"startTagHtml",frameset:"startTagFrameset",frame:"startTagFrame",noframes:"startTagNoframes","-default":"startTagOther"},modes.inFrameset.end_tag_handlers={frameset:"endTagFrameset",noframes:"endTagNoframes","-default":"endTagOther"},modes.inFrameset.processCharacters=function(){tree.parseError("unexpected-char-in-frameset")},modes.inFrameset.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes)},modes.inFrameset.startTagFrame=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inFrameset.startTagNoframes=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inFrameset.startTagOther=function(name){tree.parseError("unexpected-start-tag-in-frameset",{name:name})},modes.inFrameset.endTagFrameset=function(){"html"==tree.currentStackItem().localName?tree.parseError("unexpected-frameset-in-frameset-innerhtml"):tree.popElement(),tree.context||"frameset"==tree.currentStackItem().localName||tree.setInsertionMode("afterFrameset")},modes.inFrameset.endTagNoframes=function(name){modes.inBody.processEndTag(name)},modes.inFrameset.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-frameset",{name:name})},modes.inTable=Object.create(modes.base),modes.inTable.start_tag_handlers={html:"startTagHtml",caption:"startTagCaption",colgroup:"startTagColgroup",col:"startTagCol",table:"startTagTable",tbody:"startTagRowGroup",tfoot:"startTagRowGroup",thead:"startTagRowGroup",td:"startTagImplyTbody",th:"startTagImplyTbody",tr:"startTagImplyTbody",style:"startTagStyleScript",script:"startTagStyleScript",input:"startTagInput",form:"startTagForm","-default":"startTagOther"},modes.inTable.end_tag_handlers={table:"endTagTable",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",tbody:"endTagIgnore",td:"endTagIgnore",tfoot:"endTagIgnore",th:"endTagIgnore",thead:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inTable.processCharacters=function(data){if(tree.currentStackItem().isFosterParenting()){var originalInsertionMode=tree.insertionModeName;\ntree.setInsertionMode("inTableText"),tree.originalInsertionMode=originalInsertionMode,tree.insertionMode.processCharacters(data)}else tree.redirectAttachToFosterParent=!0,modes.inBody.processCharacters(data),tree.redirectAttachToFosterParent=!1},modes.inTable.startTagCaption=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.activeFormattingElements.push(Marker),tree.insertElement(name,attributes),tree.setInsertionMode("inCaption")},modes.inTable.startTagColgroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inColumnGroup")},modes.inTable.startTagCol=function(name,attributes){this.startTagColgroup("colgroup",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagRowGroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inTableBody")},modes.inTable.startTagImplyTbody=function(name,attributes){this.startTagRowGroup("tbody",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagTable=function(name,attributes){tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"table",endName:"table"}),tree.insertionMode.processEndTag("table"),tree.context||tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagStyleScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inTable.startTagInput=function(name,attributes){for(var key in attributes)if("type"==attributes[key].nodeName.toLowerCase()){if("hidden"==attributes[key].nodeValue.toLowerCase())return tree.parseError("unexpected-hidden-input-in-table"),tree.insertElement(name,attributes),tree.openElements.pop(),void 0;break}this.startTagOther(name,attributes)},modes.inTable.startTagForm=function(name,attributes){tree.parseError("unexpected-form-in-table"),tree.form||(tree.insertElement(name,attributes),tree.form=tree.currentStackItem(),tree.openElements.pop())},modes.inTable.startTagOther=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-implies-table-voodoo",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processStartTag(name,attributes,selfClosing),tree.redirectAttachToFosterParent=!1},modes.inTable.endTagTable=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early-named",{gotName:"table",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped("table"),tree.resetInsertionMode()):(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name}))},modes.inTable.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inTable.endTagOther=function(name){tree.parseError("unexpected-end-tag-implies-table-voodoo",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processEndTag(name),tree.redirectAttachToFosterParent=!1},modes.inTableText=Object.create(modes.base),modes.inTableText.flushCharacters=function(){var characters=tree.pendingTableCharacters.join("");isAllWhitespace(characters)?tree.insertText(characters):(tree.redirectAttachToFosterParent=!0,tree.reconstructActiveFormattingElements(),tree.insertText(characters),tree.framesetOk=!1,tree.redirectAttachToFosterParent=!1),tree.pendingTableCharacters=[]},modes.inTableText.processComment=function(data){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processComment(data)},modes.inTableText.processEOF=function(){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.inTableText.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),characters&&tree.pendingTableCharacters.push(characters)},modes.inTableText.processStartTag=function(name,attributes,selfClosing){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inTableText.processEndTag=function(name,attributes){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEndTag(name,attributes)},modes.inTableBody=Object.create(modes.base),modes.inTableBody.start_tag_handlers={html:"startTagHtml",tr:"startTagTr",td:"startTagTableCell",th:"startTagTableCell",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",tfoot:"startTagTableOther",thead:"startTagTableOther","-default":"startTagOther"},modes.inTableBody.end_tag_handlers={table:"endTagTable",tbody:"endTagTableRowGroup",tfoot:"endTagTableRowGroup",thead:"endTagTableRowGroup",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",td:"endTagIgnore",th:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inTableBody.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inTableBody.startTagTr=function(name,attributes){tree.openElements.popUntilTableBodyScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inRow")},modes.inTableBody.startTagTableCell=function(name,attributes){tree.parseError("unexpected-cell-in-table-body",{name:name}),this.startTagTr("tr",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTableBody.startTagTableOther=function(name,attributes){tree.openElements.inTableScope("tbody")||tree.openElements.inTableScope("thead")||tree.openElements.inTableScope("tfoot")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processStartTag(name,attributes)):tree.parseError("unexpected-start-tag",{name:name})},modes.inTableBody.startTagOther=function(name,attributes){modes.inTable.processStartTag(name,attributes)},modes.inTableBody.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(tree.openElements.popUntilTableBodyScopeMarker(),tree.popElement(),tree.setInsertionMode("inTable")):tree.parseError("unexpected-end-tag-in-table-body",{name:name})},modes.inTableBody.endTagTable=function(name){tree.openElements.inTableScope("tbody")||tree.openElements.inTableScope("thead")||tree.openElements.inTableScope("tfoot")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inTableBody.endTagIgnore=function(name){tree.parseError("unexpected-end-tag-in-table-body",{name:name})},modes.inTableBody.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inSelect=Object.create(modes.base),modes.inSelect.start_tag_handlers={html:"startTagHtml",option:"startTagOption",optgroup:"startTagOptgroup",select:"startTagSelect",input:"startTagInput",keygen:"startTagInput",textarea:"startTagInput",script:"startTagScript","-default":"startTagOther"},modes.inSelect.end_tag_handlers={option:"endTagOption",optgroup:"endTagOptgroup",select:"endTagSelect",caption:"endTagTableElements",table:"endTagTableElements",tbody:"endTagTableElements",tfoot:"endTagTableElements",thead:"endTagTableElements",tr:"endTagTableElements",td:"endTagTableElements",th:"endTagTableElements","-default":"endTagOther"},modes.inSelect.processCharacters=function(buffer){var data=buffer.takeRemaining();data=data.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),data&&tree.insertText(data)},modes.inSelect.startTagOption=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.startTagOptgroup=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),"optgroup"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.endTagOption=function(name){return"option"!==tree.currentStackItem().localName?(tree.parseError("unexpected-end-tag-in-select",{name:name}),void 0):(tree.popElement(),void 0)},modes.inSelect.endTagOptgroup=function(){"option"==tree.currentStackItem().localName&&"optgroup"==tree.openElements.item(tree.openElements.length-2).localName&&tree.popElement(),"optgroup"==tree.currentStackItem().localName?tree.popElement():tree.parseError("unexpected-end-tag-in-select",{name:"optgroup"})},modes.inSelect.startTagSelect=function(){tree.parseError("unexpected-select-in-select"),this.endTagSelect("select")},modes.inSelect.endTagSelect=function(name){tree.openElements.inTableScope("select")?(tree.openElements.popUntilPopped("select"),tree.resetInsertionMode()):tree.parseError("unexpected-end-tag",{name:name})},modes.inSelect.startTagInput=function(name,attributes){tree.parseError("unexpected-input-in-select"),tree.openElements.inSelectScope("select")&&(this.endTagSelect("select"),tree.insertionMode.processStartTag(name,attributes))},modes.inSelect.startTagScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inSelect.endTagTableElements=function(name){tree.parseError("unexpected-end-tag-in-select",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagSelect("select"),tree.insertionMode.processEndTag(name))},modes.inSelect.startTagOther=function(name){tree.parseError("unexpected-start-tag-in-select",{name:name})},modes.inSelect.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-select",{name:name})},modes.inSelectInTable=Object.create(modes.base),modes.inSelectInTable.start_tag_handlers={caption:"startTagTable",table:"startTagTable",tbody:"startTagTable",tfoot:"startTagTable",thead:"startTagTable",tr:"startTagTable",td:"startTagTable",th:"startTagTable","-default":"startTagOther"},modes.inSelectInTable.end_tag_handlers={caption:"endTagTable",table:"endTagTable",tbody:"endTagTable",tfoot:"endTagTable",thead:"endTagTable",tr:"endTagTable",td:"endTagTable",th:"endTagTable","-default":"endTagOther"},modes.inSelectInTable.processCharacters=function(data){modes.inSelect.processCharacters(data)},modes.inSelectInTable.startTagTable=function(name,attributes){tree.parseError("unexpected-table-element-start-tag-in-select-in-table",{name:name}),this.endTagOther("select"),tree.insertionMode.processStartTag(name,attributes)},modes.inSelectInTable.startTagOther=function(name,attributes,selfClosing){modes.inSelect.processStartTag(name,attributes,selfClosing)},modes.inSelectInTable.endTagTable=function(name){tree.parseError("unexpected-table-element-end-tag-in-select-in-table",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagOther("select"),tree.insertionMode.processEndTag(name))},modes.inSelectInTable.endTagOther=function(name){modes.inSelect.processEndTag(name)},modes.inRow=Object.create(modes.base),modes.inRow.start_tag_handlers={html:"startTagHtml",td:"startTagTableCell",th:"startTagTableCell",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",tfoot:"startTagTableOther",thead:"startTagTableOther",tr:"startTagTableOther","-default":"startTagOther"},modes.inRow.end_tag_handlers={tr:"endTagTr",table:"endTagTable",tbody:"endTagTableRowGroup",tfoot:"endTagTableRowGroup",thead:"endTagTableRowGroup",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",td:"endTagIgnore",th:"endTagIgnore","-default":"endTagOther"},modes.inRow.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inRow.startTagTableCell=function(name,attributes){tree.openElements.popUntilTableRowScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inCell"),tree.activeFormattingElements.push(Marker)},modes.inRow.startTagTableOther=function(name,attributes){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr("tr"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inRow.startTagOther=function(name,attributes,selfClosing){modes.inTable.processStartTag(name,attributes,selfClosing)},modes.inRow.endTagTr=function(name){this.ignoreEndTagTr()?(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name})):(tree.openElements.popUntilTableRowScopeMarker(),tree.popElement(),tree.setInsertionMode("inTableBody"))},modes.inRow.endTagTable=function(name){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr("tr"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inRow.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(this.endTagTr("tr"),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inRow.endTagIgnore=function(name){tree.parseError("unexpected-end-tag-in-table-row",{name:name})},modes.inRow.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inRow.ignoreEndTagTr=function(){return!tree.openElements.inTableScope("tr")},modes.afterAfterFrameset=Object.create(modes.base),modes.afterAfterFrameset.start_tag_handlers={html:"startTagHtml",noframes:"startTagNoFrames","-default":"startTagOther"},modes.afterAfterFrameset.processEOF=function(){},modes.afterAfterFrameset.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace="",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&(tree.reconstructActiveFormattingElements(),tree.insertText(whitespace)),whitespace.length<characters.length&&tree.parseError("expected-eof-but-got-char")},modes.afterAfterFrameset.startTagNoFrames=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterAfterFrameset.startTagOther=function(name){tree.parseError("expected-eof-but-got-start-tag",{name:name})},modes.afterAfterFrameset.processEndTag=function(name){tree.parseError("expected-eof-but-got-end-tag",{name:name})},modes.text=Object.create(modes.base),modes.text.start_tag_handlers={"-default":"startTagOther"},modes.text.end_tag_handlers={script:"endTagScript","-default":"endTagOther"},modes.text.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline());var data=buffer.takeRemaining();data&&tree.insertText(data)},modes.text.processEOF=function(){tree.parseError("expected-named-closing-tag-but-got-eof",{name:tree.currentStackItem().localName}),tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.text.startTagOther=function(name){throw"Tried to process start tag "+name+" in RCDATA/RAWTEXT mode"},modes.text.endTagScript=function(){var node=tree.openElements.pop();assert.ok("script"==node.localName),tree.setInsertionMode(tree.originalInsertionMode)},modes.text.endTagOther=function(){tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode)}}function formatMessage(format,args){return format.replace(RegExp("{[0-9a-z-]+}","gi"),function(match){return args[match.slice(1,-1)]||match})}var assert=_dereq_("assert"),messages=_dereq_("./messages.json"),constants=_dereq_("./constants");_dereq_("events").EventEmitter;var Tokenizer=_dereq_("./Tokenizer").Tokenizer,ElementStack=_dereq_("./ElementStack").ElementStack,StackItem=_dereq_("./StackItem").StackItem,Marker={};CharacterBuffer.prototype.skipAtMostOneLeadingNewline=function(){"\\n"===this.characters[this.current]&&this.current++},CharacterBuffer.prototype.skipLeadingWhitespace=function(){for(;isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.skipLeadingNonWhitespace=function(){for(;!isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.takeRemaining=function(){return this.characters.substring(this.current)},CharacterBuffer.prototype.takeLeadingWhitespace=function(){var start=this.current;return this.skipLeadingWhitespace(),start===this.current?"":this.characters.substring(start,this.current-start)},Object.defineProperty(CharacterBuffer.prototype,"length",{get:function(){return this.end-this.current}}),TreeBuilder.prototype.setInsertionMode=function(name){this.insertionMode=this.insertionModes[name],this.insertionModeName=name},TreeBuilder.prototype.adoptionAgencyEndTag=function(name){function isActiveFormattingElement(el){return el===formattingElement}for(var formattingElement,outerIterationLimit=8,innerIterationLimit=3,outerLoopCounter=0;outerIterationLimit>outerLoopCounter++;){if(formattingElement=this.elementInActiveFormattingElements(name),!formattingElement||this.openElements.contains(formattingElement)&&!this.openElements.inScope(formattingElement.localName))return this.parseError("adoption-agency-1.1",{name:name}),!1;if(!this.openElements.contains(formattingElement))return this.parseError("adoption-agency-1.2",{name:name}),this.removeElementFromActiveFormattingElements(formattingElement),!0;this.openElements.inScope(formattingElement.localName)||this.parseError("adoption-agency-4.4",{name:name}),formattingElement!=this.currentStackItem()&&this.parseError("adoption-agency-1.3",{name:name});var furthestBlock=this.openElements.furthestBlockForFormattingElement(formattingElement.node);if(!furthestBlock)return this.openElements.remove_openElements_until(isActiveFormattingElement),this.removeElementFromActiveFormattingElements(formattingElement),!0;for(var afeIndex=this.openElements.elements.indexOf(formattingElement),commonAncestor=this.openElements.item(afeIndex-1),bookmark=this.activeFormattingElements.indexOf(formattingElement),node=furthestBlock,lastNode=furthestBlock,index=this.openElements.elements.indexOf(node),innerLoopCounter=0;innerIterationLimit>innerLoopCounter++;)if(index-=1,node=this.openElements.item(index),0>this.activeFormattingElements.indexOf(node))this.openElements.elements.splice(index,1);else{if(node==formattingElement)break;lastNode==furthestBlock&&(bookmark=this.activeFormattingElements.indexOf(node)+1);var clone=this.createElement(node.namespaceURI,node.localName,node.attributes),newNode=new StackItem(node.namespaceURI,node.localName,node.attributes,clone);this.activeFormattingElements[this.activeFormattingElements.indexOf(node)]=newNode,this.openElements.elements[this.openElements.elements.indexOf(node)]=newNode,node=newNode,this.detachFromParent(lastNode.node),this.attachNode(lastNode.node,node.node),lastNode=node}this.detachFromParent(lastNode.node),commonAncestor.isFosterParenting()?this.insertIntoFosterParent(lastNode.node):this.attachNode(lastNode.node,commonAncestor.node);var clone=this.createElement("http://www.w3.org/1999/xhtml",formattingElement.localName,formattingElement.attributes),formattingClone=new StackItem(formattingElement.namespaceURI,formattingElement.localName,formattingElement.attributes,clone);this.reparentChildren(furthestBlock.node,clone),this.attachNode(clone,furthestBlock.node),this.removeElementFromActiveFormattingElements(formattingElement),this.activeFormattingElements.splice(Math.min(bookmark,this.activeFormattingElements.length),0,formattingClone),this.openElements.remove(formattingElement),this.openElements.elements.splice(this.openElements.elements.indexOf(furthestBlock)+1,0,formattingClone)}return!0},TreeBuilder.prototype.start=function(){throw"Not mplemented"},TreeBuilder.prototype.startTokenization=function(tokenizer){if(this.tokenizer=tokenizer,this.compatMode="no quirks",this.originalInsertionMode="initial",this.framesetOk=!0,this.openElements=new ElementStack,this.activeFormattingElements=[],this.start(),this.context){switch(this.context){case"title":case"textarea":this.tokenizer.setState(Tokenizer.RCDATA);break;case"style":case"xmp":case"iframe":case"noembed":case"noframes":this.tokenizer.setState(Tokenizer.RAWTEXT);break;case"script":this.tokenizer.setState(Tokenizer.SCRIPT_DATA);break;case"noscript":this.scriptingEnabled&&this.tokenizer.setState(Tokenizer.RAWTEXT);break;case"plaintext":this.tokenizer.setState(Tokenizer.PLAINTEXT)}this.insertHtmlElement(),this.resetInsertionMode()}else this.setInsertionMode("initial")},TreeBuilder.prototype.processToken=function(token){this.selfClosingFlagAcknowledged=!1;var insertionMode,currentNode=this.openElements.top||null;switch(insertionMode=!currentNode||!currentNode.isForeign()||currentNode.isMathMLTextIntegrationPoint()&&("StartTag"==token.type&&!(token.name in{mglyph:0,malignmark:0})||"Characters"===token.type)||"http://www.w3.org/1998/Math/MathML"==currentNode.namespaceURI&&"annotation-xml"==currentNode.localName&&"StartTag"==token.type&&"svg"==token.name||currentNode.isHtmlIntegrationPoint()&&token.type in{StartTag:0,Characters:0}||"EOF"==token.type?this.insertionMode:this.insertionModes.inForeignContent,token.type){case"Characters":var buffer=new CharacterBuffer(token.data);insertionMode.processCharacters(buffer);break;case"Comment":insertionMode.processComment(token.data);break;case"StartTag":insertionMode.processStartTag(token.name,token.data,token.selfClosing);break;case"EndTag":insertionMode.processEndTag(token.name);break;case"Doctype":insertionMode.processDoctype(token.name,token.publicId,token.systemId,token.forceQuirks);break;case"EOF":insertionMode.processEOF()}},TreeBuilder.prototype.isCdataSectionAllowed=function(){return this.openElements.length>0&&this.currentStackItem().isForeign()},TreeBuilder.prototype.isSelfClosingFlagAcknowledged=function(){return this.selfClosingFlagAcknowledged},TreeBuilder.prototype.createElement=function(){throw Error("Not implemented")},TreeBuilder.prototype.attachNode=function(){throw Error("Not implemented")},TreeBuilder.prototype.attachNodeToFosterParent=function(){throw Error("Not implemented")},TreeBuilder.prototype.detachFromParent=function(){throw Error("Not implemented")},TreeBuilder.prototype.addAttributesToElement=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertHtmlElement=function(attributes){var root=this.createElement("http://www.w3.org/1999/xhtml","html",attributes);return this.attachNode(root,this.document),this.openElements.pushHtmlElement(new StackItem("http://www.w3.org/1999/xhtml","html",attributes,root)),root},TreeBuilder.prototype.insertHeadElement=function(attributes){var element=this.createElement("http://www.w3.org/1999/xhtml","head",attributes);return this.head=new StackItem("http://www.w3.org/1999/xhtml","head",attributes,element),this.attachNode(element,this.openElements.top.node),this.openElements.pushHeadElement(this.head),element},TreeBuilder.prototype.insertBodyElement=function(attributes){var element=this.createElement("http://www.w3.org/1999/xhtml","body",attributes);return this.attachNode(element,this.openElements.top.node),this.openElements.pushBodyElement(new StackItem("http://www.w3.org/1999/xhtml","body",attributes,element)),element},TreeBuilder.prototype.insertIntoFosterParent=function(node){var tableIndex=this.openElements.findIndex("table"),tableElement=this.openElements.item(tableIndex).node;return 0===tableIndex?this.attachNode(node,tableElement):(this.attachNodeToFosterParent(node,tableElement,this.openElements.item(tableIndex-1).node),void 0)},TreeBuilder.prototype.insertElement=function(name,attributes,namespaceURI,selfClosing){namespaceURI||(namespaceURI="http://www.w3.org/1999/xhtml");var element=this.createElement(namespaceURI,name,attributes);this.shouldFosterParent()?this.insertIntoFosterParent(element):this.attachNode(element,this.openElements.top.node),selfClosing||this.openElements.push(new StackItem(namespaceURI,name,attributes,element))},TreeBuilder.prototype.insertFormattingElement=function(name,attributes){this.insertElement(name,attributes,"http://www.w3.org/1999/xhtml"),this.appendElementToActiveFormattingElements(this.currentStackItem())},TreeBuilder.prototype.insertSelfClosingElement=function(name,attributes){this.selfClosingFlagAcknowledged=!0,this.insertElement(name,attributes,"http://www.w3.org/1999/xhtml",!0)},TreeBuilder.prototype.insertForeignElement=function(name,attributes,namespaceURI,selfClosing){selfClosing&&(this.selfClosingFlagAcknowledged=!0),this.insertElement(name,attributes,namespaceURI,selfClosing)},TreeBuilder.prototype.insertComment=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertDoctype=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertText=function(){throw Error("Not implemented")},TreeBuilder.prototype.currentStackItem=function(){return this.openElements.top},TreeBuilder.prototype.popElement=function(){return this.openElements.pop()},TreeBuilder.prototype.shouldFosterParent=function(){return this.redirectAttachToFosterParent&&this.currentStackItem().isFosterParenting()},TreeBuilder.prototype.generateImpliedEndTags=function(exclude){var name=this.openElements.top.localName;-1!=["dd","dt","li","option","optgroup","p","rp","rt"].indexOf(name)&&name!=exclude&&(this.popElement(),this.generateImpliedEndTags(exclude))},TreeBuilder.prototype.reconstructActiveFormattingElements=function(){if(0!==this.activeFormattingElements.length){var i=this.activeFormattingElements.length-1,entry=this.activeFormattingElements[i];if(entry!=Marker&&!this.openElements.contains(entry)){for(;entry!=Marker&&!this.openElements.contains(entry)&&(i-=1,entry=this.activeFormattingElements[i]););for(;;){i+=1,entry=this.activeFormattingElements[i],this.insertElement(entry.localName,entry.attributes);var element=this.currentStackItem();if(this.activeFormattingElements[i]=element,element==this.activeFormattingElements[this.activeFormattingElements.length-1])break}}}},TreeBuilder.prototype.ensureNoahsArkCondition=function(item){var kNoahsArkCapacity=3;if(!(kNoahsArkCapacity>this.activeFormattingElements.length)){for(var candidates=[],newItemAttributeCount=item.attributes.length,i=this.activeFormattingElements.length-1;i>=0;i--){var candidate=this.activeFormattingElements[i];if(candidate===Marker)break;item.localName===candidate.localName&&item.namespaceURI===candidate.namespaceURI&&candidate.attributes.length==newItemAttributeCount&&candidates.push(candidate)}if(!(kNoahsArkCapacity>candidates.length)){for(var remainingCandidates=[],attributes=item.attributes,i=0;attributes.length>i;i++){for(var attribute=attributes[i],j=0;candidates.length>j;j++){var candidate=candidates[j],candidateAttribute=getAttribute(candidate,attribute.nodeName);candidateAttribute&&candidateAttribute.nodeValue===attribute.nodeValue&&remainingCandidates.push(candidate)}if(kNoahsArkCapacity>remainingCandidates.length)return;candidates=remainingCandidates,remainingCandidates=[]}for(var i=kNoahsArkCapacity-1;candidates.length>i;i++)this.removeElementFromActiveFormattingElements(candidates[i])}}},TreeBuilder.prototype.appendElementToActiveFormattingElements=function(item){this.ensureNoahsArkCondition(item),this.activeFormattingElements.push(item)},TreeBuilder.prototype.removeElementFromActiveFormattingElements=function(item){var index=this.activeFormattingElements.indexOf(item);index>=0&&this.activeFormattingElements.splice(index,1)},TreeBuilder.prototype.elementInActiveFormattingElements=function(name){for(var els=this.activeFormattingElements,i=els.length-1;i>=0&&els[i]!=Marker;i--)if(els[i].localName==name)return els[i];return!1},TreeBuilder.prototype.clearActiveFormattingElements=function(){for(;0!==this.activeFormattingElements.length&&this.activeFormattingElements.pop()!=Marker;);},TreeBuilder.prototype.reparentChildren=function(){throw Error("Not implemented")},TreeBuilder.prototype.setFragmentContext=function(context){this.context=context},TreeBuilder.prototype.parseError=function(code,args){if(this.errorHandler){var message=formatMessage(messages[code],args);this.errorHandler.error(message,this.tokenizer._inputStream.location(),code)}},TreeBuilder.prototype.resetInsertionMode=function(){for(var last=!1,node=null,i=this.openElements.length-1;i>=0;i--){if(node=this.openElements.item(i),0===i&&(assert.ok(this.context),last=!0,node=new StackItem("http://www.w3.org/1999/xhtml",this.context,[],null)),"http://www.w3.org/1999/xhtml"===node.namespaceURI){if("select"===node.localName)return this.setInsertionMode("inSelect");if("td"===node.localName||"th"===node.localName)return this.setInsertionMode("inCell");if("tr"===node.localName)return this.setInsertionMode("inRow");if("tbody"===node.localName||"thead"===node.localName||"tfoot"===node.localName)return this.setInsertionMode("inTableBody");if("caption"===node.localName)return this.setInsertionMode("inCaption");if("colgroup"===node.localName)return this.setInsertionMode("inColumnGroup");if("table"===node.localName)return this.setInsertionMode("inTable");if("head"===node.localName&&!last)return this.setInsertionMode("inHead");if("body"===node.localName)return this.setInsertionMode("inBody");if("frameset"===node.localName)return this.setInsertionMode("inFrameset");if("html"===node.localName)return this.openElements.headElement?this.setInsertionMode("afterHead"):this.setInsertionMode("beforeHead")}if(last)return this.setInsertionMode("inBody")}},TreeBuilder.prototype.processGenericRCDATAStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RCDATA),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode("text")},TreeBuilder.prototype.processGenericRawTextStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RAWTEXT),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode("text")},TreeBuilder.prototype.adjustMathMLAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI="http://www.w3.org/1998/Math/MathML",constants.MATHMLAttributeMap[a.nodeName]&&(a.nodeName=constants.MATHMLAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustSVGTagNameCase=function(name){return constants.SVGTagMap[name]||name},TreeBuilder.prototype.adjustSVGAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI="http://www.w3.org/2000/svg",constants.SVGAttributeMap[a.nodeName]&&(a.nodeName=constants.SVGAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustForeignAttributes=function(attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i],adjusted=constants.ForeignAttributeMap[attribute.nodeName];adjusted&&(attribute.nodeName=adjusted.localName,attribute.prefix=adjusted.prefix,attribute.namespaceURI=adjusted.namespaceURI)}return attributes},exports.TreeBuilder=TreeBuilder},{"./ElementStack":1,"./StackItem":4,"./Tokenizer":5,"./constants":7,"./messages.json":8,assert:13,events:16}],7:[function(_dereq_,module,exports){exports.SVGTagMap={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},exports.MATHMLAttributeMap={definitionurl:"definitionURL"},exports.SVGAttributeMap={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",externalresourcesacequired:"externalResourcesRequired",filterres:"filterRes",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",acequiredextensions:"acequiredExtensions",acequiredfeatures:"acequiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},exports.ForeignAttributeMap={"xlink:actuate":{prefix:"xlink",localName:"actuate",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:arcrole":{prefix:"xlink",localName:"arcrole",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:href":{prefix:"xlink",localName:"href",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:role":{prefix:"xlink",localName:"role",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:show":{prefix:"xlink",localName:"show",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:title":{prefix:"xlink",localName:"title",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:type":{prefix:"xlink",localName:"title",namespaceURI:"http://www.w3.org/1999/xlink"},"xml:base":{prefix:"xml",localName:"base",namespaceURI:"http://www.w3.org/XML/1998/namespace"},"xml:lang":{prefix:"xml",localName:"lang",namespaceURI:"http://www.w3.org/XML/1998/namespace"},"xml:space":{prefix:"xml",localName:"space",namespaceURI:"http://www.w3.org/XML/1998/namespace"},xmlns:{prefix:null,localName:"xmlns",namespaceURI:"http://www.w3.org/2000/xmlns/"},"xmlns:xlink":{prefix:"xmlns",localName:"xlink",namespaceURI:"http://www.w3.org/2000/xmlns/"}}\n},{}],8:[function(_dereq_,module){module.exports={"null-character":"Null character in input stream, replaced with U+FFFD.","invalid-codepoint":"Invalid codepoint in stream","incorrectly-placed-solidus":"Solidus (/) incorrectly placed in tag.","incorrect-cr-newline-entity":"Incorrect CR newline entity, replaced with LF.","illegal-windows-1252-entity":"Entity used with illegal number (windows-1252 reference).","cant-convert-numeric-entity":"Numeric entity couldn\'t be converted to character (codepoint U+{charAsInt}).","invalid-numeric-entity-replaced":"Numeric entity represents an illegal codepoint. Expanded to the C1 controls range.","numeric-entity-without-semicolon":"Numeric entity didn\'t end with \';\'.","expected-numeric-entity-but-got-eof":"Numeric entity expected. Got end of file instead.","expected-numeric-entity":"Numeric entity expected but none found.","named-entity-without-semicolon":"Named entity didn\'t end with \';\'.","expected-named-entity":"Named entity expected. Got none.","attributes-in-end-tag":"End tag contains unexpected attributes.","self-closing-flag-on-end-tag":"End tag contains unexpected self-closing flag.","bare-less-than-sign-at-eof":"End of file after <.","expected-tag-name-but-got-right-bracket":"Expected tag name. Got \'>\' instead.","expected-tag-name-but-got-question-mark":"Expected tag name. Got \'?\' instead. (HTML doesn\'t support processing instructions.)","expected-tag-name":"Expected tag name. Got something else instead.","expected-closing-tag-but-got-right-bracket":"Expected closing tag. Got \'>\' instead. Ignoring \'</>\'.","expected-closing-tag-but-got-eof":"Expected closing tag. Unexpected end of file.","expected-closing-tag-but-got-char":"Expected closing tag. Unexpected character \'{data}\' found.","eof-in-tag-name":"Unexpected end of file in the tag name.","expected-attribute-name-but-got-eof":"Unexpected end of file. Expected attribute name instead.","eof-in-attribute-name":"Unexpected end of file in attribute name.","invalid-character-in-attribute-name":"Invalid character in attribute name.","duplicate-attribute":"Dropped duplicate attribute \'{name}\' on tag.","expected-end-of-tag-but-got-eof":"Unexpected end of file. Expected = or end of tag.","expected-attribute-value-but-got-eof":"Unexpected end of file. Expected attribute value.","expected-attribute-value-but-got-right-bracket":"Expected attribute value. Got \'>\' instead.","unexpected-character-in-unquoted-attribute-value":"Unexpected character in unquoted attribute","invalid-character-after-attribute-name":"Unexpected character after attribute name.","unexpected-character-after-attribute-value":"Unexpected character after attribute value.","eof-in-attribute-value-double-quote":\'Unexpected end of file in attribute value (").\',"eof-in-attribute-value-single-quote":"Unexpected end of file in attribute value (\').","eof-in-attribute-value-no-quotes":"Unexpected end of file in attribute value.","eof-after-attribute-value":"Unexpected end of file after attribute value.","unexpected-eof-after-solidus-in-tag":"Unexpected end of file in tag. Expected >.","unexpected-character-after-solidus-in-tag":"Unexpected character after / in tag. Expected >.","expected-dashes-or-doctype":"Expected \'--\' or \'DOCTYPE\'. Not found.","unexpected-bang-after-double-dash-in-comment":"Unexpected ! after -- in comment.","incorrect-comment":"Incorrect comment.","eof-in-comment":"Unexpected end of file in comment.","eof-in-comment-end-dash":"Unexpected end of file in comment (-).","unexpected-dash-after-double-dash-in-comment":"Unexpected \'-\' after \'--\' found in comment.","eof-in-comment-double-dash":"Unexpected end of file in comment (--).","eof-in-comment-end-bang-state":"Unexpected end of file in comment.","unexpected-char-in-comment":"Unexpected character in comment found.","need-space-after-doctype":"No space after literal string \'DOCTYPE\'.","expected-doctype-name-but-got-right-bracket":"Unexpected > character. Expected DOCTYPE name.","expected-doctype-name-but-got-eof":"Unexpected end of file. Expected DOCTYPE name.","eof-in-doctype-name":"Unexpected end of file in DOCTYPE name.","eof-in-doctype":"Unexpected end of file in DOCTYPE.","expected-space-or-right-bracket-in-doctype":"Expected space or \'>\'. Got \'{data}\'.","unexpected-end-of-doctype":"Unexpected end of DOCTYPE.","unexpected-char-in-doctype":"Unexpected character in DOCTYPE.","eof-in-bogus-doctype":"Unexpected end of file in bogus doctype.","eof-in-innerhtml":"Unexpected EOF in inner html mode.","unexpected-doctype":"Unexpected DOCTYPE. Ignored.","non-html-root":"html needs to be the first start tag.","expected-doctype-but-got-eof":"Unexpected End of file. Expected DOCTYPE.","unknown-doctype":"Erroneous DOCTYPE. Expected <!DOCTYPE html>.","quirky-doctype":"Quirky doctype. Expected <!DOCTYPE html>.","almost-standards-doctype":"Almost standards mode doctype. Expected <!DOCTYPE html>.","obsolete-doctype":"Obsolete doctype. Expected <!DOCTYPE html>.","expected-doctype-but-got-chars":"Non-space characters found without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","expected-doctype-but-got-start-tag":"Start tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","expected-doctype-but-got-end-tag":"End tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","end-tag-after-implied-root":"Unexpected end tag ({name}) after the (implied) root element.","expected-named-closing-tag-but-got-eof":"Unexpected end of file. Expected end tag ({name}).","two-heads-are-not-better-than-one":"Unexpected start tag head in existing head. Ignored.","unexpected-end-tag":"Unexpected end tag ({name}). Ignored.","unexpected-implied-end-tag":"End tag {name} implied, but there were open elements.","unexpected-start-tag-out-of-my-head":"Unexpected start tag ({name}) that can be in head. Moved.","unexpected-start-tag":"Unexpected start tag ({name}).","missing-end-tag":"Missing end tag ({name}).","missing-end-tags":"Missing end tags ({name}).","unexpected-start-tag-implies-end-tag":"Unexpected start tag ({startName}) implies end tag ({endName}).","unexpected-start-tag-treated-as":"Unexpected start tag ({originalName}). Treated as {newName}.","deprecated-tag":"Unexpected start tag {name}. Don\'t use it!","unexpected-start-tag-ignored":"Unexpected start tag {name}. Ignored.","expected-one-end-tag-but-got-another":"Unexpected end tag ({gotName}). Missing end tag ({expectedName}).","end-tag-too-early":"End tag ({name}) seen too early. Expected other end tag.","end-tag-too-early-named":"Unexpected end tag ({gotName}). Expected end tag ({expectedName}.","end-tag-too-early-ignored":"End tag ({name}) seen too early. Ignored.","adoption-agency-1.1":"End tag ({name}) violates step 1, paragraph 1 of the adoption agency algorithm.","adoption-agency-1.2":"End tag ({name}) violates step 1, paragraph 2 of the adoption agency algorithm.","adoption-agency-1.3":"End tag ({name}) violates step 1, paragraph 3 of the adoption agency algorithm.","adoption-agency-4.4":"End tag ({name}) violates step 4, paragraph 4 of the adoption agency algorithm.","unexpected-end-tag-treated-as":"Unexpected end tag ({originalName}). Treated as {newName}.","no-end-tag":"This element ({name}) has no end tag.","unexpected-implied-end-tag-in-table":"Unexpected implied end tag ({name}) in the table phase.","unexpected-implied-end-tag-in-table-body":"Unexpected implied end tag ({name}) in the table body phase.","unexpected-char-implies-table-voodoo":"Unexpected non-space characters in table context caused voodoo mode.","unexpected-hidden-input-in-table":"Unexpected input with type hidden in table context.","unexpected-form-in-table":"Unexpected form in table context.","unexpected-start-tag-implies-table-voodoo":"Unexpected start tag ({name}) in table context caused voodoo mode.","unexpected-end-tag-implies-table-voodoo":"Unexpected end tag ({name}) in table context caused voodoo mode.","unexpected-cell-in-table-body":"Unexpected table cell start tag ({name}) in the table body phase.","unexpected-cell-end-tag":"Got table cell end tag ({name}) while acequired end tags are missing.","unexpected-end-tag-in-table-body":"Unexpected end tag ({name}) in the table body phase. Ignored.","unexpected-implied-end-tag-in-table-row":"Unexpected implied end tag ({name}) in the table row phase.","unexpected-end-tag-in-table-row":"Unexpected end tag ({name}) in the table row phase. Ignored.","unexpected-select-in-select":"Unexpected select start tag in the select phase treated as select end tag.","unexpected-input-in-select":"Unexpected input start tag in the select phase.","unexpected-start-tag-in-select":"Unexpected start tag token ({name}) in the select phase. Ignored.","unexpected-end-tag-in-select":"Unexpected end tag ({name}) in the select phase. Ignored.","unexpected-table-element-start-tag-in-select-in-table":"Unexpected table element start tag ({name}) in the select in table phase.","unexpected-table-element-end-tag-in-select-in-table":"Unexpected table element end tag ({name}) in the select in table phase.","unexpected-char-after-body":"Unexpected non-space characters in the after body phase.","unexpected-start-tag-after-body":"Unexpected start tag token ({name}) in the after body phase.","unexpected-end-tag-after-body":"Unexpected end tag token ({name}) in the after body phase.","unexpected-char-in-frameset":"Unepxected characters in the frameset phase. Characters ignored.","unexpected-start-tag-in-frameset":"Unexpected start tag token ({name}) in the frameset phase. Ignored.","unexpected-frameset-in-frameset-innerhtml":"Unexpected end tag token (frameset in the frameset phase (innerHTML).","unexpected-end-tag-in-frameset":"Unexpected end tag token ({name}) in the frameset phase. Ignored.","unexpected-char-after-frameset":"Unexpected non-space characters in the after frameset phase. Ignored.","unexpected-start-tag-after-frameset":"Unexpected start tag ({name}) in the after frameset phase. Ignored.","unexpected-end-tag-after-frameset":"Unexpected end tag ({name}) in the after frameset phase. Ignored.","expected-eof-but-got-char":"Unexpected non-space characters. Expected end of file.","expected-eof-but-got-start-tag":"Unexpected start tag ({name}). Expected end of file.","expected-eof-but-got-end-tag":"Unexpected end tag ({name}). Expected end of file.","unexpected-end-table-in-caption":"Unexpected end table tag in caption. Generates implied end caption.","end-html-in-innerhtml":"Unexpected html end tag in inner html mode.","eof-in-table":"Unexpected end of file. Expected table content.","eof-in-script":"Unexpected end of file. Expected script content.","non-void-element-with-trailing-solidus":"Trailing solidus not allowed on element {name}.","unexpected-html-element-in-foreign-content":\'HTML start tag "{name}" in a foreign namespace context.\',"unexpected-start-tag-in-table":"Unexpected {name}. Expected table content."}},{}],9:[function(_dereq_,module,exports){function SAXParser(){this.contentHandler=null,this._errorHandler=null,this._treeBuilder=new SAXTreeBuilder,this._tokenizer=new Tokenizer(this._treeBuilder),this._scriptingEnabled=!1}var SAXTreeBuilder=_dereq_("./SAXTreeBuilder").SAXTreeBuilder,Tokenizer=_dereq_("../Tokenizer").Tokenizer,TreeParser=_dereq_("./TreeParser").TreeParser;SAXParser.prototype.parse=function(source){this._tokenizer.tokenize(source);var document=this._treeBuilder.document;document&&new TreeParser(this.contentHandler).parse(document)},SAXParser.prototype.parseFragment=function(source,context){this._treeBuilder.setFragmentContext(context),this._tokenizer.tokenize(source);var fragment=this._treeBuilder.getFragment();fragment&&new TreeParser(this.contentHandler).parse(fragment)},Object.defineProperty(SAXParser.prototype,"scriptingEnabled",{get:function(){return this._scriptingEnabled},set:function(value){this._scriptingEnabled=value,this._treeBuilder.scriptingEnabled=value}}),Object.defineProperty(SAXParser.prototype,"errorHandler",{get:function(){return this._errorHandler},set:function(value){this._errorHandler=value,this._treeBuilder.errorHandler=value}}),exports.SAXParser=SAXParser},{"../Tokenizer":5,"./SAXTreeBuilder":10,"./TreeParser":11}],10:[function(_dereq_,module,exports){function SAXTreeBuilder(){TreeBuilder.call(this)}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute.nodeValue}}function Node(locator){locator?(this.columnNumber=locator.columnNumber,this.lineNumber=locator.lineNumber):(this.columnNumber=-1,this.lineNumber=-1),this.parentNode=null,this.nextSibling=null,this.firstChild=null}function ParentNode(locator){Node.call(this,locator),this.lastChild=null,this._endLocator=null}function Document(locator){ParentNode.call(this,locator),this.nodeType=NodeType.DOCUMENT}function DocumentFragment(){ParentNode.call(this,new Locator),this.nodeType=NodeType.DOCUMENT_FRAGMENT}function Element(locator,uri,localName,qName,atts,prefixMappings){ParentNode.call(this,locator),this.uri=uri,this.localName=localName,this.qName=qName,this.attributes=atts,this.prefixMappings=prefixMappings,this.nodeType=NodeType.ELEMENT}function Characters(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.CHARACTERS}function IgnorableWhitespace(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.IGNORABLE_WHITESPACE}function Comment(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.COMMENT}function CDATA(locator){ParentNode.call(this,locator),this.nodeType=NodeType.CDATA}function Entity(name){ParentNode.call(this),this.name=name,this.nodeType=NodeType.ENTITY}function SkippedEntity(name){Node.call(this),this.name=name,this.nodeType=NodeType.SKIPPED_ENTITY}function ProcessingInstruction(target,data){Node.call(this),this.target=target,this.data=data}function DTD(name,publicIdentifier,systemIdentifier){ParentNode.call(this),this.name=name,this.publicIdentifier=publicIdentifier,this.systemIdentifier=systemIdentifier,this.nodeType=NodeType.DTD}var util=_dereq_("util"),TreeBuilder=_dereq_("../TreeBuilder").TreeBuilder;util.inherits(SAXTreeBuilder,TreeBuilder),SAXTreeBuilder.prototype.start=function(){this.document=new Document(this.tokenizer)},SAXTreeBuilder.prototype.end=function(){this.document.endLocator=this.tokenizer},SAXTreeBuilder.prototype.insertDoctype=function(name,publicId,systemId){var doctype=new DTD(this.tokenizer,name,publicId,systemId);doctype.endLocator=this.tokenizer,this.document.appendChild(doctype)},SAXTreeBuilder.prototype.createElement=function(namespaceURI,localName,attributes){var element=new Element(this.tokenizer,namespaceURI,localName,localName,attributes||[]);return element},SAXTreeBuilder.prototype.insertComment=function(data,parent){parent||(parent=this.currentStackItem());var comment=new Comment(this.tokenizer,data);parent.appendChild(comment)},SAXTreeBuilder.prototype.appendCharacters=function(parent,data){var text=new Characters(this.tokenizer,data);parent.appendChild(text)},SAXTreeBuilder.prototype.insertText=function(data){if(this.redirectAttachToFosterParent&&this.openElements.top.isFosterParenting()){var tableIndex=this.openElements.findIndex("table"),tableItem=this.openElements.item(tableIndex),table=tableItem.node;if(0===tableIndex)return this.appendCharacters(table,data);var text=new Characters(this.tokenizer,data),parent=table.parentNode;if(parent)return parent.insertBetween(text,table.previousSibling,table),void 0;var stackParent=this.openElements.item(tableIndex-1).node;return stackParent.appendChild(text),void 0}this.appendCharacters(this.currentStackItem().node,data)},SAXTreeBuilder.prototype.attachNode=function(node,parent){parent.appendChild(node)},SAXTreeBuilder.prototype.attachNodeToFosterParent=function(child,table,stackParent){var parent=table.parentNode;parent?parent.insertBetween(child,table.previousSibling,table):stackParent.appendChild(child)},SAXTreeBuilder.prototype.detachFromParent=function(element){element.detach()},SAXTreeBuilder.prototype.reparentChildren=function(oldParent,newParent){newParent.appendChildren(oldParent.firstChild)},SAXTreeBuilder.prototype.getFragment=function(){var fragment=new DocumentFragment;return this.reparentChildren(this.openElements.rootNode,fragment),fragment},SAXTreeBuilder.prototype.addAttributesToElement=function(element,attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i];getAttribute(element,attribute.nodeName)||element.attributes.push(attribute)}};var NodeType={CDATA:1,CHARACTERS:2,COMMENT:3,DOCUMENT:4,DOCUMENT_FRAGMENT:5,DTD:6,ELEMENT:7,ENTITY:8,IGNORABLE_WHITESPACE:9,PROCESSING_INSTRUCTION:10,SKIPPED_ENTITY:11};Node.prototype.visit=function(){throw Error("Not Implemented")},Node.prototype.revisit=function(){},Node.prototype.detach=function(){null!==this.parentNode&&(this.parentNode.removeChild(this),this.parentNode=null)},Object.defineProperty(Node.prototype,"previousSibling",{get:function(){for(var prev=null,next=this.parentNode.firstChild;;){if(this==next)return prev;prev=next,next=next.nextSibling}}}),ParentNode.prototype=Object.create(Node.prototype),ParentNode.prototype.insertBefore=function(child,sibling){if(!sibling)return this.appendChild(child);if(child.detach(),child.parentNode=this,this.firstChild==sibling)child.nextSibling=sibling,this.firstChild=child;else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=sibling;)prev=next,next=next.nextSibling;prev.nextSibling=child,child.nextSibling=next}return child},ParentNode.prototype.insertBetween=function(child,prev,next){return next?(child.detach(),child.parentNode=this,child.nextSibling=next,prev?prev.nextSibling=child:firstChild=child,child):this.appendChild(child)},ParentNode.prototype.appendChild=function(child){return child.detach(),child.parentNode=this,this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=child,child},ParentNode.prototype.appendChildren=function(parent){var child=parent.firstChild;if(child){var another=parent;this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=another.lastChild;do child.parentNode=this;while(child=child.nextSibling);another.firstChild=null,another.lastChild=null}},ParentNode.prototype.removeChild=function(node){if(this.firstChild==node)this.firstChild=node.nextSibling,this.lastChild==node&&(this.lastChild=null);else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=node;)prev=next,next=next.nextSibling;prev.nextSibling=node.nextSibling,this.lastChild==node&&(this.lastChild=prev)}return node.parentNode=null,node},Object.defineProperty(ParentNode.prototype,"endLocator",{get:function(){return this._endLocator},set:function(endLocator){this._endLocator={lineNumber:endLocator.lineNumber,columnNumber:endLocator.columnNumber}}}),Document.prototype=Object.create(ParentNode.prototype),Document.prototype.visit=function(treeParser){treeParser.startDocument(this)},Document.prototype.revisit=function(treeParser){treeParser.endDocument(this.endLocator)},DocumentFragment.prototype=Object.create(ParentNode.prototype),DocumentFragment.prototype.visit=function(){},Element.prototype=Object.create(ParentNode.prototype),Element.prototype.visit=function(treeParser){if(this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.startPrefixMapping(mapping.getPrefix(),mapping.getUri(),this)}treeParser.startElement(this.uri,this.localName,this.qName,this.attributes,this)},Element.prototype.revisit=function(treeParser){if(treeParser.endElement(this.uri,this.localName,this.qName,this.endLocator),this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.endPrefixMapping(mapping.getPrefix(),this.endLocator)}},Characters.prototype=Object.create(Node.prototype),Characters.prototype.visit=function(treeParser){treeParser.characters(this.data,0,this.data.length,this)},IgnorableWhitespace.prototype=Object.create(Node.prototype),IgnorableWhitespace.prototype.visit=function(treeParser){treeParser.ignorableWhitespace(this.data,0,this.data.length,this)},Comment.prototype=Object.create(Node.prototype),Comment.prototype.visit=function(treeParser){treeParser.comment(this.data,0,this.data.length,this)},CDATA.prototype=Object.create(ParentNode.prototype),CDATA.prototype.visit=function(treeParser){treeParser.startCDATA(this)},CDATA.prototype.revisit=function(treeParser){treeParser.endCDATA(this.endLocator)},Entity.prototype=Object.create(ParentNode.prototype),Entity.prototype.visit=function(treeParser){treeParser.startEntity(this.name,this)},Entity.prototype.revisit=function(treeParser){treeParser.endEntity(this.name)},SkippedEntity.prototype=Object.create(Node.prototype),SkippedEntity.prototype.visit=function(treeParser){treeParser.skippedEntity(this.name,this)},ProcessingInstruction.prototype=Object.create(Node.prototype),ProcessingInstruction.prototype.visit=function(treeParser){treeParser.processingInstruction(this.target,this.data,this)},ProcessingInstruction.prototype.getNodeType=function(){return NodeType.PROCESSING_INSTRUCTION},DTD.prototype=Object.create(ParentNode.prototype),DTD.prototype.visit=function(treeParser){treeParser.startDTD(this.name,this.publicIdentifier,this.systemIdentifier,this)},DTD.prototype.revisit=function(treeParser){treeParser.endDTD()},exports.SAXTreeBuilder=SAXTreeBuilder},{"../TreeBuilder":6,util:20}],11:[function(_dereq_,module,exports){function TreeParser(contentHandler,lexicalHandler){if(this.contentHandler,this.lexicalHandler,this.locatorDelegate,!contentHandler)throw new IllegalArgumentException("contentHandler was null.");this.contentHandler=contentHandler,this.lexicalHandler=lexicalHandler?lexicalHandler:new NullLexicalHandler}function NullLexicalHandler(){}TreeParser.prototype.parse=function(node){this.contentHandler.documentLocator=this;for(var next,current=node;;)if(current.visit(this),next=current.firstChild)current=next;else for(;;){if(current.revisit(this),current==node)return;if(next=current.nextSibling){current=next;break}current=current.parentNode}},TreeParser.prototype.characters=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.characters(ch,start,length)},TreeParser.prototype.endDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.endDocument()},TreeParser.prototype.endElement=function(uri,localName,qName,locator){this.locatorDelegate=locator,this.contentHandler.endElement(uri,localName,qName)},TreeParser.prototype.endPrefixMapping=function(prefix,locator){this.locatorDelegate=locator,this.contentHandler.endPrefixMapping(prefix)},TreeParser.prototype.ignorableWhitespace=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.ignorableWhitespace(ch,start,length)},TreeParser.prototype.processingInstruction=function(target,data,locator){this.locatorDelegate=locator,this.contentHandler.processingInstruction(target,data)},TreeParser.prototype.skippedEntity=function(name,locator){this.locatorDelegate=locator,this.contentHandler.skippedEntity(name)},TreeParser.prototype.startDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.startDocument()},TreeParser.prototype.startElement=function(uri,localName,qName,atts,locator){this.locatorDelegate=locator,this.contentHandler.startElement(uri,localName,qName,atts)},TreeParser.prototype.startPrefixMapping=function(prefix,uri,locator){this.locatorDelegate=locator,this.contentHandler.startPrefixMapping(prefix,uri)},TreeParser.prototype.comment=function(ch,start,length,locator){this.locatorDelegate=locator,this.lexicalHandler.comment(ch,start,length)},TreeParser.prototype.endCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endCDATA()},TreeParser.prototype.endDTD=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endDTD()},TreeParser.prototype.endEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.endEntity(name)},TreeParser.prototype.startCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.startCDATA()},TreeParser.prototype.startDTD=function(name,publicId,systemId,locator){this.locatorDelegate=locator,this.lexicalHandler.startDTD(name,publicId,systemId)},TreeParser.prototype.startEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.startEntity(name)},Object.defineProperty(TreeParser.prototype,"columnNumber",{get:function(){return this.locatorDelegate?this.locatorDelegate.columnNumber:-1}}),Object.defineProperty(TreeParser.prototype,"lineNumber",{get:function(){return this.locatorDelegate?this.locatorDelegate.lineNumber:-1}}),NullLexicalHandler.prototype.comment=function(){},NullLexicalHandler.prototype.endCDATA=function(){},NullLexicalHandler.prototype.endDTD=function(){},NullLexicalHandler.prototype.endEntity=function(){},NullLexicalHandler.prototype.startCDATA=function(){},NullLexicalHandler.prototype.startDTD=function(){},NullLexicalHandler.prototype.startEntity=function(){},exports.TreeParser=TreeParser},{}],12:[function(_dereq_,module){module.exports={"Aacute;":"Á",Aacute:"Á","aacute;":"á",aacute:"á","Abreve;":"Ă","abreve;":"ă","ac;":"∾","acd;":"∿","acE;":"∾̳","Acirc;":"Â",Acirc:"Â","acirc;":"â",acirc:"â","acute;":"´",acute:"´","Acy;":"А","acy;":"а","AElig;":"Æ",AElig:"Æ","aelig;":"æ",aelig:"æ","af;":"⁡","Afr;":"𝔄","afr;":"𝔞","Agrave;":"À",Agrave:"À","agrave;":"à",agrave:"à","alefsym;":"ℵ","aleph;":"ℵ","Alpha;":"Α","alpha;":"α","Amacr;":"Ā","amacr;":"ā","amalg;":"⨿","amp;":"&",amp:"&","AMP;":"&",AMP:"&","andand;":"⩕","And;":"⩓","and;":"∧","andd;":"⩜","andslope;":"⩘","andv;":"⩚","ang;":"∠","ange;":"⦤","angle;":"∠","angmsdaa;":"⦨","angmsdab;":"⦩","angmsdac;":"⦪","angmsdad;":"⦫","angmsdae;":"⦬","angmsdaf;":"⦭","angmsdag;":"⦮","angmsdah;":"⦯","angmsd;":"∡","angrt;":"∟","angrtvb;":"⊾","angrtvbd;":"⦝","angsph;":"∢","angst;":"Å","angzarr;":"⍼","Aogon;":"Ą","aogon;":"ą","Aopf;":"𝔸","aopf;":"𝕒","apacir;":"⩯","ap;":"≈","apE;":"⩰","ape;":"≊","apid;":"≋","apos;":"\'","ApplyFunction;":"⁡","approx;":"≈","approxeq;":"≊","Aring;":"Å",Aring:"Å","aring;":"å",aring:"å","Ascr;":"𝒜","ascr;":"𝒶","Assign;":"≔","ast;":"*","asymp;":"≈","asympeq;":"≍","Atilde;":"Ã",Atilde:"Ã","atilde;":"ã",atilde:"ã","Auml;":"Ä",Auml:"Ä","auml;":"ä",auml:"ä","awconint;":"∳","awint;":"⨑","backcong;":"≌","backepsilon;":"϶","backprime;":"‵","backsim;":"∽","backsimeq;":"⋍","Backslash;":"∖","Barv;":"⫧","barvee;":"⊽","barwed;":"⌅","Barwed;":"⌆","barwedge;":"⌅","bbrk;":"⎵","bbrktbrk;":"⎶","bcong;":"≌","Bcy;":"Б","bcy;":"б","bdquo;":"„","becaus;":"∵","because;":"∵","Because;":"∵","bemptyv;":"⦰","bepsi;":"϶","bernou;":"ℬ","Bernoullis;":"ℬ","Beta;":"Β","beta;":"β","beth;":"ℶ","between;":"≬","Bfr;":"𝔅","bfr;":"𝔟","bigcap;":"⋂","bigcirc;":"◯","bigcup;":"⋃","bigodot;":"⨀","bigoplus;":"⨁","bigotimes;":"⨂","bigsqcup;":"⨆","bigstar;":"★","bigtriangledown;":"▽","bigtriangleup;":"△","biguplus;":"⨄","bigvee;":"⋁","bigwedge;":"⋀","bkarow;":"⤍","blacklozenge;":"⧫","blacksquare;":"▪","blacktriangle;":"▴","blacktriangledown;":"▾","blacktriangleleft;":"◂","blacktriangleright;":"▸","blank;":"␣","blk12;":"▒","blk14;":"░","blk34;":"▓","block;":"█","bne;":"=⃥","bnequiv;":"≡⃥","bNot;":"⫭","bnot;":"⌐","Bopf;":"𝔹","bopf;":"𝕓","bot;":"⊥","bottom;":"⊥","bowtie;":"⋈","boxbox;":"⧉","boxdl;":"┐","boxdL;":"╕","boxDl;":"╖","boxDL;":"╗","boxdr;":"┌","boxdR;":"╒","boxDr;":"╓","boxDR;":"╔","boxh;":"─","boxH;":"═","boxhd;":"┬","boxHd;":"╤","boxhD;":"╥","boxHD;":"╦","boxhu;":"┴","boxHu;":"╧","boxhU;":"╨","boxHU;":"╩","boxminus;":"⊟","boxplus;":"⊞","boxtimes;":"⊠","boxul;":"┘","boxuL;":"╛","boxUl;":"╜","boxUL;":"╝","boxur;":"└","boxuR;":"╘","boxUr;":"╙","boxUR;":"╚","boxv;":"│","boxV;":"║","boxvh;":"┼","boxvH;":"╪","boxVh;":"╫","boxVH;":"╬","boxvl;":"┤","boxvL;":"╡","boxVl;":"╢","boxVL;":"╣","boxvr;":"├","boxvR;":"╞","boxVr;":"╟","boxVR;":"╠","bprime;":"‵","breve;":"˘","Breve;":"˘","brvbar;":"¦",brvbar:"¦","bscr;":"𝒷","Bscr;":"ℬ","bsemi;":"⁏","bsim;":"∽","bsime;":"⋍","bsolb;":"⧅","bsol;":"\\\\","bsolhsub;":"⟈","bull;":"•","bullet;":"•","bump;":"≎","bumpE;":"⪮","bumpe;":"≏","Bumpeq;":"≎","bumpeq;":"≏","Cacute;":"Ć","cacute;":"ć","capand;":"⩄","capbrcup;":"⩉","capcap;":"⩋","cap;":"∩","Cap;":"⋒","capcup;":"⩇","capdot;":"⩀","CapitalDifferentialD;":"ⅅ","caps;":"∩︀","caret;":"⁁","caron;":"ˇ","Cayleys;":"ℭ","ccaps;":"⩍","Ccaron;":"Č","ccaron;":"č","Ccedil;":"Ç",Ccedil:"Ç","ccedil;":"ç",ccedil:"ç","Ccirc;":"Ĉ","ccirc;":"ĉ","Cconint;":"∰","ccups;":"⩌","ccupssm;":"⩐","Cdot;":"Ċ","cdot;":"ċ","cedil;":"¸",cedil:"¸","Cedilla;":"¸","cemptyv;":"⦲","cent;":"¢",cent:"¢","centerdot;":"·","CenterDot;":"·","cfr;":"𝔠","Cfr;":"ℭ","CHcy;":"Ч","chcy;":"ч","check;":"✓","checkmark;":"✓","Chi;":"Χ","chi;":"χ","circ;":"ˆ","circeq;":"≗","circlearrowleft;":"↺","circlearrowright;":"↻","circledast;":"⊛","circledcirc;":"⊚","circleddash;":"⊝","CircleDot;":"⊙","circledR;":"®","circledS;":"Ⓢ","CircleMinus;":"⊖","CirclePlus;":"⊕","CircleTimes;":"⊗","cir;":"○","cirE;":"⧃","cire;":"≗","cirfnint;":"⨐","cirmid;":"⫯","cirscir;":"⧂","ClockwiseContourIntegral;":"∲","CloseCurlyDoubleQuote;":"”","CloseCurlyQuote;":"’","clubs;":"♣","clubsuit;":"♣","colon;":":","Colon;":"∷","Colone;":"⩴","colone;":"≔","coloneq;":"≔","comma;":",","commat;":"@","comp;":"∁","compfn;":"∘","complement;":"∁","complexes;":"ℂ","cong;":"≅","congdot;":"⩭","Congruent;":"≡","conint;":"∮","Conint;":"∯","ContourIntegral;":"∮","copf;":"𝕔","Copf;":"ℂ","coprod;":"∐","Coproduct;":"∐","copy;":"©",copy:"©","COPY;":"©",COPY:"©","copysr;":"℗","CounterClockwiseContourIntegral;":"∳","crarr;":"↵","cross;":"✗","Cross;":"⨯","Cscr;":"𝒞","cscr;":"𝒸","csub;":"⫏","csube;":"⫑","csup;":"⫐","csupe;":"⫒","ctdot;":"⋯","cudarrl;":"⤸","cudarrr;":"⤵","cuepr;":"⋞","cuesc;":"⋟","cularr;":"↶","cularrp;":"⤽","cupbrcap;":"⩈","cupcap;":"⩆","CupCap;":"≍","cup;":"∪","Cup;":"⋓","cupcup;":"⩊","cupdot;":"⊍","cupor;":"⩅","cups;":"∪︀","curarr;":"↷","curarrm;":"⤼","curlyeqprec;":"⋞","curlyeqsucc;":"⋟","curlyvee;":"⋎","curlywedge;":"⋏","curren;":"¤",curren:"¤","curvearrowleft;":"↶","curvearrowright;":"↷","cuvee;":"⋎","cuwed;":"⋏","cwconint;":"∲","cwint;":"∱","cylcty;":"⌭","dagger;":"†","Dagger;":"‡","daleth;":"ℸ","darr;":"↓","Darr;":"↡","dArr;":"⇓","dash;":"‐","Dashv;":"⫤","dashv;":"⊣","dbkarow;":"⤏","dblac;":"˝","Dcaron;":"Ď","dcaron;":"ď","Dcy;":"Д","dcy;":"д","ddagger;":"‡","ddarr;":"⇊","DD;":"ⅅ","dd;":"ⅆ","DDotrahd;":"⤑","ddotseq;":"⩷","deg;":"°",deg:"°","Del;":"∇","Delta;":"Δ","delta;":"δ","demptyv;":"⦱","dfisht;":"⥿","Dfr;":"𝔇","dfr;":"𝔡","dHar;":"⥥","dharl;":"⇃","dharr;":"⇂","DiacriticalAcute;":"´","DiacriticalDot;":"˙","DiacriticalDoubleAcute;":"˝","DiacriticalGrave;":"`","DiacriticalTilde;":"˜","diam;":"⋄","diamond;":"⋄","Diamond;":"⋄","diamondsuit;":"♦","diams;":"♦","die;":"¨","DifferentialD;":"ⅆ","digamma;":"ϝ","disin;":"⋲","div;":"÷","divide;":"÷",divide:"÷","divideontimes;":"⋇","divonx;":"⋇","DJcy;":"Ђ","djcy;":"ђ","dlcorn;":"⌞","dlcrop;":"⌍","dollar;":"$","Dopf;":"𝔻","dopf;":"𝕕","Dot;":"¨","dot;":"˙","DotDot;":"⃜","doteq;":"≐","doteqdot;":"≑","DotEqual;":"≐","dotminus;":"∸","dotplus;":"∔","dotsquare;":"⊡","doublebarwedge;":"⌆","DoubleContourIntegral;":"∯","DoubleDot;":"¨","DoubleDownArrow;":"⇓","DoubleLeftArrow;":"⇐","DoubleLeftRightArrow;":"⇔","DoubleLeftTee;":"⫤","DoubleLongLeftArrow;":"⟸","DoubleLongLeftRightArrow;":"⟺","DoubleLongRightArrow;":"⟹","DoubleRightArrow;":"⇒","DoubleRightTee;":"⊨","DoubleUpArrow;":"⇑","DoubleUpDownArrow;":"⇕","DoubleVerticalBar;":"∥","DownArrowBar;":"⤓","downarrow;":"↓","DownArrow;":"↓","Downarrow;":"⇓","DownArrowUpArrow;":"⇵","DownBreve;":"̑","downdownarrows;":"⇊","downharpoonleft;":"⇃","downharpoonright;":"⇂","DownLeftRightVector;":"⥐","DownLeftTeeVector;":"⥞","DownLeftVectorBar;":"⥖","DownLeftVector;":"↽","DownRightTeeVector;":"⥟","DownRightVectorBar;":"⥗","DownRightVector;":"⇁","DownTeeArrow;":"↧","DownTee;":"⊤","drbkarow;":"⤐","drcorn;":"⌟","drcrop;":"⌌","Dscr;":"𝒟","dscr;":"𝒹","DScy;":"Ѕ","dscy;":"ѕ","dsol;":"⧶","Dstrok;":"Đ","dstrok;":"đ","dtdot;":"⋱","dtri;":"▿","dtrif;":"▾","duarr;":"⇵","duhar;":"⥯","dwangle;":"⦦","DZcy;":"Џ","dzcy;":"џ","dzigrarr;":"⟿","Eacute;":"É",Eacute:"É","eacute;":"é",eacute:"é","easter;":"⩮","Ecaron;":"Ě","ecaron;":"ě","Ecirc;":"Ê",Ecirc:"Ê","ecirc;":"ê",ecirc:"ê","ecir;":"≖","ecolon;":"≕","Ecy;":"Э","ecy;":"э","eDDot;":"⩷","Edot;":"Ė","edot;":"ė","eDot;":"≑","ee;":"ⅇ","efDot;":"≒","Efr;":"𝔈","efr;":"𝔢","eg;":"⪚","Egrave;":"È",Egrave:"È","egrave;":"è",egrave:"è","egs;":"⪖","egsdot;":"⪘","el;":"⪙","Element;":"∈","elinters;":"⏧","ell;":"ℓ","els;":"⪕","elsdot;":"⪗","Emacr;":"Ē","emacr;":"ē","empty;":"∅","emptyset;":"∅","EmptySmallSquare;":"◻","emptyv;":"∅","EmptyVerySmallSquare;":"▫","emsp13;":" ","emsp14;":" ","emsp;":" ","ENG;":"Ŋ","eng;":"ŋ","ensp;":" ","Eogon;":"Ę","eogon;":"ę","Eopf;":"𝔼","eopf;":"𝕖","epar;":"⋕","eparsl;":"⧣","eplus;":"⩱","epsi;":"ε","Epsilon;":"Ε","epsilon;":"ε","epsiv;":"ϵ","eqcirc;":"≖","eqcolon;":"≕","eqsim;":"≂","eqslantgtr;":"⪖","eqslantless;":"⪕","Equal;":"⩵","equals;":"=","EqualTilde;":"≂","equest;":"≟","Equilibrium;":"⇌","equiv;":"≡","equivDD;":"⩸","eqvparsl;":"⧥","erarr;":"⥱","erDot;":"≓","escr;":"ℯ","Escr;":"ℰ","esdot;":"≐","Esim;":"⩳","esim;":"≂","Eta;":"Η","eta;":"η","ETH;":"Ð",ETH:"Ð","eth;":"ð",eth:"ð","Euml;":"Ë",Euml:"Ë","euml;":"ë",euml:"ë","euro;":"€","excl;":"!","exist;":"∃","Exists;":"∃","expectation;":"ℰ","exponentiale;":"ⅇ","ExponentialE;":"ⅇ","fallingdotseq;":"≒","Fcy;":"Ф","fcy;":"ф","female;":"♀","ffilig;":"ﬃ","fflig;":"ﬀ","ffllig;":"ﬄ","Ffr;":"𝔉","ffr;":"𝔣","filig;":"ﬁ","FilledSmallSquare;":"◼","FilledVerySmallSquare;":"▪","fjlig;":"fj","flat;":"♭","fllig;":"ﬂ","fltns;":"▱","fnof;":"ƒ","Fopf;":"𝔽","fopf;":"𝕗","forall;":"∀","ForAll;":"∀","fork;":"⋔","forkv;":"⫙","Fouriertrf;":"ℱ","fpartint;":"⨍","frac12;":"½",frac12:"½","frac13;":"⅓","frac14;":"¼",frac14:"¼","frac15;":"⅕","frac16;":"⅙","frac18;":"⅛","frac23;":"⅔","frac25;":"⅖","frac34;":"¾",frac34:"¾","frac35;":"⅗","frac38;":"⅜","frac45;":"⅘","frac56;":"⅚","frac58;":"⅝","frac78;":"⅞","frasl;":"⁄","frown;":"⌢","fscr;":"𝒻","Fscr;":"ℱ","gacute;":"ǵ","Gamma;":"Γ","gamma;":"γ","Gammad;":"Ϝ","gammad;":"ϝ","gap;":"⪆","Gbreve;":"Ğ","gbreve;":"ğ","Gcedil;":"Ģ","Gcirc;":"Ĝ","gcirc;":"ĝ","Gcy;":"Г","gcy;":"г","Gdot;":"Ġ","gdot;":"ġ","ge;":"≥","gE;":"≧","gEl;":"⪌","gel;":"⋛","geq;":"≥","geqq;":"≧","geqslant;":"⩾","gescc;":"⪩","ges;":"⩾","gesdot;":"⪀","gesdoto;":"⪂","gesdotol;":"⪄","gesl;":"⋛︀","gesles;":"⪔","Gfr;":"𝔊","gfr;":"𝔤","gg;":"≫","Gg;":"⋙","ggg;":"⋙","gimel;":"ℷ","GJcy;":"Ѓ","gjcy;":"ѓ","gla;":"⪥","gl;":"≷","glE;":"⪒","glj;":"⪤","gnap;":"⪊","gnapprox;":"⪊","gne;":"⪈","gnE;":"≩","gneq;":"⪈","gneqq;":"≩","gnsim;":"⋧","Gopf;":"𝔾","gopf;":"𝕘","grave;":"`","GreaterEqual;":"≥","GreaterEqualLess;":"⋛","GreaterFullEqual;":"≧","GreaterGreater;":"⪢","GreaterLess;":"≷","GreaterSlantEqual;":"⩾","GreaterTilde;":"≳","Gscr;":"𝒢","gscr;":"ℊ","gsim;":"≳","gsime;":"⪎","gsiml;":"⪐","gtcc;":"⪧","gtcir;":"⩺","gt;":">",gt:">","GT;":">",GT:">","Gt;":"≫","gtdot;":"⋗","gtlPar;":"⦕","gtquest;":"⩼","gtrapprox;":"⪆","gtrarr;":"⥸","gtrdot;":"⋗","gtreqless;":"⋛","gtreqqless;":"⪌","gtrless;":"≷","gtrsim;":"≳","gvertneqq;":"≩︀","gvnE;":"≩︀","Hacek;":"ˇ","hairsp;":" ","half;":"½","hamilt;":"ℋ","HARDcy;":"Ъ","hardcy;":"ъ","harrcir;":"⥈","harr;":"↔","hArr;":"⇔","harrw;":"↭","Hat;":"^","hbar;":"ℏ","Hcirc;":"Ĥ","hcirc;":"ĥ","hearts;":"♥","heartsuit;":"♥","hellip;":"…","hercon;":"⊹","hfr;":"𝔥","Hfr;":"ℌ","HilbertSpace;":"ℋ","hksearow;":"⤥","hkswarow;":"⤦","hoarr;":"⇿","homtht;":"∻","hookleftarrow;":"↩","hookrightarrow;":"↪","hopf;":"𝕙","Hopf;":"ℍ","horbar;":"―","HorizontalLine;":"─","hscr;":"𝒽","Hscr;":"ℋ","hslash;":"ℏ","Hstrok;":"Ħ","hstrok;":"ħ","HumpDownHump;":"≎","HumpEqual;":"≏","hybull;":"⁃","hyphen;":"‐","Iacute;":"Í",Iacute:"Í","iacute;":"í",iacute:"í","ic;":"⁣","Icirc;":"Î",Icirc:"Î","icirc;":"î",icirc:"î","Icy;":"И","icy;":"и","Idot;":"İ","IEcy;":"Е","iecy;":"е","iexcl;":"¡",iexcl:"¡","iff;":"⇔","ifr;":"𝔦","Ifr;":"ℑ","Igrave;":"Ì",Igrave:"Ì","igrave;":"ì",igrave:"ì","ii;":"ⅈ","iiiint;":"⨌","iiint;":"∭","iinfin;":"⧜","iiota;":"℩","IJlig;":"Ĳ","ijlig;":"ĳ","Imacr;":"Ī","imacr;":"ī","image;":"ℑ","ImaginaryI;":"ⅈ","imagline;":"ℐ","imagpart;":"ℑ","imath;":"ı","Im;":"ℑ","imof;":"⊷","imped;":"Ƶ","Implies;":"⇒","incare;":"℅","in;":"∈","infin;":"∞","infintie;":"⧝","inodot;":"ı","intcal;":"⊺","int;":"∫","Int;":"∬","integers;":"ℤ","Integral;":"∫","intercal;":"⊺","Intersection;":"⋂","intlarhk;":"⨗","intprod;":"⨼","InvisibleComma;":"⁣","InvisibleTimes;":"⁢","IOcy;":"Ё","iocy;":"ё","Iogon;":"Į","iogon;":"į","Iopf;":"𝕀","iopf;":"𝕚","Iota;":"Ι","iota;":"ι","iprod;":"⨼","iquest;":"¿",iquest:"¿","iscr;":"𝒾","Iscr;":"ℐ","isin;":"∈","isindot;":"⋵","isinE;":"⋹","isins;":"⋴","isinsv;":"⋳","isinv;":"∈","it;":"⁢","Itilde;":"Ĩ","itilde;":"ĩ","Iukcy;":"І","iukcy;":"і","Iuml;":"Ï",Iuml:"Ï","iuml;":"ï",iuml:"ï","Jcirc;":"Ĵ","jcirc;":"ĵ","Jcy;":"Й","jcy;":"й","Jfr;":"𝔍","jfr;":"𝔧","jmath;":"ȷ","Jopf;":"𝕁","jopf;":"𝕛","Jscr;":"𝒥","jscr;":"𝒿","Jsercy;":"Ј","jsercy;":"ј","Jukcy;":"Є","jukcy;":"є","Kappa;":"Κ","kappa;":"κ","kappav;":"ϰ","Kcedil;":"Ķ","kcedil;":"ķ","Kcy;":"К","kcy;":"к","Kfr;":"𝔎","kfr;":"𝔨","kgreen;":"ĸ","KHcy;":"Х","khcy;":"х","KJcy;":"Ќ","kjcy;":"ќ","Kopf;":"𝕂","kopf;":"𝕜","Kscr;":"𝒦","kscr;":"𝓀","lAarr;":"⇚","Lacute;":"Ĺ","lacute;":"ĺ","laemptyv;":"⦴","lagran;":"ℒ","Lambda;":"Λ","lambda;":"λ","lang;":"⟨","Lang;":"⟪","langd;":"⦑","langle;":"⟨","lap;":"⪅","Laplacetrf;":"ℒ","laquo;":"«",laquo:"«","larrb;":"⇤","larrbfs;":"⤟","larr;":"←","Larr;":"↞","lArr;":"⇐","larrfs;":"⤝","larrhk;":"↩","larrlp;":"↫","larrpl;":"⤹","larrsim;":"⥳","larrtl;":"↢","latail;":"⤙","lAtail;":"⤛","lat;":"⪫","late;":"⪭","lates;":"⪭︀","lbarr;":"⤌","lBarr;":"⤎","lbbrk;":"❲","lbrace;":"{","lbrack;":"[","lbrke;":"⦋","lbrksld;":"⦏","lbrkslu;":"⦍","Lcaron;":"Ľ","lcaron;":"ľ","Lcedil;":"Ļ","lcedil;":"ļ","lceil;":"⌈","lcub;":"{","Lcy;":"Л","lcy;":"л","ldca;":"⤶","ldquo;":"“","ldquor;":"„","ldrdhar;":"⥧","ldrushar;":"⥋","ldsh;":"↲","le;":"≤","lE;":"≦","LeftAngleBracket;":"⟨","LeftArrowBar;":"⇤","leftarrow;":"←","LeftArrow;":"←","Leftarrow;":"⇐","LeftArrowRightArrow;":"⇆","leftarrowtail;":"↢","LeftCeiling;":"⌈","LeftDoubleBracket;":"⟦","LeftDownTeeVector;":"⥡","LeftDownVectorBar;":"⥙","LeftDownVector;":"⇃","LeftFloor;":"⌊","leftharpoondown;":"↽","leftharpoonup;":"↼","leftleftarrows;":"⇇","leftrightarrow;":"↔","LeftRightArrow;":"↔","Leftrightarrow;":"⇔","leftrightarrows;":"⇆","leftrightharpoons;":"⇋","leftrightsquigarrow;":"↭","LeftRightVector;":"⥎","LeftTeeArrow;":"↤","LeftTee;":"⊣","LeftTeeVector;":"⥚","leftthreetimes;":"⋋","LeftTriangleBar;":"⧏","LeftTriangle;":"⊲","LeftTriangleEqual;":"⊴","LeftUpDownVector;":"⥑","LeftUpTeeVector;":"⥠","LeftUpVectorBar;":"⥘","LeftUpVector;":"↿","LeftVectorBar;":"⥒","LeftVector;":"↼","lEg;":"⪋","leg;":"⋚","leq;":"≤","leqq;":"≦","leqslant;":"⩽","lescc;":"⪨","les;":"⩽","lesdot;":"⩿","lesdoto;":"⪁","lesdotor;":"⪃","lesg;":"⋚︀","lesges;":"⪓","lessapprox;":"⪅","lessdot;":"⋖","lesseqgtr;":"⋚","lesseqqgtr;":"⪋","LessEqualGreater;":"⋚","LessFullEqual;":"≦","LessGreater;":"≶","lessgtr;":"≶","LessLess;":"⪡","lesssim;":"≲","LessSlantEqual;":"⩽","LessTilde;":"≲","lfisht;":"⥼","lfloor;":"⌊","Lfr;":"𝔏","lfr;":"𝔩","lg;":"≶","lgE;":"⪑","lHar;":"⥢","lhard;":"↽","lharu;":"↼","lharul;":"⥪","lhblk;":"▄","LJcy;":"Љ","ljcy;":"љ","llarr;":"⇇","ll;":"≪","Ll;":"⋘","llcorner;":"⌞","Lleftarrow;":"⇚","llhard;":"⥫","lltri;":"◺","Lmidot;":"Ŀ","lmidot;":"ŀ","lmoustache;":"⎰","lmoust;":"⎰","lnap;":"⪉","lnapprox;":"⪉","lne;":"⪇","lnE;":"≨","lneq;":"⪇","lneqq;":"≨","lnsim;":"⋦","loang;":"⟬","loarr;":"⇽","lobrk;":"⟦","longleftarrow;":"⟵","LongLeftArrow;":"⟵","Longleftarrow;":"⟸","longleftrightarrow;":"⟷","LongLeftRightArrow;":"⟷","Longleftrightarrow;":"⟺","longmapsto;":"⟼","longrightarrow;":"⟶","LongRightArrow;":"⟶","Longrightarrow;":"⟹","looparrowleft;":"↫","looparrowright;":"↬","lopar;":"⦅","Lopf;":"𝕃","lopf;":"𝕝","loplus;":"⨭","lotimes;":"⨴","lowast;":"∗","lowbar;":"_","LowerLeftArrow;":"↙","LowerRightArrow;":"↘","loz;":"◊","lozenge;":"◊","lozf;":"⧫","lpar;":"(","lparlt;":"⦓","lrarr;":"⇆","lrcorner;":"⌟","lrhar;":"⇋","lrhard;":"⥭","lrm;":"‎","lrtri;":"⊿","lsaquo;":"‹","lscr;":"𝓁","Lscr;":"ℒ","lsh;":"↰","Lsh;":"↰","lsim;":"≲","lsime;":"⪍","lsimg;":"⪏","lsqb;":"[","lsquo;":"‘","lsquor;":"‚","Lstrok;":"Ł","lstrok;":"ł","ltcc;":"⪦","ltcir;":"⩹","lt;":"<",lt:"<","LT;":"<",LT:"<","Lt;":"≪","ltdot;":"⋖","lthree;":"⋋","ltimes;":"⋉","ltlarr;":"⥶","ltquest;":"⩻","ltri;":"◃","ltrie;":"⊴","ltrif;":"◂","ltrPar;":"⦖","lurdshar;":"⥊","luruhar;":"⥦","lvertneqq;":"≨︀","lvnE;":"≨︀","macr;":"¯",macr:"¯","male;":"♂","malt;":"✠","maltese;":"✠","Map;":"⤅","map;":"↦","mapsto;":"↦","mapstodown;":"↧","mapstoleft;":"↤","mapstoup;":"↥","marker;":"▮","mcomma;":"⨩","Mcy;":"М","mcy;":"м","mdash;":"—","mDDot;":"∺","measuredangle;":"∡","MediumSpace;":" ","Mellintrf;":"ℳ","Mfr;":"𝔐","mfr;":"𝔪","mho;":"℧","micro;":"µ",micro:"µ","midast;":"*","midcir;":"⫰","mid;":"∣","middot;":"·",middot:"·","minusb;":"⊟","minus;":"−","minusd;":"∸","minusdu;":"⨪","MinusPlus;":"∓","mlcp;":"⫛","mldr;":"…","mnplus;":"∓","models;":"⊧","Mopf;":"𝕄","mopf;":"𝕞","mp;":"∓","mscr;":"𝓂","Mscr;":"ℳ","mstpos;":"∾","Mu;":"Μ","mu;":"μ","multimap;":"⊸","mumap;":"⊸","nabla;":"∇","Nacute;":"Ń","nacute;":"ń","nang;":"∠⃒","nap;":"≉","napE;":"⩰̸","napid;":"≋̸","napos;":"ŉ","napprox;":"≉","natural;":"♮","naturals;":"ℕ","natur;":"♮","nbsp;":" ",nbsp:" ","nbump;":"≎̸","nbumpe;":"≏̸","ncap;":"⩃","Ncaron;":"Ň","ncaron;":"ň","Ncedil;":"Ņ","ncedil;":"ņ","ncong;":"≇","ncongdot;":"⩭̸","ncup;":"⩂","Ncy;":"Н","ncy;":"н","ndash;":"–","nearhk;":"⤤","nearr;":"↗","neArr;":"⇗","nearrow;":"↗","ne;":"≠","nedot;":"≐̸","NegativeMediumSpace;":"​","NegativeThickSpace;":"​","NegativeThinSpace;":"​","NegativeVeryThinSpace;":"​","nequiv;":"≢","nesear;":"⤨","nesim;":"≂̸","NestedGreaterGreater;":"≫","NestedLessLess;":"≪","NewLine;":"\\n","nexist;":"∄","nexists;":"∄","Nfr;":"𝔑","nfr;":"𝔫","ngE;":"≧̸","nge;":"≱","ngeq;":"≱","ngeqq;":"≧̸","ngeqslant;":"⩾̸","nges;":"⩾̸","nGg;":"⋙̸","ngsim;":"≵","nGt;":"≫⃒","ngt;":"≯","ngtr;":"≯","nGtv;":"≫̸","nharr;":"↮","nhArr;":"⇎","nhpar;":"⫲","ni;":"∋","nis;":"⋼","nisd;":"⋺","niv;":"∋","NJcy;":"Њ","njcy;":"њ","nlarr;":"↚","nlArr;":"⇍","nldr;":"‥","nlE;":"≦̸","nle;":"≰","nleftarrow;":"↚","nLeftarrow;":"⇍","nleftrightarrow;":"↮","nLeftrightarrow;":"⇎","nleq;":"≰","nleqq;":"≦̸","nleqslant;":"⩽̸","nles;":"⩽̸","nless;":"≮","nLl;":"⋘̸","nlsim;":"≴","nLt;":"≪⃒","nlt;":"≮","nltri;":"⋪","nltrie;":"⋬","nLtv;":"≪̸","nmid;":"∤","NoBreak;":"⁠","NonBreakingSpace;":" ","nopf;":"𝕟","Nopf;":"ℕ","Not;":"⫬","not;":"¬",not:"¬","NotCongruent;":"≢","NotCupCap;":"≭","NotDoubleVerticalBar;":"∦","NotElement;":"∉","NotEqual;":"≠","NotEqualTilde;":"≂̸","NotExists;":"∄","NotGreater;":"≯","NotGreaterEqual;":"≱","NotGreaterFullEqual;":"≧̸","NotGreaterGreater;":"≫̸","NotGreaterLess;":"≹","NotGreaterSlantEqual;":"⩾̸","NotGreaterTilde;":"≵","NotHumpDownHump;":"≎̸","NotHumpEqual;":"≏̸","notin;":"∉","notindot;":"⋵̸","notinE;":"⋹̸","notinva;":"∉","notinvb;":"⋷","notinvc;":"⋶","NotLeftTriangleBar;":"⧏̸","NotLeftTriangle;":"⋪","NotLeftTriangleEqual;":"⋬","NotLess;":"≮","NotLessEqual;":"≰","NotLessGreater;":"≸","NotLessLess;":"≪̸","NotLessSlantEqual;":"⩽̸","NotLessTilde;":"≴","NotNestedGreaterGreater;":"⪢̸","NotNestedLessLess;":"⪡̸","notni;":"∌","notniva;":"∌","notnivb;":"⋾","notnivc;":"⋽","NotPrecedes;":"⊀","NotPrecedesEqual;":"⪯̸","NotPrecedesSlantEqual;":"⋠","NotReverseElement;":"∌","NotRightTriangleBar;":"⧐̸","NotRightTriangle;":"⋫","NotRightTriangleEqual;":"⋭","NotSquareSubset;":"⊏̸","NotSquareSubsetEqual;":"⋢","NotSquareSuperset;":"⊐̸","NotSquareSupersetEqual;":"⋣","NotSubset;":"⊂⃒","NotSubsetEqual;":"⊈","NotSucceeds;":"⊁","NotSucceedsEqual;":"⪰̸","NotSucceedsSlantEqual;":"⋡","NotSucceedsTilde;":"≿̸","NotSuperset;":"⊃⃒","NotSupersetEqual;":"⊉","NotTilde;":"≁","NotTildeEqual;":"≄","NotTildeFullEqual;":"≇","NotTildeTilde;":"≉","NotVerticalBar;":"∤","nparallel;":"∦","npar;":"∦","nparsl;":"⫽⃥","npart;":"∂̸","npolint;":"⨔","npr;":"⊀","nprcue;":"⋠","nprec;":"⊀","npreceq;":"⪯̸","npre;":"⪯̸","nrarrc;":"⤳̸","nrarr;":"↛","nrArr;":"⇏","nrarrw;":"↝̸","nrightarrow;":"↛","nRightarrow;":"⇏","nrtri;":"⋫","nrtrie;":"⋭","nsc;":"⊁","nsccue;":"⋡","nsce;":"⪰̸","Nscr;":"𝒩","nscr;":"𝓃","nshortmid;":"∤","nshortparallel;":"∦","nsim;":"≁","nsime;":"≄","nsimeq;":"≄","nsmid;":"∤","nspar;":"∦","nsqsube;":"⋢","nsqsupe;":"⋣","nsub;":"⊄","nsubE;":"⫅̸","nsube;":"⊈","nsubset;":"⊂⃒","nsubseteq;":"⊈","nsubseteqq;":"⫅̸","nsucc;":"⊁","nsucceq;":"⪰̸","nsup;":"⊅","nsupE;":"⫆̸","nsupe;":"⊉","nsupset;":"⊃⃒","nsupseteq;":"⊉","nsupseteqq;":"⫆̸","ntgl;":"≹","Ntilde;":"Ñ",Ntilde:"Ñ","ntilde;":"ñ",ntilde:"ñ","ntlg;":"≸","ntriangleleft;":"⋪","ntrianglelefteq;":"⋬","ntriangleright;":"⋫","ntrianglerighteq;":"⋭","Nu;":"Ν","nu;":"ν","num;":"#","numero;":"№","numsp;":" ","nvap;":"≍⃒","nvdash;":"⊬","nvDash;":"⊭","nVdash;":"⊮","nVDash;":"⊯","nvge;":"≥⃒","nvgt;":">⃒","nvHarr;":"⤄","nvinfin;":"⧞","nvlArr;":"⤂","nvle;":"≤⃒","nvlt;":"<⃒","nvltrie;":"⊴⃒","nvrArr;":"⤃","nvrtrie;":"⊵⃒","nvsim;":"∼⃒","nwarhk;":"⤣","nwarr;":"↖","nwArr;":"⇖","nwarrow;":"↖","nwnear;":"⤧","Oacute;":"Ó",Oacute:"Ó","oacute;":"ó",oacute:"ó","oast;":"⊛","Ocirc;":"Ô",Ocirc:"Ô","ocirc;":"ô",ocirc:"ô","ocir;":"⊚","Ocy;":"О","ocy;":"о","odash;":"⊝","Odblac;":"Ő","odblac;":"ő","odiv;":"⨸","odot;":"⊙","odsold;":"⦼","OElig;":"Œ","oelig;":"œ","ofcir;":"⦿","Ofr;":"𝔒","ofr;":"𝔬","ogon;":"˛","Ograve;":"Ò",Ograve:"Ò","ograve;":"ò",ograve:"ò","ogt;":"⧁","ohbar;":"⦵","ohm;":"Ω","oint;":"∮","olarr;":"↺","olcir;":"⦾","olcross;":"⦻","oline;":"‾","olt;":"⧀","Omacr;":"Ō","omacr;":"ō","Omega;":"Ω","omega;":"ω","Omicron;":"Ο","omicron;":"ο","omid;":"⦶","ominus;":"⊖","Oopf;":"𝕆","oopf;":"𝕠","opar;":"⦷","OpenCurlyDoubleQuote;":"“","OpenCurlyQuote;":"‘","operp;":"⦹","oplus;":"⊕","orarr;":"↻","Or;":"⩔","or;":"∨","ord;":"⩝","order;":"ℴ","orderof;":"ℴ","ordf;":"ª",ordf:"ª","ordm;":"º",ordm:"º","origof;":"⊶","oror;":"⩖","orslope;":"⩗","orv;":"⩛","oS;":"Ⓢ","Oscr;":"𝒪","oscr;":"ℴ","Oslash;":"Ø",Oslash:"Ø","oslash;":"ø",oslash:"ø","osol;":"⊘","Otilde;":"Õ",Otilde:"Õ","otilde;":"õ",otilde:"õ","otimesas;":"⨶","Otimes;":"⨷","otimes;":"⊗","Ouml;":"Ö",Ouml:"Ö","ouml;":"ö",ouml:"ö","ovbar;":"⌽","OverBar;":"‾","OverBrace;":"⏞","OverBracket;":"⎴","OverParenthesis;":"⏜","para;":"¶",para:"¶","parallel;":"∥","par;":"∥","parsim;":"⫳","parsl;":"⫽","part;":"∂","PartialD;":"∂","Pcy;":"П","pcy;":"п","percnt;":"%","period;":".","permil;":"‰","perp;":"⊥","pertenk;":"‱","Pfr;":"𝔓","pfr;":"𝔭","Phi;":"Φ","phi;":"φ","phiv;":"ϕ","phmmat;":"ℳ","phone;":"☎","Pi;":"Π","pi;":"π","pitchfork;":"⋔","piv;":"ϖ","planck;":"ℏ","planckh;":"ℎ","plankv;":"ℏ","plusacir;":"⨣","plusb;":"⊞","pluscir;":"⨢","plus;":"+","plusdo;":"∔","plusdu;":"⨥","pluse;":"⩲","PlusMinus;":"±","plusmn;":"±",plusmn:"±","plussim;":"⨦","plustwo;":"⨧","pm;":"±","Poincareplane;":"ℌ","pointint;":"⨕","popf;":"𝕡","Popf;":"ℙ","pound;":"£",pound:"£","prap;":"⪷","Pr;":"⪻","pr;":"≺","prcue;":"≼","precapprox;":"⪷","prec;":"≺","preccurlyeq;":"≼","Precedes;":"≺","PrecedesEqual;":"⪯","PrecedesSlantEqual;":"≼","PrecedesTilde;":"≾","preceq;":"⪯","precnapprox;":"⪹","precneqq;":"⪵","precnsim;":"⋨","pre;":"⪯","prE;":"⪳","precsim;":"≾","prime;":"′","Prime;":"″","primes;":"ℙ","prnap;":"⪹","prnE;":"⪵","prnsim;":"⋨","prod;":"∏","Product;":"∏","profalar;":"⌮","profline;":"⌒","profsurf;":"⌓","prop;":"∝","Proportional;":"∝","Proportion;":"∷","propto;":"∝","prsim;":"≾","prurel;":"⊰","Pscr;":"𝒫","pscr;":"𝓅","Psi;":"Ψ","psi;":"ψ","puncsp;":" ","Qfr;":"𝔔","qfr;":"𝔮","qint;":"⨌","qopf;":"𝕢","Qopf;":"ℚ","qprime;":"⁗","Qscr;":"𝒬","qscr;":"𝓆","quaternions;":"ℍ","quatint;":"⨖","quest;":"?","questeq;":"≟","quot;":\'"\',quot:\'"\',"QUOT;":\'"\',QUOT:\'"\',"rAarr;":"⇛","race;":"∽̱","Racute;":"Ŕ","racute;":"ŕ","radic;":"√","raemptyv;":"⦳","rang;":"⟩","Rang;":"⟫","rangd;":"⦒","range;":"⦥","rangle;":"⟩","raquo;":"»",raquo:"»","rarrap;":"⥵","rarrb;":"⇥","rarrbfs;":"⤠","rarrc;":"⤳","rarr;":"→","Rarr;":"↠","rArr;":"⇒","rarrfs;":"⤞","rarrhk;":"↪","rarrlp;":"↬","rarrpl;":"⥅","rarrsim;":"⥴","Rarrtl;":"⤖","rarrtl;":"↣","rarrw;":"↝","ratail;":"⤚","rAtail;":"⤜","ratio;":"∶","rationals;":"ℚ","rbarr;":"⤍","rBarr;":"⤏","RBarr;":"⤐","rbbrk;":"❳","rbrace;":"}","rbrack;":"]","rbrke;":"⦌","rbrksld;":"⦎","rbrkslu;":"⦐","Rcaron;":"Ř","rcaron;":"ř","Rcedil;":"Ŗ","rcedil;":"ŗ","rceil;":"⌉","rcub;":"}","Rcy;":"Р","rcy;":"р","rdca;":"⤷","rdldhar;":"⥩","rdquo;":"”","rdquor;":"”","rdsh;":"↳","real;":"ℜ","realine;":"ℛ","realpart;":"ℜ","reals;":"ℝ","Re;":"ℜ","rect;":"▭","reg;":"®",reg:"®","REG;":"®",REG:"®","ReverseElement;":"∋","ReverseEquilibrium;":"⇋","ReverseUpEquilibrium;":"⥯","rfisht;":"⥽","rfloor;":"⌋","rfr;":"𝔯","Rfr;":"ℜ","rHar;":"⥤","rhard;":"⇁","rharu;":"⇀","rharul;":"⥬","Rho;":"Ρ","rho;":"ρ","rhov;":"ϱ","RightAngleBracket;":"⟩","RightArrowBar;":"⇥","rightarrow;":"→","RightArrow;":"→","Rightarrow;":"⇒","RightArrowLeftArrow;":"⇄","rightarrowtail;":"↣","RightCeiling;":"⌉","RightDoubleBracket;":"⟧","RightDownTeeVector;":"⥝","RightDownVectorBar;":"⥕","RightDownVector;":"⇂","RightFloor;":"⌋","rightharpoondown;":"⇁","rightharpoonup;":"⇀","rightleftarrows;":"⇄","rightleftharpoons;":"⇌","rightrightarrows;":"⇉","rightsquigarrow;":"↝","RightTeeArrow;":"↦","RightTee;":"⊢","RightTeeVector;":"⥛","rightthreetimes;":"⋌","RightTriangleBar;":"⧐","RightTriangle;":"⊳","RightTriangleEqual;":"⊵","RightUpDownVector;":"⥏","RightUpTeeVector;":"⥜","RightUpVectorBar;":"⥔","RightUpVector;":"↾","RightVectorBar;":"⥓","RightVector;":"⇀","ring;":"˚","risingdotseq;":"≓","rlarr;":"⇄","rlhar;":"⇌","rlm;":"‏","rmoustache;":"⎱","rmoust;":"⎱","rnmid;":"⫮","roang;":"⟭","roarr;":"⇾","robrk;":"⟧","ropar;":"⦆","ropf;":"𝕣","Ropf;":"ℝ","roplus;":"⨮","rotimes;":"⨵","RoundImplies;":"⥰","rpar;":")","rpargt;":"⦔","rppolint;":"⨒","rrarr;":"⇉","Rrightarrow;":"⇛","rsaquo;":"›","rscr;":"𝓇","Rscr;":"ℛ","rsh;":"↱","Rsh;":"↱","rsqb;":"]","rsquo;":"’","rsquor;":"’","rthree;":"⋌","rtimes;":"⋊","rtri;":"▹","rtrie;":"⊵","rtrif;":"▸","rtriltri;":"⧎","RuleDelayed;":"⧴","ruluhar;":"⥨","rx;":"℞","Sacute;":"Ś","sacute;":"ś","sbquo;":"‚","scap;":"⪸","Scaron;":"Š","scaron;":"š","Sc;":"⪼","sc;":"≻","sccue;":"≽","sce;":"⪰","scE;":"⪴","Scedil;":"Ş","scedil;":"ş","Scirc;":"Ŝ","scirc;":"ŝ","scnap;":"⪺","scnE;":"⪶","scnsim;":"⋩","scpolint;":"⨓","scsim;":"≿","Scy;":"С","scy;":"с","sdotb;":"⊡","sdot;":"⋅","sdote;":"⩦","searhk;":"⤥","searr;":"↘","seArr;":"⇘","searrow;":"↘","sect;":"§",sect:"§","semi;":";","seswar;":"⤩","setminus;":"∖","setmn;":"∖","sext;":"✶","Sfr;":"𝔖","sfr;":"𝔰","sfrown;":"⌢","sharp;":"♯","SHCHcy;":"Щ","shchcy;":"щ","SHcy;":"Ш","shcy;":"ш","ShortDownArrow;":"↓","ShortLeftArrow;":"←","shortmid;":"∣","shortparallel;":"∥","ShortRightArrow;":"→","ShortUpArrow;":"↑","shy;":"­",shy:"­","Sigma;":"Σ","sigma;":"σ","sigmaf;":"ς","sigmav;":"ς","sim;":"∼","simdot;":"⩪","sime;":"≃","simeq;":"≃","simg;":"⪞","simgE;":"⪠","siml;":"⪝","simlE;":"⪟","simne;":"≆","simplus;":"⨤","simrarr;":"⥲","slarr;":"←","SmallCircle;":"∘","smallsetminus;":"∖","smashp;":"⨳","smeparsl;":"⧤","smid;":"∣","smile;":"⌣","smt;":"⪪","smte;":"⪬","smtes;":"⪬︀","SOFTcy;":"Ь","softcy;":"ь","solbar;":"⌿","solb;":"⧄","sol;":"/","Sopf;":"𝕊","sopf;":"𝕤","spades;":"♠","spadesuit;":"♠","spar;":"∥","sqcap;":"⊓","sqcaps;":"⊓︀","sqcup;":"⊔","sqcups;":"⊔︀","Sqrt;":"√","sqsub;":"⊏","sqsube;":"⊑","sqsubset;":"⊏","sqsubseteq;":"⊑","sqsup;":"⊐","sqsupe;":"⊒","sqsupset;":"⊐","sqsupseteq;":"⊒","square;":"□","Square;":"□","SquareIntersection;":"⊓","SquareSubset;":"⊏","SquareSubsetEqual;":"⊑","SquareSuperset;":"⊐","SquareSupersetEqual;":"⊒","SquareUnion;":"⊔","squarf;":"▪","squ;":"□","squf;":"▪","srarr;":"→","Sscr;":"𝒮","sscr;":"𝓈","ssetmn;":"∖","ssmile;":"⌣","sstarf;":"⋆","Star;":"⋆","star;":"☆","starf;":"★","straightepsilon;":"ϵ","straightphi;":"ϕ","strns;":"¯","sub;":"⊂","Sub;":"⋐","subdot;":"⪽","subE;":"⫅","sube;":"⊆","subedot;":"⫃","submult;":"⫁","subnE;":"⫋","subne;":"⊊","subplus;":"⪿","subrarr;":"⥹","subset;":"⊂","Subset;":"⋐","subseteq;":"⊆","subseteqq;":"⫅","SubsetEqual;":"⊆","subsetneq;":"⊊","subsetneqq;":"⫋","subsim;":"⫇","subsub;":"⫕","subsup;":"⫓","succapprox;":"⪸","succ;":"≻","succcurlyeq;":"≽","Succeeds;":"≻","SucceedsEqual;":"⪰","SucceedsSlantEqual;":"≽","SucceedsTilde;":"≿","succeq;":"⪰","succnapprox;":"⪺","succneqq;":"⪶","succnsim;":"⋩","succsim;":"≿","SuchThat;":"∋","sum;":"∑","Sum;":"∑","sung;":"♪","sup1;":"¹",sup1:"¹","sup2;":"²",sup2:"²","sup3;":"³",sup3:"³","sup;":"⊃","Sup;":"⋑","supdot;":"⪾","supdsub;":"⫘","supE;":"⫆","supe;":"⊇","supedot;":"⫄","Superset;":"⊃","SupersetEqual;":"⊇","suphsol;":"⟉","suphsub;":"⫗","suplarr;":"⥻","supmult;":"⫂","supnE;":"⫌","supne;":"⊋","supplus;":"⫀","supset;":"⊃","Supset;":"⋑","supseteq;":"⊇","supseteqq;":"⫆","supsetneq;":"⊋","supsetneqq;":"⫌","supsim;":"⫈","supsub;":"⫔","supsup;":"⫖","swarhk;":"⤦","swarr;":"↙","swArr;":"⇙","swarrow;":"↙","swnwar;":"⤪","szlig;":"ß",szlig:"ß","Tab;":"	","target;":"⌖","Tau;":"Τ","tau;":"τ","tbrk;":"⎴","Tcaron;":"Ť","tcaron;":"ť","Tcedil;":"Ţ","tcedil;":"ţ","Tcy;":"Т","tcy;":"т","tdot;":"⃛","telrec;":"⌕","Tfr;":"𝔗","tfr;":"𝔱","there4;":"∴","therefore;":"∴","Therefore;":"∴","Theta;":"Θ","theta;":"θ","thetasym;":"ϑ","thetav;":"ϑ","thickapprox;":"≈","thicksim;":"∼","ThickSpace;":"  ","ThinSpace;":" ","thinsp;":" ","thkap;":"≈","thksim;":"∼","THORN;":"Þ",THORN:"Þ","thorn;":"þ",thorn:"þ","tilde;":"˜","Tilde;":"∼","TildeEqual;":"≃","TildeFullEqual;":"≅","TildeTilde;":"≈","timesbar;":"⨱","timesb;":"⊠","times;":"×",times:"×","timesd;":"⨰","tint;":"∭","toea;":"⤨","topbot;":"⌶","topcir;":"⫱","top;":"⊤","Topf;":"𝕋","topf;":"𝕥","topfork;":"⫚","tosa;":"⤩","tprime;":"‴","trade;":"™","TRADE;":"™","triangle;":"▵","triangledown;":"▿","triangleleft;":"◃","trianglelefteq;":"⊴","triangleq;":"≜","triangleright;":"▹","trianglerighteq;":"⊵","tridot;":"◬","trie;":"≜","triminus;":"⨺","TripleDot;":"⃛","triplus;":"⨹","trisb;":"⧍","tritime;":"⨻","trpezium;":"⏢","Tscr;":"𝒯","tscr;":"𝓉","TScy;":"Ц","tscy;":"ц","TSHcy;":"Ћ","tshcy;":"ћ","Tstrok;":"Ŧ","tstrok;":"ŧ","twixt;":"≬","twoheadleftarrow;":"↞","twoheadrightarrow;":"↠","Uacute;":"Ú",Uacute:"Ú","uacute;":"ú",uacute:"ú","uarr;":"↑","Uarr;":"↟","uArr;":"⇑","Uarrocir;":"⥉","Ubrcy;":"Ў","ubrcy;":"ў","Ubreve;":"Ŭ","ubreve;":"ŭ","Ucirc;":"Û",Ucirc:"Û","ucirc;":"û",ucirc:"û","Ucy;":"У","ucy;":"у","udarr;":"⇅","Udblac;":"Ű","udblac;":"ű","udhar;":"⥮","ufisht;":"⥾","Ufr;":"𝔘","ufr;":"𝔲","Ugrave;":"Ù",Ugrave:"Ù","ugrave;":"ù",ugrave:"ù","uHar;":"⥣","uharl;":"↿","uharr;":"↾","uhblk;":"▀","ulcorn;":"⌜","ulcorner;":"⌜","ulcrop;":"⌏","ultri;":"◸","Umacr;":"Ū","umacr;":"ū","uml;":"¨",uml:"¨","UnderBar;":"_","UnderBrace;":"⏟","UnderBracket;":"⎵","UnderParenthesis;":"⏝","Union;":"⋃","UnionPlus;":"⊎","Uogon;":"Ų","uogon;":"ų","Uopf;":"𝕌","uopf;":"𝕦","UpArrowBar;":"⤒","uparrow;":"↑","UpArrow;":"↑","Uparrow;":"⇑","UpArrowDownArrow;":"⇅","updownarrow;":"↕","UpDownArrow;":"↕","Updownarrow;":"⇕","UpEquilibrium;":"⥮","upharpoonleft;":"↿","upharpoonright;":"↾","uplus;":"⊎","UpperLeftArrow;":"↖","UpperRightArrow;":"↗","upsi;":"υ","Upsi;":"ϒ","upsih;":"ϒ","Upsilon;":"Υ","upsilon;":"υ","UpTeeArrow;":"↥","UpTee;":"⊥","upuparrows;":"⇈","urcorn;":"⌝","urcorner;":"⌝","urcrop;":"⌎","Uring;":"Ů","uring;":"ů","urtri;":"◹","Uscr;":"𝒰","uscr;":"𝓊","utdot;":"⋰","Utilde;":"Ũ","utilde;":"ũ","utri;":"▵","utrif;":"▴","uuarr;":"⇈","Uuml;":"Ü",Uuml:"Ü","uuml;":"ü",uuml:"ü","uwangle;":"⦧","vangrt;":"⦜","varepsilon;":"ϵ","varkappa;":"ϰ","varnothing;":"∅","varphi;":"ϕ","varpi;":"ϖ","varpropto;":"∝","varr;":"↕","vArr;":"⇕","varrho;":"ϱ","varsigma;":"ς","varsubsetneq;":"⊊︀","varsubsetneqq;":"⫋︀","varsupsetneq;":"⊋︀","varsupsetneqq;":"⫌︀","vartheta;":"ϑ","vartriangleleft;":"⊲","vartriangleright;":"⊳","vBar;":"⫨","Vbar;":"⫫","vBarv;":"⫩","Vcy;":"В","vcy;":"в","vdash;":"⊢","vDash;":"⊨","Vdash;":"⊩","VDash;":"⊫","Vdashl;":"⫦","veebar;":"⊻","vee;":"∨","Vee;":"⋁","veeeq;":"≚","vellip;":"⋮","verbar;":"|","Verbar;":"‖","vert;":"|","Vert;":"‖","VerticalBar;":"∣","VerticalLine;":"|","VerticalSeparator;":"❘","VerticalTilde;":"≀","VeryThinSpace;":" ","Vfr;":"𝔙","vfr;":"𝔳","vltri;":"⊲","vnsub;":"⊂⃒","vnsup;":"⊃⃒","Vopf;":"𝕍","vopf;":"𝕧","vprop;":"∝","vrtri;":"⊳","Vscr;":"𝒱","vscr;":"𝓋","vsubnE;":"⫋︀","vsubne;":"⊊︀","vsupnE;":"⫌︀","vsupne;":"⊋︀","Vvdash;":"⊪","vzigzag;":"⦚","Wcirc;":"Ŵ","wcirc;":"ŵ","wedbar;":"⩟","wedge;":"∧","Wedge;":"⋀","wedgeq;":"≙","weierp;":"℘","Wfr;":"𝔚","wfr;":"𝔴","Wopf;":"𝕎","wopf;":"𝕨","wp;":"℘","wr;":"≀","wreath;":"≀","Wscr;":"𝒲","wscr;":"𝓌","xcap;":"⋂","xcirc;":"◯","xcup;":"⋃","xdtri;":"▽","Xfr;":"𝔛","xfr;":"𝔵","xharr;":"⟷","xhArr;":"⟺","Xi;":"Ξ","xi;":"ξ","xlarr;":"⟵","xlArr;":"⟸","xmap;":"⟼","xnis;":"⋻","xodot;":"⨀","Xopf;":"𝕏","xopf;":"𝕩","xoplus;":"⨁","xotime;":"⨂","xrarr;":"⟶","xrArr;":"⟹","Xscr;":"𝒳","xscr;":"𝓍","xsqcup;":"⨆","xuplus;":"⨄","xutri;":"△","xvee;":"⋁","xwedge;":"⋀","Yacute;":"Ý",Yacute:"Ý","yacute;":"ý",yacute:"ý","YAcy;":"Я","yacy;":"я","Ycirc;":"Ŷ","ycirc;":"ŷ","Ycy;":"Ы","ycy;":"ы","yen;":"¥",yen:"¥","Yfr;":"𝔜","yfr;":"𝔶","YIcy;":"Ї","yicy;":"ї","Yopf;":"𝕐","yopf;":"𝕪","Yscr;":"𝒴","yscr;":"𝓎","YUcy;":"Ю","yucy;":"ю","yuml;":"ÿ",yuml:"ÿ","Yuml;":"Ÿ","Zacute;":"Ź","zacute;":"ź","Zcaron;":"Ž","zcaron;":"ž","Zcy;":"З","zcy;":"з","Zdot;":"Ż","zdot;":"ż","zeetrf;":"ℨ","ZeroWidthSpace;":"​","Zeta;":"Ζ","zeta;":"ζ","zfr;":"𝔷","Zfr;":"ℨ","ZHcy;":"Ж","zhcy;":"ж","zigrarr;":"⇝","zopf;":"𝕫","Zopf;":"ℤ","Zscr;":"𝒵","zscr;":"𝓏","zwj;":"‍","zwnj;":"‌"}\n},{}],13:[function(_dereq_,module){function replacer(key,value){return util.isUndefined(value)?""+value:!util.isNumber(value)||!isNaN(value)&&isFinite(value)?util.isFunction(value)||util.isRegExp(value)?""+value:value:""+value}function truncate(s,n){return util.isString(s)?n>s.length?s:s.slice(0,n):s}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected){if(actual===expected)return!0;if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return!1;for(var i=0;actual.length>i;i++)if(actual[i]!==expected[i])return!1;return!0}return util.isDate(actual)&&util.isDate(expected)?actual.getTime()===expected.getTime():util.isRegExp(actual)&&util.isRegExp(expected)?actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase:util.isObject(actual)||util.isObject(expected)?objEquiv(actual,expected):actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return!1;if(a.prototype!==b.prototype)return!1;if(isArguments(a))return isArguments(b)?(a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b)):!1;try{var key,i,ka=objectKeys(a),kb=objectKeys(b)}catch(e){return!1}if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key]))return!1;return!0}function expectedException(actual,expected){return actual&&expected?"[object RegExp]"==Object.prototype.toString.call(expected)?expected.test(actual):actual instanceof expected?!0:expected.call({},actual)===!0?!0:!1:!1}function _throws(shouldThrow,block,expected,message){var actual;util.isString(expected)&&(message=expected,expected=null);try{block()}catch(e){actual=e}if(message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message),!shouldThrow&&expectedException(actual,expected)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=_dereq_("util/"),pSlice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,assert=module.exports=ok;assert.AssertionError=function(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=Error();if(err.stack){var out=err.stack,fn_name=stackStartFunction.name,idx=out.indexOf("\\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}},{"util/":15}],14:[function(_dereq_,module){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],15:[function(_dereq_,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str){return str}function arrayToHash(array){var hash={};return array.forEach(function(val){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="\'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\')+"\'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,i+"")?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,i+"",!0)):output.push("");return keys.forEach(function(key){key.match(/^\\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(0>ctx.seen.indexOf(desc.value)?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\\n")>-1&&(str=array?str.split("\\n").map(function(line){return"  "+line}).join("\\n").substr(2):"\\n"+str.split("\\n").map(function(line){return"   "+line}).join("\\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\').replace(/(^"|"$)/g,"\'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\\n")>=0&&numLinesEst++,prev+cur.replace(/\\u001b\\[\\d\\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\\n ")+" "+output.join(",\\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||arg===void 0}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;arguments.length>i;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=(f+"").replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return args[i++]+"";case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(RegExp("\\\\b"+set+"\\\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=_dereq_("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=_dereq_("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,_dereq_("/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":14,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18,inherits:17}],16:[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length))throw er=arguments[1],er instanceof Error?er:TypeError(\'Uncaught, unspecified "error" event.\');if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],17:[function(_dereq_,module){module.exports="function"==typeof Object.create?function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],18:[function(_dereq_,module){function noop(){}var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){var source=ev.source;if((source===window||null===source)&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.once=noop,process.off=noop,process.emit=noop,process.binding=function(){throw Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw Error("process.chdir is not supported")}},{}],19:[function(_dereq_,module){module.exports=_dereq_(14)},{}],20:[function(_dereq_,module){module.exports=_dereq_(15)},{"./support/isBuffer":19,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18,inherits:17}]},{},[9])(9)}),ace.define("ace/mode/html_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/html/saxparser"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop");acequire("../lib/lang");var Mirror=acequire("../worker/mirror").Mirror,SAXParser=acequire("./html/saxparser").SAXParser,errorTypes={"expected-doctype-but-got-start-tag":"info","expected-doctype-but-got-chars":"info","non-html-root":"info"},Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.context=null};oop.inherits(Worker,Mirror),function(){this.setOptions=function(options){this.context=options.context},this.onUpdate=function(){var value=this.doc.getValue();if(value){var parser=new SAXParser,errors=[],noop=function(){};parser.contentHandler={startDocument:noop,endDocument:noop,startElement:noop,endElement:noop,characters:noop},parser.errorHandler={error:function(message,location,code){errors.push({row:location.line,column:location.column,text:message,type:errorTypes[code]||"error"})}},this.context?parser.parseFragment(value,this.context):parser.parse(value),this.sender.emit("error",errors)}}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object\n});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="	\\n\x0B\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},function(e,t){ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=".ace-monokai .ace_gutter {	background: #2F3129;	color: #8F908A	}	.ace-monokai .ace_print-margin {	width: 1px;	background: #555651	}	.ace-monokai {	background-color: #272822;	color: #F8F8F2	}	.ace-monokai .ace_cursor {	color: #F8F8F0	}	.ace-monokai .ace_marker-layer .ace_selection {	background: #49483E	}	.ace-monokai.ace_multiselect .ace_selection.ace_start {	box-shadow: 0 0 3px 0px #272822;	}	.ace-monokai .ace_marker-layer .ace_step {	background: rgb(102, 82, 0)	}	.ace-monokai .ace_marker-layer .ace_bracket {	margin: -1px 0 0 -1px;	border: 1px solid #49483E	}	.ace-monokai .ace_marker-layer .ace_active-line {	background: #202020	}	.ace-monokai .ace_gutter-active-line {	background-color: #272727	}	.ace-monokai .ace_marker-layer .ace_selected-word {	border: 1px solid #49483E	}	.ace-monokai .ace_invisible {	color: #52524d	}	.ace-monokai .ace_entity.ace_name.ace_tag,	.ace-monokai .ace_keyword,	.ace-monokai .ace_meta.ace_tag,	.ace-monokai .ace_storage {	color: #F92672	}	.ace-monokai .ace_punctuation,	.ace-monokai .ace_punctuation.ace_tag {	color: #fff	}	.ace-monokai .ace_constant.ace_character,	.ace-monokai .ace_constant.ace_language,	.ace-monokai .ace_constant.ace_numeric,	.ace-monokai .ace_constant.ace_other {	color: #AE81FF	}	.ace-monokai .ace_invalid {	color: #F8F8F0;	background-color: #F92672	}	.ace-monokai .ace_invalid.ace_deprecated {	color: #F8F8F0;	background-color: #AE81FF	}	.ace-monokai .ace_support.ace_constant,	.ace-monokai .ace_support.ace_function {	color: #66D9EF	}	.ace-monokai .ace_fold {	background-color: #A6E22E;	border-color: #F8F8F2	}	.ace-monokai .ace_storage.ace_type,	.ace-monokai .ace_support.ace_class,	.ace-monokai .ace_support.ace_type {	font-style: italic;	color: #66D9EF	}	.ace-monokai .ace_entity.ace_name.ace_function,	.ace-monokai .ace_entity.ace_other,	.ace-monokai .ace_entity.ace_other.ace_attribute-name,	.ace-monokai .ace_variable {	color: #A6E22E	}	.ace-monokai .ace_variable.ace_parameter {	font-style: italic;	color: #FD971F	}	.ace-monokai .ace_string {	color: #E6DB74	}	.ace-monokai .ace_comment {	color: #75715E	}	.ace-monokai .ace_indent-guide {	background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y	}";var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)})},function(e,t){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,a=e("./lib/lang"),o=e("./range").Range,s=e("./anchor").Anchor,l=e("./keyboard/hash_handler").HashHandler,c=e("./tokenizer").Tokenizer,u=o.comparePoints,d=function(){this.snippetMap={},this.snippetNameMap={}};(function(){r.implement(this,i),this.getTokenizer=function(){function e(e,t,n){return e=e.substr(1),/^\d+$/.test(e)&&!n.inFormatString?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function t(e){return"(?:[^\\\\"+e+"]|\\\\.)"}return d.$tokenizer=new c({start:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectIf?(n[0].expectIf=!1,n[0].elseBranch=n[0],[n[0]]):":"}},{regex:/\\./,onMatch:function(e,t,n){var r=e[1];return"}"==r&&n.length?e=r:-1!="`$\\".indexOf(r)?e=r:n.inFormatString&&("n"==r?e="\n":"t"==r?e="\n":-1!="ulULE".indexOf(r)&&(e={changeCase:r,local:r>"a"})),[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,n,r){var i=e(t.substr(1),n,r);return r.unshift(i[0]),i},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(e,t,n){n[0].choices=e.slice(1,-1).split(",")},next:"start"},{regex:"/("+t("/")+"+)/(?:("+t("/")+"*)/)(\\w*):?",onMatch:function(e,t,n){var r=n[0];return r.fmtString=e,e=this.splitRegex.exec(e),r.guard=e[1],r.fmt=e[2],r.flag=e[3],""},next:"start"},{regex:"`"+t("`")+"*`",onMatch:function(e,t,n){return n[0].code=e.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(e,t,n){n[0]&&(n[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+t("/")+"+)/",token:"regex"},{regex:"",onMatch:function(e,t,n){n.inFormatString=!0},next:"start"}]}),d.prototype.getTokenizer=function(){return d.$tokenizer},d.$tokenizer},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(e){return e.value||e})},this.$getDefaultValue=function(e,t){if(/^[A-Z]\d+$/.test(t)){var n=t.substr(1);return(this.variables[t[0]+"__"]||{})[n]}if(/^\d+$/.test(t))return(this.variables.__||{})[t];if(t=t.replace(/^TM_/,""),e){var r=e.session;switch(t){case"CURRENT_WORD":var i=r.getWordRange();case"SELECTION":case"SELECTED_TEXT":return r.getTextRange(i);case"CURRENT_LINE":return r.getLine(e.getCursorPosition().row);case"PREV_LINE":return r.getLine(e.getCursorPosition().row-1);case"LINE_INDEX":return e.getCursorPosition().column;case"LINE_NUMBER":return e.getCursorPosition().row+1;case"SOFT_TABS":return r.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return r.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(e,t){return this.variables.hasOwnProperty(t)?this.variables[t](e,t)||"":this.$getDefaultValue(e,t)||""},this.tmStrFormat=function(e,t,n){var r=t.flag||"",i=t.guard;i=new RegExp(i,r.replace(/[^gi]/,""));var a=this.tokenizeTmSnippet(t.fmt,"formatString"),o=this,s=e.replace(i,function(){o.variables.__=arguments;for(var e=o.resolveVariables(a,n),t="E",r=0;r<e.length;r++){var i=e[r];if("object"==typeof i)if(e[r]="",i.changeCase&&i.local){var s=e[r+1];s&&"string"==typeof s&&("u"==i.changeCase?e[r]=s[0].toUpperCase():e[r]=s[0].toLowerCase(),e[r+1]=s.substr(1))}else i.changeCase&&(t=i.changeCase);else"U"==t?e[r]=i.toUpperCase():"L"==t&&(e[r]=i.toLowerCase())}return e.join("")});return this.variables.__=null,s},this.resolveVariables=function(e,t){function n(t){var n=e.indexOf(t,i+1);-1!=n&&(i=n)}for(var r=[],i=0;i<e.length;i++){var a=e[i];if("string"==typeof a)r.push(a);else{if("object"!=typeof a)continue;if(a.skip)n(a);else{if(a.processed<i)continue;if(a.text){var o=this.getVariableValue(t,a.text);o&&a.fmtString&&(o=this.tmStrFormat(o,a)),a.processed=i,null==a.expectIf?o&&(r.push(o),n(a)):o?a.skip=a.elseBranch:n(a)}else null!=a.tabstopId?r.push(a):null!=a.changeCase&&r.push(a)}}}return r},this.insertSnippetForSelection=function(e,t){function n(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if("object"==typeof r){if(c[r.tabstopId])continue;var i=e.lastIndexOf(r,n-1);r=t[i]||{tabstopId:r.tabstopId}}t[n]=r}return t}var r=e.getCursorPosition(),i=e.session.getLine(r.row),a=e.session.getTabString(),o=i.match(/^\s*/)[0];r.column<o.length&&(o=o.slice(0,r.column));var s=this.tokenizeTmSnippet(t);s=this.resolveVariables(s,e),s=s.map(function(e){return"\n"==e?e+o:"string"==typeof e?e.replace(/\t/g,a):e});var l=[];s.forEach(function(e,t){if("object"==typeof e){var n=e.tabstopId,r=l[n];if(r||(r=l[n]=[],r.index=n,r.value=""),-1===r.indexOf(e)){r.push(e);var i=s.indexOf(e,t+1);if(-1!==i){var a=s.slice(t+1,i),o=a.some(function(e){return"object"==typeof e});o&&!r.value?r.value=a:!a.length||r.value&&"string"==typeof r.value||(r.value=a.join(""))}}}}),l.forEach(function(e){e.length=0});for(var c={},u=0;u<s.length;u++){var d=s[u];if("object"==typeof d){var h=d.tabstopId,m=s.indexOf(d,u+1);if(c[h])c[h]===d&&(c[h]=null);else{var f=l[h],g="string"==typeof f.value?[f.value]:n(f.value);g.unshift(u+1,Math.max(0,m-u)),g.push(d),c[h]=d,s.splice.apply(s,g),-1===f.indexOf(d)&&f.push(d)}}}var v=0,b=0,y="";s.forEach(function(e){"string"==typeof e?("\n"===e[0]?(b=e.length-1,v++):b+=e.length,y+=e):e.start?e.end={row:v,column:b}:e.start={row:v,column:b}});var w=e.getSelectionRange(),k=e.session.replace(w,y),E=new p(e),_=e.inVirtualSelectionMode&&e.selection.index;E.addTabstops(l,w.start,k,_)},this.insertSnippet=function(e,t){var n=this;return e.inVirtualSelectionMode?n.insertSnippetForSelection(e,t):(e.forEachSelection(function(){n.insertSnippetForSelection(e,t)},null,{keepOrder:!0}),void(e.tabstopManager&&e.tabstopManager.tabNext()))},this.$getScope=function(e){var t=e.session.$mode.$id||"";if(t=t.split("/").pop(),"html"===t||"php"===t){"php"!==t||e.session.$mode.inlinePhp||(t="html");var n=e.getCursorPosition(),r=e.session.getState(n.row);"object"==typeof r&&(r=r[0]),r.substring&&("js-"==r.substring(0,3)?t="javascript":"css-"==r.substring(0,4)?t="css":"php-"==r.substring(0,4)&&(t="php"))}return t},this.getActiveScopes=function(e){var t=this.$getScope(e),n=[t],r=this.snippetMap;return r[t]&&r[t].includeScopes&&n.push.apply(n,r[t].includeScopes),n.push("_"),n},this.expandWithTab=function(e,t){var n=this,r=e.forEachSelection(function(){return n.expandSnippetForSelection(e,t)},null,{keepOrder:!0});return r&&e.tabstopManager&&e.tabstopManager.tabNext(),r},this.expandSnippetForSelection=function(e,t){var n,r=e.getCursorPosition(),i=e.session.getLine(r.row),a=i.substring(0,r.column),o=i.substr(r.column),s=this.snippetMap;return this.getActiveScopes(e).some(function(e){var t=s[e];return t&&(n=this.findMatchingSnippet(t,a,o)),!!n},this),n?t&&t.dryRun?!0:(e.session.doc.removeInLine(r.row,r.column-n.replaceBefore.length,r.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(e,n.content),this.variables.M__=this.variables.T__=null,!0):!1},this.findMatchingSnippet=function(e,t,n){for(var r=e.length;r--;){var i=e[r];if((!i.startRe||i.startRe.test(t))&&(!i.endRe||i.endRe.test(n))&&(i.startRe||i.endRe))return i.matchBefore=i.startRe?i.startRe.exec(t):[""],i.matchAfter=i.endRe?i.endRe.exec(n):[""],i.replaceBefore=i.triggerRe?i.triggerRe.exec(t)[0]:"",i.replaceAfter=i.endTriggerRe?i.endTriggerRe.exec(n)[0]:"",i}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,t){function n(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function r(e,t,r){return e=n(e),t=n(t),r?(e=t+e,e&&"$"!=e[e.length-1]&&(e+="$")):(e+=t,e&&"^"!=e[0]&&(e="^"+e)),new RegExp(e)}function i(e){e.scope||(e.scope=t||"_"),t=e.scope,o[t]||(o[t]=[],s[t]={});var n=s[t];if(e.name){var i=n[e.name];i&&l.unregister(i),n[e.name]=e}o[t].push(e),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=a.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=r(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger,"",!0),e.endRe=r(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger,"",!0))}var o=this.snippetMap,s=this.snippetNameMap,l=this;e||(e=[]),e&&e.content?i(e):Array.isArray(e)&&e.forEach(i),this._signal("registerSnippets",{scope:t})},this.unregister=function(e,t){function n(e){var n=i[e.scope||t];if(n&&n[e.name]){delete n[e.name];var a=r[e.scope||t],o=a&&a.indexOf(e);o>=0&&a.splice(o,1)}}var r=this.snippetMap,i=this.snippetNameMap;e.content?n(e):Array.isArray(e)&&e.forEach(n)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,n=[],r={},i=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=i.exec(e);){if(t[1])try{r=JSON.parse(t[1]),n.push(r)}catch(a){}if(t[4])r.content=t[4].replace(/^\t/gm,""),n.push(r),r={};else{var o=t[2],s=t[3];if("regex"==o){var l=/\/((?:[^\/\\]|\\.)*)|$/g;r.guard=l.exec(s)[1],r.trigger=l.exec(s)[1],r.endTrigger=l.exec(s)[1],r.endGuard=l.exec(s)[1]}else"snippet"==o?(r.tabTrigger=s.match(/^\S*/)[0],r.name||(r.name=s)):r[o]=s}}return n},this.getSnippetByName=function(e,t){var n,r=this.snippetNameMap;return this.getActiveScopes(t).some(function(t){var i=r[t];return i&&(n=i[e]),!!n},this),n}}).call(d.prototype);var p=function(e){return e.tabstopManager?e.tabstopManager:(e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=a.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),void this.attach(e))};(function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){var t="r"==e.action[0],n=e.start,r=e.end,i=n.row,a=r.row,o=a-i,s=r.column-n.column;if(t&&(o=-o,s=-s),!this.$inChange&&t){var l=this.selectedTabstop,c=l&&!l.some(function(e){return u(e.start,n)<=0&&u(e.end,r)>=0});if(c)return this.detach()}for(var d=this.ranges,p=0;p<d.length;p++){var h=d[p];h.end.row<n.row||(t&&u(n,h.start)<0&&u(r,h.end)>0?(this.removeRange(h),p--):(h.start.row==i&&h.start.column>n.column&&(h.start.column+=s),h.end.row==i&&h.end.column>=n.column&&(h.end.column+=s),h.start.row>=i&&(h.start.row+=o),h.end.row>=i&&(h.end.row+=o),u(h.start,h.end)>0&&this.removeRange(h)))}d.length||this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges){this.$inChange=!0;for(var n=this.editor.session,r=n.getTextRange(e.firstNonLinked),i=e.length;i--;){var a=e[i];if(a.linked){var o=t.snippetManager.tmStrFormat(r,a.original);n.replace(a,o)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),r=this.ranges.length;r--;)if(!this.ranges[r].linked){var i=this.ranges[r].contains(e.row,e.column),a=n||this.ranges[r].contains(t.row,t.column);if(i&&a)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,n=this.index+(e||1);n=Math.min(Math.max(n,1),t),n==t&&(n=0),this.selectTabstop(n),0===n&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,t=this.tabstops[this.index],t&&t.length){if(this.selectedTabstop=t,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(t.firstNonLinked);else{var n=this.editor.multiSelect;n.toSingleRange(t.firstNonLinked.clone());for(var r=t.length;r--;)t.hasLinkedRanges&&t[r].linked||n.addRange(t[r].clone(),!0);n.ranges[0]&&n.addRange(n.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(e,t,n){if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var r=o.fromPoints(n,n);f(r.start,t),f(r.end,t),e[0]=[r],e[0].index=0}var i=this.index,a=[i+1,0],s=this.ranges;e.forEach(function(e,n){for(var r=this.$openTabstops[n]||e,i=e.length;i--;){var l=e[i],c=o.fromPoints(l.start,l.end||l.start);m(c.start,t),m(c.end,t),c.original=l,c.tabstop=r,s.push(c),r!=e?r.unshift(c):r[i]=c,l.fmtString?(c.linked=!0,r.hasLinkedRanges=!0):r.firstNonLinked||(r.firstNonLinked=c)}r.firstNonLinked||(r.hasLinkedRanges=!1),r===e&&(a.push(r),this.$openTabstops[n]=r),this.addTabstopMarkers(r)},this),a.length>2&&(this.tabstops.length&&a.push(a.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,a))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){t.removeMarker(e.markerId),e.markerId=null})},this.removeRange=function(e){var t=e.tabstop.indexOf(e);e.tabstop.splice(t,1),t=this.ranges.indexOf(e),this.ranges.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(t=this.tabstops.indexOf(e.tabstop),-1!=t&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new l,this.keyboardHandler.bindKeys({Tab:function(e){t.snippetManager&&t.snippetManager.expandWithTab(e)||e.tabstopManager.tabNext(1)},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1)},Esc:function(e){e.tabstopManager.detach()},Return:function(e){return!1}})}).call(p.prototype);var h={};h.onChange=s.prototype.onChange,h.setPosition=function(e,t){this.pos.row=e,this.pos.column=t},h.update=function(e,t,n){this.$insertRight=n,this.pos=e,this.onChange(t)};var m=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},f=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};e("./lib/dom").importCssString("	.ace_snippet-marker {	    -moz-box-sizing: border-box;	    box-sizing: border-box;	    background: rgba(194, 193, 208, 0.09);	    border: 1px dotted rgba(211, 208, 235, 0.62);	    position: absolute;	}"),t.snippetManager=new d;var g=e("./editor").Editor;(function(){this.insertSnippet=function(e,n){return t.snippetManager.insertSnippet(this,e,n)},this.expandSnippet=function(e){return t.snippetManager.expandWithTab(this,e)}}).call(g.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(e,t,n){"use strict";var r=e("../virtual_renderer").VirtualRenderer,i=e("../editor").Editor,a=e("../range").Range,o=e("../lib/event"),s=e("../lib/lang"),l=e("../lib/dom"),c=function(e){var t=new r(e);t.$maxLines=4;var n=new i(t);return n.setHighlightActiveLine(!1),n.setShowPrintMargin(!1),n.renderer.setShowGutter(!1),n.renderer.setHighlightGutterLine(!1),n.$mouseHandler.$focusWaitTimout=0,n.$highlightTagPending=!0,n},u=function(e){var t=l.createElement("div"),n=new c(t);e&&e.appendChild(t),t.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var r=function(){};n.focus=r,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=r,n.renderer.$cursorLayer.element.style.opacity=0,n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",function(e){var t=e.getDocumentPosition();n.selection.moveToPosition(t),d.start.row=d.end.row=t.row,e.stop()});var i,u=new a(-1,0,-1,1/0),d=new a(-1,0,-1,1/0);d.id=n.session.addMarker(d,"ace_active-line","fullLine"),n.setSelectOnHover=function(e){e?u.id&&(n.session.removeMarker(u.id),u.id=null):u.id=n.session.addMarker(u,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",function(e){if(!i)return void(i=e);if(i.x!=e.x||i.y!=e.y){i=e,i.scrollTop=n.renderer.scrollTop;var t=i.getDocumentPosition().row;u.start.row!=t&&(u.id||n.setRow(t),h(t))}}),n.renderer.on("beforeRender",function(){if(i&&-1!=u.start.row){i.$pos=null;var e=i.getDocumentPosition().row;u.id||n.setRow(e),h(e,!0)}}),n.renderer.on("afterRender",function(){var e=n.getRow(),t=n.renderer.$textLayer,r=t.element.childNodes[e-t.config.firstRow];r!=t.selectedNode&&(t.selectedNode&&l.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=r,r&&l.addCssClass(r,"ace_selected"))});var p=function(){h(-1)},h=function(e,t){e!==u.start.row&&(u.start.row=u.end.row=e,t||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return u.start.row},o.addListener(n.container,"mouseout",p),n.on("hide",p),n.on("changeSelection",p),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(e){var t=n.data[e];return"string"==typeof t?t:t&&t.value||""};var m=n.session.bgTokenizer;return m.$tokenizeRow=function(e){var t=n.data[e],r=[];if(!t)return r;"string"==typeof t&&(t={value:t}),t.caption||(t.caption=t.value||t.name);for(var i,a,o=-1,s=0;s<t.caption.length;s++)a=t.caption[s],i=t.matchMask&1<<s?1:0,o!==i?(r.push({type:t.className||""+(i?"completion-highlight":""),value:a}),o=i):r[r.length-1].value+=a;if(t.meta){var l=n.renderer.$size.scrollerWidth/n.renderer.layerConfig.characterWidth,c=t.meta;c.length+t.caption.length>l-2&&(c=c.substr(0,l-t.caption.length-3)+"…"),r.push({type:"rightAlignedText",value:c})}return r},m.$updateOnChange=r,m.start=r,n.session.$computeWidth=function(){return this.screenWidth=0},n.$blockScrolling=1/0,n.isOpen=!1,n.isTopdown=!1,n.data=[],n.setData=function(e){n.setValue(s.stringRepeat("\n",e.length),-1),n.data=e||[],n.setRow(0)},n.getData=function(e){return n.data[e]},n.getRow=function(){return d.start.row},n.setRow=function(e){e=Math.max(0,Math.min(this.data.length,e)),d.start.row!=e&&(n.selection.clearSelection(),d.start.row=d.end.row=e||0,n.session._emit("changeBackMarker"),n.moveCursorTo(e||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()}),n.hide=function(){this.container.style.display="none",this._signal("hide"),n.isOpen=!1},n.show=function(e,t,r){var a=this.container,o=window.innerHeight,s=window.innerWidth,l=this.renderer,c=l.$maxLines*t*1.4,u=e.top+this.$borderSize;u+c>o-t&&!r?(a.style.top="",a.style.bottom=o-u+"px",n.isTopdown=!1):(u+=t,a.style.top=u+"px",a.style.bottom="",n.isTopdown=!0),a.style.display="",this.renderer.$textLayer.checkForSizeChanges();var d=e.left;d+a.offsetWidth>s&&(d=s-a.offsetWidth),a.style.left=d+"px",this._signal("show"),i=null,n.isOpen=!0},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n};l.importCssString("	.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {	    background-color: #CAD6FA;	    z-index: 1;	}	.ace_editor.ace_autocomplete .ace_line-hover {	    border: 1px solid #abbffe;	    margin-top: -1px;	    background: rgba(233,233,253,0.4);	}	.ace_editor.ace_autocomplete .ace_line-hover {	    position: absolute;	    z-index: 2;	}	.ace_editor.ace_autocomplete .ace_scroller {	   background: none;	   border: none;	   box-shadow: none;	}	.ace_rightAlignedText {	    color: gray;	    display: inline-block;	    position: absolute;	    right: 4px;	    text-align: right;	    z-index: -1;	}	.ace_editor.ace_autocomplete .ace_completion-highlight{	    color: #000;	    text-shadow: 0 0 0.01em;	}	.ace_editor.ace_autocomplete {	    width: 280px;	    z-index: 200000;	    background: #fbfbfb;	    color: #444;	    border: 1px lightgray solid;	    position: fixed;	    box-shadow: 2px 3px 5px rgba(0,0,0,.2);	    line-height: 1.4;	}"),t.AcePopup=u}),ace.define("ace/autocomplete/util",["require","exports","module"],function(e,t,n){"use strict";t.parForEach=function(e,t,n){var r=0,i=e.length;0===i&&n();for(var a=0;i>a;a++)t(e[a],function(e,t){r++,r===i&&n(e,t)})};var r=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,n){n=n||r;for(var i=[],a=t-1;a>=0&&n.test(e[a]);a--)i.push(e[a]);return i.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,n){n=n||r;for(var i=[],a=t;a<e.length&&n.test(e[a]);a++)i.push(e[a]);return i},t.getCompletionPrefix=function(e){var t,n=e.getCursorPosition(),r=e.session.getLine(n.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(r,n.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(r,n.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(e,t,n){"use strict";var r=e("./keyboard/hash_handler").HashHandler,i=e("./autocomplete/popup").AcePopup,a=e("./autocomplete/util"),o=(e("./lib/event"),e("./lib/lang")),s=e("./lib/dom"),l=e("./snippets").snippetManager,c=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new r,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=o.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=o.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new i(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(e,t,n){this.popup||this.$init(),this.popup.setData(this.completions.filtered),e.keyBinding.addKeyboardHandler(this.keyboardHandler);var r=e.renderer;if(this.popup.setRow(this.autoSelect?0:-1),n)n&&!t&&this.detach();else{this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize());var i=r.layerConfig.lineHeight,a=r.$cursorLayer.getPixelPosition(this.base,!0);a.left-=this.popup.getTextLeftOffset();var o=e.container.getBoundingClientRect();a.top+=o.top-r.layerConfig.offset,a.left+=o.left-e.renderer.scrollLeft,a.left+=r.gutterWidth,this.popup.show(a,i)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var t=document.activeElement,n=this.editor.textInput.getElement(),r=e.relatedTarget&&e.relatedTarget==this.tooltipNode,i=this.popup&&this.popup.container;t==n||t.parentNode==i||r||t==this.tooltipNode||e.relatedTarget==n||this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(e){var t=this.popup.getRow(),n=this.popup.session.getLength()-1;switch(e){case"up":t=0>=t?n:t-1;break;case"down":t=t>=n?-1:t+1;break;case"start":t=0;break;case"end":t=n}this.popup.setRow(t)},this.insertMatch=function(e,t){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;if(e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor,e);else{if(this.completions.filterText)for(var n,r=this.editor.selection.getAllRanges(),i=0;n=r[i];i++)n.start.column-=this.completions.filterText.length,this.editor.session.remove(n);e.snippet?l.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.detach()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();return t||e.tabstopManager?t:void e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(e,t){var n=e.getSession(),r=e.getCursorPosition(),i=(n.getLine(r.row),a.getCompletionPrefix(e));this.base=n.doc.createAnchor(r.row,r.column-i.length),this.base.$insertRight=!0;var o=[],s=e.completers.length;return e.completers.forEach(function(a,l){a.getCompletions(e,n,r,i,function(r,a){!r&&a&&(o=o.concat(a));var l=e.getCursorPosition();n.getLine(l.row);t(null,{prefix:i,matches:o,finished:0===--s})})}),!0},this.showPopup=function(e){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(e){if(e&&this.base&&this.completions){var t=this.editor.getCursorPosition(),n=this.editor.session.getTextRange({start:this.base,end:t});if(n==this.completions.filterText)return;return this.completions.setFilter(n),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=n||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,n,e):this.detach()}var r=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(t,n){var i=function(){return n.finished?this.detach():void 0}.bind(this),a=n.prefix,o=n&&n.matches;if(!o||!o.length)return i();if(0===a.indexOf(n.prefix)&&r==this.gatherCompletionsId){this.completions=new u(o),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(a);var s=this.completions.filtered;return s.length&&(1!=s.length||s[0].value!=a||s[0].snippet)?this.autoInsert&&1==s.length&&n.finished?this.insertMatch(s[0]):void this.openPopup(this.editor,a,e):i()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var e=this.popup,t=e.data,n=t&&(t[e.getHoveredRow()]||t[e.getRow()]),r=null;return n&&this.editor&&this.popup.isOpen?(this.editor.completers.some(function(e){return e.getDocTooltip&&(r=e.getDocTooltip(n)),r}),r||(r=n),"string"==typeof r&&(r={docText:r}),r&&(r.docHTML||r.docText)?void this.showDocTooltip(r):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=s.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this));var t=this.tooltipNode;e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||document.body.appendChild(t);var n=this.popup,r=n.container.getBoundingClientRect();t.style.top=n.container.style.top,t.style.bottom=n.container.style.bottom,window.innerWidth-r.right<320?(t.style.right=window.innerWidth-r.left+"px",t.style.left=""):(t.style.left=r.right+1+"px",t.style.right=""),t.style.display="block"},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var e=this.tooltipNode;this.editor.isFocused()||document.activeElement!=e||this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)}}}).call(c.prototype),c.startCommand={name:"startAutocomplete",exec:function(e){e.completer||(e.completer=new c),e.completer.autoInsert=!1,e.completer.autoSelect=!0,e.completer.showPopup(e),e.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var u=function(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1};(function(){this.setFilter=function(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else var t=this.all;
this.filterText=e,t=this.filterCompletions(t,this.filterText),t=t.sort(function(e,t){return t.exactMatch-e.exactMatch||t.score-e.score});var n=null;t=t.filter(function(e){var t=e.snippet||e.caption||e.value;return t===n?!1:(n=t,!0)}),this.filtered=t},this.filterCompletions=function(e,t){var n=[],r=t.toUpperCase(),i=t.toLowerCase();e:for(var a,o=0;a=e[o];o++){var s=a.value||a.caption||a.snippet;if(s){var l,c,u=-1,d=0,p=0;if(this.exactMatch){if(t!==s.substr(0,t.length))continue e}else for(var h=0;h<t.length;h++){var m=s.indexOf(i[h],u+1),f=s.indexOf(r[h],u+1);if(l=m>=0&&(0>f||f>m)?m:f,0>l)continue e;c=l-u-1,c>0&&(-1===u&&(p+=10),p+=c),d|=1<<l,u=l}a.matchMask=d,a.exactMatch=p?0:1,a.score=(a.score||0)-p,n.push(a)}}return n}}).call(u.prototype),t.Autocomplete=c,t.FilteredList=u}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(e,t,n){function r(e,t){var n=e.getTextRange(a.fromPoints({row:0,column:0},t));return n.split(o).length-1}function i(e,t){var n=r(e,t),i=e.getValue().split(o),a=Object.create(null),s=i[n];return i.forEach(function(e,t){if(e&&e!==s){var r=Math.abs(n-t),o=i.length-r;a[e]?a[e]=Math.max(o,a[e]):a[e]=o}}),a}var a=e("../range").Range,o=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(e,t,n,r,a){var o=i(t,n,r),s=Object.keys(o);a(null,s.map(function(e){return{caption:e,value:e,score:o[e],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(e,t,n){"use strict";var r=e("../snippets").snippetManager,i=e("../autocomplete").Autocomplete,a=e("../config"),o=e("../lib/lang"),s=e("../autocomplete/util"),l=e("../autocomplete/text_completer"),c={getCompletions:function(e,t,n,r,i){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,n,r,i);var a=e.session.getState(n.row),o=t.$mode.getCompletions(a,t,n,r);i(null,o)}},u={getCompletions:function(e,t,n,i,a){var o=r.snippetMap,s=[];r.getActiveScopes(e).forEach(function(e){for(var t=o[e]||[],n=t.length;n--;){var r=t[n],i=r.name||r.tabTrigger;i&&s.push({caption:i,snippet:r.content,meta:r.tabTrigger&&!r.name?r.tabTrigger+"⇥ ":"snippet",type:"snippet"})}},this),a(null,s)},getDocTooltip:function(e){"snippet"!=e.type||e.docHTML||(e.docHTML=["<b>",o.escapeHTML(e.caption),"</b>","<hr></hr>",o.escapeHTML(e.snippet)].join(""))}},d=[u,l,c];t.setCompleters=function(e){d.length=0,e&&d.push.apply(d,e)},t.addCompleter=function(e){d.push(e)},t.textCompleter=l,t.keyWordCompleter=c,t.snippetCompleter=u;var p={name:"expandSnippet",exec:function(e){return r.expandWithTab(e)},bindKey:"Tab"},h=function(e,t){m(t.session.$mode)},m=function(e){var t=e.$id;r.files||(r.files={}),f(t),e.modes&&e.modes.forEach(m)},f=function(e){if(e&&!r.files[e]){var t=e.replace("mode","snippets");r.files[e]={},a.loadModule(t,function(t){t&&(r.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=r.parseSnippetFile(t.snippetText)),r.register(t.snippets||[],t.scope),t.includeScopes&&(r.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach(function(e){f("ace/mode/"+e)})))})}},g=function(e){var t=e.editor,n=t.completer&&t.completer.activated;if("backspace"===e.command.name)n&&!s.getCompletionPrefix(t)&&t.completer.detach();else if("insertstring"===e.command.name){var r=s.getCompletionPrefix(t);r&&!n&&(t.completer||(t.completer=new i),t.completer.autoInsert=!1,t.completer.showPopup(t))}},v=e("../editor").Editor;e("../config").defineOptions(v.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.addCommand(i.startCommand)):this.commands.removeCommand(i.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:d),this.commands.on("afterExec",g)):this.commands.removeListener("afterExec",g)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(p),this.on("changeMode",h),h(null,this)):(this.commands.removeCommand(p),this.off("changeMode",h))},value:!1}})}),function(){ace.acequire(["ace/ext/language_tools"],function(){})}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(2),a=n(6),o=n(228),s=n(42),l={overviewPages:[{title:"Overview",tabText:"Overview",tab:"Overview",mimeType:"text/html",content:"<p>This is the overview.</p>"},{title:"Prizes",tabText:"Prizes",tab:"Prizes",mimeType:"text/html",content:"<p>These are the prizes.</p>"},{title:"Evaluation",tabText:"Evaluation",tab:"Evaluation",mimeType:"text/html",content:"<p>This is the evaluation.</p>"}],versionList:[{creationDate:"2016-09-09T20:43:04.43Z",versionUrl:"#/1",id:1234,name:"Test Competition",slug:"test-competition",versionNotes:"This is the first version!",versionNumber:1},{creationDate:"2016-09-11T20:43:04.43Z",versionUrl:"#/2",id:1235,name:"Test Competition",slug:"test-competition",versionNotes:"This is the second version!",versionNumber:2}]},c=function(e){function t(t){var n=this;e.call(this,t),this.onWindowPopState=function(e){e.state.competitionTabState&&n.setState(e.state.competitionTabState)},this.onCompetitionTabChanged=function(e){s.PageMessages.clear(),n.setState({activePane:e.toLowerCase(),activeTab:e},function(){return n.updateUrlForTab(e)})},this.replaceUrlForTab=function(e){var t=window.history.state||{},r=n.competitionUrl;"overview"!=e.toLowerCase()&&(r+="/"+e.toLowerCase()),history.replaceState(t,"",r)},this.updateUrlForTab=function(e){var t={};t.competitionTabState={activePane:e,activeTab:e};var r=n.competitionUrl;"overview"!=e.toLowerCase()&&(r+="/"+e.toLowerCase()),history.pushState(t,"",r)},this.validationRules=[{isValid:function(){return!(!n.state.overview||!n.state.overview.content.trim())},id:"competition-no-overview",message:function(){return"Please enter an overview."}}],this.onSubmitModel=function(){return"code"==n.props.competitionTitle?void(window.location.href=n.props.newScriptUrl):void n.onCompetitionTabChanged("submit")},this.onCompetitionEditingStateCancelled=function(e,t){var r={},a={};r["isEditing"+e]=!1;for(var o=0,s=t;o<s.length;o++){var l=s[o];console.log("Recovering "+l),a[l]=n.state.lastSavedState[l]}n.setState(i.extend({},r,a))},this.onCompetitionEditingStateChanged=function(e){var t=n.state["isEditing"+e],r={};r["isEditing"+e]=!t,n.setState(r,function(){})},this.onCompetitionStateChanged=function(e,t){var r={};r[e]=t,n.setState(r)},this.onCompetitionPropChanged=function(e,t){var r={};r[e]=t,n.setState(r)},this.onCompetitionPropSaved=function(e,t){var r={};r[e]=t,n.setState(r);var a=n.getValidationPageMessages();return s.PageMessages.clear(),s.PageMessages.add(a),a.length>0?i.when(null):(console.log("Saving!"),void n.setState(r,function(){return i.ajax({type:"PUT",url:"",contentType:"application/json",processData:!1,data:JSON.stringify({data:r})})}))};var r=this.props.activeTab,a=this.props.canEdit;"admin"!=r.toLowerCase()||a||(r="overview"),this.state=i.extend({},this.props,l,{activeTab:r,activePane:r,activeOverviewTab:"Introduction",isEditingFiles:!1,isEditingOverview:!1,showRulesModal:!1}),this.state.lastSavedState=this.state,this.hasMergerDeadline=new Date(this.props.deadline.toString()).getTime()!=new Date(this.props.mergerDeadline.toString()).getTime(),this.competitionUrl="/c/react/"+this.props.competitionSlug,this.updateUrlForTab(r)}return r(t,e),t.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},t.prototype.getValidationPageMessages=function(e){var t=[];return this.validationRules.forEach(function(n){var r=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&r||!n.isValid()&&r&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},t.prototype.onAcceptCompetitionRules=function(){var e=this;return a.Current.userId?void i.ajax({type:"POST",url:this.props.acceptRulesUrl,success:function(){e.setState({hasAcceptedRules:!0,showRulesModal:!1},function(){s.PageMessages.success("You have accepted the rules for this competition.")})},error:function(){s.PageMessages.error({htmlMessage:'There was a problem accepting the rules for this competition. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'})}}):(window.location.href="/account/login",i.when(null))},t.prototype.render=function(){var e={onCompetitionEditingStateCancelled:this.onCompetitionEditingStateCancelled,onCompetitionEditingStateChanged:this.onCompetitionEditingStateChanged,onCompetitionStateChanged:this.onCompetitionStateChanged,onCompetitionPropChanged:this.onCompetitionPropChanged,onCompetitionPropSaved:this.onCompetitionPropSaved,onCompetitionTabChanged:this.onCompetitionTabChanged,onAcceptCompetitionRules:this.onAcceptCompetitionRules.bind(this),onSubmitModel:this.onSubmitModel.bind(this),hasMergerDeadline:this.hasMergerDeadline,competitionUrl:this.competitionUrl};return React.createElement(o.Competition,i.extend({},this.props,e,this.state))},t}(React.Component);t.CompetitionContainer=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=n(229),o=n(230),s=n(231),l=n(233),c=n(234),u=n(235),d=n(236),p=n(237),h=n(240),m=n(241),f=n(242),g=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("div",{className:"competition"},React.createElement(o.CompetitionHeader,i({},this.props)),"overview"==this.props.activePane?React.createElement(s.CompetitionOverview,i({},this.props)):"data"==this.props.activePane?React.createElement(l.CompetitionData,i({},this.props)):"rules"==this.props.activePane?React.createElement(c.CompetitionRules,i({},this.props)):"discussion"==this.props.activePane?React.createElement(u.CompetitionDiscussion,i({},this.props)):"kernels"==this.props.activePane?React.createElement(d.CompetitionKernels,i({},this.props)):"team"==this.props.activePane?React.createElement(f.CompetitionTeamContainer,i({},this.props)):"submissions"==this.props.activePane?React.createElement(m.CompetitionSubmissions,i({},this.props)):"admin"==this.props.activePane&&this.props.canEdit?React.createElement(a.CompetitionAdmin,i({},this.props)):"submit"==this.props.activePane?React.createElement(h.CompetitionSubmission,i({},this.props)):null,React.createElement(p.CompetitionLeaderboardContainer,i({},this.props)))},t}(React.Component);t.Competition=g},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("div",{className:"competition-admin"},React.createElement(i.ContentBox,{title:"Competition Setup"},React.createElement("div",{className:"competition-admin__setup"},React.createElement("div",{className:"competition-admin__attribute"},React.createElement("label",{className:"competition-admin__attribute-name",htmlFor:"competition-url"},"Competition URL"),React.createElement("div",{className:"competition-admin__attribute-value"},React.createElement("p",null,"https://www.kaggle.com/c/react/"),React.createElement("input",{className:"competition-admin__attribute-input",name:"competition-url",value:this.props.competitionSlug}))),React.createElement("div",{className:"competition-admin__attribute"},React.createElement("label",{className:"competition-admin__attribute-name"},"Competition Type"),React.createElement("div",{className:"competition-admin__attribute-value"},React.createElement("p",null,this.props.hostSegment))),React.createElement("div",{className:"competition-admin__attribute"},React.createElement("label",{className:"competition-admin__attribute-name"},"Submission Format"),React.createElement("div",{className:"competition-admin__attribute-value"},React.createElement("p",null,this.props.competitionType))),React.createElement("div",{className:"competition-admin__attribute"},React.createElement("label",{className:"competition-admin__attribute-name"},"Use Kernels"),React.createElement("div",{className:"competition-admin__attribute-value"},React.createElement("p",null,"Maybe"))))))},t}(React.Component);t.CompetitionAdmin=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(41),a=n(51),o=n(28),s=n(55),l=n(7),c=n(48),u=function(e){function t(t){e.call(this,t);var n=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r={count:null==n?null:c.numberWithCommas(n),title:e.toLowerCase(),text:t||e,tab:e.toLowerCase()};return r};this.competitionMenuLinks=[n("Overview"),n("Data"),n("Rules"),n("Discussion"),n("Kernels"),n("Leaderboard"),n("Team")],this.props.canEdit&&this.competitionMenuLinks.push(n("Admin")),this.competitionMenuLinksRight=[],this.props.submissions&&this.competitionMenuLinksRight.push(n("Submissions","My Submissions")),"submit"==this.props.activePane&&this.competitionMenuLinksRight.push(n("Submit","Submit Predictions"))}return r(t,e),t.prototype.renderHostSegmentIconKey=function(){var e;switch(this.props.hostSegment){case"featured":e=React.createElement("span",{className:"fa fa-trophy"});break;case"research":e=React.createElement("span",{className:"fa fa-flask"});break;case"recruitment":e=React.createElement("span",{className:"fa fa-trophy"});break;case"prospect":e=React.createElement("span",{className:"fa fa-trophy"});break;case"getting started":e=React.createElement("span",{className:"fa fa-university"});break;case"masters":e=React.createElement("span",{className:"fa fa-trophy"});break;case"playground":e=React.createElement("span",{className:"fa fa-bicycle"});break;default:e=React.createElement("span",{className:"fa fa-trophy"})}return React.createElement("div",{className:"competition-header__classification-icon-wrapper"},React.createElement("div",{className:"competition-header__classification-icon"},e))},t.prototype.renderDeadlineInfo=function(){return this.props.hasMergerDeadline?React.createElement("span",null,React.createElement(l.TimeAgo,{time:this.props.deadline})," (",React.createElement(l.TimeAgo,{time:this.props.mergerDeadline})," until merger deadline)"):React.createElement(l.TimeAgo,{time:this.props.deadline})},t.prototype.renderTop=function(){return React.createElement("div",{className:"competition-header__top"},React.createElement("div",{className:"competition-header__top-image",style:{backgroundImage:"url("+this.props.competitionHeaderImageUrl+")"}}),React.createElement(a.PageHeaderTopRowSafe,null,React.createElement("div",{className:"competition-header__classification"},this.renderHostSegmentIconKey(),React.createElement("p",{className:"competition-header__classification-text"},this.props.hostSegment," ",this.props.competitionType," Competition")),React.createElement("div",{className:"competition-header__meta"},React.createElement("div",{className:"competition-header__info"},React.createElement("h1",{className:"competition-header__title"},this.props.competitionTitle),React.createElement("h2",{className:"competition-header__subtitle"},this.props.briefDescription),React.createElement("div",{className:"competition-header__details"},this.props.organizationId?React.createElement("span",{className:"competition-header__organization-name"},React.createElement("a",{href:"/"+this.props.organizationSlug},this.props.organizationName)," ·"):null,c.numberWithCommas(this.props.totalTeams)+" teams ·"," ",this.renderDeadlineInfo())),this.props.rewardQuantity>0?React.createElement("div",{className:"competition-header__prize"},React.createElement("span",{className:"competition-header__prize-value"},"$"+c.numberWithCommas(this.props.rewardQuantity)),React.createElement("span",{className:"competition-header__prize-text"},"Prize Money")):null)))},t.prototype.renderAlternateTop=function(){return React.createElement(a.PageHeaderTopRowSafe,null,React.createElement("div",{className:"competition-header__top--alt"},React.createElement("div",{className:"competition-header__top-image-wrapper--alt"},React.createElement("img",{className:"competition-header__top-image--alt",src:this.props.competitionHeaderImageUrl})),React.createElement("div",{className:"competition-header__meta--alt"},React.createElement("h1",{className:"competition-header__title--alt"},this.props.competitionTitle),React.createElement("h2",{className:"competition-header__subtitle--alt"},this.props.briefDescription),React.createElement("div",{className:"competition-header__details--alt"},this.props.rewardQuantity>0?"$"+c.numberWithCommas(this.props.rewardQuantity)+" · ":null,c.numberWithCommas(this.props.totalTeams)+" teams ·"," ",this.renderDeadlineInfo()))))},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"competition-header__container"},React.createElement(a.PageHeader,{backgroundClass:"competition-header"},this.props.hasHeaderImage?this.renderTop():this.renderAlternateTop(),React.createElement(a.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},this.props.organizationId&&this.props.hasHeaderImage?React.createElement("div",{className:"competition-header__thumbnail-placeholder"},React.createElement(a.PageHeaderThumbnail,{classNameElement:"thumbnail",targetUrl:"/"+this.props.organizationSlug,imageUrl:this.props.organizationThumbnailUrl})):null,React.createElement(o.OverflowX,null,React.createElement(a.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"competition",changeActiveTab:function(t){return e.props.onCompetitionTabChanged(t)},menuLinks:this.competitionMenuLinks,rightMenuLinks:this.competitionMenuLinksRight.length?this.competitionMenuLinksRight:null}),"submit"==this.props.activePane?null:React.createElement(a.PageHeaderCallToAction,{onClick:this.props.hasAcceptedRules?function(){return e.props.onSubmitModel()}:function(){return e.props.onCompetitionStateChanged("showRulesModal",!0)},text:"Submit "+("prediction"==this.props.competitionType.toLowerCase()?"Predictions":"Model")})))),React.createElement(s.Modal,{onClose:function(){return e.props.onCompetitionStateChanged("showRulesModal",!1)},onShow:function(){},modalIsShown:this.props.showRulesModal&&!this.props.hasAcceptedRules},React.createElement("div",{className:"competition-rules__acceptance"},React.createElement("p",{className:"competition-rules__acceptance-text"},'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound with the above rules.'),React.createElement("div",{className:"competition-rules__acceptance-actions"},React.createElement("a",{className:"competition-rules__decline",onClick:function(){return e.props.onCompetitionStateChanged("showRulesModal",!1)}},"I Do Not Accept"),React.createElement(i.ActionButton,{classNames:"competition-rules__accept",onClick:function(){return e.props.onAcceptCompetitionRules()},text:"I Understand and Accept"})))))},t}(React.Component);t.CompetitionHeader=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=n(78),o=n(232),s=n(137),l=n(61),c=function(e){function t(t){e.call(this,t),this.overviewNavItems=[{title:"Introduction",text:"Introduction",tab:"Introduction"},{title:"Prizes",text:"Prizes",tab:"Prizes"},{title:"Evaluation",text:"Evaluation",tab:"Evaluation"}]}return r(t,e),t.prototype.renderOverviewNav=function(){var e=this,t=this.props.activeOverviewTab;return React.createElement("nav",{className:"competition-overview__nav"},this.overviewNavItems.map(function(n,r){return React.createElement("a",{className:t==n.tab?"competition-overview__nav-item--selected":"competition-overview__nav-item",key:"overview-nav-"+r,onClick:function(){return e.props.onCompetitionStateChanged("overviewActiveTab",n.tab)},title:n.title},n.text)}),this.props.isEditingOverview?React.createElement("a",{className:"competition-overview__nav-add",onClick:function(){return e.handleAddPage()}},React.createElement("span",{className:"fa fa-plus"})," Add Page"):null)},t.prototype.handleAddPage=function(){this.overviewNavItems.push({title:"New",text:"New Page",tab:"New"})},t.prototype.renderOverviewTab=function(e){var t=this;return this.props.isEditingOverview?React.createElement("div",null,React.createElement("h1",{className:"competition-overview__section-header"},e),React.createElement(l.MarkdownEditor,{shouldSanitizeHtml:!0,hidePreview:!0,alwaysShowToolbar:!0,defaultValue:this.props[e.toLowerCase()]?this.props[e.toLowerCase()].content:null,suffix:"-"+e,onChangeCallback:function(n){return t.props.onCompetitionPropChanged(e.toLowerCase(),n)},minRows:5,maxRows:15})):React.createElement("div",null,React.createElement("h1",{className:"competition-overview__section-header"},e),React.createElement(s.MarkdownConverter,{content:this.props[e.toLowerCase()]?this.props[e.toLowerCase()].content:null,mimeType:this.props[e.toLowerCase()]?this.props[e.toLowerCase()].mimeType:null,insertNofollow:!0}))},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"competition-overview"},React.createElement(i.ContentBox,null,React.createElement(o.HorizontalTimeline,{startDate:this.props.dateEnabled,endDate:this.props.deadline,milestoneDates:[{details:React.createElement("p",{className:"competition-overview__milestone-name"},"Rules Acceptance Deadline"),date:this.props.mergerDeadline}]})),React.createElement(i.ContentBox,{title:"Overview",titleBarRightSide:this.props.canEdit?React.createElement(a.EditStateToggleButton,{isEditing:this.props.isEditingOverview,cancelCallback:function(){return e.props.onCompetitionEditingStateCancelled("Overview",["overview","prizes","evaluation"])},cancelPropName:"overview",toggleCallback:this.props.onCompetitionEditingStateChanged,sectionName:"Overview"}):null},this.renderOverviewNav(),React.createElement("div",{className:"competition-overview__content"},"Prizes"==this.props.activeOverviewTab?this.renderOverviewTab("Prizes"):"Evaluation"==this.props.activeOverviewTab?this.renderOverviewTab("Evaluation"):this.renderOverviewTab("Overview"))))},t}(React.Component);t.CompetitionOverview=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(7),a=function(e){function t(t){e.call(this,t),this.startMS=new Date(this.props.startDate.toString()).getTime(),this.endMS=new Date(this.props.endDate.toString()).getTime(),this.nowMS=(new Date).getTime(),this.startTillEnd=this.endMS-this.startMS,this.startTillNow=this.nowMS-this.startMS}return r(t,e),t.prototype.renderMilestone=function(e,t){var n=new Date(e.date.toString()).getTime()-this.startMS,r=n/this.startTillEnd,a=(100*r).toString()+"%",o=r>0&&1>r?!0:!1;return o?React.createElement("div",{className:"horizontal-timeline__milestone-placeholder",key:"timeline-point-"+t},React.createElement("div",{className:n>this.startTillNow?"horizontal-timeline__point--future":"horizontal-timeline__point",style:{left:a}},React.createElement("div",{className:"horizontal-timeline__point-details",style:{left:a}},React.createElement("p",{className:"horizontal-timeline__milestone-date"},React.createElement(i.TimeAgo,{time:e.date,hideToGo:!0})),e.details))):null},t.prototype.render=function(){var e=this,t=this.startTillNow/this.startTillEnd,n=t>0&&1>t?(this.startTillNow/this.startTillEnd*100).toString()+"%":"100%";return React.createElement("div",{className:"horizontal-timeline__wrapper"},React.createElement("div",{className:"horizontal-timeline"},React.createElement("div",{className:"horizontal-timeline__line"}),React.createElement("div",{className:"horizontal-timeline__progress-bar",style:{width:n}}),React.createElement("div",{className:this.startTillNow>0?"horizontal-timeline__point":"horizontal-timeline__point--future"},React.createElement("p",{className:"horizontal-timeline__point-label--start",style:{left:0}},React.createElement(i.TimeAgo,{time:this.props.startDate,hideToGo:!0}))),this.props.milestoneDates.map(function(t,n){return e.renderMilestone(t,n)}),React.createElement("div",{className:this.startTillEnd>this.startTillNow?"horizontal-timeline__point--future":"horizontal-timeline__point",style:{left:"100%"}},React.createElement("p",{className:"horizontal-timeline__point-label--end",style:{left:n}},React.createElement(i.TimeAgo,{time:this.props.endDate,hideToGo:!0})))))},t}(React.Component);t.HorizontalTimeline=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=n(134),o=n(137),s=n(192);!function(e){e[e.CurrentFiles=0]="CurrentFiles",e[e.NewFiles=1]="NewFiles"}(t.FileListIndex||(t.FileListIndex={}));var l=t.FileListIndex,c=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.renderFileDescription=function(e,t,n,r,i){return React.createElement(o.MarkdownConverter,{key:"file-"+t,content:e,insertNofollow:!0})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"competition-data"},React.createElement(s.MarkdownContentBox,{canEdit:this.props.canEdit,content:this.props.dataIntro?this.props.dataIntro.content:null,mimeType:this.props.dataIntro?this.props.dataIntro.mimeType:null,contentBoxTitle:"Data Introduction",contentClassName:"competition-data__content",onSaveClicked:function(t){return e.props.onCompetitionPropSaved("dataIntro",t)}}),React.createElement(i.ContentBox,{title:"Files"},React.createElement(a.FileList,{fileListItems:this.props.files,fileListKeyBaseName:"competition-file-key-",fileDescriptionRenderer:this.renderFileDescription.bind(this),isEditing:this.props.isEditingFiles,placeholderText:"There are no files to list yet.",textareaPlaceholder:"Enter a description for this file.",fileListIndex:l.CurrentFiles})),React.createElement(i.ContentBox,{title:"Versions"}))},t}(React.Component);t.CompetitionData=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(41),a=n(5),o=n(192),s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",{className:"competition-rules"},React.createElement(o.MarkdownContentBox,{canEdit:this.props.canEdit,content:this.props.rules?this.props.rules.content:null,mimeType:this.props.rules?this.props.rules.mimeType:null,contentBoxTitle:"Rules",contentClassName:"competition-rules__content",onSaveClicked:function(t){return e.props.onCompetitionPropSaved("rules",t)}}),React.createElement(a.ContentBox,{title:"Rules acceptance"},this.props.hasAcceptedRules?React.createElement("div",{className:"competition-rules__acceptance"},React.createElement("p",{className:"competition-rules__acceptance-text"},React.createElement("span",{className:"competition-rules__acceptance-icon"},React.createElement("span",{className:"fa fa-check-circle-o"})),"You have already accepted the rules for this competition. Good luck!")):React.createElement("div",{className:"competition-rules__acceptance"},React.createElement("p",{className:"competition-rules__acceptance-text"},'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound with the above rules.'),React.createElement("div",{className:"competition-rules__acceptance-actions"},React.createElement("a",{className:"competition-rules__decline"},"I Do Not Accept"),React.createElement(i.ActionButton,{classNames:"competition-rules__accept",onClick:function(){return e.props.onAcceptCompetitionRules()},text:"I Understand and Accept"})))))},t}(React.Component);t.CompetitionRules=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement("div",{className:"competition-discussion"},React.createElement(i.ContentBox,{title:"Posts"}))},t}(React.Component);t.CompetitionDiscussion=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(41),a=n(5),o=n(55),s=n(1),l=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",{className:"competition-kernels"},React.createElement(a.ContentBox,null,React.createElement("div",{className:"competition-kernels__actions"},React.createElement("p",{className:"competition-kernels__action-text"},"Create kernels to experiment with this competition's data and share your techniques."),React.createElement("div",null,React.createElement(i.Button,{classNames:"competition-kernels__call-to-action",containerClassNames:"competition-kernels__call-to-action-wrapper",onClick:this.props.hasAcceptedRules?function(){}:function(){return e.props.onCompetitionStateChanged("showRulesModal",!0)},text:"New Notebook",href:this.props.hasAcceptedRules?this.props.competitionUrl+"/kernels/notebooks/new":null}),React.createElement(i.Button,{classNames:"competition-kernels__call-to-action",containerClassNames:"competition-kernels__call-to-action-wrapper",onClick:this.props.hasAcceptedRules?function(){}:function(){return e.props.onCompetitionStateChanged("showRulesModal",!0)},text:"New Script",href:this.props.hasAcceptedRules?this.props.competitionUrl+"/kernels/scripts/new":null})))),React.createElement(s.ScriptList,{listTitle:"Kernels",banner:!1,showFilters:!0,sourceBaseUrl:"/kernels/c/"+this.props.competitionId+"/",languagesMetadataUrl:"/kernels/alllang",outputTypesMetadataUrl:"/kernels/allouttypes",loginAndReturnUrl:"/account/login",newNotebookUrl:null,newScriptUrl:null,showScriptProjectName:!1,showHiddenSelectionGroup:this.props.canEdit}),React.createElement(o.Modal,{onClose:function(){return e.props.onCompetitionStateChanged("showRulesModal",!1)},onShow:function(){},modalIsShown:this.props.showRulesModal&&!this.props.hasAcceptedRules},React.createElement("div",{className:"competition-rules__acceptance"},React.createElement("p",{className:"competition-rules__acceptance-text"},'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound with the above rules.'),React.createElement("div",{className:"competition-rules__acceptance-actions"},React.createElement("a",{className:"competition-rules__decline",onClick:function(){return e.props.onCompetitionStateChanged("showRulesModal",!1)}},"I Do Not Accept"),React.createElement(i.ActionButton,{classNames:"competition-rules__accept",
onClick:function(){return e.props.onAcceptCompetitionRules()},text:"I Understand and Accept"})))))},t}(React.Component);t.CompetitionKernels=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(238);!function(e){e[e.Public=0]="Public",e[e.Private=1]="Private"}(t.CompetitionLeaderboardTab||(t.CompetitionLeaderboardTab={}));var a=t.CompetitionLeaderboardTab,o=function(e){function t(t){e.call(this,t),this.state={activeLeaderboardTab:a.Public,isLoadingData:!0}}return r(t,e),t.prototype.onChangeTab=function(e){this.setState({activeLeaderboardTab:e})},t.prototype.componentDidMount=function(){var e=this;$.ajax({url:"/c/react/"+this.props.competitionId+"/leaderboard.json",method:"GET",success:function(t){return e.setState({data:t,isLoadingData:!1})},error:function(){return e.setState({data:{submissions:[]},isLoadingData:!1})}})},t.prototype.render=function(){return"leaderboard"==this.props.activePane?React.createElement(i.CompetitionLeaderboard,$.extend({},this.props,this.state)):null},t}(React.Component);t.CompetitionLeaderboardContainer=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=n(7),o=n(33),s=n(239),l=n(237),c=function(e){function t(t){e.call(this,t),this.leaderboardNavItems=[{title:"Public",text:"Public Leaderboard",tab:l.CompetitionLeaderboardTab[l.CompetitionLeaderboardTab.Public]},{title:"Private",text:"Private Leaderboard",tab:l.CompetitionLeaderboardTab[l.CompetitionLeaderboardTab.Private]}]}return r(t,e),t.prototype.renderLeaderboardHeader=function(){var e=this.props.activeLeaderboardTab;return React.createElement("nav",{className:"competition-leaderboard__nav"},this.leaderboardNavItems.map(function(t,n){return React.createElement("a",{className:l.CompetitionLeaderboardTab[e]==t.tab?"competition-leaderboard__nav-item--selected":"competition-leaderboard__nav-item",key:"leaderboard-nav-"+n,onClick:function(){return console.log("Changing tab: "+t.tab)},title:t.title},t.text)}))},t.prototype.renderLeaderboard=function(){var e=this;return React.createElement("div",{className:"competition-leaderboard__table"},React.createElement("div",{className:"competition-leaderboard__header-row"},React.createElement("div",{className:"competition-leaderboard__th-rank"},"#"),React.createElement("div",{className:"competition-leaderboard__th-change"},"△1w"),React.createElement("div",{className:"competition-leaderboard__th-team"},"Team Name",this.props.rewardQuantity>0?React.createElement("span",{className:"competition-leaderboard__asterisk-def"},React.createElement("span",{className:"fa fa-asterisk"})," in the money"):null),React.createElement("div",{className:"competition-leaderboard__th-kernel"},"Kernel"),React.createElement("div",{className:"competition-leaderboard__th-members"},"Team Members"),React.createElement("div",{className:"competition-leaderboard__th-score"},"Score"),React.createElement("div",{className:"competition-leaderboard__th-entries"},"Entries"),React.createElement("div",{className:"competition-leaderboard__th-last"},"Last")),this.props.isLoadingData?React.createElement("div",{className:"competition-leaderboard__loading-text"},React.createElement("span",{className:"competition-leaderboard__loading-spinner"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})),"Fetching the latest data. Hold tight!"):this.props.data.submissions.map(function(t,n){return React.createElement("div",{className:"competition-leaderboard__row",key:"leaderboard-row-"+n},React.createElement("div",{className:"competition-leaderboard__td-rank"},t.rank),React.createElement("div",{className:"competition-leaderboard__td-change"},React.createElement(s.PositionChange,{change:t.change})),React.createElement("div",{className:t.medal?"competition-leaderboard__td-team--"+t.medal:"competition-leaderboard__td-team"},t.teamName,n+1<=e.props.numPrizes&&e.props.rewardQuantity>0?React.createElement("span",{className:"competition-leaderboard__asterisk-def"},React.createElement("span",{className:"fa fa-asterisk"})):null),React.createElement("div",{className:"competition-leaderboard__td-kernel"},t.sourceKernelUrl&&t.sourceKernelName?React.createElement(o.ToolTip,{tipText:t.sourceKernelName},React.createElement("a",{className:"competition-leaderboard__td-kernel-link",href:t.sourceKernelUrl},React.createElement("span",{className:"fa fa-code"}),t.sourceKernelName)):null),React.createElement("div",{className:"competition-leaderboard__td-members"},t.teamMembers.map(function(e,t){return React.createElement("a",{className:"competition-leaderboard__team-member-avatier",href:e.profileUrl,key:"team-member-"+t},React.createElement("img",{src:e.avatierUrl}))})),React.createElement("div",{className:"competition-leaderboard__td-score"},t.score),React.createElement("div",{className:"competition-leaderboard__td-entries"},t.entries),React.createElement("div",{className:"competition-leaderboard__td-last"},React.createElement(a.TimeAgo,{time:t.lastSubmission,condense:!0,hideAgo:!0})))}))},t.prototype.render=function(){var e=100-this.props.leaderboardPercentage+"%",t=this.props.leaderboardPercentage+"%";return React.createElement("div",{className:"competition-leaderboard"},React.createElement(i.ContentBox,{title:this.renderLeaderboardHeader()},this.props.activeLeaderboardTab==l.CompetitionLeaderboardTab.Private?React.createElement("div",null,React.createElement("div",{className:"competition-leaderboard__message"},React.createElement("div",{className:"competition-leaderboard__note"},React.createElement("p",null,"The private leaderboard is calculated with approximately ",e," of the test data.")),React.createElement("p",{className:"competition-leaderboard__reporting"},"See someone using multiple accounts? ",React.createElement("a",{href:"#"},"Let us know."))),this.renderLeaderboard()):React.createElement("div",null,React.createElement("div",{className:"competition-leaderboard__message"},React.createElement("div",{className:"competition-leaderboard__note"},React.createElement("p",null,"This leaderboard is calculated with approximately ",t," of the test data."),React.createElement("p",null,"The final results will be based on the other ",e,", so the final standings may be different.")),React.createElement("p",{className:"competition-leaderboard__reporting"},"See someone using multiple accounts? ",React.createElement("a",{href:"#"},"Let us know."))),this.renderLeaderboard())))},t}(React.Component);t.CompetitionLeaderboard=c},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.render=function(){return React.createElement("span",{className:this.props.wrapperClassName},this.props.change<0?React.createElement("span",{className:"position-change__fallen"},React.createElement("span",{className:"fa fa-caret-down"})," ",Math.abs(this.props.change)):this.props.change>0?React.createElement("span",{className:"position-change__risen"},React.createElement("span",{className:"fa fa-caret-up"})," ",this.props.change):0==this.props.change?React.createElement("span",{className:"position-change__none"},"—"):React.createElement("span",{className:"position-change__new"},"new"))},t}(React.Component);t.PositionChange=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=n(89),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){var e=this;return React.createElement(i.ContentBox,{title:"Make a Submission"},React.createElement("div",{className:"competition-submission__intro"},React.createElement("h1",{className:"competition-submission__lead-in"},"Make a submission for ",React.createElement("a",{onClick:function(){return e.props.onCompetitionTabChanged("team")}},"[TeamName]")),React.createElement("p",{className:"competition-submission__info"},React.createElement("strong",null,"You have [NumEntries] today.")," This resets [TimeFromNow] from now (00: 00 UTC).")),React.createElement(a.FileUploader,{createBlobUrl:"#",mode:a.FileUploaderMode.Single,singleFileButtonLabel:"Upload Submission File"}),React.createElement("div",{className:"competition-submission__details"},React.createElement("div",{className:"competition-submission__detail"},React.createElement("h3",{className:"competition-submission__detail-subheader"},"File Format"),React.createElement("p",{className:"competition-submission__detail-text"},"Your submission should be in CSV format. You can upload this in a zip/gz/rar/7z archive, if you prefer.")),React.createElement("div",{className:"competition-submission__detail"},React.createElement("h3",{className:"competition-submission__detail-subheader"},"Number of Predictions"),React.createElement("p",{className:"competition-submission__detail-text"},"We expect the solution file to have[NumPredictions]predictions. This file should have a header row.Please see sample submission file on the ",React.createElement("a",{onClick:function(){return e.props.onCompetitionTabChanged("data")}},"data page"),"."))))},t}(React.Component);t.CompetitionSubmission=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement(i.ContentBox,{title:"Submissions"},React.createElement("h1",null,"[NumSubmissions] for ",React.createElement("a",{onClick:function(){return console.log("Go to team tab")}},"Rowan's Team")))},t}(React.Component);t.CompetitionSubmissions=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(243),a=n(2),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement(i.CompetitionTeam,a.extend({},this.props,this.state))},t}(React.Component);t.CompetitionTeamContainer=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(41),a=n(5),o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.render=function(){return React.createElement(a.ContentBox,{title:"Team"},React.createElement("div",{className:"competition-team"},React.createElement("p",{className:"competition-team__intro-text"},"The first step is to set up how you will participate in this competition."),React.createElement("div",{className:"competition-team__compete-choices"},React.createElement("div",{className:"competition-team__compete-choice"},React.createElement(i.ActionButton,{text:"Compete by Myself"}),React.createElement("p",{className:"competition-team__compete-choice-text"},"You can always add team members later."),React.createElement("img",{className:"competition-team__compete-choice-image"})),React.createElement("div",{className:"competition-team__compete-choice"},React.createElement(i.ActionButton,{text:"Compete as a Team"}),React.createElement("p",{className:"competition-team__compete-choice-text"},"Create a team now and invite other users to join you."),React.createElement("img",{className:"competition-team__compete-choice-image"})))))},t}(React.Component);t.CompetitionTeam=o}]);